var jie=Object.defineProperty;var Nie=(t,e,n)=>e in t?jie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Le=(t,e,n)=>Nie(t,typeof e!="symbol"?e+"":e,n);import{g as Sie}from"./projectEnvVariables-Dc7Ax8fr.js";function kie(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function In(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gk={exports:{}},Hp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sI;function Cie(){if(sI)return Hp;sI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:o,ref:s!==void 0?s:null,props:i}}return Hp.Fragment=e,Hp.jsx=n,Hp.jsxs=n,Hp}var aI;function _ie(){return aI||(aI=1,gk.exports=Cie()),gk.exports}var a=_ie(),xk={exports:{}},tn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI;function Tie(){if(iI)return tn;iI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function N(H,J,ne){this.props=H,this.context=J,this.refs=v,this.updater=ne||y}N.prototype.isReactComponent={},N.prototype.setState=function(H,J){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,J,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=N.prototype;function S(H,J,ne){this.props=H,this.context=J,this.refs=v,this.updater=ne||y}var M=S.prototype=new C;M.constructor=S,w(M,N.prototype),M.isPureReactComponent=!0;var _=Array.isArray;function A(){}var O={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function F(H,J,ne){var fe=ne.ref;return{$$typeof:t,type:H,key:J,ref:fe!==void 0?fe:null,props:ne}}function L(H,J){return F(H.type,J,H.props)}function I(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function P(H){var J={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ne){return J[ne]})}var z=/\/+/g;function U(H,J){return typeof H=="object"&&H!==null&&H.key!=null?P(""+H.key):J.toString(36)}function V(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(A,A):(H.status="pending",H.then(function(J){H.status==="pending"&&(H.status="fulfilled",H.value=J)},function(J){H.status==="pending"&&(H.status="rejected",H.reason=J)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function $(H,J,ne,fe,de){var we=typeof H;(we==="undefined"||we==="boolean")&&(H=null);var Fe=!1;if(H===null)Fe=!0;else switch(we){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(H.$$typeof){case t:case e:Fe=!0;break;case h:return Fe=H._init,$(Fe(H._payload),J,ne,fe,de)}}if(Fe)return de=de(H),Fe=fe===""?"."+U(H,0):fe,_(de)?(ne="",Fe!=null&&(ne=Fe.replace(z,"$&/")+"/"),$(de,J,ne,"",function(Ee){return Ee})):de!=null&&(I(de)&&(de=L(de,ne+(de.key==null||H&&H.key===de.key?"":(""+de.key).replace(z,"$&/")+"/")+Fe)),J.push(de)),1;Fe=0;var $e=fe===""?".":fe+":";if(_(H))for(var be=0;be<H.length;be++)fe=H[be],we=$e+U(fe,be),Fe+=$(fe,J,ne,we,de);else if(be=x(H),typeof be=="function")for(H=be.call(H),be=0;!(fe=H.next()).done;)fe=fe.value,we=$e+U(fe,be++),Fe+=$(fe,J,ne,we,de);else if(we==="object"){if(typeof H.then=="function")return $(V(H),J,ne,fe,de);throw J=String(H),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function R(H,J,ne){if(H==null)return H;var fe=[],de=0;return $(H,fe,"","",function(we){return J.call(ne,we,de++)}),fe}function W(H){if(H._status===-1){var J=H._result;J=J(),J.then(function(ne){(H._status===0||H._status===-1)&&(H._status=1,H._result=ne)},function(ne){(H._status===0||H._status===-1)&&(H._status=2,H._result=ne)}),H._status===-1&&(H._status=0,H._result=J)}if(H._status===1)return H._result.default;throw H._result}var q=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},X={map:R,forEach:function(H,J,ne){R(H,function(){J.apply(this,arguments)},ne)},count:function(H){var J=0;return R(H,function(){J++}),J},toArray:function(H){return R(H,function(J){return J})||[]},only:function(H){if(!I(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return tn.Activity=m,tn.Children=X,tn.Component=N,tn.Fragment=n,tn.Profiler=s,tn.PureComponent=S,tn.StrictMode=r,tn.Suspense=c,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,tn.__COMPILER_RUNTIME={__proto__:null,c:function(H){return O.H.useMemoCache(H)}},tn.cache=function(H){return function(){return H.apply(null,arguments)}},tn.cacheSignal=function(){return null},tn.cloneElement=function(H,J,ne){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var fe=w({},H.props),de=H.key;if(J!=null)for(we in J.key!==void 0&&(de=""+J.key),J)!D.call(J,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&J.ref===void 0||(fe[we]=J[we]);var we=arguments.length-2;if(we===1)fe.children=ne;else if(1<we){for(var Fe=Array(we),$e=0;$e<we;$e++)Fe[$e]=arguments[$e+2];fe.children=Fe}return F(H.type,de,fe)},tn.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:i,_context:H},H},tn.createElement=function(H,J,ne){var fe,de={},we=null;if(J!=null)for(fe in J.key!==void 0&&(we=""+J.key),J)D.call(J,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(de[fe]=J[fe]);var Fe=arguments.length-2;if(Fe===1)de.children=ne;else if(1<Fe){for(var $e=Array(Fe),be=0;be<Fe;be++)$e[be]=arguments[be+2];de.children=$e}if(H&&H.defaultProps)for(fe in Fe=H.defaultProps,Fe)de[fe]===void 0&&(de[fe]=Fe[fe]);return F(H,we,de)},tn.createRef=function(){return{current:null}},tn.forwardRef=function(H){return{$$typeof:l,render:H}},tn.isValidElement=I,tn.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:W}},tn.memo=function(H,J){return{$$typeof:d,type:H,compare:J===void 0?null:J}},tn.startTransition=function(H){var J=O.T,ne={};O.T=ne;try{var fe=H(),de=O.S;de!==null&&de(ne,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(A,q)}catch(we){q(we)}finally{J!==null&&ne.types!==null&&(J.types=ne.types),O.T=J}},tn.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},tn.use=function(H){return O.H.use(H)},tn.useActionState=function(H,J,ne){return O.H.useActionState(H,J,ne)},tn.useCallback=function(H,J){return O.H.useCallback(H,J)},tn.useContext=function(H){return O.H.useContext(H)},tn.useDebugValue=function(){},tn.useDeferredValue=function(H,J){return O.H.useDeferredValue(H,J)},tn.useEffect=function(H,J){return O.H.useEffect(H,J)},tn.useEffectEvent=function(H){return O.H.useEffectEvent(H)},tn.useId=function(){return O.H.useId()},tn.useImperativeHandle=function(H,J,ne){return O.H.useImperativeHandle(H,J,ne)},tn.useInsertionEffect=function(H,J){return O.H.useInsertionEffect(H,J)},tn.useLayoutEffect=function(H,J){return O.H.useLayoutEffect(H,J)},tn.useMemo=function(H,J){return O.H.useMemo(H,J)},tn.useOptimistic=function(H,J){return O.H.useOptimistic(H,J)},tn.useReducer=function(H,J,ne){return O.H.useReducer(H,J,ne)},tn.useRef=function(H){return O.H.useRef(H)},tn.useState=function(H){return O.H.useState(H)},tn.useSyncExternalStore=function(H,J,ne){return O.H.useSyncExternalStore(H,J,ne)},tn.useTransition=function(){return O.H.useTransition()},tn.version="19.2.0",tn}var oI;function jx(){return oI||(oI=1,xk.exports=Tie()),xk.exports}var b=jx();const Q=In(b),cw=kie({__proto__:null,default:Q},[b]);var bk={exports:{}},zp={},yk={exports:{}},vk={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lI;function Mie(){return lI||(lI=1,(function(t){function e($,R){var W=$.length;$.push(R);e:for(;0<W;){var q=W-1>>>1,X=$[q];if(0<s(X,R))$[q]=R,$[W]=X,W=q;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var R=$[0],W=$.pop();if(W!==R){$[0]=W;e:for(var q=0,X=$.length,H=X>>>1;q<H;){var J=2*(q+1)-1,ne=$[J],fe=J+1,de=$[fe];if(0>s(ne,W))fe<X&&0>s(de,ne)?($[q]=de,$[fe]=W,q=fe):($[q]=ne,$[J]=W,q=J);else if(fe<X&&0>s(de,W))$[q]=de,$[fe]=W,q=fe;else break e}}return R}function s($,R){var W=$.sortIndex-R.sortIndex;return W!==0?W:$.id-R.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,p=3,x=!1,y=!1,w=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function M($){for(var R=n(d);R!==null;){if(R.callback===null)r(d);else if(R.startTime<=$)r(d),R.sortIndex=R.expirationTime,e(c,R);else break;R=n(d)}}function _($){if(w=!1,M($),!y)if(n(c)!==null)y=!0,A||(A=!0,P());else{var R=n(d);R!==null&&V(_,R.startTime-$)}}var A=!1,O=-1,D=5,F=-1;function L(){return v?!0:!(t.unstable_now()-F<D)}function I(){if(v=!1,A){var $=t.unstable_now();F=$;var R=!0;try{e:{y=!1,w&&(w=!1,C(O),O=-1),x=!0;var W=p;try{t:{for(M($),m=n(c);m!==null&&!(m.expirationTime>$&&L());){var q=m.callback;if(typeof q=="function"){m.callback=null,p=m.priorityLevel;var X=q(m.expirationTime<=$);if($=t.unstable_now(),typeof X=="function"){m.callback=X,M($),R=!0;break t}m===n(c)&&r(c),M($)}else r(c);m=n(c)}if(m!==null)R=!0;else{var H=n(d);H!==null&&V(_,H.startTime-$),R=!1}}break e}finally{m=null,p=W,x=!1}R=void 0}}finally{R?P():A=!1}}}var P;if(typeof S=="function")P=function(){S(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,U=z.port2;z.port1.onmessage=I,P=function(){U.postMessage(null)}}else P=function(){N(I,0)};function V($,R){O=N(function(){$(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var W=p;p=R;try{return $()}finally{p=W}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function($,R){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=p;p=$;try{return R()}finally{p=W}},t.unstable_scheduleCallback=function($,R,W){var q=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?q+W:q):W=q,$){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=W+X,$={id:h++,callback:R,priorityLevel:$,startTime:W,expirationTime:X,sortIndex:-1},W>q?($.sortIndex=W,e(d,$),n(c)===null&&$===n(d)&&(w?(C(O),O=-1):w=!0,V(_,W-q))):($.sortIndex=X,e(c,$),y||x||(y=!0,A||(A=!0,P()))),$},t.unstable_shouldYield=L,t.unstable_wrapCallback=function($){var R=p;return function(){var W=p;p=R;try{return $.apply(this,arguments)}finally{p=W}}}})(vk)),vk}var cI;function Aie(){return cI||(cI=1,yk.exports=Mie()),yk.exports}var wk={exports:{}},ea={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dI;function Oie(){if(dI)return ea;dI=1;var t=jx();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ea.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ea.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(c,d,null,h)},ea.flushSync=function(c){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=d,r.p=h,r.d.f()}},ea.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},ea.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},ea.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:x}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:p,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ea.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},ea.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ea.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},ea.requestFormReset=function(c){r.d.r(c)},ea.unstable_batchedUpdates=function(c,d){return c(d)},ea.useFormState=function(c,d,h){return o.H.useFormState(c,d,h)},ea.useFormStatus=function(){return o.H.useHostTransitionStatus()},ea.version="19.2.0",ea}var uI;function OG(){if(uI)return wk.exports;uI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wk.exports=Oie(),wk.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hI;function Eie(){if(hI)return zp;hI=1;var t=Aie(),e=jx(),n=OG();function r(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function i(u){var f=u,g=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(g=f.return),u=f.return;while(u)}return f.tag===3?g:null}function o(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function l(u){if(u.tag===31){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function c(u){if(i(u)!==u)throw Error(r(188))}function d(u){var f=u.alternate;if(!f){if(f=i(u),f===null)throw Error(r(188));return f!==u?null:u}for(var g=u,j=f;;){var T=g.return;if(T===null)break;var E=T.alternate;if(E===null){if(j=T.return,j!==null){g=j;continue}break}if(T.child===E.child){for(E=T.child;E;){if(E===g)return c(T),u;if(E===j)return c(T),f;E=E.sibling}throw Error(r(188))}if(g.return!==j.return)g=T,j=E;else{for(var B=!1,te=T.child;te;){if(te===g){B=!0,g=T,j=E;break}if(te===j){B=!0,j=T,g=E;break}te=te.sibling}if(!B){for(te=E.child;te;){if(te===g){B=!0,g=E,j=T;break}if(te===j){B=!0,j=E,g=T;break}te=te.sibling}if(!B)throw Error(r(189))}}if(g.alternate!==j)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:f}function h(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=h(u),f!==null)return f;u=u.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),S=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function P(u){return u===null||typeof u!="object"?null:(u=I&&u[I]||u["@@iterator"],typeof u=="function"?u:null)}var z=Symbol.for("react.client.reference");function U(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===z?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case w:return"Fragment";case N:return"Profiler";case v:return"StrictMode";case _:return"Suspense";case A:return"SuspenseList";case F:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case y:return"Portal";case S:return u.displayName||"Context";case C:return(u._context.displayName||"Context")+".Consumer";case M:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case O:return f=u.displayName||null,f!==null?f:U(u.type)||"Memo";case D:f=u._payload,u=u._init;try{return U(u(f))}catch{}}return null}var V=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},q=[],X=-1;function H(u){return{current:u}}function J(u){0>X||(u.current=q[X],q[X]=null,X--)}function ne(u,f){X++,q[X]=u.current,u.current=f}var fe=H(null),de=H(null),we=H(null),Fe=H(null);function $e(u,f){switch(ne(we,f),ne(de,u),ne(fe,null),f.nodeType){case 9:case 11:u=(u=f.documentElement)&&(u=u.namespaceURI)?_L(u):0;break;default:if(u=f.tagName,f=f.namespaceURI)f=_L(f),u=TL(f,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}J(fe),ne(fe,u)}function be(){J(fe),J(de),J(we)}function Ee(u){u.memoizedState!==null&&ne(Fe,u);var f=fe.current,g=TL(f,u.type);f!==g&&(ne(de,u),ne(fe,g))}function Ge(u){de.current===u&&(J(fe),J(de)),Fe.current===u&&(J(Fe),Lp._currentValue=W)}var ae,oe;function Y(u){if(ae===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);ae=f&&f[1]||"",oe=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+u+oe}var ce=!1;function Ie(u,f){if(!u||ce)return"";ce=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(f){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(ze){var De=ze}Reflect.construct(u,[],tt)}else{try{tt.call()}catch(ze){De=ze}u.call(tt.prototype)}}else{try{throw Error()}catch(ze){De=ze}(tt=u())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(ze){if(ze&&De&&typeof ze.stack=="string")return[ze.stack,De.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=j.DetermineComponentFrameRoot(),B=E[0],te=E[1];if(B&&te){var me=B.split(`
`),Ae=te.split(`
`);for(T=j=0;j<me.length&&!me[j].includes("DetermineComponentFrameRoot");)j++;for(;T<Ae.length&&!Ae[T].includes("DetermineComponentFrameRoot");)T++;if(j===me.length||T===Ae.length)for(j=me.length-1,T=Ae.length-1;1<=j&&0<=T&&me[j]!==Ae[T];)T--;for(;1<=j&&0<=T;j--,T--)if(me[j]!==Ae[T]){if(j!==1||T!==1)do if(j--,T--,0>T||me[j]!==Ae[T]){var Ke=`
`+me[j].replace(" at new "," at ");return u.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",u.displayName)),Ke}while(1<=j&&0<=T);break}}}finally{ce=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?Y(g):""}function We(u,f){switch(u.tag){case 26:case 27:case 5:return Y(u.type);case 16:return Y("Lazy");case 13:return u.child!==f&&f!==null?Y("Suspense Fallback"):Y("Suspense");case 19:return Y("SuspenseList");case 0:case 15:return Ie(u.type,!1);case 11:return Ie(u.type.render,!1);case 1:return Ie(u.type,!0);case 31:return Y("Activity");default:return""}}function pe(u){try{var f="",g=null;do f+=We(u,g),g=u,u=u.return;while(u);return f}catch(j){return`
Error generating stack: `+j.message+`
`+j.stack}}var Ne=Object.prototype.hasOwnProperty,st=t.unstable_scheduleCallback,rt=t.unstable_cancelCallback,Ve=t.unstable_shouldYield,Ue=t.unstable_requestPaint,Ye=t.unstable_now,kt=t.unstable_getCurrentPriorityLevel,Oe=t.unstable_ImmediatePriority,Xe=t.unstable_UserBlockingPriority,Pt=t.unstable_NormalPriority,Se=t.unstable_LowPriority,bt=t.unstable_IdlePriority,yt=t.log,Pe=t.unstable_setDisableYieldValue,mt=null,ht=null;function vt(u){if(typeof yt=="function"&&Pe(u),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(mt,u)}catch{}}var ie=Math.clz32?Math.clz32:He,ve=Math.log,je=Math.LN2;function He(u){return u>>>=0,u===0?32:31-(ve(u)/je|0)|0}var Nt=256,ge=262144,re=4194304;function ee(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function le(u,f,g){var j=u.pendingLanes;if(j===0)return 0;var T=0,E=u.suspendedLanes,B=u.pingedLanes;u=u.warmLanes;var te=j&134217727;return te!==0?(j=te&~E,j!==0?T=ee(j):(B&=te,B!==0?T=ee(B):g||(g=te&~u,g!==0&&(T=ee(g))))):(te=j&~E,te!==0?T=ee(te):B!==0?T=ee(B):g||(g=j&~u,g!==0&&(T=ee(g)))),T===0?0:f!==0&&f!==T&&(f&E)===0&&(E=T&-T,g=f&-f,E>=g||E===32&&(g&4194048)!==0)?f:T}function xe(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function Me(u,f){switch(u){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z(){var u=re;return re<<=1,(re&62914560)===0&&(re=4194304),u}function se(u){for(var f=[],g=0;31>g;g++)f.push(u);return f}function ke(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Ze(u,f,g,j,T,E){var B=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var te=u.entanglements,me=u.expirationTimes,Ae=u.hiddenUpdates;for(g=B&~g;0<g;){var Ke=31-ie(g),tt=1<<Ke;te[Ke]=0,me[Ke]=-1;var De=Ae[Ke];if(De!==null)for(Ae[Ke]=null,Ke=0;Ke<De.length;Ke++){var ze=De[Ke];ze!==null&&(ze.lane&=-536870913)}g&=~tt}j!==0&&dt(u,j,0),E!==0&&T===0&&u.tag!==0&&(u.suspendedLanes|=E&~(B&~f))}function dt(u,f,g){u.pendingLanes|=f,u.suspendedLanes&=~f;var j=31-ie(f);u.entangledLanes|=f,u.entanglements[j]=u.entanglements[j]|1073741824|g&261930}function Qe(u,f){var g=u.entangledLanes|=f;for(u=u.entanglements;g;){var j=31-ie(g),T=1<<j;T&f|u[j]&f&&(u[j]|=f),g&=~T}}function Re(u,f){var g=f&-f;return g=(g&42)!==0?1:at(g),(g&(u.suspendedLanes|f))!==0?0:g}function at(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function gt(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Jt(){var u=R.p;return u!==0?u:(u=window.event,u===void 0?32:JL(u.type))}function Fn(u,f){var g=R.p;try{return R.p=u,f()}finally{R.p=g}}var ar=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ar,Bt="__reactProps$"+ar,Tt="__reactContainer$"+ar,$n="__reactEvents$"+ar,_e="__reactListeners$"+ar,Be="__reactHandles$"+ar,it="__reactResources$"+ar,he="__reactMarker$"+ar;function ot(u){delete u[Ct],delete u[Bt],delete u[$n],delete u[_e],delete u[Be]}function wt(u){var f=u[Ct];if(f)return f;for(var g=u.parentNode;g;){if(f=g[Tt]||g[Ct]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(u=RL(u);u!==null;){if(g=u[Ct])return g;u=RL(u)}return f}u=g,g=u.parentNode}return null}function xn(u){if(u=u[Ct]||u[Tt]){var f=u.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return u}return null}function ur(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(r(33))}function An(u){var f=u[it];return f||(f=u[it]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function dn(u){u[he]=!0}var Is=new Set,Ma={};function Zs(u,f){Qn(u,f),Qn(u+"Capture",f)}function Qn(u,f){for(Ma[u]=f,u=0;u<f.length;u++)Is.add(f[u])}var yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rd={},Jx={};function d2(u){return Ne.call(Jx,u)?!0:Ne.call(Rd,u)?!1:yc.test(u)?Jx[u]=!0:(Rd[u]=!0,!1)}function vh(u,f,g){if(d2(f))if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var j=f.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+g)}}function wh(u,f,g){if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+g)}}function Wi(u,f,g,j){if(j===null)u.removeAttribute(g);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(f,g,""+j)}}function Aa(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Qx(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function u2(u,f,g){var j=Object.getOwnPropertyDescriptor(u.constructor.prototype,f);if(!u.hasOwnProperty(f)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var T=j.get,E=j.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return T.call(this)},set:function(B){g=""+B,E.call(this,B)}}),Object.defineProperty(u,f,{enumerable:j.enumerable}),{getValue:function(){return g},setValue:function(B){g=""+B},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function Qm(u){if(!u._valueTracker){var f=Qx(u)?"checked":"value";u._valueTracker=u2(u,f,""+u[f])}}function Zx(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var g=f.getValue(),j="";return u&&(j=Qx(u)?u.checked?"true":"false":u.value),u=j,u!==g?(f.setValue(u),!0):!1}function jh(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var h2=/[\n"\\]/g;function Oa(u){return u.replace(h2,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function K(u,f,g,j,T,E,B,te){u.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?u.type=B:u.removeAttribute("type"),f!=null?B==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+Aa(f)):u.value!==""+Aa(f)&&(u.value=""+Aa(f)):B!=="submit"&&B!=="reset"||u.removeAttribute("value"),f!=null?ue(u,B,Aa(f)):g!=null?ue(u,B,Aa(g)):j!=null&&u.removeAttribute("value"),T==null&&E!=null&&(u.defaultChecked=!!E),T!=null&&(u.checked=T&&typeof T!="function"&&typeof T!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?u.name=""+Aa(te):u.removeAttribute("name")}function G(u,f,g,j,T,E,B,te){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(u.type=E),f!=null||g!=null){if(!(E!=="submit"&&E!=="reset"||f!=null)){Qm(u);return}g=g!=null?""+Aa(g):"",f=f!=null?""+Aa(f):g,te||f===u.value||(u.value=f),u.defaultValue=f}j=j??T,j=typeof j!="function"&&typeof j!="symbol"&&!!j,u.checked=te?u.checked:!!j,u.defaultChecked=!!j,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(u.name=B),Qm(u)}function ue(u,f,g){f==="number"&&jh(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function pt(u,f,g,j){if(u=u.options,f){f={};for(var T=0;T<g.length;T++)f["$"+g[T]]=!0;for(g=0;g<u.length;g++)T=f.hasOwnProperty("$"+u[g].value),u[g].selected!==T&&(u[g].selected=T),T&&j&&(u[g].defaultSelected=!0)}else{for(g=""+Aa(g),f=null,T=0;T<u.length;T++){if(u[T].value===g){u[T].selected=!0,j&&(u[T].defaultSelected=!0);return}f!==null||u[T].disabled||(f=u[T])}f!==null&&(f.selected=!0)}}function un(u,f,g){if(f!=null&&(f=""+Aa(f),f!==u.value&&(u.value=f),g==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=g!=null?""+Aa(g):""}function kn(u,f,g,j){if(f==null){if(j!=null){if(g!=null)throw Error(r(92));if(V(j)){if(1<j.length)throw Error(r(93));j=j[0]}g=j}g==null&&(g=""),f=g}g=Aa(f),u.defaultValue=g,j=u.textContent,j===g&&j!==""&&j!==null&&(u.value=j),Qm(u)}function Ns(u,f){if(f){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=f;return}}u.textContent=f}var Ui=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(u,f,g){var j=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?j?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":j?u.setProperty(f,g):typeof g!="number"||g===0||Ui.has(f)?f==="float"?u.cssFloat=g:u[f]=(""+g).trim():u[f]=g+"px"}function xo(u,f,g){if(f!=null&&typeof f!="object")throw Error(r(62));if(u=u.style,g!=null){for(var j in g)!g.hasOwnProperty(j)||f!=null&&f.hasOwnProperty(j)||(j.indexOf("--")===0?u.setProperty(j,""):j==="float"?u.cssFloat="":u[j]="");for(var T in f)j=f[T],f.hasOwnProperty(T)&&g[T]!==j&&go(u,T,j)}else for(var E in f)f.hasOwnProperty(E)&&go(u,E,f[E])}function eb(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bse=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yse=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tb(u){return yse.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function al(){}var f2=null;function m2(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Nh=null,Sh=null;function C3(u){var f=xn(u);if(f&&(u=f.stateNode)){var g=u[Bt]||null;e:switch(u=f.stateNode,f.type){case"input":if(K(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Oa(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var j=g[f];if(j!==u&&j.form===u.form){var T=j[Bt]||null;if(!T)throw Error(r(90));K(j,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(f=0;f<g.length;f++)j=g[f],j.form===u.form&&Zx(j)}break e;case"textarea":un(u,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&pt(u,!!g.multiple,f,!1)}}}var p2=!1;function _3(u,f,g){if(p2)return u(f,g);p2=!0;try{var j=u(f);return j}finally{if(p2=!1,(Nh!==null||Sh!==null)&&(Bb(),Nh&&(f=Nh,u=Sh,Sh=Nh=null,C3(f),u)))for(f=0;f<u.length;f++)C3(u[f])}}function Zm(u,f){var g=u.stateNode;if(g===null)return null;var j=g[Bt]||null;if(j===null)return null;g=j[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(u=u.type,j=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!j;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var il=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g2=!1;if(il)try{var ep={};Object.defineProperty(ep,"passive",{get:function(){g2=!0}}),window.addEventListener("test",ep,ep),window.removeEventListener("test",ep,ep)}catch{g2=!1}var vc=null,x2=null,nb=null;function T3(){if(nb)return nb;var u,f=x2,g=f.length,j,T="value"in vc?vc.value:vc.textContent,E=T.length;for(u=0;u<g&&f[u]===T[u];u++);var B=g-u;for(j=1;j<=B&&f[g-j]===T[E-j];j++);return nb=T.slice(u,1<j?1-j:void 0)}function rb(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function sb(){return!0}function M3(){return!1}function Ea(u){function f(g,j,T,E,B){this._reactName=g,this._targetInst=T,this.type=j,this.nativeEvent=E,this.target=B,this.currentTarget=null;for(var te in u)u.hasOwnProperty(te)&&(g=u[te],this[te]=g?g(E):E[te]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?sb:M3,this.isPropagationStopped=M3,this}return m(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=sb)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=sb)},persist:function(){},isPersistent:sb}),f}var Ld={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ab=Ea(Ld),tp=m({},Ld,{view:0,detail:0}),vse=Ea(tp),b2,y2,np,ib=m({},tp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:w2,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==np&&(np&&u.type==="mousemove"?(b2=u.screenX-np.screenX,y2=u.screenY-np.screenY):y2=b2=0,np=u),b2)},movementY:function(u){return"movementY"in u?u.movementY:y2}}),A3=Ea(ib),wse=m({},ib,{dataTransfer:0}),jse=Ea(wse),Nse=m({},tp,{relatedTarget:0}),v2=Ea(Nse),Sse=m({},Ld,{animationName:0,elapsedTime:0,pseudoElement:0}),kse=Ea(Sse),Cse=m({},Ld,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),_se=Ea(Cse),Tse=m({},Ld,{data:0}),O3=Ea(Tse),Mse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ase={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ose={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ese(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=Ose[u])?!!f[u]:!1}function w2(){return Ese}var Dse=m({},tp,{key:function(u){if(u.key){var f=Mse[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=rb(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Ase[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:w2,charCode:function(u){return u.type==="keypress"?rb(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?rb(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Pse=Ea(Dse),Rse=m({},ib,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E3=Ea(Rse),Lse=m({},tp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:w2}),Ise=Ea(Lse),Fse=m({},Ld,{propertyName:0,elapsedTime:0,pseudoElement:0}),$se=Ea(Fse),Hse=m({},ib,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),zse=Ea(Hse),Bse=m({},Ld,{newState:0,oldState:0}),Vse=Ea(Bse),Wse=[9,13,27,32],j2=il&&"CompositionEvent"in window,rp=null;il&&"documentMode"in document&&(rp=document.documentMode);var Use=il&&"TextEvent"in window&&!rp,D3=il&&(!j2||rp&&8<rp&&11>=rp),P3=" ",R3=!1;function L3(u,f){switch(u){case"keyup":return Wse.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I3(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var kh=!1;function qse(u,f){switch(u){case"compositionend":return I3(f);case"keypress":return f.which!==32?null:(R3=!0,P3);case"textInput":return u=f.data,u===P3&&R3?null:u;default:return null}}function Gse(u,f){if(kh)return u==="compositionend"||!j2&&L3(u,f)?(u=T3(),nb=x2=vc=null,kh=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return D3&&f.locale!=="ko"?null:f.data;default:return null}}var Yse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F3(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!Yse[u.type]:f==="textarea"}function $3(u,f,g,j){Nh?Sh?Sh.push(j):Sh=[j]:Nh=j,f=Kb(f,"onChange"),0<f.length&&(g=new ab("onChange","change",null,g,j),u.push({event:g,listeners:f}))}var sp=null,ap=null;function Kse(u){wL(u,0)}function ob(u){var f=ur(u);if(Zx(f))return u}function H3(u,f){if(u==="change")return f}var z3=!1;if(il){var N2;if(il){var S2="oninput"in document;if(!S2){var B3=document.createElement("div");B3.setAttribute("oninput","return;"),S2=typeof B3.oninput=="function"}N2=S2}else N2=!1;z3=N2&&(!document.documentMode||9<document.documentMode)}function V3(){sp&&(sp.detachEvent("onpropertychange",W3),ap=sp=null)}function W3(u){if(u.propertyName==="value"&&ob(ap)){var f=[];$3(f,ap,u,m2(u)),_3(Kse,f)}}function Xse(u,f,g){u==="focusin"?(V3(),sp=f,ap=g,sp.attachEvent("onpropertychange",W3)):u==="focusout"&&V3()}function Jse(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return ob(ap)}function Qse(u,f){if(u==="click")return ob(f)}function Zse(u,f){if(u==="input"||u==="change")return ob(f)}function eae(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Ga=typeof Object.is=="function"?Object.is:eae;function ip(u,f){if(Ga(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var g=Object.keys(u),j=Object.keys(f);if(g.length!==j.length)return!1;for(j=0;j<g.length;j++){var T=g[j];if(!Ne.call(f,T)||!Ga(u[T],f[T]))return!1}return!0}function U3(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function q3(u,f){var g=U3(u);u=0;for(var j;g;){if(g.nodeType===3){if(j=u+g.textContent.length,u<=f&&j>=f)return{node:g,offset:f-u};u=j}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=U3(g)}}function G3(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?G3(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function Y3(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=jh(u.document);f instanceof u.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)u=f.contentWindow;else break;f=jh(u.document)}return f}function k2(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}var tae=il&&"documentMode"in document&&11>=document.documentMode,Ch=null,C2=null,op=null,_2=!1;function K3(u,f,g){var j=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;_2||Ch==null||Ch!==jh(j)||(j=Ch,"selectionStart"in j&&k2(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),op&&ip(op,j)||(op=j,j=Kb(C2,"onSelect"),0<j.length&&(f=new ab("onSelect","select",null,f,g),u.push({event:f,listeners:j}),f.target=Ch)))}function Id(u,f){var g={};return g[u.toLowerCase()]=f.toLowerCase(),g["Webkit"+u]="webkit"+f,g["Moz"+u]="moz"+f,g}var _h={animationend:Id("Animation","AnimationEnd"),animationiteration:Id("Animation","AnimationIteration"),animationstart:Id("Animation","AnimationStart"),transitionrun:Id("Transition","TransitionRun"),transitionstart:Id("Transition","TransitionStart"),transitioncancel:Id("Transition","TransitionCancel"),transitionend:Id("Transition","TransitionEnd")},T2={},X3={};il&&(X3=document.createElement("div").style,"AnimationEvent"in window||(delete _h.animationend.animation,delete _h.animationiteration.animation,delete _h.animationstart.animation),"TransitionEvent"in window||delete _h.transitionend.transition);function Fd(u){if(T2[u])return T2[u];if(!_h[u])return u;var f=_h[u],g;for(g in f)if(f.hasOwnProperty(g)&&g in X3)return T2[u]=f[g];return u}var J3=Fd("animationend"),Q3=Fd("animationiteration"),Z3=Fd("animationstart"),nae=Fd("transitionrun"),rae=Fd("transitionstart"),sae=Fd("transitioncancel"),e6=Fd("transitionend"),t6=new Map,M2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");M2.push("scrollEnd");function qi(u,f){t6.set(u,f),Zs(f,[u])}var lb=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},fi=[],Th=0,A2=0;function cb(){for(var u=Th,f=A2=Th=0;f<u;){var g=fi[f];fi[f++]=null;var j=fi[f];fi[f++]=null;var T=fi[f];fi[f++]=null;var E=fi[f];if(fi[f++]=null,j!==null&&T!==null){var B=j.pending;B===null?T.next=T:(T.next=B.next,B.next=T),j.pending=T}E!==0&&n6(g,T,E)}}function db(u,f,g,j){fi[Th++]=u,fi[Th++]=f,fi[Th++]=g,fi[Th++]=j,A2|=j,u.lanes|=j,u=u.alternate,u!==null&&(u.lanes|=j)}function O2(u,f,g,j){return db(u,f,g,j),ub(u)}function $d(u,f){return db(u,null,null,f),ub(u)}function n6(u,f,g){u.lanes|=g;var j=u.alternate;j!==null&&(j.lanes|=g);for(var T=!1,E=u.return;E!==null;)E.childLanes|=g,j=E.alternate,j!==null&&(j.childLanes|=g),E.tag===22&&(u=E.stateNode,u===null||u._visibility&1||(T=!0)),u=E,E=E.return;return u.tag===3?(E=u.stateNode,T&&f!==null&&(T=31-ie(g),u=E.hiddenUpdates,j=u[T],j===null?u[T]=[f]:j.push(f),f.lane=g|536870912),E):null}function ub(u){if(50<Mp)throw Mp=0,HS=null,Error(r(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var Mh={};function aae(u,f,g,j){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(u,f,g,j){return new aae(u,f,g,j)}function E2(u){return u=u.prototype,!(!u||!u.isReactComponent)}function ol(u,f){var g=u.alternate;return g===null?(g=Ya(u.tag,f,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=f,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&65011712,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,f=u.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function r6(u,f){u.flags&=65011714;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,f=g.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function hb(u,f,g,j,T,E){var B=0;if(j=u,typeof u=="function")E2(u)&&(B=1);else if(typeof u=="string")B=die(u,g,fe.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case F:return u=Ya(31,g,f,T),u.elementType=F,u.lanes=E,u;case w:return Hd(g.children,T,E,f);case v:B=8,T|=24;break;case N:return u=Ya(12,g,f,T|2),u.elementType=N,u.lanes=E,u;case _:return u=Ya(13,g,f,T),u.elementType=_,u.lanes=E,u;case A:return u=Ya(19,g,f,T),u.elementType=A,u.lanes=E,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case S:B=10;break e;case C:B=9;break e;case M:B=11;break e;case O:B=14;break e;case D:B=16,j=null;break e}B=29,g=Error(r(130,u===null?"null":typeof u,"")),j=null}return f=Ya(B,g,f,T),f.elementType=u,f.type=j,f.lanes=E,f}function Hd(u,f,g,j){return u=Ya(7,u,j,f),u.lanes=g,u}function D2(u,f,g){return u=Ya(6,u,null,f),u.lanes=g,u}function s6(u){var f=Ya(18,null,null,0);return f.stateNode=u,f}function P2(u,f,g){return f=Ya(4,u.children!==null?u.children:[],u.key,f),f.lanes=g,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}var a6=new WeakMap;function mi(u,f){if(typeof u=="object"&&u!==null){var g=a6.get(u);return g!==void 0?g:(f={value:u,source:f,stack:pe(f)},a6.set(u,f),f)}return{value:u,source:f,stack:pe(f)}}var Ah=[],Oh=0,fb=null,lp=0,pi=[],gi=0,wc=null,bo=1,yo="";function ll(u,f){Ah[Oh++]=lp,Ah[Oh++]=fb,fb=u,lp=f}function i6(u,f,g){pi[gi++]=bo,pi[gi++]=yo,pi[gi++]=wc,wc=u;var j=bo;u=yo;var T=32-ie(j)-1;j&=~(1<<T),g+=1;var E=32-ie(f)+T;if(30<E){var B=T-T%5;E=(j&(1<<B)-1).toString(32),j>>=B,T-=B,bo=1<<32-ie(f)+T|g<<T|j,yo=E+u}else bo=1<<E|g<<T|j,yo=u}function R2(u){u.return!==null&&(ll(u,1),i6(u,1,0))}function L2(u){for(;u===fb;)fb=Ah[--Oh],Ah[Oh]=null,lp=Ah[--Oh],Ah[Oh]=null;for(;u===wc;)wc=pi[--gi],pi[gi]=null,yo=pi[--gi],pi[gi]=null,bo=pi[--gi],pi[gi]=null}function o6(u,f){pi[gi++]=bo,pi[gi++]=yo,pi[gi++]=wc,bo=f.id,yo=f.overflow,wc=u}var Fs=null,vr=null,Nn=!1,jc=null,xi=!1,I2=Error(r(519));function Nc(u){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cp(mi(f,u)),I2}function l6(u){var f=u.stateNode,g=u.type,j=u.memoizedProps;switch(f[Ct]=u,f[Bt]=j,g){case"dialog":mn("cancel",f),mn("close",f);break;case"iframe":case"object":case"embed":mn("load",f);break;case"video":case"audio":for(g=0;g<Op.length;g++)mn(Op[g],f);break;case"source":mn("error",f);break;case"img":case"image":case"link":mn("error",f),mn("load",f);break;case"details":mn("toggle",f);break;case"input":mn("invalid",f),G(f,j.value,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name,!0);break;case"select":mn("invalid",f);break;case"textarea":mn("invalid",f),kn(f,j.value,j.defaultValue,j.children)}g=j.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||j.suppressHydrationWarning===!0||kL(f.textContent,g)?(j.popover!=null&&(mn("beforetoggle",f),mn("toggle",f)),j.onScroll!=null&&mn("scroll",f),j.onScrollEnd!=null&&mn("scrollend",f),j.onClick!=null&&(f.onclick=al),f=!0):f=!1,f||Nc(u,!0)}function c6(u){for(Fs=u.return;Fs;)switch(Fs.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Fs=Fs.return}}function Eh(u){if(u!==Fs)return!1;if(!Nn)return c6(u),Nn=!0,!1;var f=u.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||tk(u.type,u.memoizedProps)),g=!g),g&&vr&&Nc(u),c6(u),f===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));vr=PL(u)}else if(f===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));vr=PL(u)}else f===27?(f=vr,Ic(u.type)?(u=ik,ik=null,vr=u):vr=f):vr=Fs?yi(u.stateNode.nextSibling):null;return!0}function zd(){vr=Fs=null,Nn=!1}function F2(){var u=jc;return u!==null&&(La===null?La=u:La.push.apply(La,u),jc=null),u}function cp(u){jc===null?jc=[u]:jc.push(u)}var $2=H(null),Bd=null,cl=null;function Sc(u,f,g){ne($2,f._currentValue),f._currentValue=g}function dl(u){u._currentValue=$2.current,J($2)}function H2(u,f,g){for(;u!==null;){var j=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,j!==null&&(j.childLanes|=f)):j!==null&&(j.childLanes&f)!==f&&(j.childLanes|=f),u===g)break;u=u.return}}function z2(u,f,g,j){var T=u.child;for(T!==null&&(T.return=u);T!==null;){var E=T.dependencies;if(E!==null){var B=T.child;E=E.firstContext;e:for(;E!==null;){var te=E;E=T;for(var me=0;me<f.length;me++)if(te.context===f[me]){E.lanes|=g,te=E.alternate,te!==null&&(te.lanes|=g),H2(E.return,g,u),j||(B=null);break e}E=te.next}}else if(T.tag===18){if(B=T.return,B===null)throw Error(r(341));B.lanes|=g,E=B.alternate,E!==null&&(E.lanes|=g),H2(B,g,u),B=null}else B=T.child;if(B!==null)B.return=T;else for(B=T;B!==null;){if(B===u){B=null;break}if(T=B.sibling,T!==null){T.return=B.return,B=T;break}B=B.return}T=B}}function Dh(u,f,g,j){u=null;for(var T=f,E=!1;T!==null;){if(!E){if((T.flags&524288)!==0)E=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var B=T.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var te=T.type;Ga(T.pendingProps.value,B.value)||(u!==null?u.push(te):u=[te])}}else if(T===Fe.current){if(B=T.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(u!==null?u.push(Lp):u=[Lp])}T=T.return}u!==null&&z2(f,u,g,j),f.flags|=262144}function mb(u){for(u=u.firstContext;u!==null;){if(!Ga(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Vd(u){Bd=u,cl=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function $s(u){return d6(Bd,u)}function pb(u,f){return Bd===null&&Vd(u),d6(u,f)}function d6(u,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},cl===null){if(u===null)throw Error(r(308));cl=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else cl=cl.next=f;return g}var iae=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(g,j){u.push(j)}};this.abort=function(){f.aborted=!0,u.forEach(function(g){return g()})}},oae=t.unstable_scheduleCallback,lae=t.unstable_NormalPriority,rs={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function B2(){return{controller:new iae,data:new Map,refCount:0}}function dp(u){u.refCount--,u.refCount===0&&oae(lae,function(){u.controller.abort()})}var up=null,V2=0,Ph=0,Rh=null;function cae(u,f){if(up===null){var g=up=[];V2=0,Ph=qS(),Rh={status:"pending",value:void 0,then:function(j){g.push(j)}}}return V2++,f.then(u6,u6),f}function u6(){if(--V2===0&&up!==null){Rh!==null&&(Rh.status="fulfilled");var u=up;up=null,Ph=0,Rh=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function dae(u,f){var g=[],j={status:"pending",value:null,reason:null,then:function(T){g.push(T)}};return u.then(function(){j.status="fulfilled",j.value=f;for(var T=0;T<g.length;T++)(0,g[T])(f)},function(T){for(j.status="rejected",j.reason=T,T=0;T<g.length;T++)(0,g[T])(void 0)}),j}var h6=$.S;$.S=function(u,f){KR=Ye(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&cae(u,f),h6!==null&&h6(u,f)};var Wd=H(null);function W2(){var u=Wd.current;return u!==null?u:hr.pooledCache}function gb(u,f){f===null?ne(Wd,Wd.current):ne(Wd,f.pool)}function f6(){var u=W2();return u===null?null:{parent:rs._currentValue,pool:u}}var Lh=Error(r(460)),U2=Error(r(474)),xb=Error(r(542)),bb={then:function(){}};function m6(u){return u=u.status,u==="fulfilled"||u==="rejected"}function p6(u,f,g){switch(g=u[g],g===void 0?u.push(f):g!==f&&(f.then(al,al),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,x6(u),u;default:if(typeof f.status=="string")f.then(al,al);else{if(u=hr,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=f,u.status="pending",u.then(function(j){if(f.status==="pending"){var T=f;T.status="fulfilled",T.value=j}},function(j){if(f.status==="pending"){var T=f;T.status="rejected",T.reason=j}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,x6(u),u}throw qd=f,Lh}}function Ud(u){try{var f=u._init;return f(u._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(qd=g,Lh):g}}var qd=null;function g6(){if(qd===null)throw Error(r(459));var u=qd;return qd=null,u}function x6(u){if(u===Lh||u===xb)throw Error(r(483))}var Ih=null,hp=0;function yb(u){var f=hp;return hp+=1,Ih===null&&(Ih=[]),p6(Ih,u,f)}function fp(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function vb(u,f){throw f.$$typeof===p?Error(r(525)):(u=Object.prototype.toString.call(f),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function b6(u){function f(Ce,ye){if(u){var Te=Ce.deletions;Te===null?(Ce.deletions=[ye],Ce.flags|=16):Te.push(ye)}}function g(Ce,ye){if(!u)return null;for(;ye!==null;)f(Ce,ye),ye=ye.sibling;return null}function j(Ce){for(var ye=new Map;Ce!==null;)Ce.key!==null?ye.set(Ce.key,Ce):ye.set(Ce.index,Ce),Ce=Ce.sibling;return ye}function T(Ce,ye){return Ce=ol(Ce,ye),Ce.index=0,Ce.sibling=null,Ce}function E(Ce,ye,Te){return Ce.index=Te,u?(Te=Ce.alternate,Te!==null?(Te=Te.index,Te<ye?(Ce.flags|=67108866,ye):Te):(Ce.flags|=67108866,ye)):(Ce.flags|=1048576,ye)}function B(Ce){return u&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function te(Ce,ye,Te,et){return ye===null||ye.tag!==6?(ye=D2(Te,Ce.mode,et),ye.return=Ce,ye):(ye=T(ye,Te),ye.return=Ce,ye)}function me(Ce,ye,Te,et){var $t=Te.type;return $t===w?Ke(Ce,ye,Te.props.children,et,Te.key):ye!==null&&(ye.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===D&&Ud($t)===ye.type)?(ye=T(ye,Te.props),fp(ye,Te),ye.return=Ce,ye):(ye=hb(Te.type,Te.key,Te.props,null,Ce.mode,et),fp(ye,Te),ye.return=Ce,ye)}function Ae(Ce,ye,Te,et){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Te.containerInfo||ye.stateNode.implementation!==Te.implementation?(ye=P2(Te,Ce.mode,et),ye.return=Ce,ye):(ye=T(ye,Te.children||[]),ye.return=Ce,ye)}function Ke(Ce,ye,Te,et,$t){return ye===null||ye.tag!==7?(ye=Hd(Te,Ce.mode,et,$t),ye.return=Ce,ye):(ye=T(ye,Te),ye.return=Ce,ye)}function tt(Ce,ye,Te){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=D2(""+ye,Ce.mode,Te),ye.return=Ce,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return Te=hb(ye.type,ye.key,ye.props,null,Ce.mode,Te),fp(Te,ye),Te.return=Ce,Te;case y:return ye=P2(ye,Ce.mode,Te),ye.return=Ce,ye;case D:return ye=Ud(ye),tt(Ce,ye,Te)}if(V(ye)||P(ye))return ye=Hd(ye,Ce.mode,Te,null),ye.return=Ce,ye;if(typeof ye.then=="function")return tt(Ce,yb(ye),Te);if(ye.$$typeof===S)return tt(Ce,pb(Ce,ye),Te);vb(Ce,ye)}return null}function De(Ce,ye,Te,et){var $t=ye!==null?ye.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return $t!==null?null:te(Ce,ye,""+Te,et);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:return Te.key===$t?me(Ce,ye,Te,et):null;case y:return Te.key===$t?Ae(Ce,ye,Te,et):null;case D:return Te=Ud(Te),De(Ce,ye,Te,et)}if(V(Te)||P(Te))return $t!==null?null:Ke(Ce,ye,Te,et,null);if(typeof Te.then=="function")return De(Ce,ye,yb(Te),et);if(Te.$$typeof===S)return De(Ce,ye,pb(Ce,Te),et);vb(Ce,Te)}return null}function ze(Ce,ye,Te,et,$t){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Ce=Ce.get(Te)||null,te(ye,Ce,""+et,$t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case x:return Ce=Ce.get(et.key===null?Te:et.key)||null,me(ye,Ce,et,$t);case y:return Ce=Ce.get(et.key===null?Te:et.key)||null,Ae(ye,Ce,et,$t);case D:return et=Ud(et),ze(Ce,ye,Te,et,$t)}if(V(et)||P(et))return Ce=Ce.get(Te)||null,Ke(ye,Ce,et,$t,null);if(typeof et.then=="function")return ze(Ce,ye,Te,yb(et),$t);if(et.$$typeof===S)return ze(Ce,ye,Te,pb(ye,et),$t);vb(ye,et)}return null}function Dt(Ce,ye,Te,et){for(var $t=null,On=null,Rt=ye,an=ye=0,yn=null;Rt!==null&&an<Te.length;an++){Rt.index>an?(yn=Rt,Rt=null):yn=Rt.sibling;var En=De(Ce,Rt,Te[an],et);if(En===null){Rt===null&&(Rt=yn);break}u&&Rt&&En.alternate===null&&f(Ce,Rt),ye=E(En,ye,an),On===null?$t=En:On.sibling=En,On=En,Rt=yn}if(an===Te.length)return g(Ce,Rt),Nn&&ll(Ce,an),$t;if(Rt===null){for(;an<Te.length;an++)Rt=tt(Ce,Te[an],et),Rt!==null&&(ye=E(Rt,ye,an),On===null?$t=Rt:On.sibling=Rt,On=Rt);return Nn&&ll(Ce,an),$t}for(Rt=j(Rt);an<Te.length;an++)yn=ze(Rt,Ce,an,Te[an],et),yn!==null&&(u&&yn.alternate!==null&&Rt.delete(yn.key===null?an:yn.key),ye=E(yn,ye,an),On===null?$t=yn:On.sibling=yn,On=yn);return u&&Rt.forEach(function(Bc){return f(Ce,Bc)}),Nn&&ll(Ce,an),$t}function Gt(Ce,ye,Te,et){if(Te==null)throw Error(r(151));for(var $t=null,On=null,Rt=ye,an=ye=0,yn=null,En=Te.next();Rt!==null&&!En.done;an++,En=Te.next()){Rt.index>an?(yn=Rt,Rt=null):yn=Rt.sibling;var Bc=De(Ce,Rt,En.value,et);if(Bc===null){Rt===null&&(Rt=yn);break}u&&Rt&&Bc.alternate===null&&f(Ce,Rt),ye=E(Bc,ye,an),On===null?$t=Bc:On.sibling=Bc,On=Bc,Rt=yn}if(En.done)return g(Ce,Rt),Nn&&ll(Ce,an),$t;if(Rt===null){for(;!En.done;an++,En=Te.next())En=tt(Ce,En.value,et),En!==null&&(ye=E(En,ye,an),On===null?$t=En:On.sibling=En,On=En);return Nn&&ll(Ce,an),$t}for(Rt=j(Rt);!En.done;an++,En=Te.next())En=ze(Rt,Ce,an,En.value,et),En!==null&&(u&&En.alternate!==null&&Rt.delete(En.key===null?an:En.key),ye=E(En,ye,an),On===null?$t=En:On.sibling=En,On=En);return u&&Rt.forEach(function(wie){return f(Ce,wie)}),Nn&&ll(Ce,an),$t}function lr(Ce,ye,Te,et){if(typeof Te=="object"&&Te!==null&&Te.type===w&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:e:{for(var $t=Te.key;ye!==null;){if(ye.key===$t){if($t=Te.type,$t===w){if(ye.tag===7){g(Ce,ye.sibling),et=T(ye,Te.props.children),et.return=Ce,Ce=et;break e}}else if(ye.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===D&&Ud($t)===ye.type){g(Ce,ye.sibling),et=T(ye,Te.props),fp(et,Te),et.return=Ce,Ce=et;break e}g(Ce,ye);break}else f(Ce,ye);ye=ye.sibling}Te.type===w?(et=Hd(Te.props.children,Ce.mode,et,Te.key),et.return=Ce,Ce=et):(et=hb(Te.type,Te.key,Te.props,null,Ce.mode,et),fp(et,Te),et.return=Ce,Ce=et)}return B(Ce);case y:e:{for($t=Te.key;ye!==null;){if(ye.key===$t)if(ye.tag===4&&ye.stateNode.containerInfo===Te.containerInfo&&ye.stateNode.implementation===Te.implementation){g(Ce,ye.sibling),et=T(ye,Te.children||[]),et.return=Ce,Ce=et;break e}else{g(Ce,ye);break}else f(Ce,ye);ye=ye.sibling}et=P2(Te,Ce.mode,et),et.return=Ce,Ce=et}return B(Ce);case D:return Te=Ud(Te),lr(Ce,ye,Te,et)}if(V(Te))return Dt(Ce,ye,Te,et);if(P(Te)){if($t=P(Te),typeof $t!="function")throw Error(r(150));return Te=$t.call(Te),Gt(Ce,ye,Te,et)}if(typeof Te.then=="function")return lr(Ce,ye,yb(Te),et);if(Te.$$typeof===S)return lr(Ce,ye,pb(Ce,Te),et);vb(Ce,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ye!==null&&ye.tag===6?(g(Ce,ye.sibling),et=T(ye,Te),et.return=Ce,Ce=et):(g(Ce,ye),et=D2(Te,Ce.mode,et),et.return=Ce,Ce=et),B(Ce)):g(Ce,ye)}return function(Ce,ye,Te,et){try{hp=0;var $t=lr(Ce,ye,Te,et);return Ih=null,$t}catch(Rt){if(Rt===Lh||Rt===xb)throw Rt;var On=Ya(29,Rt,null,Ce.mode);return On.lanes=et,On.return=Ce,On}finally{}}}var Gd=b6(!0),y6=b6(!1),kc=!1;function q2(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function G2(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Cc(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function _c(u,f,g){var j=u.updateQueue;if(j===null)return null;if(j=j.shared,(Hn&2)!==0){var T=j.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),j.pending=f,f=ub(u),n6(u,null,g),f}return db(u,j,f,g),ub(u)}function mp(u,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var j=f.lanes;j&=u.pendingLanes,g|=j,f.lanes=g,Qe(u,g)}}function Y2(u,f){var g=u.updateQueue,j=u.alternate;if(j!==null&&(j=j.updateQueue,g===j)){var T=null,E=null;if(g=g.firstBaseUpdate,g!==null){do{var B={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};E===null?T=E=B:E=E.next=B,g=g.next}while(g!==null);E===null?T=E=f:E=E.next=f}else T=E=f;g={baseState:j.baseState,firstBaseUpdate:T,lastBaseUpdate:E,shared:j.shared,callbacks:j.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=f}var K2=!1;function pp(){if(K2){var u=Rh;if(u!==null)throw u}}function gp(u,f,g,j){K2=!1;var T=u.updateQueue;kc=!1;var E=T.firstBaseUpdate,B=T.lastBaseUpdate,te=T.shared.pending;if(te!==null){T.shared.pending=null;var me=te,Ae=me.next;me.next=null,B===null?E=Ae:B.next=Ae,B=me;var Ke=u.alternate;Ke!==null&&(Ke=Ke.updateQueue,te=Ke.lastBaseUpdate,te!==B&&(te===null?Ke.firstBaseUpdate=Ae:te.next=Ae,Ke.lastBaseUpdate=me))}if(E!==null){var tt=T.baseState;B=0,Ke=Ae=me=null,te=E;do{var De=te.lane&-536870913,ze=De!==te.lane;if(ze?(bn&De)===De:(j&De)===De){De!==0&&De===Ph&&(K2=!0),Ke!==null&&(Ke=Ke.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var Dt=u,Gt=te;De=f;var lr=g;switch(Gt.tag){case 1:if(Dt=Gt.payload,typeof Dt=="function"){tt=Dt.call(lr,tt,De);break e}tt=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Gt.payload,De=typeof Dt=="function"?Dt.call(lr,tt,De):Dt,De==null)break e;tt=m({},tt,De);break e;case 2:kc=!0}}De=te.callback,De!==null&&(u.flags|=64,ze&&(u.flags|=8192),ze=T.callbacks,ze===null?T.callbacks=[De]:ze.push(De))}else ze={lane:De,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Ke===null?(Ae=Ke=ze,me=tt):Ke=Ke.next=ze,B|=De;if(te=te.next,te===null){if(te=T.shared.pending,te===null)break;ze=te,te=ze.next,ze.next=null,T.lastBaseUpdate=ze,T.shared.pending=null}}while(!0);Ke===null&&(me=tt),T.baseState=me,T.firstBaseUpdate=Ae,T.lastBaseUpdate=Ke,E===null&&(T.shared.lanes=0),Ec|=B,u.lanes=B,u.memoizedState=tt}}function v6(u,f){if(typeof u!="function")throw Error(r(191,u));u.call(f)}function w6(u,f){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)v6(g[u],f)}var Fh=H(null),wb=H(0);function j6(u,f){u=yl,ne(wb,u),ne(Fh,f),yl=u|f.baseLanes}function X2(){ne(wb,yl),ne(Fh,Fh.current)}function J2(){yl=wb.current,J(Fh),J(wb)}var Ka=H(null),bi=null;function Tc(u){var f=u.alternate;ne(Xr,Xr.current&1),ne(Ka,u),bi===null&&(f===null||Fh.current!==null||f.memoizedState!==null)&&(bi=u)}function Q2(u){ne(Xr,Xr.current),ne(Ka,u),bi===null&&(bi=u)}function N6(u){u.tag===22?(ne(Xr,Xr.current),ne(Ka,u),bi===null&&(bi=u)):Mc()}function Mc(){ne(Xr,Xr.current),ne(Ka,Ka.current)}function Xa(u){J(Ka),bi===u&&(bi=null),J(Xr)}var Xr=H(0);function jb(u){for(var f=u;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||sk(g)||ak(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var ul=0,sn=null,ir=null,ss=null,Nb=!1,$h=!1,Yd=!1,Sb=0,xp=0,Hh=null,uae=0;function Fr(){throw Error(r(321))}function Z2(u,f){if(f===null)return!1;for(var g=0;g<f.length&&g<u.length;g++)if(!Ga(u[g],f[g]))return!1;return!0}function eS(u,f,g,j,T,E){return ul=E,sn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,$.H=u===null||u.memoizedState===null?iR:pS,Yd=!1,E=g(j,T),Yd=!1,$h&&(E=k6(f,g,j,T)),S6(u),E}function S6(u){$.H=vp;var f=ir!==null&&ir.next!==null;if(ul=0,ss=ir=sn=null,Nb=!1,xp=0,Hh=null,f)throw Error(r(300));u===null||as||(u=u.dependencies,u!==null&&mb(u)&&(as=!0))}function k6(u,f,g,j){sn=u;var T=0;do{if($h&&(Hh=null),xp=0,$h=!1,25<=T)throw Error(r(301));if(T+=1,ss=ir=null,u.updateQueue!=null){var E=u.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}$.H=oR,E=f(g,j)}while($h);return E}function hae(){var u=$.H,f=u.useState()[0];return f=typeof f.then=="function"?bp(f):f,u=u.useState()[0],(ir!==null?ir.memoizedState:null)!==u&&(sn.flags|=1024),f}function tS(){var u=Sb!==0;return Sb=0,u}function nS(u,f,g){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~g}function rS(u){if(Nb){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Nb=!1}ul=0,ss=ir=sn=null,$h=!1,xp=Sb=0,Hh=null}function fa(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ss===null?sn.memoizedState=ss=u:ss=ss.next=u,ss}function Jr(){if(ir===null){var u=sn.alternate;u=u!==null?u.memoizedState:null}else u=ir.next;var f=ss===null?sn.memoizedState:ss.next;if(f!==null)ss=f,ir=u;else{if(u===null)throw sn.alternate===null?Error(r(467)):Error(r(310));ir=u,u={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},ss===null?sn.memoizedState=ss=u:ss=ss.next=u}return ss}function kb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bp(u){var f=xp;return xp+=1,Hh===null&&(Hh=[]),u=p6(Hh,u,f),f=sn,(ss===null?f.memoizedState:ss.next)===null&&(f=f.alternate,$.H=f===null||f.memoizedState===null?iR:pS),u}function Cb(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return bp(u);if(u.$$typeof===S)return $s(u)}throw Error(r(438,String(u)))}function sS(u){var f=null,g=sn.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var j=sn.alternate;j!==null&&(j=j.updateQueue,j!==null&&(j=j.memoCache,j!=null&&(f={data:j.data.map(function(T){return T.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=kb(),sn.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(u),j=0;j<u;j++)g[j]=L;return f.index++,g}function hl(u,f){return typeof f=="function"?f(u):f}function _b(u){var f=Jr();return aS(f,ir,u)}function aS(u,f,g){var j=u.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=g;var T=u.baseQueue,E=j.pending;if(E!==null){if(T!==null){var B=T.next;T.next=E.next,E.next=B}f.baseQueue=T=E,j.pending=null}if(E=u.baseState,T===null)u.memoizedState=E;else{f=T.next;var te=B=null,me=null,Ae=f,Ke=!1;do{var tt=Ae.lane&-536870913;if(tt!==Ae.lane?(bn&tt)===tt:(ul&tt)===tt){var De=Ae.revertLane;if(De===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),tt===Ph&&(Ke=!0);else if((ul&De)===De){Ae=Ae.next,De===Ph&&(Ke=!0);continue}else tt={lane:0,revertLane:Ae.revertLane,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},me===null?(te=me=tt,B=E):me=me.next=tt,sn.lanes|=De,Ec|=De;tt=Ae.action,Yd&&g(E,tt),E=Ae.hasEagerState?Ae.eagerState:g(E,tt)}else De={lane:tt,revertLane:Ae.revertLane,gesture:Ae.gesture,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},me===null?(te=me=De,B=E):me=me.next=De,sn.lanes|=tt,Ec|=tt;Ae=Ae.next}while(Ae!==null&&Ae!==f);if(me===null?B=E:me.next=te,!Ga(E,u.memoizedState)&&(as=!0,Ke&&(g=Rh,g!==null)))throw g;u.memoizedState=E,u.baseState=B,u.baseQueue=me,j.lastRenderedState=E}return T===null&&(j.lanes=0),[u.memoizedState,j.dispatch]}function iS(u){var f=Jr(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var j=g.dispatch,T=g.pending,E=f.memoizedState;if(T!==null){g.pending=null;var B=T=T.next;do E=u(E,B.action),B=B.next;while(B!==T);Ga(E,f.memoizedState)||(as=!0),f.memoizedState=E,f.baseQueue===null&&(f.baseState=E),g.lastRenderedState=E}return[E,j]}function C6(u,f,g){var j=sn,T=Jr(),E=Nn;if(E){if(g===void 0)throw Error(r(407));g=g()}else g=f();var B=!Ga((ir||T).memoizedState,g);if(B&&(T.memoizedState=g,as=!0),T=T.queue,cS(M6.bind(null,j,T,u),[u]),T.getSnapshot!==f||B||ss!==null&&ss.memoizedState.tag&1){if(j.flags|=2048,zh(9,{destroy:void 0},T6.bind(null,j,T,g,f),null),hr===null)throw Error(r(349));E||(ul&127)!==0||_6(j,f,g)}return g}function _6(u,f,g){u.flags|=16384,u={getSnapshot:f,value:g},f=sn.updateQueue,f===null?(f=kb(),sn.updateQueue=f,f.stores=[u]):(g=f.stores,g===null?f.stores=[u]:g.push(u))}function T6(u,f,g,j){f.value=g,f.getSnapshot=j,A6(f)&&O6(u)}function M6(u,f,g){return g(function(){A6(f)&&O6(u)})}function A6(u){var f=u.getSnapshot;u=u.value;try{var g=f();return!Ga(u,g)}catch{return!0}}function O6(u){var f=$d(u,2);f!==null&&Ia(f,u,2)}function oS(u){var f=fa();if(typeof u=="function"){var g=u;if(u=g(),Yd){vt(!0);try{g()}finally{vt(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:u},f}function E6(u,f,g,j){return u.baseState=g,aS(u,ir,typeof j=="function"?j:hl)}function fae(u,f,g,j,T){if(Ab(u))throw Error(r(485));if(u=f.action,u!==null){var E={payload:T,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){E.listeners.push(B)}};$.T!==null?g(!0):E.isTransition=!1,j(E),g=f.pending,g===null?(E.next=f.pending=E,D6(f,E)):(E.next=g.next,f.pending=g.next=E)}}function D6(u,f){var g=f.action,j=f.payload,T=u.state;if(f.isTransition){var E=$.T,B={};$.T=B;try{var te=g(T,j),me=$.S;me!==null&&me(B,te),P6(u,f,te)}catch(Ae){lS(u,f,Ae)}finally{E!==null&&B.types!==null&&(E.types=B.types),$.T=E}}else try{E=g(T,j),P6(u,f,E)}catch(Ae){lS(u,f,Ae)}}function P6(u,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(j){R6(u,f,j)},function(j){return lS(u,f,j)}):R6(u,f,g)}function R6(u,f,g){f.status="fulfilled",f.value=g,L6(f),u.state=g,f=u.pending,f!==null&&(g=f.next,g===f?u.pending=null:(g=g.next,f.next=g,D6(u,g)))}function lS(u,f,g){var j=u.pending;if(u.pending=null,j!==null){j=j.next;do f.status="rejected",f.reason=g,L6(f),f=f.next;while(f!==j)}u.action=null}function L6(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function I6(u,f){return f}function F6(u,f){if(Nn){var g=hr.formState;if(g!==null){e:{var j=sn;if(Nn){if(vr){t:{for(var T=vr,E=xi;T.nodeType!==8;){if(!E){T=null;break t}if(T=yi(T.nextSibling),T===null){T=null;break t}}E=T.data,T=E==="F!"||E==="F"?T:null}if(T){vr=yi(T.nextSibling),j=T.data==="F!";break e}}Nc(j)}j=!1}j&&(f=g[0])}}return g=fa(),g.memoizedState=g.baseState=f,j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I6,lastRenderedState:f},g.queue=j,g=rR.bind(null,sn,j),j.dispatch=g,j=oS(!1),E=mS.bind(null,sn,!1,j.queue),j=fa(),T={state:f,dispatch:null,action:u,pending:null},j.queue=T,g=fae.bind(null,sn,T,E,g),T.dispatch=g,j.memoizedState=u,[f,g,!1]}function $6(u){var f=Jr();return H6(f,ir,u)}function H6(u,f,g){if(f=aS(u,f,I6)[0],u=_b(hl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var j=bp(f)}catch(B){throw B===Lh?xb:B}else j=f;f=Jr();var T=f.queue,E=T.dispatch;return g!==f.memoizedState&&(sn.flags|=2048,zh(9,{destroy:void 0},mae.bind(null,T,g),null)),[j,E,u]}function mae(u,f){u.action=f}function z6(u){var f=Jr(),g=ir;if(g!==null)return H6(f,g,u);Jr(),f=f.memoizedState,g=Jr();var j=g.queue.dispatch;return g.memoizedState=u,[f,j,!1]}function zh(u,f,g,j){return u={tag:u,create:g,deps:j,inst:f,next:null},f=sn.updateQueue,f===null&&(f=kb(),sn.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=u.next=u:(j=g.next,g.next=u,u.next=j,f.lastEffect=u),u}function B6(){return Jr().memoizedState}function Tb(u,f,g,j){var T=fa();sn.flags|=u,T.memoizedState=zh(1|f,{destroy:void 0},g,j===void 0?null:j)}function Mb(u,f,g,j){var T=Jr();j=j===void 0?null:j;var E=T.memoizedState.inst;ir!==null&&j!==null&&Z2(j,ir.memoizedState.deps)?T.memoizedState=zh(f,E,g,j):(sn.flags|=u,T.memoizedState=zh(1|f,E,g,j))}function V6(u,f){Tb(8390656,8,u,f)}function cS(u,f){Mb(2048,8,u,f)}function pae(u){sn.flags|=4;var f=sn.updateQueue;if(f===null)f=kb(),sn.updateQueue=f,f.events=[u];else{var g=f.events;g===null?f.events=[u]:g.push(u)}}function W6(u){var f=Jr().memoizedState;return pae({ref:f,nextImpl:u}),function(){if((Hn&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function U6(u,f){return Mb(4,2,u,f)}function q6(u,f){return Mb(4,4,u,f)}function G6(u,f){if(typeof f=="function"){u=u();var g=f(u);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function Y6(u,f,g){g=g!=null?g.concat([u]):null,Mb(4,4,G6.bind(null,f,u),g)}function dS(){}function K6(u,f){var g=Jr();f=f===void 0?null:f;var j=g.memoizedState;return f!==null&&Z2(f,j[1])?j[0]:(g.memoizedState=[u,f],u)}function X6(u,f){var g=Jr();f=f===void 0?null:f;var j=g.memoizedState;if(f!==null&&Z2(f,j[1]))return j[0];if(j=u(),Yd){vt(!0);try{u()}finally{vt(!1)}}return g.memoizedState=[j,f],j}function uS(u,f,g){return g===void 0||(ul&1073741824)!==0&&(bn&261930)===0?u.memoizedState=f:(u.memoizedState=g,u=JR(),sn.lanes|=u,Ec|=u,g)}function J6(u,f,g,j){return Ga(g,f)?g:Fh.current!==null?(u=uS(u,g,j),Ga(u,f)||(as=!0),u):(ul&42)===0||(ul&1073741824)!==0&&(bn&261930)===0?(as=!0,u.memoizedState=g):(u=JR(),sn.lanes|=u,Ec|=u,f)}function Q6(u,f,g,j,T){var E=R.p;R.p=E!==0&&8>E?E:8;var B=$.T,te={};$.T=te,mS(u,!1,f,g);try{var me=T(),Ae=$.S;if(Ae!==null&&Ae(te,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ke=dae(me,j);yp(u,f,Ke,Za(u))}else yp(u,f,j,Za(u))}catch(tt){yp(u,f,{then:function(){},status:"rejected",reason:tt},Za())}finally{R.p=E,B!==null&&te.types!==null&&(B.types=te.types),$.T=B}}function gae(){}function hS(u,f,g,j){if(u.tag!==5)throw Error(r(476));var T=Z6(u).queue;Q6(u,T,f,W,g===null?gae:function(){return eR(u),g(j)})}function Z6(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:W},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:g},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function eR(u){var f=Z6(u);f.next===null&&(f=u.alternate.memoizedState),yp(u,f.next.queue,{},Za())}function fS(){return $s(Lp)}function tR(){return Jr().memoizedState}function nR(){return Jr().memoizedState}function xae(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var g=Za();u=Cc(g);var j=_c(f,u,g);j!==null&&(Ia(j,f,g),mp(j,f,g)),f={cache:B2()},u.payload=f;return}f=f.return}}function bae(u,f,g){var j=Za();g={lane:j,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Ab(u)?sR(f,g):(g=O2(u,f,g,j),g!==null&&(Ia(g,u,j),aR(g,f,j)))}function rR(u,f,g){var j=Za();yp(u,f,g,j)}function yp(u,f,g,j){var T={lane:j,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Ab(u))sR(f,T);else{var E=u.alternate;if(u.lanes===0&&(E===null||E.lanes===0)&&(E=f.lastRenderedReducer,E!==null))try{var B=f.lastRenderedState,te=E(B,g);if(T.hasEagerState=!0,T.eagerState=te,Ga(te,B))return db(u,f,T,0),hr===null&&cb(),!1}catch{}finally{}if(g=O2(u,f,T,j),g!==null)return Ia(g,u,j),aR(g,f,j),!0}return!1}function mS(u,f,g,j){if(j={lane:2,revertLane:qS(),gesture:null,action:j,hasEagerState:!1,eagerState:null,next:null},Ab(u)){if(f)throw Error(r(479))}else f=O2(u,g,j,2),f!==null&&Ia(f,u,2)}function Ab(u){var f=u.alternate;return u===sn||f!==null&&f===sn}function sR(u,f){$h=Nb=!0;var g=u.pending;g===null?f.next=f:(f.next=g.next,g.next=f),u.pending=f}function aR(u,f,g){if((g&4194048)!==0){var j=f.lanes;j&=u.pendingLanes,g|=j,f.lanes=g,Qe(u,g)}}var vp={readContext:$s,use:Cb,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useLayoutEffect:Fr,useInsertionEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useSyncExternalStore:Fr,useId:Fr,useHostTransitionStatus:Fr,useFormState:Fr,useActionState:Fr,useOptimistic:Fr,useMemoCache:Fr,useCacheRefresh:Fr};vp.useEffectEvent=Fr;var iR={readContext:$s,use:Cb,useCallback:function(u,f){return fa().memoizedState=[u,f===void 0?null:f],u},useContext:$s,useEffect:V6,useImperativeHandle:function(u,f,g){g=g!=null?g.concat([u]):null,Tb(4194308,4,G6.bind(null,f,u),g)},useLayoutEffect:function(u,f){return Tb(4194308,4,u,f)},useInsertionEffect:function(u,f){Tb(4,2,u,f)},useMemo:function(u,f){var g=fa();f=f===void 0?null:f;var j=u();if(Yd){vt(!0);try{u()}finally{vt(!1)}}return g.memoizedState=[j,f],j},useReducer:function(u,f,g){var j=fa();if(g!==void 0){var T=g(f);if(Yd){vt(!0);try{g(f)}finally{vt(!1)}}}else T=f;return j.memoizedState=j.baseState=T,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:T},j.queue=u,u=u.dispatch=bae.bind(null,sn,u),[j.memoizedState,u]},useRef:function(u){var f=fa();return u={current:u},f.memoizedState=u},useState:function(u){u=oS(u);var f=u.queue,g=rR.bind(null,sn,f);return f.dispatch=g,[u.memoizedState,g]},useDebugValue:dS,useDeferredValue:function(u,f){var g=fa();return uS(g,u,f)},useTransition:function(){var u=oS(!1);return u=Q6.bind(null,sn,u.queue,!0,!1),fa().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,g){var j=sn,T=fa();if(Nn){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),hr===null)throw Error(r(349));(bn&127)!==0||_6(j,f,g)}T.memoizedState=g;var E={value:g,getSnapshot:f};return T.queue=E,V6(M6.bind(null,j,E,u),[u]),j.flags|=2048,zh(9,{destroy:void 0},T6.bind(null,j,E,g,f),null),g},useId:function(){var u=fa(),f=hr.identifierPrefix;if(Nn){var g=yo,j=bo;g=(j&~(1<<32-ie(j)-1)).toString(32)+g,f="_"+f+"R_"+g,g=Sb++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=uae++,f="_"+f+"r_"+g.toString(32)+"_";return u.memoizedState=f},useHostTransitionStatus:fS,useFormState:F6,useActionState:F6,useOptimistic:function(u){var f=fa();f.memoizedState=f.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=mS.bind(null,sn,!0,g),g.dispatch=f,[u,f]},useMemoCache:sS,useCacheRefresh:function(){return fa().memoizedState=xae.bind(null,sn)},useEffectEvent:function(u){var f=fa(),g={impl:u};return f.memoizedState=g,function(){if((Hn&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}},pS={readContext:$s,use:Cb,useCallback:K6,useContext:$s,useEffect:cS,useImperativeHandle:Y6,useInsertionEffect:U6,useLayoutEffect:q6,useMemo:X6,useReducer:_b,useRef:B6,useState:function(){return _b(hl)},useDebugValue:dS,useDeferredValue:function(u,f){var g=Jr();return J6(g,ir.memoizedState,u,f)},useTransition:function(){var u=_b(hl)[0],f=Jr().memoizedState;return[typeof u=="boolean"?u:bp(u),f]},useSyncExternalStore:C6,useId:tR,useHostTransitionStatus:fS,useFormState:$6,useActionState:$6,useOptimistic:function(u,f){var g=Jr();return E6(g,ir,u,f)},useMemoCache:sS,useCacheRefresh:nR};pS.useEffectEvent=W6;var oR={readContext:$s,use:Cb,useCallback:K6,useContext:$s,useEffect:cS,useImperativeHandle:Y6,useInsertionEffect:U6,useLayoutEffect:q6,useMemo:X6,useReducer:iS,useRef:B6,useState:function(){return iS(hl)},useDebugValue:dS,useDeferredValue:function(u,f){var g=Jr();return ir===null?uS(g,u,f):J6(g,ir.memoizedState,u,f)},useTransition:function(){var u=iS(hl)[0],f=Jr().memoizedState;return[typeof u=="boolean"?u:bp(u),f]},useSyncExternalStore:C6,useId:tR,useHostTransitionStatus:fS,useFormState:z6,useActionState:z6,useOptimistic:function(u,f){var g=Jr();return ir!==null?E6(g,ir,u,f):(g.baseState=u,[u,g.queue.dispatch])},useMemoCache:sS,useCacheRefresh:nR};oR.useEffectEvent=W6;function gS(u,f,g,j){f=u.memoizedState,g=g(j,f),g=g==null?f:m({},f,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var xS={enqueueSetState:function(u,f,g){u=u._reactInternals;var j=Za(),T=Cc(j);T.payload=f,g!=null&&(T.callback=g),f=_c(u,T,j),f!==null&&(Ia(f,u,j),mp(f,u,j))},enqueueReplaceState:function(u,f,g){u=u._reactInternals;var j=Za(),T=Cc(j);T.tag=1,T.payload=f,g!=null&&(T.callback=g),f=_c(u,T,j),f!==null&&(Ia(f,u,j),mp(f,u,j))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var g=Za(),j=Cc(g);j.tag=2,f!=null&&(j.callback=f),f=_c(u,j,g),f!==null&&(Ia(f,u,g),mp(f,u,g))}};function lR(u,f,g,j,T,E,B){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(j,E,B):f.prototype&&f.prototype.isPureReactComponent?!ip(g,j)||!ip(T,E):!0}function cR(u,f,g,j){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,j),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,j),f.state!==u&&xS.enqueueReplaceState(f,f.state,null)}function Kd(u,f){var g=f;if("ref"in f){g={};for(var j in f)j!=="ref"&&(g[j]=f[j])}if(u=u.defaultProps){g===f&&(g=m({},g));for(var T in u)g[T]===void 0&&(g[T]=u[T])}return g}function dR(u){lb(u)}function uR(u){console.error(u)}function hR(u){lb(u)}function Ob(u,f){try{var g=u.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(j){setTimeout(function(){throw j})}}function fR(u,f,g){try{var j=u.onCaughtError;j(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function bS(u,f,g){return g=Cc(g),g.tag=3,g.payload={element:null},g.callback=function(){Ob(u,f)},g}function mR(u){return u=Cc(u),u.tag=3,u}function pR(u,f,g,j){var T=g.type.getDerivedStateFromError;if(typeof T=="function"){var E=j.value;u.payload=function(){return T(E)},u.callback=function(){fR(f,g,j)}}var B=g.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(u.callback=function(){fR(f,g,j),typeof T!="function"&&(Dc===null?Dc=new Set([this]):Dc.add(this));var te=j.stack;this.componentDidCatch(j.value,{componentStack:te!==null?te:""})})}function yae(u,f,g,j,T){if(g.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){if(f=g.alternate,f!==null&&Dh(f,g,T,!0),g=Ka.current,g!==null){switch(g.tag){case 31:case 13:return bi===null?Vb():g.alternate===null&&$r===0&&($r=3),g.flags&=-257,g.flags|=65536,g.lanes=T,j===bb?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([j]):f.add(j),VS(u,j,T)),!1;case 22:return g.flags|=65536,j===bb?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([j])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([j]):g.add(j)),VS(u,j,T)),!1}throw Error(r(435,g.tag))}return VS(u,j,T),Vb(),!1}if(Nn)return f=Ka.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=T,j!==I2&&(u=Error(r(422),{cause:j}),cp(mi(u,g)))):(j!==I2&&(f=Error(r(423),{cause:j}),cp(mi(f,g))),u=u.current.alternate,u.flags|=65536,T&=-T,u.lanes|=T,j=mi(j,g),T=bS(u.stateNode,j,T),Y2(u,T),$r!==4&&($r=2)),!1;var E=Error(r(520),{cause:j});if(E=mi(E,g),Tp===null?Tp=[E]:Tp.push(E),$r!==4&&($r=2),f===null)return!0;j=mi(j,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,u=T&-T,g.lanes|=u,u=bS(g.stateNode,j,u),Y2(g,u),!1;case 1:if(f=g.type,E=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Dc===null||!Dc.has(E))))return g.flags|=65536,T&=-T,g.lanes|=T,T=mR(T),pR(T,u,g,j),Y2(g,T),!1}g=g.return}while(g!==null);return!1}var yS=Error(r(461)),as=!1;function Hs(u,f,g,j){f.child=u===null?y6(f,null,g,j):Gd(f,u.child,g,j)}function gR(u,f,g,j,T){g=g.render;var E=f.ref;if("ref"in j){var B={};for(var te in j)te!=="ref"&&(B[te]=j[te])}else B=j;return Vd(f),j=eS(u,f,g,B,E,T),te=tS(),u!==null&&!as?(nS(u,f,T),fl(u,f,T)):(Nn&&te&&R2(f),f.flags|=1,Hs(u,f,j,T),f.child)}function xR(u,f,g,j,T){if(u===null){var E=g.type;return typeof E=="function"&&!E2(E)&&E.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=E,bR(u,f,E,j,T)):(u=hb(g.type,null,j,f,f.mode,T),u.ref=f.ref,u.return=f,f.child=u)}if(E=u.child,!_S(u,T)){var B=E.memoizedProps;if(g=g.compare,g=g!==null?g:ip,g(B,j)&&u.ref===f.ref)return fl(u,f,T)}return f.flags|=1,u=ol(E,j),u.ref=f.ref,u.return=f,f.child=u}function bR(u,f,g,j,T){if(u!==null){var E=u.memoizedProps;if(ip(E,j)&&u.ref===f.ref)if(as=!1,f.pendingProps=j=E,_S(u,T))(u.flags&131072)!==0&&(as=!0);else return f.lanes=u.lanes,fl(u,f,T)}return vS(u,f,g,j,T)}function yR(u,f,g,j){var T=j.children,E=u!==null?u.memoizedState:null;if(u===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),j.mode==="hidden"){if((f.flags&128)!==0){if(E=E!==null?E.baseLanes|g:g,u!==null){for(j=f.child=u.child,T=0;j!==null;)T=T|j.lanes|j.childLanes,j=j.sibling;j=T&~E}else j=0,f.child=null;return vR(u,f,E,g,j)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&gb(f,E!==null?E.cachePool:null),E!==null?j6(f,E):X2(),N6(f);else return j=f.lanes=536870912,vR(u,f,E!==null?E.baseLanes|g:g,g,j)}else E!==null?(gb(f,E.cachePool),j6(f,E),Mc(),f.memoizedState=null):(u!==null&&gb(f,null),X2(),Mc());return Hs(u,f,T,g),f.child}function wp(u,f){return u!==null&&u.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function vR(u,f,g,j,T){var E=W2();return E=E===null?null:{parent:rs._currentValue,pool:E},f.memoizedState={baseLanes:g,cachePool:E},u!==null&&gb(f,null),X2(),N6(f),u!==null&&Dh(u,f,j,!0),f.childLanes=T,null}function Eb(u,f){return f=Pb({mode:f.mode,children:f.children},u.mode),f.ref=u.ref,u.child=f,f.return=u,f}function wR(u,f,g){return Gd(f,u.child,null,g),u=Eb(f,f.pendingProps),u.flags|=2,Xa(f),f.memoizedState=null,u}function vae(u,f,g){var j=f.pendingProps,T=(f.flags&128)!==0;if(f.flags&=-129,u===null){if(Nn){if(j.mode==="hidden")return u=Eb(f,j),f.lanes=536870912,wp(null,u);if(Q2(f),(u=vr)?(u=DL(u,xi),u=u!==null&&u.data==="&"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:wc!==null?{id:bo,overflow:yo}:null,retryLane:536870912,hydrationErrors:null},g=s6(u),g.return=f,f.child=g,Fs=f,vr=null)):u=null,u===null)throw Nc(f);return f.lanes=536870912,null}return Eb(f,j)}var E=u.memoizedState;if(E!==null){var B=E.dehydrated;if(Q2(f),T)if(f.flags&256)f.flags&=-257,f=wR(u,f,g);else if(f.memoizedState!==null)f.child=u.child,f.flags|=128,f=null;else throw Error(r(558));else if(as||Dh(u,f,g,!1),T=(g&u.childLanes)!==0,as||T){if(j=hr,j!==null&&(B=Re(j,g),B!==0&&B!==E.retryLane))throw E.retryLane=B,$d(u,B),Ia(j,u,B),yS;Vb(),f=wR(u,f,g)}else u=E.treeContext,vr=yi(B.nextSibling),Fs=f,Nn=!0,jc=null,xi=!1,u!==null&&o6(f,u),f=Eb(f,j),f.flags|=4096;return f}return u=ol(u.child,{mode:j.mode,children:j.children}),u.ref=f.ref,f.child=u,u.return=f,u}function Db(u,f){var g=f.ref;if(g===null)u!==null&&u.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(u===null||u.ref!==g)&&(f.flags|=4194816)}}function vS(u,f,g,j,T){return Vd(f),g=eS(u,f,g,j,void 0,T),j=tS(),u!==null&&!as?(nS(u,f,T),fl(u,f,T)):(Nn&&j&&R2(f),f.flags|=1,Hs(u,f,g,T),f.child)}function jR(u,f,g,j,T,E){return Vd(f),f.updateQueue=null,g=k6(f,j,g,T),S6(u),j=tS(),u!==null&&!as?(nS(u,f,E),fl(u,f,E)):(Nn&&j&&R2(f),f.flags|=1,Hs(u,f,g,E),f.child)}function NR(u,f,g,j,T){if(Vd(f),f.stateNode===null){var E=Mh,B=g.contextType;typeof B=="object"&&B!==null&&(E=$s(B)),E=new g(j,E),f.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=xS,f.stateNode=E,E._reactInternals=f,E=f.stateNode,E.props=j,E.state=f.memoizedState,E.refs={},q2(f),B=g.contextType,E.context=typeof B=="object"&&B!==null?$s(B):Mh,E.state=f.memoizedState,B=g.getDerivedStateFromProps,typeof B=="function"&&(gS(f,g,B,j),E.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(B=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),B!==E.state&&xS.enqueueReplaceState(E,E.state,null),gp(f,j,E,T),pp(),E.state=f.memoizedState),typeof E.componentDidMount=="function"&&(f.flags|=4194308),j=!0}else if(u===null){E=f.stateNode;var te=f.memoizedProps,me=Kd(g,te);E.props=me;var Ae=E.context,Ke=g.contextType;B=Mh,typeof Ke=="object"&&Ke!==null&&(B=$s(Ke));var tt=g.getDerivedStateFromProps;Ke=typeof tt=="function"||typeof E.getSnapshotBeforeUpdate=="function",te=f.pendingProps!==te,Ke||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(te||Ae!==B)&&cR(f,E,j,B),kc=!1;var De=f.memoizedState;E.state=De,gp(f,j,E,T),pp(),Ae=f.memoizedState,te||De!==Ae||kc?(typeof tt=="function"&&(gS(f,g,tt,j),Ae=f.memoizedState),(me=kc||lR(f,g,me,j,De,Ae,B))?(Ke||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(f.flags|=4194308)):(typeof E.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=j,f.memoizedState=Ae),E.props=j,E.state=Ae,E.context=B,j=me):(typeof E.componentDidMount=="function"&&(f.flags|=4194308),j=!1)}else{E=f.stateNode,G2(u,f),B=f.memoizedProps,Ke=Kd(g,B),E.props=Ke,tt=f.pendingProps,De=E.context,Ae=g.contextType,me=Mh,typeof Ae=="object"&&Ae!==null&&(me=$s(Ae)),te=g.getDerivedStateFromProps,(Ae=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(B!==tt||De!==me)&&cR(f,E,j,me),kc=!1,De=f.memoizedState,E.state=De,gp(f,j,E,T),pp();var ze=f.memoizedState;B!==tt||De!==ze||kc||u!==null&&u.dependencies!==null&&mb(u.dependencies)?(typeof te=="function"&&(gS(f,g,te,j),ze=f.memoizedState),(Ke=kc||lR(f,g,Ke,j,De,ze,me)||u!==null&&u.dependencies!==null&&mb(u.dependencies))?(Ae||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(j,ze,me),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(j,ze,me)),typeof E.componentDidUpdate=="function"&&(f.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof E.componentDidUpdate!="function"||B===u.memoizedProps&&De===u.memoizedState||(f.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||B===u.memoizedProps&&De===u.memoizedState||(f.flags|=1024),f.memoizedProps=j,f.memoizedState=ze),E.props=j,E.state=ze,E.context=me,j=Ke):(typeof E.componentDidUpdate!="function"||B===u.memoizedProps&&De===u.memoizedState||(f.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||B===u.memoizedProps&&De===u.memoizedState||(f.flags|=1024),j=!1)}return E=j,Db(u,f),j=(f.flags&128)!==0,E||j?(E=f.stateNode,g=j&&typeof g.getDerivedStateFromError!="function"?null:E.render(),f.flags|=1,u!==null&&j?(f.child=Gd(f,u.child,null,T),f.child=Gd(f,null,g,T)):Hs(u,f,g,T),f.memoizedState=E.state,u=f.child):u=fl(u,f,T),u}function SR(u,f,g,j){return zd(),f.flags|=256,Hs(u,f,g,j),f.child}var wS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jS(u){return{baseLanes:u,cachePool:f6()}}function NS(u,f,g){return u=u!==null?u.childLanes&~g:0,f&&(u|=Qa),u}function kR(u,f,g){var j=f.pendingProps,T=!1,E=(f.flags&128)!==0,B;if((B=E)||(B=u!==null&&u.memoizedState===null?!1:(Xr.current&2)!==0),B&&(T=!0,f.flags&=-129),B=(f.flags&32)!==0,f.flags&=-33,u===null){if(Nn){if(T?Tc(f):Mc(),(u=vr)?(u=DL(u,xi),u=u!==null&&u.data!=="&"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:wc!==null?{id:bo,overflow:yo}:null,retryLane:536870912,hydrationErrors:null},g=s6(u),g.return=f,f.child=g,Fs=f,vr=null)):u=null,u===null)throw Nc(f);return ak(u)?f.lanes=32:f.lanes=536870912,null}var te=j.children;return j=j.fallback,T?(Mc(),T=f.mode,te=Pb({mode:"hidden",children:te},T),j=Hd(j,T,g,null),te.return=f,j.return=f,te.sibling=j,f.child=te,j=f.child,j.memoizedState=jS(g),j.childLanes=NS(u,B,g),f.memoizedState=wS,wp(null,j)):(Tc(f),SS(f,te))}var me=u.memoizedState;if(me!==null&&(te=me.dehydrated,te!==null)){if(E)f.flags&256?(Tc(f),f.flags&=-257,f=kS(u,f,g)):f.memoizedState!==null?(Mc(),f.child=u.child,f.flags|=128,f=null):(Mc(),te=j.fallback,T=f.mode,j=Pb({mode:"visible",children:j.children},T),te=Hd(te,T,g,null),te.flags|=2,j.return=f,te.return=f,j.sibling=te,f.child=j,Gd(f,u.child,null,g),j=f.child,j.memoizedState=jS(g),j.childLanes=NS(u,B,g),f.memoizedState=wS,f=wp(null,j));else if(Tc(f),ak(te)){if(B=te.nextSibling&&te.nextSibling.dataset,B)var Ae=B.dgst;B=Ae,j=Error(r(419)),j.stack="",j.digest=B,cp({value:j,source:null,stack:null}),f=kS(u,f,g)}else if(as||Dh(u,f,g,!1),B=(g&u.childLanes)!==0,as||B){if(B=hr,B!==null&&(j=Re(B,g),j!==0&&j!==me.retryLane))throw me.retryLane=j,$d(u,j),Ia(B,u,j),yS;sk(te)||Vb(),f=kS(u,f,g)}else sk(te)?(f.flags|=192,f.child=u.child,f=null):(u=me.treeContext,vr=yi(te.nextSibling),Fs=f,Nn=!0,jc=null,xi=!1,u!==null&&o6(f,u),f=SS(f,j.children),f.flags|=4096);return f}return T?(Mc(),te=j.fallback,T=f.mode,me=u.child,Ae=me.sibling,j=ol(me,{mode:"hidden",children:j.children}),j.subtreeFlags=me.subtreeFlags&65011712,Ae!==null?te=ol(Ae,te):(te=Hd(te,T,g,null),te.flags|=2),te.return=f,j.return=f,j.sibling=te,f.child=j,wp(null,j),j=f.child,te=u.child.memoizedState,te===null?te=jS(g):(T=te.cachePool,T!==null?(me=rs._currentValue,T=T.parent!==me?{parent:me,pool:me}:T):T=f6(),te={baseLanes:te.baseLanes|g,cachePool:T}),j.memoizedState=te,j.childLanes=NS(u,B,g),f.memoizedState=wS,wp(u.child,j)):(Tc(f),g=u.child,u=g.sibling,g=ol(g,{mode:"visible",children:j.children}),g.return=f,g.sibling=null,u!==null&&(B=f.deletions,B===null?(f.deletions=[u],f.flags|=16):B.push(u)),f.child=g,f.memoizedState=null,g)}function SS(u,f){return f=Pb({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function Pb(u,f){return u=Ya(22,u,null,f),u.lanes=0,u}function kS(u,f,g){return Gd(f,u.child,null,g),u=SS(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function CR(u,f,g){u.lanes|=f;var j=u.alternate;j!==null&&(j.lanes|=f),H2(u.return,f,g)}function CS(u,f,g,j,T,E){var B=u.memoizedState;B===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:j,tail:g,tailMode:T,treeForkCount:E}:(B.isBackwards=f,B.rendering=null,B.renderingStartTime=0,B.last=j,B.tail=g,B.tailMode=T,B.treeForkCount=E)}function _R(u,f,g){var j=f.pendingProps,T=j.revealOrder,E=j.tail;j=j.children;var B=Xr.current,te=(B&2)!==0;if(te?(B=B&1|2,f.flags|=128):B&=1,ne(Xr,B),Hs(u,f,j,g),j=Nn?lp:0,!te&&u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&CR(u,g,f);else if(u.tag===19)CR(u,g,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(T){case"forwards":for(g=f.child,T=null;g!==null;)u=g.alternate,u!==null&&jb(u)===null&&(T=g),g=g.sibling;g=T,g===null?(T=f.child,f.child=null):(T=g.sibling,g.sibling=null),CS(f,!1,T,g,E,j);break;case"backwards":case"unstable_legacy-backwards":for(g=null,T=f.child,f.child=null;T!==null;){if(u=T.alternate,u!==null&&jb(u)===null){f.child=T;break}u=T.sibling,T.sibling=g,g=T,T=u}CS(f,!0,g,null,E,j);break;case"together":CS(f,!1,null,null,void 0,j);break;default:f.memoizedState=null}return f.child}function fl(u,f,g){if(u!==null&&(f.dependencies=u.dependencies),Ec|=f.lanes,(g&f.childLanes)===0)if(u!==null){if(Dh(u,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(r(153));if(f.child!==null){for(u=f.child,g=ol(u,u.pendingProps),f.child=g,g.return=f;u.sibling!==null;)u=u.sibling,g=g.sibling=ol(u,u.pendingProps),g.return=f;g.sibling=null}return f.child}function _S(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&mb(u)))}function wae(u,f,g){switch(f.tag){case 3:$e(f,f.stateNode.containerInfo),Sc(f,rs,u.memoizedState.cache),zd();break;case 27:case 5:Ee(f);break;case 4:$e(f,f.stateNode.containerInfo);break;case 10:Sc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Q2(f),null;break;case 13:var j=f.memoizedState;if(j!==null)return j.dehydrated!==null?(Tc(f),f.flags|=128,null):(g&f.child.childLanes)!==0?kR(u,f,g):(Tc(f),u=fl(u,f,g),u!==null?u.sibling:null);Tc(f);break;case 19:var T=(u.flags&128)!==0;if(j=(g&f.childLanes)!==0,j||(Dh(u,f,g,!1),j=(g&f.childLanes)!==0),T){if(j)return _R(u,f,g);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ne(Xr,Xr.current),j)break;return null;case 22:return f.lanes=0,yR(u,f,g,f.pendingProps);case 24:Sc(f,rs,u.memoizedState.cache)}return fl(u,f,g)}function TR(u,f,g){if(u!==null)if(u.memoizedProps!==f.pendingProps)as=!0;else{if(!_S(u,g)&&(f.flags&128)===0)return as=!1,wae(u,f,g);as=(u.flags&131072)!==0}else as=!1,Nn&&(f.flags&1048576)!==0&&i6(f,lp,f.index);switch(f.lanes=0,f.tag){case 16:e:{var j=f.pendingProps;if(u=Ud(f.elementType),f.type=u,typeof u=="function")E2(u)?(j=Kd(u,j),f.tag=1,f=NR(null,f,u,j,g)):(f.tag=0,f=vS(null,f,u,j,g));else{if(u!=null){var T=u.$$typeof;if(T===M){f.tag=11,f=gR(null,f,u,j,g);break e}else if(T===O){f.tag=14,f=xR(null,f,u,j,g);break e}}throw f=U(u)||u,Error(r(306,f,""))}}return f;case 0:return vS(u,f,f.type,f.pendingProps,g);case 1:return j=f.type,T=Kd(j,f.pendingProps),NR(u,f,j,T,g);case 3:e:{if($e(f,f.stateNode.containerInfo),u===null)throw Error(r(387));j=f.pendingProps;var E=f.memoizedState;T=E.element,G2(u,f),gp(f,j,null,g);var B=f.memoizedState;if(j=B.cache,Sc(f,rs,j),j!==E.cache&&z2(f,[rs],g,!0),pp(),j=B.element,E.isDehydrated)if(E={element:j,isDehydrated:!1,cache:B.cache},f.updateQueue.baseState=E,f.memoizedState=E,f.flags&256){f=SR(u,f,j,g);break e}else if(j!==T){T=mi(Error(r(424)),f),cp(T),f=SR(u,f,j,g);break e}else{switch(u=f.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(vr=yi(u.firstChild),Fs=f,Nn=!0,jc=null,xi=!0,g=y6(f,null,j,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(zd(),j===T){f=fl(u,f,g);break e}Hs(u,f,j,g)}f=f.child}return f;case 26:return Db(u,f),u===null?(g=$L(f.type,null,f.pendingProps,null))?f.memoizedState=g:Nn||(g=f.type,u=f.pendingProps,j=Xb(we.current).createElement(g),j[Ct]=f,j[Bt]=u,zs(j,g,u),dn(j),f.stateNode=j):f.memoizedState=$L(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return Ee(f),u===null&&Nn&&(j=f.stateNode=LL(f.type,f.pendingProps,we.current),Fs=f,xi=!0,T=vr,Ic(f.type)?(ik=T,vr=yi(j.firstChild)):vr=T),Hs(u,f,f.pendingProps.children,g),Db(u,f),u===null&&(f.flags|=4194304),f.child;case 5:return u===null&&Nn&&((T=j=vr)&&(j=Jae(j,f.type,f.pendingProps,xi),j!==null?(f.stateNode=j,Fs=f,vr=yi(j.firstChild),xi=!1,T=!0):T=!1),T||Nc(f)),Ee(f),T=f.type,E=f.pendingProps,B=u!==null?u.memoizedProps:null,j=E.children,tk(T,E)?j=null:B!==null&&tk(T,B)&&(f.flags|=32),f.memoizedState!==null&&(T=eS(u,f,hae,null,null,g),Lp._currentValue=T),Db(u,f),Hs(u,f,j,g),f.child;case 6:return u===null&&Nn&&((u=g=vr)&&(g=Qae(g,f.pendingProps,xi),g!==null?(f.stateNode=g,Fs=f,vr=null,u=!0):u=!1),u||Nc(f)),null;case 13:return kR(u,f,g);case 4:return $e(f,f.stateNode.containerInfo),j=f.pendingProps,u===null?f.child=Gd(f,null,j,g):Hs(u,f,j,g),f.child;case 11:return gR(u,f,f.type,f.pendingProps,g);case 7:return Hs(u,f,f.pendingProps,g),f.child;case 8:return Hs(u,f,f.pendingProps.children,g),f.child;case 12:return Hs(u,f,f.pendingProps.children,g),f.child;case 10:return j=f.pendingProps,Sc(f,f.type,j.value),Hs(u,f,j.children,g),f.child;case 9:return T=f.type._context,j=f.pendingProps.children,Vd(f),T=$s(T),j=j(T),f.flags|=1,Hs(u,f,j,g),f.child;case 14:return xR(u,f,f.type,f.pendingProps,g);case 15:return bR(u,f,f.type,f.pendingProps,g);case 19:return _R(u,f,g);case 31:return vae(u,f,g);case 22:return yR(u,f,g,f.pendingProps);case 24:return Vd(f),j=$s(rs),u===null?(T=W2(),T===null&&(T=hr,E=B2(),T.pooledCache=E,E.refCount++,E!==null&&(T.pooledCacheLanes|=g),T=E),f.memoizedState={parent:j,cache:T},q2(f),Sc(f,rs,T)):((u.lanes&g)!==0&&(G2(u,f),gp(f,null,null,g),pp()),T=u.memoizedState,E=f.memoizedState,T.parent!==j?(T={parent:j,cache:j},f.memoizedState=T,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=T),Sc(f,rs,j)):(j=E.cache,Sc(f,rs,j),j!==T.cache&&z2(f,[rs],g,!0))),Hs(u,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function ml(u){u.flags|=4}function TS(u,f,g,j,T){if((f=(u.mode&32)!==0)&&(f=!1),f){if(u.flags|=16777216,(T&335544128)===T)if(u.stateNode.complete)u.flags|=8192;else if(tL())u.flags|=8192;else throw qd=bb,U2}else u.flags&=-16777217}function MR(u,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!WL(f))if(tL())u.flags|=8192;else throw qd=bb,U2}function Rb(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?Z():536870912,u.lanes|=f,Uh|=f)}function jp(u,f){if(!Nn)switch(u.tailMode){case"hidden":f=u.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var j=null;g!==null;)g.alternate!==null&&(j=g),g=g.sibling;j===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:j.sibling=null}}function wr(u){var f=u.alternate!==null&&u.alternate.child===u.child,g=0,j=0;if(f)for(var T=u.child;T!==null;)g|=T.lanes|T.childLanes,j|=T.subtreeFlags&65011712,j|=T.flags&65011712,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)g|=T.lanes|T.childLanes,j|=T.subtreeFlags,j|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=j,u.childLanes=g,f}function jae(u,f,g){var j=f.pendingProps;switch(L2(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(f),null;case 1:return wr(f),null;case 3:return g=f.stateNode,j=null,u!==null&&(j=u.memoizedState.cache),f.memoizedState.cache!==j&&(f.flags|=2048),dl(rs),be(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(Eh(f)?ml(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,F2())),wr(f),null;case 26:var T=f.type,E=f.memoizedState;return u===null?(ml(f),E!==null?(wr(f),MR(f,E)):(wr(f),TS(f,T,null,j,g))):E?E!==u.memoizedState?(ml(f),wr(f),MR(f,E)):(wr(f),f.flags&=-16777217):(u=u.memoizedProps,u!==j&&ml(f),wr(f),TS(f,T,u,j,g)),null;case 27:if(Ge(f),g=we.current,T=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==j&&ml(f);else{if(!j){if(f.stateNode===null)throw Error(r(166));return wr(f),null}u=fe.current,Eh(f)?l6(f):(u=LL(T,j,g),f.stateNode=u,ml(f))}return wr(f),null;case 5:if(Ge(f),T=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==j&&ml(f);else{if(!j){if(f.stateNode===null)throw Error(r(166));return wr(f),null}if(E=fe.current,Eh(f))l6(f);else{var B=Xb(we.current);switch(E){case 1:E=B.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:E=B.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":E=B.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":E=B.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":E=B.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof j.is=="string"?B.createElement("select",{is:j.is}):B.createElement("select"),j.multiple?E.multiple=!0:j.size&&(E.size=j.size);break;default:E=typeof j.is=="string"?B.createElement(T,{is:j.is}):B.createElement(T)}}E[Ct]=f,E[Bt]=j;e:for(B=f.child;B!==null;){if(B.tag===5||B.tag===6)E.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===f)break e;for(;B.sibling===null;){if(B.return===null||B.return===f)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}f.stateNode=E;e:switch(zs(E,T,j),T){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}j&&ml(f)}}return wr(f),TS(f,f.type,u===null?null:u.memoizedProps,f.pendingProps,g),null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==j&&ml(f);else{if(typeof j!="string"&&f.stateNode===null)throw Error(r(166));if(u=we.current,Eh(f)){if(u=f.stateNode,g=f.memoizedProps,j=null,T=Fs,T!==null)switch(T.tag){case 27:case 5:j=T.memoizedProps}u[Ct]=f,u=!!(u.nodeValue===g||j!==null&&j.suppressHydrationWarning===!0||kL(u.nodeValue,g)),u||Nc(f,!0)}else u=Xb(u).createTextNode(j),u[Ct]=f,f.stateNode=u}return wr(f),null;case 31:if(g=f.memoizedState,u===null||u.memoizedState!==null){if(j=Eh(f),g!==null){if(u===null){if(!j)throw Error(r(318));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(557));u[Ct]=f}else zd(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;wr(f),u=!1}else g=F2(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=g),u=!0;if(!u)return f.flags&256?(Xa(f),f):(Xa(f),null);if((f.flags&128)!==0)throw Error(r(558))}return wr(f),null;case 13:if(j=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(T=Eh(f),j!==null&&j.dehydrated!==null){if(u===null){if(!T)throw Error(r(318));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Ct]=f}else zd(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;wr(f),T=!1}else T=F2(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=T),T=!0;if(!T)return f.flags&256?(Xa(f),f):(Xa(f),null)}return Xa(f),(f.flags&128)!==0?(f.lanes=g,f):(g=j!==null,u=u!==null&&u.memoizedState!==null,g&&(j=f.child,T=null,j.alternate!==null&&j.alternate.memoizedState!==null&&j.alternate.memoizedState.cachePool!==null&&(T=j.alternate.memoizedState.cachePool.pool),E=null,j.memoizedState!==null&&j.memoizedState.cachePool!==null&&(E=j.memoizedState.cachePool.pool),E!==T&&(j.flags|=2048)),g!==u&&g&&(f.child.flags|=8192),Rb(f,f.updateQueue),wr(f),null);case 4:return be(),u===null&&XS(f.stateNode.containerInfo),wr(f),null;case 10:return dl(f.type),wr(f),null;case 19:if(J(Xr),j=f.memoizedState,j===null)return wr(f),null;if(T=(f.flags&128)!==0,E=j.rendering,E===null)if(T)jp(j,!1);else{if($r!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(E=jb(u),E!==null){for(f.flags|=128,jp(j,!1),u=E.updateQueue,f.updateQueue=u,Rb(f,u),f.subtreeFlags=0,u=g,g=f.child;g!==null;)r6(g,u),g=g.sibling;return ne(Xr,Xr.current&1|2),Nn&&ll(f,j.treeForkCount),f.child}u=u.sibling}j.tail!==null&&Ye()>Hb&&(f.flags|=128,T=!0,jp(j,!1),f.lanes=4194304)}else{if(!T)if(u=jb(E),u!==null){if(f.flags|=128,T=!0,u=u.updateQueue,f.updateQueue=u,Rb(f,u),jp(j,!0),j.tail===null&&j.tailMode==="hidden"&&!E.alternate&&!Nn)return wr(f),null}else 2*Ye()-j.renderingStartTime>Hb&&g!==536870912&&(f.flags|=128,T=!0,jp(j,!1),f.lanes=4194304);j.isBackwards?(E.sibling=f.child,f.child=E):(u=j.last,u!==null?u.sibling=E:f.child=E,j.last=E)}return j.tail!==null?(u=j.tail,j.rendering=u,j.tail=u.sibling,j.renderingStartTime=Ye(),u.sibling=null,g=Xr.current,ne(Xr,T?g&1|2:g&1),Nn&&ll(f,j.treeForkCount),u):(wr(f),null);case 22:case 23:return Xa(f),J2(),j=f.memoizedState!==null,u!==null?u.memoizedState!==null!==j&&(f.flags|=8192):j&&(f.flags|=8192),j?(g&536870912)!==0&&(f.flags&128)===0&&(wr(f),f.subtreeFlags&6&&(f.flags|=8192)):wr(f),g=f.updateQueue,g!==null&&Rb(f,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),j=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(j=f.memoizedState.cachePool.pool),j!==g&&(f.flags|=2048),u!==null&&J(Wd),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),dl(rs),wr(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function Nae(u,f){switch(L2(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return dl(rs),be(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return Ge(f),null;case 31:if(f.memoizedState!==null){if(Xa(f),f.alternate===null)throw Error(r(340));zd()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 13:if(Xa(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(r(340));zd()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return J(Xr),null;case 4:return be(),null;case 10:return dl(f.type),null;case 22:case 23:return Xa(f),J2(),u!==null&&J(Wd),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return dl(rs),null;case 25:return null;default:return null}}function AR(u,f){switch(L2(f),f.tag){case 3:dl(rs),be();break;case 26:case 27:case 5:Ge(f);break;case 4:be();break;case 31:f.memoizedState!==null&&Xa(f);break;case 13:Xa(f);break;case 19:J(Xr);break;case 10:dl(f.type);break;case 22:case 23:Xa(f),J2(),u!==null&&J(Wd);break;case 24:dl(rs)}}function Np(u,f){try{var g=f.updateQueue,j=g!==null?g.lastEffect:null;if(j!==null){var T=j.next;g=T;do{if((g.tag&u)===u){j=void 0;var E=g.create,B=g.inst;j=E(),B.destroy=j}g=g.next}while(g!==T)}}catch(te){er(f,f.return,te)}}function Ac(u,f,g){try{var j=f.updateQueue,T=j!==null?j.lastEffect:null;if(T!==null){var E=T.next;j=E;do{if((j.tag&u)===u){var B=j.inst,te=B.destroy;if(te!==void 0){B.destroy=void 0,T=f;var me=g,Ae=te;try{Ae()}catch(Ke){er(T,me,Ke)}}}j=j.next}while(j!==E)}}catch(Ke){er(f,f.return,Ke)}}function OR(u){var f=u.updateQueue;if(f!==null){var g=u.stateNode;try{w6(f,g)}catch(j){er(u,u.return,j)}}}function ER(u,f,g){g.props=Kd(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(j){er(u,f,j)}}function Sp(u,f){try{var g=u.ref;if(g!==null){switch(u.tag){case 26:case 27:case 5:var j=u.stateNode;break;case 30:j=u.stateNode;break;default:j=u.stateNode}typeof g=="function"?u.refCleanup=g(j):g.current=j}}catch(T){er(u,f,T)}}function vo(u,f){var g=u.ref,j=u.refCleanup;if(g!==null)if(typeof j=="function")try{j()}catch(T){er(u,f,T)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(T){er(u,f,T)}else g.current=null}function DR(u){var f=u.type,g=u.memoizedProps,j=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&j.focus();break e;case"img":g.src?j.src=g.src:g.srcSet&&(j.srcset=g.srcSet)}}catch(T){er(u,u.return,T)}}function MS(u,f,g){try{var j=u.stateNode;Uae(j,u.type,g,f),j[Bt]=f}catch(T){er(u,u.return,T)}}function PR(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Ic(u.type)||u.tag===4}function AS(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||PR(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Ic(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function OS(u,f,g){var j=u.tag;if(j===5||j===6)u=u.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(u,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(u),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=al));else if(j!==4&&(j===27&&Ic(u.type)&&(g=u.stateNode,f=null),u=u.child,u!==null))for(OS(u,f,g),u=u.sibling;u!==null;)OS(u,f,g),u=u.sibling}function Lb(u,f,g){var j=u.tag;if(j===5||j===6)u=u.stateNode,f?g.insertBefore(u,f):g.appendChild(u);else if(j!==4&&(j===27&&Ic(u.type)&&(g=u.stateNode),u=u.child,u!==null))for(Lb(u,f,g),u=u.sibling;u!==null;)Lb(u,f,g),u=u.sibling}function RR(u){var f=u.stateNode,g=u.memoizedProps;try{for(var j=u.type,T=f.attributes;T.length;)f.removeAttributeNode(T[0]);zs(f,j,g),f[Ct]=u,f[Bt]=g}catch(E){er(u,u.return,E)}}var pl=!1,is=!1,ES=!1,LR=typeof WeakSet=="function"?WeakSet:Set,Ss=null;function Sae(u,f){if(u=u.containerInfo,ZS=ry,u=Y3(u),k2(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var j=g.getSelection&&g.getSelection();if(j&&j.rangeCount!==0){g=j.anchorNode;var T=j.anchorOffset,E=j.focusNode;j=j.focusOffset;try{g.nodeType,E.nodeType}catch{g=null;break e}var B=0,te=-1,me=-1,Ae=0,Ke=0,tt=u,De=null;t:for(;;){for(var ze;tt!==g||T!==0&&tt.nodeType!==3||(te=B+T),tt!==E||j!==0&&tt.nodeType!==3||(me=B+j),tt.nodeType===3&&(B+=tt.nodeValue.length),(ze=tt.firstChild)!==null;)De=tt,tt=ze;for(;;){if(tt===u)break t;if(De===g&&++Ae===T&&(te=B),De===E&&++Ke===j&&(me=B),(ze=tt.nextSibling)!==null)break;tt=De,De=tt.parentNode}tt=ze}g=te===-1||me===-1?null:{start:te,end:me}}else g=null}g=g||{start:0,end:0}}else g=null;for(ek={focusedElem:u,selectionRange:g},ry=!1,Ss=f;Ss!==null;)if(f=Ss,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,Ss=u;else for(;Ss!==null;){switch(f=Ss,E=f.alternate,u=f.flags,f.tag){case 0:if((u&4)!==0&&(u=f.updateQueue,u=u!==null?u.events:null,u!==null))for(g=0;g<u.length;g++)T=u[g],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&E!==null){u=void 0,g=f,T=E.memoizedProps,E=E.memoizedState,j=g.stateNode;try{var Dt=Kd(g.type,T);u=j.getSnapshotBeforeUpdate(Dt,E),j.__reactInternalSnapshotBeforeUpdate=u}catch(Gt){er(g,g.return,Gt)}}break;case 3:if((u&1024)!==0){if(u=f.stateNode.containerInfo,g=u.nodeType,g===9)rk(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":rk(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=f.sibling,u!==null){u.return=f.return,Ss=u;break}Ss=f.return}}function IR(u,f,g){var j=g.flags;switch(g.tag){case 0:case 11:case 15:xl(u,g),j&4&&Np(5,g);break;case 1:if(xl(u,g),j&4)if(u=g.stateNode,f===null)try{u.componentDidMount()}catch(B){er(g,g.return,B)}else{var T=Kd(g.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(T,f,u.__reactInternalSnapshotBeforeUpdate)}catch(B){er(g,g.return,B)}}j&64&&OR(g),j&512&&Sp(g,g.return);break;case 3:if(xl(u,g),j&64&&(u=g.updateQueue,u!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{w6(u,f)}catch(B){er(g,g.return,B)}}break;case 27:f===null&&j&4&&RR(g);case 26:case 5:xl(u,g),f===null&&j&4&&DR(g),j&512&&Sp(g,g.return);break;case 12:xl(u,g);break;case 31:xl(u,g),j&4&&HR(u,g);break;case 13:xl(u,g),j&4&&zR(u,g),j&64&&(u=g.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(g=Dae.bind(null,g),Zae(u,g))));break;case 22:if(j=g.memoizedState!==null||pl,!j){f=f!==null&&f.memoizedState!==null||is,T=pl;var E=is;pl=j,(is=f)&&!E?bl(u,g,(g.subtreeFlags&8772)!==0):xl(u,g),pl=T,is=E}break;case 30:break;default:xl(u,g)}}function FR(u){var f=u.alternate;f!==null&&(u.alternate=null,FR(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&ot(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var _r=null,Da=!1;function gl(u,f,g){for(g=g.child;g!==null;)$R(u,f,g),g=g.sibling}function $R(u,f,g){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(mt,g)}catch{}switch(g.tag){case 26:is||vo(g,f),gl(u,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:is||vo(g,f);var j=_r,T=Da;Ic(g.type)&&(_r=g.stateNode,Da=!1),gl(u,f,g),Dp(g.stateNode),_r=j,Da=T;break;case 5:is||vo(g,f);case 6:if(j=_r,T=Da,_r=null,gl(u,f,g),_r=j,Da=T,_r!==null)if(Da)try{(_r.nodeType===9?_r.body:_r.nodeName==="HTML"?_r.ownerDocument.body:_r).removeChild(g.stateNode)}catch(E){er(g,f,E)}else try{_r.removeChild(g.stateNode)}catch(E){er(g,f,E)}break;case 18:_r!==null&&(Da?(u=_r,OL(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,g.stateNode),Zh(u)):OL(_r,g.stateNode));break;case 4:j=_r,T=Da,_r=g.stateNode.containerInfo,Da=!0,gl(u,f,g),_r=j,Da=T;break;case 0:case 11:case 14:case 15:Ac(2,g,f),is||Ac(4,g,f),gl(u,f,g);break;case 1:is||(vo(g,f),j=g.stateNode,typeof j.componentWillUnmount=="function"&&ER(g,f,j)),gl(u,f,g);break;case 21:gl(u,f,g);break;case 22:is=(j=is)||g.memoizedState!==null,gl(u,f,g),is=j;break;default:gl(u,f,g)}}function HR(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{Zh(u)}catch(g){er(f,f.return,g)}}}function zR(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Zh(u)}catch(g){er(f,f.return,g)}}function kae(u){switch(u.tag){case 31:case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new LR),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new LR),f;default:throw Error(r(435,u.tag))}}function Ib(u,f){var g=kae(u);f.forEach(function(j){if(!g.has(j)){g.add(j);var T=Pae.bind(null,u,j);j.then(T,T)}})}function Pa(u,f){var g=f.deletions;if(g!==null)for(var j=0;j<g.length;j++){var T=g[j],E=u,B=f,te=B;e:for(;te!==null;){switch(te.tag){case 27:if(Ic(te.type)){_r=te.stateNode,Da=!1;break e}break;case 5:_r=te.stateNode,Da=!1;break e;case 3:case 4:_r=te.stateNode.containerInfo,Da=!0;break e}te=te.return}if(_r===null)throw Error(r(160));$R(E,B,T),_r=null,Da=!1,E=T.alternate,E!==null&&(E.return=null),T.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)BR(f,u),f=f.sibling}var Gi=null;function BR(u,f){var g=u.alternate,j=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Pa(f,u),Ra(u),j&4&&(Ac(3,u,u.return),Np(3,u),Ac(5,u,u.return));break;case 1:Pa(f,u),Ra(u),j&512&&(is||g===null||vo(g,g.return)),j&64&&pl&&(u=u.updateQueue,u!==null&&(j=u.callbacks,j!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?j:g.concat(j))));break;case 26:var T=Gi;if(Pa(f,u),Ra(u),j&512&&(is||g===null||vo(g,g.return)),j&4){var E=g!==null?g.memoizedState:null;if(j=u.memoizedState,g===null)if(j===null)if(u.stateNode===null){e:{j=u.type,g=u.memoizedProps,T=T.ownerDocument||T;t:switch(j){case"title":E=T.getElementsByTagName("title")[0],(!E||E[he]||E[Ct]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=T.createElement(j),T.head.insertBefore(E,T.querySelector("head > title"))),zs(E,j,g),E[Ct]=u,dn(E),j=E;break e;case"link":var B=BL("link","href",T).get(j+(g.href||""));if(B){for(var te=0;te<B.length;te++)if(E=B[te],E.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&E.getAttribute("rel")===(g.rel==null?null:g.rel)&&E.getAttribute("title")===(g.title==null?null:g.title)&&E.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){B.splice(te,1);break t}}E=T.createElement(j),zs(E,j,g),T.head.appendChild(E);break;case"meta":if(B=BL("meta","content",T).get(j+(g.content||""))){for(te=0;te<B.length;te++)if(E=B[te],E.getAttribute("content")===(g.content==null?null:""+g.content)&&E.getAttribute("name")===(g.name==null?null:g.name)&&E.getAttribute("property")===(g.property==null?null:g.property)&&E.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&E.getAttribute("charset")===(g.charSet==null?null:g.charSet)){B.splice(te,1);break t}}E=T.createElement(j),zs(E,j,g),T.head.appendChild(E);break;default:throw Error(r(468,j))}E[Ct]=u,dn(E),j=E}u.stateNode=j}else VL(T,u.type,u.stateNode);else u.stateNode=zL(T,j,u.memoizedProps);else E!==j?(E===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):E.count--,j===null?VL(T,u.type,u.stateNode):zL(T,j,u.memoizedProps)):j===null&&u.stateNode!==null&&MS(u,u.memoizedProps,g.memoizedProps)}break;case 27:Pa(f,u),Ra(u),j&512&&(is||g===null||vo(g,g.return)),g!==null&&j&4&&MS(u,u.memoizedProps,g.memoizedProps);break;case 5:if(Pa(f,u),Ra(u),j&512&&(is||g===null||vo(g,g.return)),u.flags&32){T=u.stateNode;try{Ns(T,"")}catch(Dt){er(u,u.return,Dt)}}j&4&&u.stateNode!=null&&(T=u.memoizedProps,MS(u,T,g!==null?g.memoizedProps:T)),j&1024&&(ES=!0);break;case 6:if(Pa(f,u),Ra(u),j&4){if(u.stateNode===null)throw Error(r(162));j=u.memoizedProps,g=u.stateNode;try{g.nodeValue=j}catch(Dt){er(u,u.return,Dt)}}break;case 3:if(Zb=null,T=Gi,Gi=Jb(f.containerInfo),Pa(f,u),Gi=T,Ra(u),j&4&&g!==null&&g.memoizedState.isDehydrated)try{Zh(f.containerInfo)}catch(Dt){er(u,u.return,Dt)}ES&&(ES=!1,VR(u));break;case 4:j=Gi,Gi=Jb(u.stateNode.containerInfo),Pa(f,u),Ra(u),Gi=j;break;case 12:Pa(f,u),Ra(u);break;case 31:Pa(f,u),Ra(u),j&4&&(j=u.updateQueue,j!==null&&(u.updateQueue=null,Ib(u,j)));break;case 13:Pa(f,u),Ra(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&($b=Ye()),j&4&&(j=u.updateQueue,j!==null&&(u.updateQueue=null,Ib(u,j)));break;case 22:T=u.memoizedState!==null;var me=g!==null&&g.memoizedState!==null,Ae=pl,Ke=is;if(pl=Ae||T,is=Ke||me,Pa(f,u),is=Ke,pl=Ae,Ra(u),j&8192)e:for(f=u.stateNode,f._visibility=T?f._visibility&-2:f._visibility|1,T&&(g===null||me||pl||is||Xd(u)),g=null,f=u;;){if(f.tag===5||f.tag===26){if(g===null){me=g=f;try{if(E=me.stateNode,T)B=E.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{te=me.stateNode;var tt=me.memoizedProps.style,De=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;te.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Dt){er(me,me.return,Dt)}}}else if(f.tag===6){if(g===null){me=f;try{me.stateNode.nodeValue=T?"":me.memoizedProps}catch(Dt){er(me,me.return,Dt)}}}else if(f.tag===18){if(g===null){me=f;try{var ze=me.stateNode;T?EL(ze,!0):EL(me.stateNode,!1)}catch(Dt){er(me,me.return,Dt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}j&4&&(j=u.updateQueue,j!==null&&(g=j.retryQueue,g!==null&&(j.retryQueue=null,Ib(u,g))));break;case 19:Pa(f,u),Ra(u),j&4&&(j=u.updateQueue,j!==null&&(u.updateQueue=null,Ib(u,j)));break;case 30:break;case 21:break;default:Pa(f,u),Ra(u)}}function Ra(u){var f=u.flags;if(f&2){try{for(var g,j=u.return;j!==null;){if(PR(j)){g=j;break}j=j.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var T=g.stateNode,E=AS(u);Lb(u,E,T);break;case 5:var B=g.stateNode;g.flags&32&&(Ns(B,""),g.flags&=-33);var te=AS(u);Lb(u,te,B);break;case 3:case 4:var me=g.stateNode.containerInfo,Ae=AS(u);OS(u,Ae,me);break;default:throw Error(r(161))}}catch(Ke){er(u,u.return,Ke)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function VR(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;VR(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function xl(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)IR(u,f.alternate,f),f=f.sibling}function Xd(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:Ac(4,f,f.return),Xd(f);break;case 1:vo(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&ER(f,f.return,g),Xd(f);break;case 27:Dp(f.stateNode);case 26:case 5:vo(f,f.return),Xd(f);break;case 22:f.memoizedState===null&&Xd(f);break;case 30:Xd(f);break;default:Xd(f)}u=u.sibling}}function bl(u,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var j=f.alternate,T=u,E=f,B=E.flags;switch(E.tag){case 0:case 11:case 15:bl(T,E,g),Np(4,E);break;case 1:if(bl(T,E,g),j=E,T=j.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Ae){er(j,j.return,Ae)}if(j=E,T=j.updateQueue,T!==null){var te=j.stateNode;try{var me=T.shared.hiddenCallbacks;if(me!==null)for(T.shared.hiddenCallbacks=null,T=0;T<me.length;T++)v6(me[T],te)}catch(Ae){er(j,j.return,Ae)}}g&&B&64&&OR(E),Sp(E,E.return);break;case 27:RR(E);case 26:case 5:bl(T,E,g),g&&j===null&&B&4&&DR(E),Sp(E,E.return);break;case 12:bl(T,E,g);break;case 31:bl(T,E,g),g&&B&4&&HR(T,E);break;case 13:bl(T,E,g),g&&B&4&&zR(T,E);break;case 22:E.memoizedState===null&&bl(T,E,g),Sp(E,E.return);break;case 30:break;default:bl(T,E,g)}f=f.sibling}}function DS(u,f){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&dp(g))}function PS(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&dp(u))}function Yi(u,f,g,j){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)WR(u,f,g,j),f=f.sibling}function WR(u,f,g,j){var T=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(u,f,g,j),T&2048&&Np(9,f);break;case 1:Yi(u,f,g,j);break;case 3:Yi(u,f,g,j),T&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&dp(u)));break;case 12:if(T&2048){Yi(u,f,g,j),u=f.stateNode;try{var E=f.memoizedProps,B=E.id,te=E.onPostCommit;typeof te=="function"&&te(B,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(me){er(f,f.return,me)}}else Yi(u,f,g,j);break;case 31:Yi(u,f,g,j);break;case 13:Yi(u,f,g,j);break;case 23:break;case 22:E=f.stateNode,B=f.alternate,f.memoizedState!==null?E._visibility&2?Yi(u,f,g,j):kp(u,f):E._visibility&2?Yi(u,f,g,j):(E._visibility|=2,Bh(u,f,g,j,(f.subtreeFlags&10256)!==0||!1)),T&2048&&DS(B,f);break;case 24:Yi(u,f,g,j),T&2048&&PS(f.alternate,f);break;default:Yi(u,f,g,j)}}function Bh(u,f,g,j,T){for(T=T&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var E=u,B=f,te=g,me=j,Ae=B.flags;switch(B.tag){case 0:case 11:case 15:Bh(E,B,te,me,T),Np(8,B);break;case 23:break;case 22:var Ke=B.stateNode;B.memoizedState!==null?Ke._visibility&2?Bh(E,B,te,me,T):kp(E,B):(Ke._visibility|=2,Bh(E,B,te,me,T)),T&&Ae&2048&&DS(B.alternate,B);break;case 24:Bh(E,B,te,me,T),T&&Ae&2048&&PS(B.alternate,B);break;default:Bh(E,B,te,me,T)}f=f.sibling}}function kp(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=u,j=f,T=j.flags;switch(j.tag){case 22:kp(g,j),T&2048&&DS(j.alternate,j);break;case 24:kp(g,j),T&2048&&PS(j.alternate,j);break;default:kp(g,j)}f=f.sibling}}var Cp=8192;function Vh(u,f,g){if(u.subtreeFlags&Cp)for(u=u.child;u!==null;)UR(u,f,g),u=u.sibling}function UR(u,f,g){switch(u.tag){case 26:Vh(u,f,g),u.flags&Cp&&u.memoizedState!==null&&uie(g,Gi,u.memoizedState,u.memoizedProps);break;case 5:Vh(u,f,g);break;case 3:case 4:var j=Gi;Gi=Jb(u.stateNode.containerInfo),Vh(u,f,g),Gi=j;break;case 22:u.memoizedState===null&&(j=u.alternate,j!==null&&j.memoizedState!==null?(j=Cp,Cp=16777216,Vh(u,f,g),Cp=j):Vh(u,f,g));break;default:Vh(u,f,g)}}function qR(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function _p(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var j=f[g];Ss=j,YR(j,u)}qR(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)GR(u),u=u.sibling}function GR(u){switch(u.tag){case 0:case 11:case 15:_p(u),u.flags&2048&&Ac(9,u,u.return);break;case 3:_p(u);break;case 12:_p(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&2&&(u.return===null||u.return.tag!==13)?(f._visibility&=-3,Fb(u)):_p(u);break;default:_p(u)}}function Fb(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var j=f[g];Ss=j,YR(j,u)}qR(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:Ac(8,f,f.return),Fb(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,Fb(f));break;default:Fb(f)}u=u.sibling}}function YR(u,f){for(;Ss!==null;){var g=Ss;switch(g.tag){case 0:case 11:case 15:Ac(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var j=g.memoizedState.cachePool.pool;j!=null&&j.refCount++}break;case 24:dp(g.memoizedState.cache)}if(j=g.child,j!==null)j.return=g,Ss=j;else e:for(g=u;Ss!==null;){j=Ss;var T=j.sibling,E=j.return;if(FR(j),j===g){Ss=null;break e}if(T!==null){T.return=E,Ss=T;break e}Ss=E}}}var Cae={getCacheForType:function(u){var f=$s(rs),g=f.data.get(u);return g===void 0&&(g=u(),f.data.set(u,g)),g},cacheSignal:function(){return $s(rs).controller.signal}},_ae=typeof WeakMap=="function"?WeakMap:Map,Hn=0,hr=null,fn=null,bn=0,Zn=0,Ja=null,Oc=!1,Wh=!1,RS=!1,yl=0,$r=0,Ec=0,Jd=0,LS=0,Qa=0,Uh=0,Tp=null,La=null,IS=!1,$b=0,KR=0,Hb=1/0,zb=null,Dc=null,ps=0,Pc=null,qh=null,vl=0,FS=0,$S=null,XR=null,Mp=0,HS=null;function Za(){return(Hn&2)!==0&&bn!==0?bn&-bn:$.T!==null?qS():Jt()}function JR(){if(Qa===0)if((bn&536870912)===0||Nn){var u=ge;ge<<=1,(ge&3932160)===0&&(ge=262144),Qa=u}else Qa=536870912;return u=Ka.current,u!==null&&(u.flags|=32),Qa}function Ia(u,f,g){(u===hr&&(Zn===2||Zn===9)||u.cancelPendingCommit!==null)&&(Gh(u,0),Rc(u,bn,Qa,!1)),ke(u,g),((Hn&2)===0||u!==hr)&&(u===hr&&((Hn&2)===0&&(Jd|=g),$r===4&&Rc(u,bn,Qa,!1)),wo(u))}function QR(u,f,g){if((Hn&6)!==0)throw Error(r(327));var j=!g&&(f&127)===0&&(f&u.expiredLanes)===0||xe(u,f),T=j?Aae(u,f):BS(u,f,!0),E=j;do{if(T===0){Wh&&!j&&Rc(u,f,0,!1);break}else{if(g=u.current.alternate,E&&!Tae(g)){T=BS(u,f,!1),E=!1;continue}if(T===2){if(E=f,u.errorRecoveryDisabledLanes&E)var B=0;else B=u.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){f=B;e:{var te=u;T=Tp;var me=te.current.memoizedState.isDehydrated;if(me&&(Gh(te,B).flags|=256),B=BS(te,B,!1),B!==2){if(RS&&!me){te.errorRecoveryDisabledLanes|=E,Jd|=E,T=4;break e}E=La,La=T,E!==null&&(La===null?La=E:La.push.apply(La,E))}T=B}if(E=!1,T!==2)continue}}if(T===1){Gh(u,0),Rc(u,f,0,!0);break}e:{switch(j=u,E=T,E){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:Rc(j,f,Qa,!Oc);break e;case 2:La=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(T=$b+300-Ye(),10<T)){if(Rc(j,f,Qa,!Oc),le(j,0,!0)!==0)break e;vl=f,j.timeoutHandle=ML(ZR.bind(null,j,g,La,zb,IS,f,Qa,Jd,Uh,Oc,E,"Throttled",-0,0),T);break e}ZR(j,g,La,zb,IS,f,Qa,Jd,Uh,Oc,E,null,-0,0)}}break}while(!0);wo(u)}function ZR(u,f,g,j,T,E,B,te,me,Ae,Ke,tt,De,ze){if(u.timeoutHandle=-1,tt=f.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:al},UR(f,E,tt);var Dt=(E&62914560)===E?$b-Ye():(E&4194048)===E?KR-Ye():0;if(Dt=hie(tt,Dt),Dt!==null){vl=E,u.cancelPendingCommit=Dt(oL.bind(null,u,f,E,g,j,T,B,te,me,Ke,tt,null,De,ze)),Rc(u,E,B,!Ae);return}}oL(u,f,E,g,j,T,B,te,me)}function Tae(u){for(var f=u;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var j=0;j<g.length;j++){var T=g[j],E=T.getSnapshot;T=T.value;try{if(!Ga(E(),T))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Rc(u,f,g,j){f&=~LS,f&=~Jd,u.suspendedLanes|=f,u.pingedLanes&=~f,j&&(u.warmLanes|=f),j=u.expirationTimes;for(var T=f;0<T;){var E=31-ie(T),B=1<<E;j[E]=-1,T&=~B}g!==0&&dt(u,g,f)}function Bb(){return(Hn&6)===0?(Ap(0),!1):!0}function zS(){if(fn!==null){if(Zn===0)var u=fn.return;else u=fn,cl=Bd=null,rS(u),Ih=null,hp=0,u=fn;for(;u!==null;)AR(u.alternate,u),u=u.return;fn=null}}function Gh(u,f){var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,Yae(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),vl=0,zS(),hr=u,fn=g=ol(u.current,null),bn=f,Zn=0,Ja=null,Oc=!1,Wh=xe(u,f),RS=!1,Uh=Qa=LS=Jd=Ec=$r=0,La=Tp=null,IS=!1,(f&8)!==0&&(f|=f&32);var j=u.entangledLanes;if(j!==0)for(u=u.entanglements,j&=f;0<j;){var T=31-ie(j),E=1<<T;f|=u[T],j&=~E}return yl=f,cb(),g}function eL(u,f){sn=null,$.H=vp,f===Lh||f===xb?(f=g6(),Zn=3):f===U2?(f=g6(),Zn=4):Zn=f===yS?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Ja=f,fn===null&&($r=1,Ob(u,mi(f,u.current)))}function tL(){var u=Ka.current;return u===null?!0:(bn&4194048)===bn?bi===null:(bn&62914560)===bn||(bn&536870912)!==0?u===bi:!1}function nL(){var u=$.H;return $.H=vp,u===null?vp:u}function rL(){var u=$.A;return $.A=Cae,u}function Vb(){$r=4,Oc||(bn&4194048)!==bn&&Ka.current!==null||(Wh=!0),(Ec&134217727)===0&&(Jd&134217727)===0||hr===null||Rc(hr,bn,Qa,!1)}function BS(u,f,g){var j=Hn;Hn|=2;var T=nL(),E=rL();(hr!==u||bn!==f)&&(zb=null,Gh(u,f)),f=!1;var B=$r;e:do try{if(Zn!==0&&fn!==null){var te=fn,me=Ja;switch(Zn){case 8:zS(),B=6;break e;case 3:case 2:case 9:case 6:Ka.current===null&&(f=!0);var Ae=Zn;if(Zn=0,Ja=null,Yh(u,te,me,Ae),g&&Wh){B=0;break e}break;default:Ae=Zn,Zn=0,Ja=null,Yh(u,te,me,Ae)}}Mae(),B=$r;break}catch(Ke){eL(u,Ke)}while(!0);return f&&u.shellSuspendCounter++,cl=Bd=null,Hn=j,$.H=T,$.A=E,fn===null&&(hr=null,bn=0,cb()),B}function Mae(){for(;fn!==null;)sL(fn)}function Aae(u,f){var g=Hn;Hn|=2;var j=nL(),T=rL();hr!==u||bn!==f?(zb=null,Hb=Ye()+500,Gh(u,f)):Wh=xe(u,f);e:do try{if(Zn!==0&&fn!==null){f=fn;var E=Ja;t:switch(Zn){case 1:Zn=0,Ja=null,Yh(u,f,E,1);break;case 2:case 9:if(m6(E)){Zn=0,Ja=null,aL(f);break}f=function(){Zn!==2&&Zn!==9||hr!==u||(Zn=7),wo(u)},E.then(f,f);break e;case 3:Zn=7;break e;case 4:Zn=5;break e;case 7:m6(E)?(Zn=0,Ja=null,aL(f)):(Zn=0,Ja=null,Yh(u,f,E,7));break;case 5:var B=null;switch(fn.tag){case 26:B=fn.memoizedState;case 5:case 27:var te=fn;if(B?WL(B):te.stateNode.complete){Zn=0,Ja=null;var me=te.sibling;if(me!==null)fn=me;else{var Ae=te.return;Ae!==null?(fn=Ae,Wb(Ae)):fn=null}break t}}Zn=0,Ja=null,Yh(u,f,E,5);break;case 6:Zn=0,Ja=null,Yh(u,f,E,6);break;case 8:zS(),$r=6;break e;default:throw Error(r(462))}}Oae();break}catch(Ke){eL(u,Ke)}while(!0);return cl=Bd=null,$.H=j,$.A=T,Hn=g,fn!==null?0:(hr=null,bn=0,cb(),$r)}function Oae(){for(;fn!==null&&!Ve();)sL(fn)}function sL(u){var f=TR(u.alternate,u,yl);u.memoizedProps=u.pendingProps,f===null?Wb(u):fn=f}function aL(u){var f=u,g=f.alternate;switch(f.tag){case 15:case 0:f=jR(g,f,f.pendingProps,f.type,void 0,bn);break;case 11:f=jR(g,f,f.pendingProps,f.type.render,f.ref,bn);break;case 5:rS(f);default:AR(g,f),f=fn=r6(f,yl),f=TR(g,f,yl)}u.memoizedProps=u.pendingProps,f===null?Wb(u):fn=f}function Yh(u,f,g,j){cl=Bd=null,rS(f),Ih=null,hp=0;var T=f.return;try{if(yae(u,T,f,g,bn)){$r=1,Ob(u,mi(g,u.current)),fn=null;return}}catch(E){if(T!==null)throw fn=T,E;$r=1,Ob(u,mi(g,u.current)),fn=null;return}f.flags&32768?(Nn||j===1?u=!0:Wh||(bn&536870912)!==0?u=!1:(Oc=u=!0,(j===2||j===9||j===3||j===6)&&(j=Ka.current,j!==null&&j.tag===13&&(j.flags|=16384))),iL(f,u)):Wb(f)}function Wb(u){var f=u;do{if((f.flags&32768)!==0){iL(f,Oc);return}u=f.return;var g=jae(f.alternate,f,yl);if(g!==null){fn=g;return}if(f=f.sibling,f!==null){fn=f;return}fn=f=u}while(f!==null);$r===0&&($r=5)}function iL(u,f){do{var g=Nae(u.alternate,u);if(g!==null){g.flags&=32767,fn=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(u=u.sibling,u!==null)){fn=u;return}fn=u=g}while(u!==null);$r=6,fn=null}function oL(u,f,g,j,T,E,B,te,me){u.cancelPendingCommit=null;do Ub();while(ps!==0);if((Hn&6)!==0)throw Error(r(327));if(f!==null){if(f===u.current)throw Error(r(177));if(E=f.lanes|f.childLanes,E|=A2,Ze(u,g,E,B,te,me),u===hr&&(fn=hr=null,bn=0),qh=f,Pc=u,vl=g,FS=E,$S=T,XR=j,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,Rae(Pt,function(){return hL(),null})):(u.callbackNode=null,u.callbackPriority=0),j=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||j){j=$.T,$.T=null,T=R.p,R.p=2,B=Hn,Hn|=4;try{Sae(u,f,g)}finally{Hn=B,R.p=T,$.T=j}}ps=1,lL(),cL(),dL()}}function lL(){if(ps===1){ps=0;var u=Pc,f=qh,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=$.T,$.T=null;var j=R.p;R.p=2;var T=Hn;Hn|=4;try{BR(f,u);var E=ek,B=Y3(u.containerInfo),te=E.focusedElem,me=E.selectionRange;if(B!==te&&te&&te.ownerDocument&&G3(te.ownerDocument.documentElement,te)){if(me!==null&&k2(te)){var Ae=me.start,Ke=me.end;if(Ke===void 0&&(Ke=Ae),"selectionStart"in te)te.selectionStart=Ae,te.selectionEnd=Math.min(Ke,te.value.length);else{var tt=te.ownerDocument||document,De=tt&&tt.defaultView||window;if(De.getSelection){var ze=De.getSelection(),Dt=te.textContent.length,Gt=Math.min(me.start,Dt),lr=me.end===void 0?Gt:Math.min(me.end,Dt);!ze.extend&&Gt>lr&&(B=lr,lr=Gt,Gt=B);var Ce=q3(te,Gt),ye=q3(te,lr);if(Ce&&ye&&(ze.rangeCount!==1||ze.anchorNode!==Ce.node||ze.anchorOffset!==Ce.offset||ze.focusNode!==ye.node||ze.focusOffset!==ye.offset)){var Te=tt.createRange();Te.setStart(Ce.node,Ce.offset),ze.removeAllRanges(),Gt>lr?(ze.addRange(Te),ze.extend(ye.node,ye.offset)):(Te.setEnd(ye.node,ye.offset),ze.addRange(Te))}}}}for(tt=[],ze=te;ze=ze.parentNode;)ze.nodeType===1&&tt.push({element:ze,left:ze.scrollLeft,top:ze.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<tt.length;te++){var et=tt[te];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}ry=!!ZS,ek=ZS=null}finally{Hn=T,R.p=j,$.T=g}}u.current=f,ps=2}}function cL(){if(ps===2){ps=0;var u=Pc,f=qh,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=$.T,$.T=null;var j=R.p;R.p=2;var T=Hn;Hn|=4;try{IR(u,f.alternate,f)}finally{Hn=T,R.p=j,$.T=g}}ps=3}}function dL(){if(ps===4||ps===3){ps=0,Ue();var u=Pc,f=qh,g=vl,j=XR;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ps=5:(ps=0,qh=Pc=null,uL(u,u.pendingLanes));var T=u.pendingLanes;if(T===0&&(Dc=null),gt(g),f=f.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(mt,f,void 0,(f.current.flags&128)===128)}catch{}if(j!==null){f=$.T,T=R.p,R.p=2,$.T=null;try{for(var E=u.onRecoverableError,B=0;B<j.length;B++){var te=j[B];E(te.value,{componentStack:te.stack})}}finally{$.T=f,R.p=T}}(vl&3)!==0&&Ub(),wo(u),T=u.pendingLanes,(g&261930)!==0&&(T&42)!==0?u===HS?Mp++:(Mp=0,HS=u):Mp=0,Ap(0)}}function uL(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,dp(f)))}function Ub(){return lL(),cL(),dL(),hL()}function hL(){if(ps!==5)return!1;var u=Pc,f=FS;FS=0;var g=gt(vl),j=$.T,T=R.p;try{R.p=32>g?32:g,$.T=null,g=$S,$S=null;var E=Pc,B=vl;if(ps=0,qh=Pc=null,vl=0,(Hn&6)!==0)throw Error(r(331));var te=Hn;if(Hn|=4,GR(E.current),WR(E,E.current,B,g),Hn=te,Ap(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(mt,E)}catch{}return!0}finally{R.p=T,$.T=j,uL(u,f)}}function fL(u,f,g){f=mi(g,f),f=bS(u.stateNode,f,2),u=_c(u,f,2),u!==null&&(ke(u,2),wo(u))}function er(u,f,g){if(u.tag===3)fL(u,u,g);else for(;f!==null;){if(f.tag===3){fL(f,u,g);break}else if(f.tag===1){var j=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Dc===null||!Dc.has(j))){u=mi(g,u),g=mR(2),j=_c(f,g,2),j!==null&&(pR(g,j,f,u),ke(j,2),wo(j));break}}f=f.return}}function VS(u,f,g){var j=u.pingCache;if(j===null){j=u.pingCache=new _ae;var T=new Set;j.set(f,T)}else T=j.get(f),T===void 0&&(T=new Set,j.set(f,T));T.has(g)||(RS=!0,T.add(g),u=Eae.bind(null,u,f,g),f.then(u,u))}function Eae(u,f,g){var j=u.pingCache;j!==null&&j.delete(f),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,hr===u&&(bn&g)===g&&($r===4||$r===3&&(bn&62914560)===bn&&300>Ye()-$b?(Hn&2)===0&&Gh(u,0):LS|=g,Uh===bn&&(Uh=0)),wo(u)}function mL(u,f){f===0&&(f=Z()),u=$d(u,f),u!==null&&(ke(u,f),wo(u))}function Dae(u){var f=u.memoizedState,g=0;f!==null&&(g=f.retryLane),mL(u,g)}function Pae(u,f){var g=0;switch(u.tag){case 31:case 13:var j=u.stateNode,T=u.memoizedState;T!==null&&(g=T.retryLane);break;case 19:j=u.stateNode;break;case 22:j=u.stateNode._retryCache;break;default:throw Error(r(314))}j!==null&&j.delete(f),mL(u,g)}function Rae(u,f){return st(u,f)}var qb=null,Kh=null,WS=!1,Gb=!1,US=!1,Lc=0;function wo(u){u!==Kh&&u.next===null&&(Kh===null?qb=Kh=u:Kh=Kh.next=u),Gb=!0,WS||(WS=!0,Iae())}function Ap(u,f){if(!US&&Gb){US=!0;do for(var g=!1,j=qb;j!==null;){if(u!==0){var T=j.pendingLanes;if(T===0)var E=0;else{var B=j.suspendedLanes,te=j.pingedLanes;E=(1<<31-ie(42|u)+1)-1,E&=T&~(B&~te),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(g=!0,bL(j,E))}else E=bn,E=le(j,j===hr?E:0,j.cancelPendingCommit!==null||j.timeoutHandle!==-1),(E&3)===0||xe(j,E)||(g=!0,bL(j,E));j=j.next}while(g);US=!1}}function Lae(){pL()}function pL(){Gb=WS=!1;var u=0;Lc!==0&&Gae()&&(u=Lc);for(var f=Ye(),g=null,j=qb;j!==null;){var T=j.next,E=gL(j,f);E===0?(j.next=null,g===null?qb=T:g.next=T,T===null&&(Kh=g)):(g=j,(u!==0||(E&3)!==0)&&(Gb=!0)),j=T}ps!==0&&ps!==5||Ap(u),Lc!==0&&(Lc=0)}function gL(u,f){for(var g=u.suspendedLanes,j=u.pingedLanes,T=u.expirationTimes,E=u.pendingLanes&-62914561;0<E;){var B=31-ie(E),te=1<<B,me=T[B];me===-1?((te&g)===0||(te&j)!==0)&&(T[B]=Me(te,f)):me<=f&&(u.expiredLanes|=te),E&=~te}if(f=hr,g=bn,g=le(u,u===f?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),j=u.callbackNode,g===0||u===f&&(Zn===2||Zn===9)||u.cancelPendingCommit!==null)return j!==null&&j!==null&&rt(j),u.callbackNode=null,u.callbackPriority=0;if((g&3)===0||xe(u,g)){if(f=g&-g,f===u.callbackPriority)return f;switch(j!==null&&rt(j),gt(g)){case 2:case 8:g=Xe;break;case 32:g=Pt;break;case 268435456:g=bt;break;default:g=Pt}return j=xL.bind(null,u),g=st(g,j),u.callbackPriority=f,u.callbackNode=g,f}return j!==null&&j!==null&&rt(j),u.callbackPriority=2,u.callbackNode=null,2}function xL(u,f){if(ps!==0&&ps!==5)return u.callbackNode=null,u.callbackPriority=0,null;var g=u.callbackNode;if(Ub()&&u.callbackNode!==g)return null;var j=bn;return j=le(u,u===hr?j:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),j===0?null:(QR(u,j,f),gL(u,Ye()),u.callbackNode!=null&&u.callbackNode===g?xL.bind(null,u):null)}function bL(u,f){if(Ub())return null;QR(u,f,!0)}function Iae(){Kae(function(){(Hn&6)!==0?st(Oe,Lae):pL()})}function qS(){if(Lc===0){var u=Ph;u===0&&(u=Nt,Nt<<=1,(Nt&261888)===0&&(Nt=256)),Lc=u}return Lc}function yL(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:tb(""+u)}function vL(u,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,u.id&&g.setAttribute("form",u.id),f.parentNode.insertBefore(g,f),u=new FormData(u),g.parentNode.removeChild(g),u}function Fae(u,f,g,j,T){if(f==="submit"&&g&&g.stateNode===T){var E=yL((T[Bt]||null).action),B=j.submitter;B&&(f=(f=B[Bt]||null)?yL(f.formAction):B.getAttribute("formAction"),f!==null&&(E=f,B=null));var te=new ab("action","action",null,j,T);u.push({event:te,listeners:[{instance:null,listener:function(){if(j.defaultPrevented){if(Lc!==0){var me=B?vL(T,B):new FormData(T);hS(g,{pending:!0,data:me,method:T.method,action:E},null,me)}}else typeof E=="function"&&(te.preventDefault(),me=B?vL(T,B):new FormData(T),hS(g,{pending:!0,data:me,method:T.method,action:E},E,me))},currentTarget:T}]})}}for(var GS=0;GS<M2.length;GS++){var YS=M2[GS],$ae=YS.toLowerCase(),Hae=YS[0].toUpperCase()+YS.slice(1);qi($ae,"on"+Hae)}qi(J3,"onAnimationEnd"),qi(Q3,"onAnimationIteration"),qi(Z3,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(nae,"onTransitionRun"),qi(rae,"onTransitionStart"),qi(sae,"onTransitionCancel"),qi(e6,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Op="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zae=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Op));function wL(u,f){f=(f&4)!==0;for(var g=0;g<u.length;g++){var j=u[g],T=j.event;j=j.listeners;e:{var E=void 0;if(f)for(var B=j.length-1;0<=B;B--){var te=j[B],me=te.instance,Ae=te.currentTarget;if(te=te.listener,me!==E&&T.isPropagationStopped())break e;E=te,T.currentTarget=Ae;try{E(T)}catch(Ke){lb(Ke)}T.currentTarget=null,E=me}else for(B=0;B<j.length;B++){if(te=j[B],me=te.instance,Ae=te.currentTarget,te=te.listener,me!==E&&T.isPropagationStopped())break e;E=te,T.currentTarget=Ae;try{E(T)}catch(Ke){lb(Ke)}T.currentTarget=null,E=me}}}}function mn(u,f){var g=f[$n];g===void 0&&(g=f[$n]=new Set);var j=u+"__bubble";g.has(j)||(jL(f,u,2,!1),g.add(j))}function KS(u,f,g){var j=0;f&&(j|=4),jL(g,u,j,f)}var Yb="_reactListening"+Math.random().toString(36).slice(2);function XS(u){if(!u[Yb]){u[Yb]=!0,Is.forEach(function(g){g!=="selectionchange"&&(zae.has(g)||KS(g,!1,u),KS(g,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[Yb]||(f[Yb]=!0,KS("selectionchange",!1,f))}}function jL(u,f,g,j){switch(JL(f)){case 2:var T=pie;break;case 8:T=gie;break;default:T=uk}g=T.bind(null,f,g,u),T=void 0,!g2||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),j?T!==void 0?u.addEventListener(f,g,{capture:!0,passive:T}):u.addEventListener(f,g,!0):T!==void 0?u.addEventListener(f,g,{passive:T}):u.addEventListener(f,g,!1)}function JS(u,f,g,j,T){var E=j;if((f&1)===0&&(f&2)===0&&j!==null)e:for(;;){if(j===null)return;var B=j.tag;if(B===3||B===4){var te=j.stateNode.containerInfo;if(te===T)break;if(B===4)for(B=j.return;B!==null;){var me=B.tag;if((me===3||me===4)&&B.stateNode.containerInfo===T)return;B=B.return}for(;te!==null;){if(B=wt(te),B===null)return;if(me=B.tag,me===5||me===6||me===26||me===27){j=E=B;continue e}te=te.parentNode}}j=j.return}_3(function(){var Ae=E,Ke=m2(g),tt=[];e:{var De=t6.get(u);if(De!==void 0){var ze=ab,Dt=u;switch(u){case"keypress":if(rb(g)===0)break e;case"keydown":case"keyup":ze=Pse;break;case"focusin":Dt="focus",ze=v2;break;case"focusout":Dt="blur",ze=v2;break;case"beforeblur":case"afterblur":ze=v2;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=A3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=jse;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=Ise;break;case J3:case Q3:case Z3:ze=kse;break;case e6:ze=$se;break;case"scroll":case"scrollend":ze=vse;break;case"wheel":ze=zse;break;case"copy":case"cut":case"paste":ze=_se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=E3;break;case"toggle":case"beforetoggle":ze=Vse}var Gt=(f&4)!==0,lr=!Gt&&(u==="scroll"||u==="scrollend"),Ce=Gt?De!==null?De+"Capture":null:De;Gt=[];for(var ye=Ae,Te;ye!==null;){var et=ye;if(Te=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||Te===null||Ce===null||(et=Zm(ye,Ce),et!=null&&Gt.push(Ep(ye,et,Te))),lr)break;ye=ye.return}0<Gt.length&&(De=new ze(De,Dt,null,g,Ke),tt.push({event:De,listeners:Gt}))}}if((f&7)===0){e:{if(De=u==="mouseover"||u==="pointerover",ze=u==="mouseout"||u==="pointerout",De&&g!==f2&&(Dt=g.relatedTarget||g.fromElement)&&(wt(Dt)||Dt[Tt]))break e;if((ze||De)&&(De=Ke.window===Ke?Ke:(De=Ke.ownerDocument)?De.defaultView||De.parentWindow:window,ze?(Dt=g.relatedTarget||g.toElement,ze=Ae,Dt=Dt?wt(Dt):null,Dt!==null&&(lr=i(Dt),Gt=Dt.tag,Dt!==lr||Gt!==5&&Gt!==27&&Gt!==6)&&(Dt=null)):(ze=null,Dt=Ae),ze!==Dt)){if(Gt=A3,et="onMouseLeave",Ce="onMouseEnter",ye="mouse",(u==="pointerout"||u==="pointerover")&&(Gt=E3,et="onPointerLeave",Ce="onPointerEnter",ye="pointer"),lr=ze==null?De:ur(ze),Te=Dt==null?De:ur(Dt),De=new Gt(et,ye+"leave",ze,g,Ke),De.target=lr,De.relatedTarget=Te,et=null,wt(Ke)===Ae&&(Gt=new Gt(Ce,ye+"enter",Dt,g,Ke),Gt.target=Te,Gt.relatedTarget=lr,et=Gt),lr=et,ze&&Dt)t:{for(Gt=Bae,Ce=ze,ye=Dt,Te=0,et=Ce;et;et=Gt(et))Te++;et=0;for(var $t=ye;$t;$t=Gt($t))et++;for(;0<Te-et;)Ce=Gt(Ce),Te--;for(;0<et-Te;)ye=Gt(ye),et--;for(;Te--;){if(Ce===ye||ye!==null&&Ce===ye.alternate){Gt=Ce;break t}Ce=Gt(Ce),ye=Gt(ye)}Gt=null}else Gt=null;ze!==null&&NL(tt,De,ze,Gt,!1),Dt!==null&&lr!==null&&NL(tt,lr,Dt,Gt,!0)}}e:{if(De=Ae?ur(Ae):window,ze=De.nodeName&&De.nodeName.toLowerCase(),ze==="select"||ze==="input"&&De.type==="file")var On=H3;else if(F3(De))if(z3)On=Zse;else{On=Jse;var Rt=Xse}else ze=De.nodeName,!ze||ze.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Ae&&eb(Ae.elementType)&&(On=H3):On=Qse;if(On&&(On=On(u,Ae))){$3(tt,On,g,Ke);break e}Rt&&Rt(u,De,Ae),u==="focusout"&&Ae&&De.type==="number"&&Ae.memoizedProps.value!=null&&ue(De,"number",De.value)}switch(Rt=Ae?ur(Ae):window,u){case"focusin":(F3(Rt)||Rt.contentEditable==="true")&&(Ch=Rt,C2=Ae,op=null);break;case"focusout":op=C2=Ch=null;break;case"mousedown":_2=!0;break;case"contextmenu":case"mouseup":case"dragend":_2=!1,K3(tt,g,Ke);break;case"selectionchange":if(tae)break;case"keydown":case"keyup":K3(tt,g,Ke)}var an;if(j2)e:{switch(u){case"compositionstart":var yn="onCompositionStart";break e;case"compositionend":yn="onCompositionEnd";break e;case"compositionupdate":yn="onCompositionUpdate";break e}yn=void 0}else kh?L3(u,g)&&(yn="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(yn="onCompositionStart");yn&&(D3&&g.locale!=="ko"&&(kh||yn!=="onCompositionStart"?yn==="onCompositionEnd"&&kh&&(an=T3()):(vc=Ke,x2="value"in vc?vc.value:vc.textContent,kh=!0)),Rt=Kb(Ae,yn),0<Rt.length&&(yn=new O3(yn,u,null,g,Ke),tt.push({event:yn,listeners:Rt}),an?yn.data=an:(an=I3(g),an!==null&&(yn.data=an)))),(an=Use?qse(u,g):Gse(u,g))&&(yn=Kb(Ae,"onBeforeInput"),0<yn.length&&(Rt=new O3("onBeforeInput","beforeinput",null,g,Ke),tt.push({event:Rt,listeners:yn}),Rt.data=an)),Fae(tt,u,Ae,g,Ke)}wL(tt,f)})}function Ep(u,f,g){return{instance:u,listener:f,currentTarget:g}}function Kb(u,f){for(var g=f+"Capture",j=[];u!==null;){var T=u,E=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||E===null||(T=Zm(u,g),T!=null&&j.unshift(Ep(u,T,E)),T=Zm(u,f),T!=null&&j.push(Ep(u,T,E))),u.tag===3)return j;u=u.return}return[]}function Bae(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function NL(u,f,g,j,T){for(var E=f._reactName,B=[];g!==null&&g!==j;){var te=g,me=te.alternate,Ae=te.stateNode;if(te=te.tag,me!==null&&me===j)break;te!==5&&te!==26&&te!==27||Ae===null||(me=Ae,T?(Ae=Zm(g,E),Ae!=null&&B.unshift(Ep(g,Ae,me))):T||(Ae=Zm(g,E),Ae!=null&&B.push(Ep(g,Ae,me)))),g=g.return}B.length!==0&&u.push({event:f,listeners:B})}var Vae=/\r\n?/g,Wae=/\u0000|\uFFFD/g;function SL(u){return(typeof u=="string"?u:""+u).replace(Vae,`
`).replace(Wae,"")}function kL(u,f){return f=SL(f),SL(u)===f}function or(u,f,g,j,T,E){switch(g){case"children":typeof j=="string"?f==="body"||f==="textarea"&&j===""||Ns(u,j):(typeof j=="number"||typeof j=="bigint")&&f!=="body"&&Ns(u,""+j);break;case"className":wh(u,"class",j);break;case"tabIndex":wh(u,"tabindex",j);break;case"dir":case"role":case"viewBox":case"width":case"height":wh(u,g,j);break;case"style":xo(u,j,E);break;case"data":if(f!=="object"){wh(u,"data",j);break}case"src":case"href":if(j===""&&(f!=="a"||g!=="href")){u.removeAttribute(g);break}if(j==null||typeof j=="function"||typeof j=="symbol"||typeof j=="boolean"){u.removeAttribute(g);break}j=tb(""+j),u.setAttribute(g,j);break;case"action":case"formAction":if(typeof j=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(g==="formAction"?(f!=="input"&&or(u,f,"name",T.name,T,null),or(u,f,"formEncType",T.formEncType,T,null),or(u,f,"formMethod",T.formMethod,T,null),or(u,f,"formTarget",T.formTarget,T,null)):(or(u,f,"encType",T.encType,T,null),or(u,f,"method",T.method,T,null),or(u,f,"target",T.target,T,null)));if(j==null||typeof j=="symbol"||typeof j=="boolean"){u.removeAttribute(g);break}j=tb(""+j),u.setAttribute(g,j);break;case"onClick":j!=null&&(u.onclick=al);break;case"onScroll":j!=null&&mn("scroll",u);break;case"onScrollEnd":j!=null&&mn("scrollend",u);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(r(61));if(g=j.__html,g!=null){if(T.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"multiple":u.multiple=j&&typeof j!="function"&&typeof j!="symbol";break;case"muted":u.muted=j&&typeof j!="function"&&typeof j!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(j==null||typeof j=="function"||typeof j=="boolean"||typeof j=="symbol"){u.removeAttribute("xlink:href");break}g=tb(""+j),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":j!=null&&typeof j!="function"&&typeof j!="symbol"?u.setAttribute(g,""+j):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":j&&typeof j!="function"&&typeof j!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":j===!0?u.setAttribute(g,""):j!==!1&&j!=null&&typeof j!="function"&&typeof j!="symbol"?u.setAttribute(g,j):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":j!=null&&typeof j!="function"&&typeof j!="symbol"&&!isNaN(j)&&1<=j?u.setAttribute(g,j):u.removeAttribute(g);break;case"rowSpan":case"start":j==null||typeof j=="function"||typeof j=="symbol"||isNaN(j)?u.removeAttribute(g):u.setAttribute(g,j);break;case"popover":mn("beforetoggle",u),mn("toggle",u),vh(u,"popover",j);break;case"xlinkActuate":Wi(u,"http://www.w3.org/1999/xlink","xlink:actuate",j);break;case"xlinkArcrole":Wi(u,"http://www.w3.org/1999/xlink","xlink:arcrole",j);break;case"xlinkRole":Wi(u,"http://www.w3.org/1999/xlink","xlink:role",j);break;case"xlinkShow":Wi(u,"http://www.w3.org/1999/xlink","xlink:show",j);break;case"xlinkTitle":Wi(u,"http://www.w3.org/1999/xlink","xlink:title",j);break;case"xlinkType":Wi(u,"http://www.w3.org/1999/xlink","xlink:type",j);break;case"xmlBase":Wi(u,"http://www.w3.org/XML/1998/namespace","xml:base",j);break;case"xmlLang":Wi(u,"http://www.w3.org/XML/1998/namespace","xml:lang",j);break;case"xmlSpace":Wi(u,"http://www.w3.org/XML/1998/namespace","xml:space",j);break;case"is":vh(u,"is",j);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=bse.get(g)||g,vh(u,g,j))}}function QS(u,f,g,j,T,E){switch(g){case"style":xo(u,j,E);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(r(61));if(g=j.__html,g!=null){if(T.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"children":typeof j=="string"?Ns(u,j):(typeof j=="number"||typeof j=="bigint")&&Ns(u,""+j);break;case"onScroll":j!=null&&mn("scroll",u);break;case"onScrollEnd":j!=null&&mn("scrollend",u);break;case"onClick":j!=null&&(u.onclick=al);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ma.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(T=g.endsWith("Capture"),f=g.slice(2,T?g.length-7:void 0),E=u[Bt]||null,E=E!=null?E[g]:null,typeof E=="function"&&u.removeEventListener(f,E,T),typeof j=="function")){typeof E!="function"&&E!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(f,j,T);break e}g in u?u[g]=j:j===!0?u.setAttribute(g,""):vh(u,g,j)}}}function zs(u,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mn("error",u),mn("load",u);var j=!1,T=!1,E;for(E in g)if(g.hasOwnProperty(E)){var B=g[E];if(B!=null)switch(E){case"src":j=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:or(u,f,E,B,g,null)}}T&&or(u,f,"srcSet",g.srcSet,g,null),j&&or(u,f,"src",g.src,g,null);return;case"input":mn("invalid",u);var te=E=B=T=null,me=null,Ae=null;for(j in g)if(g.hasOwnProperty(j)){var Ke=g[j];if(Ke!=null)switch(j){case"name":T=Ke;break;case"type":B=Ke;break;case"checked":me=Ke;break;case"defaultChecked":Ae=Ke;break;case"value":E=Ke;break;case"defaultValue":te=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(r(137,f));break;default:or(u,f,j,Ke,g,null)}}G(u,E,te,me,Ae,B,T,!1);return;case"select":mn("invalid",u),j=B=E=null;for(T in g)if(g.hasOwnProperty(T)&&(te=g[T],te!=null))switch(T){case"value":E=te;break;case"defaultValue":B=te;break;case"multiple":j=te;default:or(u,f,T,te,g,null)}f=E,g=B,u.multiple=!!j,f!=null?pt(u,!!j,f,!1):g!=null&&pt(u,!!j,g,!0);return;case"textarea":mn("invalid",u),E=T=j=null;for(B in g)if(g.hasOwnProperty(B)&&(te=g[B],te!=null))switch(B){case"value":j=te;break;case"defaultValue":T=te;break;case"children":E=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(91));break;default:or(u,f,B,te,g,null)}kn(u,j,T,E);return;case"option":for(me in g)if(g.hasOwnProperty(me)&&(j=g[me],j!=null))switch(me){case"selected":u.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:or(u,f,me,j,g,null)}return;case"dialog":mn("beforetoggle",u),mn("toggle",u),mn("cancel",u),mn("close",u);break;case"iframe":case"object":mn("load",u);break;case"video":case"audio":for(j=0;j<Op.length;j++)mn(Op[j],u);break;case"image":mn("error",u),mn("load",u);break;case"details":mn("toggle",u);break;case"embed":case"source":case"link":mn("error",u),mn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in g)if(g.hasOwnProperty(Ae)&&(j=g[Ae],j!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:or(u,f,Ae,j,g,null)}return;default:if(eb(f)){for(Ke in g)g.hasOwnProperty(Ke)&&(j=g[Ke],j!==void 0&&QS(u,f,Ke,j,g,void 0));return}}for(te in g)g.hasOwnProperty(te)&&(j=g[te],j!=null&&or(u,f,te,j,g,null))}function Uae(u,f,g,j){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,E=null,B=null,te=null,me=null,Ae=null,Ke=null;for(ze in g){var tt=g[ze];if(g.hasOwnProperty(ze)&&tt!=null)switch(ze){case"checked":break;case"value":break;case"defaultValue":me=tt;default:j.hasOwnProperty(ze)||or(u,f,ze,null,j,tt)}}for(var De in j){var ze=j[De];if(tt=g[De],j.hasOwnProperty(De)&&(ze!=null||tt!=null))switch(De){case"type":E=ze;break;case"name":T=ze;break;case"checked":Ae=ze;break;case"defaultChecked":Ke=ze;break;case"value":B=ze;break;case"defaultValue":te=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,f));break;default:ze!==tt&&or(u,f,De,ze,j,tt)}}K(u,B,te,me,Ae,Ke,E,T);return;case"select":ze=B=te=De=null;for(E in g)if(me=g[E],g.hasOwnProperty(E)&&me!=null)switch(E){case"value":break;case"multiple":ze=me;default:j.hasOwnProperty(E)||or(u,f,E,null,j,me)}for(T in j)if(E=j[T],me=g[T],j.hasOwnProperty(T)&&(E!=null||me!=null))switch(T){case"value":De=E;break;case"defaultValue":te=E;break;case"multiple":B=E;default:E!==me&&or(u,f,T,E,j,me)}f=te,g=B,j=ze,De!=null?pt(u,!!g,De,!1):!!j!=!!g&&(f!=null?pt(u,!!g,f,!0):pt(u,!!g,g?[]:"",!1));return;case"textarea":ze=De=null;for(te in g)if(T=g[te],g.hasOwnProperty(te)&&T!=null&&!j.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:or(u,f,te,null,j,T)}for(B in j)if(T=j[B],E=g[B],j.hasOwnProperty(B)&&(T!=null||E!=null))switch(B){case"value":De=T;break;case"defaultValue":ze=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==E&&or(u,f,B,T,j,E)}un(u,De,ze);return;case"option":for(var Dt in g)if(De=g[Dt],g.hasOwnProperty(Dt)&&De!=null&&!j.hasOwnProperty(Dt))switch(Dt){case"selected":u.selected=!1;break;default:or(u,f,Dt,null,j,De)}for(me in j)if(De=j[me],ze=g[me],j.hasOwnProperty(me)&&De!==ze&&(De!=null||ze!=null))switch(me){case"selected":u.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:or(u,f,me,De,j,ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in g)De=g[Gt],g.hasOwnProperty(Gt)&&De!=null&&!j.hasOwnProperty(Gt)&&or(u,f,Gt,null,j,De);for(Ae in j)if(De=j[Ae],ze=g[Ae],j.hasOwnProperty(Ae)&&De!==ze&&(De!=null||ze!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,f));break;default:or(u,f,Ae,De,j,ze)}return;default:if(eb(f)){for(var lr in g)De=g[lr],g.hasOwnProperty(lr)&&De!==void 0&&!j.hasOwnProperty(lr)&&QS(u,f,lr,void 0,j,De);for(Ke in j)De=j[Ke],ze=g[Ke],!j.hasOwnProperty(Ke)||De===ze||De===void 0&&ze===void 0||QS(u,f,Ke,De,j,ze);return}}for(var Ce in g)De=g[Ce],g.hasOwnProperty(Ce)&&De!=null&&!j.hasOwnProperty(Ce)&&or(u,f,Ce,null,j,De);for(tt in j)De=j[tt],ze=g[tt],!j.hasOwnProperty(tt)||De===ze||De==null&&ze==null||or(u,f,tt,De,j,ze)}function CL(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qae(){if(typeof performance.getEntriesByType=="function"){for(var u=0,f=0,g=performance.getEntriesByType("resource"),j=0;j<g.length;j++){var T=g[j],E=T.transferSize,B=T.initiatorType,te=T.duration;if(E&&te&&CL(B)){for(B=0,te=T.responseEnd,j+=1;j<g.length;j++){var me=g[j],Ae=me.startTime;if(Ae>te)break;var Ke=me.transferSize,tt=me.initiatorType;Ke&&CL(tt)&&(me=me.responseEnd,B+=Ke*(me<te?1:(te-Ae)/(me-Ae)))}if(--j,f+=8*(E+B)/(T.duration/1e3),u++,10<u)break}}if(0<u)return f/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var ZS=null,ek=null;function Xb(u){return u.nodeType===9?u:u.ownerDocument}function _L(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TL(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function tk(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var nk=null;function Gae(){var u=window.event;return u&&u.type==="popstate"?u===nk?!1:(nk=u,!0):(nk=null,!1)}var ML=typeof setTimeout=="function"?setTimeout:void 0,Yae=typeof clearTimeout=="function"?clearTimeout:void 0,AL=typeof Promise=="function"?Promise:void 0,Kae=typeof queueMicrotask=="function"?queueMicrotask:typeof AL<"u"?function(u){return AL.resolve(null).then(u).catch(Xae)}:ML;function Xae(u){setTimeout(function(){throw u})}function Ic(u){return u==="head"}function OL(u,f){var g=f,j=0;do{var T=g.nextSibling;if(u.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"||g==="/&"){if(j===0){u.removeChild(T),Zh(f);return}j--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")j++;else if(g==="html")Dp(u.ownerDocument.documentElement);else if(g==="head"){g=u.ownerDocument.head,Dp(g);for(var E=g.firstChild;E;){var B=E.nextSibling,te=E.nodeName;E[he]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&E.rel.toLowerCase()==="stylesheet"||g.removeChild(E),E=B}}else g==="body"&&Dp(u.ownerDocument.body);g=T}while(g);Zh(f)}function EL(u,f){var g=u;u=0;do{var j=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),j&&j.nodeType===8)if(g=j.data,g==="/$"){if(u===0)break;u--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||u++;g=j}while(g)}function rk(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":rk(g),ot(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function Jae(u,f,g,j){for(;u.nodeType===1;){var T=g;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!j&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(j){if(!u[he])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(E=u.getAttribute("rel"),E==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(E!==T.rel||u.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||u.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||u.getAttribute("title")!==(T.title==null?null:T.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(E=u.getAttribute("src"),(E!==(T.src==null?null:T.src)||u.getAttribute("type")!==(T.type==null?null:T.type)||u.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&E&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var E=T.name==null?null:""+T.name;if(T.type==="hidden"&&u.getAttribute("name")===E)return u}else return u;if(u=yi(u.nextSibling),u===null)break}return null}function Qae(u,f,g){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=yi(u.nextSibling),u===null))return null;return u}function DL(u,f){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!f||(u=yi(u.nextSibling),u===null))return null;return u}function sk(u){return u.data==="$?"||u.data==="$~"}function ak(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function Zae(u,f){var g=u.ownerDocument;if(u.data==="$~")u._reactRetry=f;else if(u.data!=="$?"||g.readyState!=="loading")f();else{var j=function(){f(),g.removeEventListener("DOMContentLoaded",j)};g.addEventListener("DOMContentLoaded",j),u._reactRetry=j}}function yi(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return u}var ik=null;function PL(u){u=u.nextSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"||g==="/&"){if(f===0)return yi(u.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}u=u.nextSibling}return null}function RL(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return u;f--}else g!=="/$"&&g!=="/&"||f++}u=u.previousSibling}return null}function LL(u,f,g){switch(f=Xb(g),u){case"html":if(u=f.documentElement,!u)throw Error(r(452));return u;case"head":if(u=f.head,!u)throw Error(r(453));return u;case"body":if(u=f.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function Dp(u){for(var f=u.attributes;f.length;)u.removeAttributeNode(f[0]);ot(u)}var vi=new Map,IL=new Set;function Jb(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var wl=R.d;R.d={f:eie,r:tie,D:nie,C:rie,L:sie,m:aie,X:oie,S:iie,M:lie};function eie(){var u=wl.f(),f=Bb();return u||f}function tie(u){var f=xn(u);f!==null&&f.tag===5&&f.type==="form"?eR(f):wl.r(u)}var Xh=typeof document>"u"?null:document;function FL(u,f,g){var j=Xh;if(j&&typeof f=="string"&&f){var T=Oa(f);T='link[rel="'+u+'"][href="'+T+'"]',typeof g=="string"&&(T+='[crossorigin="'+g+'"]'),IL.has(T)||(IL.add(T),u={rel:u,crossOrigin:g,href:f},j.querySelector(T)===null&&(f=j.createElement("link"),zs(f,"link",u),dn(f),j.head.appendChild(f)))}}function nie(u){wl.D(u),FL("dns-prefetch",u,null)}function rie(u,f){wl.C(u,f),FL("preconnect",u,f)}function sie(u,f,g){wl.L(u,f,g);var j=Xh;if(j&&u&&f){var T='link[rel="preload"][as="'+Oa(f)+'"]';f==="image"&&g&&g.imageSrcSet?(T+='[imagesrcset="'+Oa(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(T+='[imagesizes="'+Oa(g.imageSizes)+'"]')):T+='[href="'+Oa(u)+'"]';var E=T;switch(f){case"style":E=Jh(u);break;case"script":E=Qh(u)}vi.has(E)||(u=m({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:u,as:f},g),vi.set(E,u),j.querySelector(T)!==null||f==="style"&&j.querySelector(Pp(E))||f==="script"&&j.querySelector(Rp(E))||(f=j.createElement("link"),zs(f,"link",u),dn(f),j.head.appendChild(f)))}}function aie(u,f){wl.m(u,f);var g=Xh;if(g&&u){var j=f&&typeof f.as=="string"?f.as:"script",T='link[rel="modulepreload"][as="'+Oa(j)+'"][href="'+Oa(u)+'"]',E=T;switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Qh(u)}if(!vi.has(E)&&(u=m({rel:"modulepreload",href:u},f),vi.set(E,u),g.querySelector(T)===null)){switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Rp(E)))return}j=g.createElement("link"),zs(j,"link",u),dn(j),g.head.appendChild(j)}}}function iie(u,f,g){wl.S(u,f,g);var j=Xh;if(j&&u){var T=An(j).hoistableStyles,E=Jh(u);f=f||"default";var B=T.get(E);if(!B){var te={loading:0,preload:null};if(B=j.querySelector(Pp(E)))te.loading=5;else{u=m({rel:"stylesheet",href:u,"data-precedence":f},g),(g=vi.get(E))&&ok(u,g);var me=B=j.createElement("link");dn(me),zs(me,"link",u),me._p=new Promise(function(Ae,Ke){me.onload=Ae,me.onerror=Ke}),me.addEventListener("load",function(){te.loading|=1}),me.addEventListener("error",function(){te.loading|=2}),te.loading|=4,Qb(B,f,j)}B={type:"stylesheet",instance:B,count:1,state:te},T.set(E,B)}}}function oie(u,f){wl.X(u,f);var g=Xh;if(g&&u){var j=An(g).hoistableScripts,T=Qh(u),E=j.get(T);E||(E=g.querySelector(Rp(T)),E||(u=m({src:u,async:!0},f),(f=vi.get(T))&&lk(u,f),E=g.createElement("script"),dn(E),zs(E,"link",u),g.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},j.set(T,E))}}function lie(u,f){wl.M(u,f);var g=Xh;if(g&&u){var j=An(g).hoistableScripts,T=Qh(u),E=j.get(T);E||(E=g.querySelector(Rp(T)),E||(u=m({src:u,async:!0,type:"module"},f),(f=vi.get(T))&&lk(u,f),E=g.createElement("script"),dn(E),zs(E,"link",u),g.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},j.set(T,E))}}function $L(u,f,g,j){var T=(T=we.current)?Jb(T):null;if(!T)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=Jh(g.href),g=An(T).hoistableStyles,j=g.get(f),j||(j={type:"style",instance:null,count:0,state:null},g.set(f,j)),j):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=Jh(g.href);var E=An(T).hoistableStyles,B=E.get(u);if(B||(T=T.ownerDocument||T,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(u,B),(E=T.querySelector(Pp(u)))&&!E._p&&(B.instance=E,B.state.loading=5),vi.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},vi.set(u,g),E||cie(T,u,g,B.state))),f&&j===null)throw Error(r(528,""));return B}if(f&&j!==null)throw Error(r(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Qh(g),g=An(T).hoistableScripts,j=g.get(f),j||(j={type:"script",instance:null,count:0,state:null},g.set(f,j)),j):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function Jh(u){return'href="'+Oa(u)+'"'}function Pp(u){return'link[rel="stylesheet"]['+u+"]"}function HL(u){return m({},u,{"data-precedence":u.precedence,precedence:null})}function cie(u,f,g,j){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?j.loading=1:(f=u.createElement("link"),j.preload=f,f.addEventListener("load",function(){return j.loading|=1}),f.addEventListener("error",function(){return j.loading|=2}),zs(f,"link",g),dn(f),u.head.appendChild(f))}function Qh(u){return'[src="'+Oa(u)+'"]'}function Rp(u){return"script[async]"+u}function zL(u,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var j=u.querySelector('style[data-href~="'+Oa(g.href)+'"]');if(j)return f.instance=j,dn(j),j;var T=m({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return j=(u.ownerDocument||u).createElement("style"),dn(j),zs(j,"style",T),Qb(j,g.precedence,u),f.instance=j;case"stylesheet":T=Jh(g.href);var E=u.querySelector(Pp(T));if(E)return f.state.loading|=4,f.instance=E,dn(E),E;j=HL(g),(T=vi.get(T))&&ok(j,T),E=(u.ownerDocument||u).createElement("link"),dn(E);var B=E;return B._p=new Promise(function(te,me){B.onload=te,B.onerror=me}),zs(E,"link",j),f.state.loading|=4,Qb(E,g.precedence,u),f.instance=E;case"script":return E=Qh(g.src),(T=u.querySelector(Rp(E)))?(f.instance=T,dn(T),T):(j=g,(T=vi.get(E))&&(j=m({},g),lk(j,T)),u=u.ownerDocument||u,T=u.createElement("script"),dn(T),zs(T,"link",j),u.head.appendChild(T),f.instance=T);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(j=f.instance,f.state.loading|=4,Qb(j,g.precedence,u));return f.instance}function Qb(u,f,g){for(var j=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=j.length?j[j.length-1]:null,E=T,B=0;B<j.length;B++){var te=j[B];if(te.dataset.precedence===f)E=te;else if(E!==T)break}E?E.parentNode.insertBefore(u,E.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(u,f.firstChild))}function ok(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function lk(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var Zb=null;function BL(u,f,g){if(Zb===null){var j=new Map,T=Zb=new Map;T.set(g,j)}else T=Zb,j=T.get(g),j||(j=new Map,T.set(g,j));if(j.has(u))return j;for(j.set(u,null),g=g.getElementsByTagName(u),T=0;T<g.length;T++){var E=g[T];if(!(E[he]||E[Ct]||u==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var B=E.getAttribute(f)||"";B=u+B;var te=j.get(B);te?te.push(E):j.set(B,[E])}}return j}function VL(u,f,g){u=u.ownerDocument||u,u.head.insertBefore(g,f==="title"?u.querySelector("head > title"):null)}function die(u,f,g){if(g===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function WL(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function uie(u,f,g,j){if(g.type==="stylesheet"&&(typeof j.media!="string"||matchMedia(j.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var T=Jh(j.href),E=f.querySelector(Pp(T));if(E){f=E._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(u.count++,u=ey.bind(u),f.then(u,u)),g.state.loading|=4,g.instance=E,dn(E);return}E=f.ownerDocument||f,j=HL(j),(T=vi.get(T))&&ok(j,T),E=E.createElement("link"),dn(E);var B=E;B._p=new Promise(function(te,me){B.onload=te,B.onerror=me}),zs(E,"link",j),g.instance=E}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(u.count++,g=ey.bind(u),f.addEventListener("load",g),f.addEventListener("error",g))}}var ck=0;function hie(u,f){return u.stylesheets&&u.count===0&&ny(u,u.stylesheets),0<u.count||0<u.imgCount?function(g){var j=setTimeout(function(){if(u.stylesheets&&ny(u,u.stylesheets),u.unsuspend){var E=u.unsuspend;u.unsuspend=null,E()}},6e4+f);0<u.imgBytes&&ck===0&&(ck=62500*qae());var T=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&ny(u,u.stylesheets),u.unsuspend)){var E=u.unsuspend;u.unsuspend=null,E()}},(u.imgBytes>ck?50:800)+f);return u.unsuspend=g,function(){u.unsuspend=null,clearTimeout(j),clearTimeout(T)}}:null}function ey(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ny(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var ty=null;function ny(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,ty=new Map,f.forEach(fie,u),ty=null,ey.call(u))}function fie(u,f){if(!(f.state.loading&4)){var g=ty.get(u);if(g)var j=g.get(null);else{g=new Map,ty.set(u,g);for(var T=u.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<T.length;E++){var B=T[E];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(g.set(B.dataset.precedence,B),j=B)}j&&g.set(null,j)}T=f.instance,B=T.getAttribute("data-precedence"),E=g.get(B)||j,E===j&&g.set(null,T),g.set(B,T),this.count++,j=ey.bind(this),T.addEventListener("load",j),T.addEventListener("error",j),E?E.parentNode.insertBefore(T,E.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(T,u.firstChild)),f.state.loading|=4}}var Lp={$$typeof:S,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function mie(u,f,g,j,T,E,B,te,me){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=se(0),this.hiddenUpdates=se(null),this.identifierPrefix=j,this.onUncaughtError=T,this.onCaughtError=E,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function UL(u,f,g,j,T,E,B,te,me,Ae,Ke,tt){return u=new mie(u,f,g,B,me,Ae,Ke,tt,te),f=1,E===!0&&(f|=24),E=Ya(3,null,null,f),u.current=E,E.stateNode=u,f=B2(),f.refCount++,u.pooledCache=f,f.refCount++,E.memoizedState={element:j,isDehydrated:g,cache:f},q2(E),u}function qL(u){return u?(u=Mh,u):Mh}function GL(u,f,g,j,T,E){T=qL(T),j.context===null?j.context=T:j.pendingContext=T,j=Cc(f),j.payload={element:g},E=E===void 0?null:E,E!==null&&(j.callback=E),g=_c(u,j,f),g!==null&&(Ia(g,u,f),mp(g,u,f))}function YL(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<f?g:f}}function dk(u,f){YL(u,f),(u=u.alternate)&&YL(u,f)}function KL(u){if(u.tag===13||u.tag===31){var f=$d(u,67108864);f!==null&&Ia(f,u,67108864),dk(u,67108864)}}function XL(u){if(u.tag===13||u.tag===31){var f=Za();f=at(f);var g=$d(u,f);g!==null&&Ia(g,u,f),dk(u,f)}}var ry=!0;function pie(u,f,g,j){var T=$.T;$.T=null;var E=R.p;try{R.p=2,uk(u,f,g,j)}finally{R.p=E,$.T=T}}function gie(u,f,g,j){var T=$.T;$.T=null;var E=R.p;try{R.p=8,uk(u,f,g,j)}finally{R.p=E,$.T=T}}function uk(u,f,g,j){if(ry){var T=hk(j);if(T===null)JS(u,f,j,sy,g),QL(u,j);else if(bie(T,u,f,g,j))j.stopPropagation();else if(QL(u,j),f&4&&-1<xie.indexOf(u)){for(;T!==null;){var E=xn(T);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var B=ee(E.pendingLanes);if(B!==0){var te=E;for(te.pendingLanes|=2,te.entangledLanes|=2;B;){var me=1<<31-ie(B);te.entanglements[1]|=me,B&=~me}wo(E),(Hn&6)===0&&(Hb=Ye()+500,Ap(0))}}break;case 31:case 13:te=$d(E,2),te!==null&&Ia(te,E,2),Bb(),dk(E,2)}if(E=hk(j),E===null&&JS(u,f,j,sy,g),E===T)break;T=E}T!==null&&j.stopPropagation()}else JS(u,f,j,null,g)}}function hk(u){return u=m2(u),fk(u)}var sy=null;function fk(u){if(sy=null,u=wt(u),u!==null){var f=i(u);if(f===null)u=null;else{var g=f.tag;if(g===13){if(u=o(f),u!==null)return u;u=null}else if(g===31){if(u=l(f),u!==null)return u;u=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return sy=u,null}function JL(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kt()){case Oe:return 2;case Xe:return 8;case Pt:case Se:return 32;case bt:return 268435456;default:return 32}default:return 32}}var mk=!1,Fc=null,$c=null,Hc=null,Ip=new Map,Fp=new Map,zc=[],xie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QL(u,f){switch(u){case"focusin":case"focusout":Fc=null;break;case"dragenter":case"dragleave":$c=null;break;case"mouseover":case"mouseout":Hc=null;break;case"pointerover":case"pointerout":Ip.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fp.delete(f.pointerId)}}function $p(u,f,g,j,T,E){return u===null||u.nativeEvent!==E?(u={blockedOn:f,domEventName:g,eventSystemFlags:j,nativeEvent:E,targetContainers:[T]},f!==null&&(f=xn(f),f!==null&&KL(f)),u):(u.eventSystemFlags|=j,f=u.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),u)}function bie(u,f,g,j,T){switch(f){case"focusin":return Fc=$p(Fc,u,f,g,j,T),!0;case"dragenter":return $c=$p($c,u,f,g,j,T),!0;case"mouseover":return Hc=$p(Hc,u,f,g,j,T),!0;case"pointerover":var E=T.pointerId;return Ip.set(E,$p(Ip.get(E)||null,u,f,g,j,T)),!0;case"gotpointercapture":return E=T.pointerId,Fp.set(E,$p(Fp.get(E)||null,u,f,g,j,T)),!0}return!1}function ZL(u){var f=wt(u.target);if(f!==null){var g=i(f);if(g!==null){if(f=g.tag,f===13){if(f=o(g),f!==null){u.blockedOn=f,Fn(u.priority,function(){XL(g)});return}}else if(f===31){if(f=l(g),f!==null){u.blockedOn=f,Fn(u.priority,function(){XL(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function ay(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var g=hk(u.nativeEvent);if(g===null){g=u.nativeEvent;var j=new g.constructor(g.type,g);f2=j,g.target.dispatchEvent(j),f2=null}else return f=xn(g),f!==null&&KL(f),u.blockedOn=g,!1;f.shift()}return!0}function eI(u,f,g){ay(u)&&g.delete(f)}function yie(){mk=!1,Fc!==null&&ay(Fc)&&(Fc=null),$c!==null&&ay($c)&&($c=null),Hc!==null&&ay(Hc)&&(Hc=null),Ip.forEach(eI),Fp.forEach(eI)}function iy(u,f){u.blockedOn===f&&(u.blockedOn=null,mk||(mk=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yie)))}var oy=null;function tI(u){oy!==u&&(oy=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){oy===u&&(oy=null);for(var f=0;f<u.length;f+=3){var g=u[f],j=u[f+1],T=u[f+2];if(typeof j!="function"){if(fk(j||g)===null)continue;break}var E=xn(g);E!==null&&(u.splice(f,3),f-=3,hS(E,{pending:!0,data:T,method:g.method,action:j},j,T))}}))}function Zh(u){function f(me){return iy(me,u)}Fc!==null&&iy(Fc,u),$c!==null&&iy($c,u),Hc!==null&&iy(Hc,u),Ip.forEach(f),Fp.forEach(f);for(var g=0;g<zc.length;g++){var j=zc[g];j.blockedOn===u&&(j.blockedOn=null)}for(;0<zc.length&&(g=zc[0],g.blockedOn===null);)ZL(g),g.blockedOn===null&&zc.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(j=0;j<g.length;j+=3){var T=g[j],E=g[j+1],B=T[Bt]||null;if(typeof E=="function")B||tI(g);else if(B){var te=null;if(E&&E.hasAttribute("formAction")){if(T=E,B=E[Bt]||null)te=B.formAction;else if(fk(T)!==null)continue}else te=B.action;typeof te=="function"?g[j+1]=te:(g.splice(j,3),j-=3),tI(g)}}}function nI(){function u(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(B){return T=B})},focusReset:"manual",scroll:"manual"})}function f(){T!==null&&(T(),T=null),j||setTimeout(g,20)}function g(){if(!j&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var j=!1,T=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){j=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),T!==null&&(T(),T=null)}}}function pk(u){this._internalRoot=u}ly.prototype.render=pk.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(r(409));var g=f.current,j=Za();GL(g,j,u,f,null,null)},ly.prototype.unmount=pk.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;GL(u.current,2,null,u,null,null),Bb(),f[Tt]=null}};function ly(u){this._internalRoot=u}ly.prototype.unstable_scheduleHydration=function(u){if(u){var f=Jt();u={blockedOn:null,target:u,priority:f};for(var g=0;g<zc.length&&f!==0&&f<zc[g].priority;g++);zc.splice(g,0,u),g===0&&ZL(u)}};var rI=e.version;if(rI!=="19.2.0")throw Error(r(527,rI,"19.2.0"));R.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=d(f),u=u!==null?h(u):null,u=u===null?null:u.stateNode,u};var vie={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cy.isDisabled&&cy.supportsFiber)try{mt=cy.inject(vie),ht=cy}catch{}}return zp.createRoot=function(u,f){if(!s(u))throw Error(r(299));var g=!1,j="",T=dR,E=uR,B=hR;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(j=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(E=f.onCaughtError),f.onRecoverableError!==void 0&&(B=f.onRecoverableError)),f=UL(u,1,!1,null,null,g,j,null,T,E,B,nI),u[Tt]=f.current,XS(u),new pk(f)},zp.hydrateRoot=function(u,f,g){if(!s(u))throw Error(r(299));var j=!1,T="",E=dR,B=uR,te=hR,me=null;return g!=null&&(g.unstable_strictMode===!0&&(j=!0),g.identifierPrefix!==void 0&&(T=g.identifierPrefix),g.onUncaughtError!==void 0&&(E=g.onUncaughtError),g.onCaughtError!==void 0&&(B=g.onCaughtError),g.onRecoverableError!==void 0&&(te=g.onRecoverableError),g.formState!==void 0&&(me=g.formState)),f=UL(u,1,!0,f,g??null,j,T,me,E,B,te,nI),f.context=qL(null),g=f.current,j=Za(),j=at(j),T=Cc(j),T.callback=null,_c(g,T,j),g=j,f.current.lanes=g,ke(f,g),wo(f),u[Tt]=f.current,XS(u),new ly(f)},zp.version="19.2.0",zp}var fI;function Die(){if(fI)return bk.exports;fI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bk.exports=Eie(),bk.exports}var Pie=Die();const Rie=In(Pie);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mI="popstate";function Lie(t={}){function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return cA("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:dg(s)}return Fie(e,n,null,t)}function Lr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Iie(){return Math.random().toString(36).substring(2,10)}function pI(t,e){return{usr:t.state,key:t.key,idx:e}}function cA(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rm(e):e,state:n,key:e&&e.key||r||Iie()}}function dg({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Fie(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function m(){l="POP";let v=h(),N=v==null?null:v-d;d=v,c&&c({action:l,location:w.location,delta:N})}function p(v,N){l="PUSH";let C=cA(w.location,v,N);d=h()+1;let S=pI(C,d),M=w.createHref(C);try{o.pushState(S,"",M)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(M)}i&&c&&c({action:l,location:w.location,delta:1})}function x(v,N){l="REPLACE";let C=cA(w.location,v,N);d=h();let S=pI(C,d),M=w.createHref(C);o.replaceState(S,"",M),i&&c&&c({action:l,location:w.location,delta:0})}function y(v){return $ie(v)}let w={get action(){return l},get location(){return t(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(mI,m),c=v,()=>{s.removeEventListener(mI,m),c=null}},createHref(v){return e(s,v)},createURL:y,encodeLocation(v){let N=y(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:p,replace:x,go(v){return o.go(v)}};return w}function $ie(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:dg(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function EG(t,e,n="/"){return Hie(t,e,n,!1)}function Hie(t,e,n,r){let s=typeof e=="string"?Rm(e):e,i=nc(s.pathname||"/",n);if(i==null)return null;let o=DG(t);zie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Qie(i);l=Xie(o[c],d,r)}return l}function DG(t,e=[],n=[],r="",s=!1){let i=(o,l,c=s,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;Lr(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=Vl([r,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(Lr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),DG(o.children,e,p,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:Yie(m,o.index),routesMeta:p})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of PG(o.path))i(o,l,!0,d)}),e}function PG(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=PG(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function zie(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Kie(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Bie=/^:[\w-]+$/,Vie=3,Wie=2,Uie=1,qie=10,Gie=-2,gI=t=>t==="*";function Yie(t,e){let n=t.split("/"),r=n.length;return n.some(gI)&&(r+=Gie),e&&(r+=Wie),n.filter(s=>!gI(s)).reduce((s,i)=>s+(Bie.test(i)?Vie:i===""?Uie:qie),r)}function Kie(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Xie(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",m=dw({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=dw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Vl([i,m.pathname]),pathnameBase:noe(Vl([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Vl([i,m.pathnameBase]))}return o}function dw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Jie(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:m},p)=>{if(h==="*"){let y=l[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[p];return m&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function Jie(t,e=!1,n=!0){qo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Qie(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function nc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Zie(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Rm(t):t;return{pathname:n?n.startsWith("/")?n:eoe(n,e):e,search:roe(r),hash:soe(s)}}function eoe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jk(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function toe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function RG(t){let e=toe(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function LG(t,e,n,r=!1){let s;typeof t=="string"?s=Rm(t):(s={...t},Lr(!s.pathname||!s.pathname.includes("?"),jk("?","pathname","search",s)),Lr(!s.pathname||!s.pathname.includes("#"),jk("#","pathname","hash",s)),Lr(!s.search||!s.search.includes("#"),jk("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?e[m]:"/"}let c=Zie(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Vl=t=>t.join("/").replace(/\/\/+/g,"/"),noe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),roe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,soe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aoe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var IG=["POST","PUT","PATCH","DELETE"];new Set(IG);var ioe=["GET",...IG];new Set(ioe);var Lm=b.createContext(null);Lm.displayName="DataRouter";var Lj=b.createContext(null);Lj.displayName="DataRouterState";b.createContext(!1);var FG=b.createContext({isTransitioning:!1});FG.displayName="ViewTransition";var ooe=b.createContext(new Map);ooe.displayName="Fetchers";var loe=b.createContext(null);loe.displayName="Await";var el=b.createContext(null);el.displayName="Navigation";var Nx=b.createContext(null);Nx.displayName="Location";var fo=b.createContext({outlet:null,matches:[],isDataRoute:!1});fo.displayName="Route";var pD=b.createContext(null);pD.displayName="RouteError";function coe(t,{relative:e}={}){Lr(Sx(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(el),{hash:s,pathname:i,search:o}=kx(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Vl([n,i])),r.createHref({pathname:l,search:o,hash:s})}function Sx(){return b.useContext(Nx)!=null}function Yr(){return Lr(Sx(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Nx).location}var $G="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HG(t){b.useContext(el).static||b.useLayoutEffect(t)}function St(){let{isDataRoute:t}=b.useContext(fo);return t?Soe():doe()}function doe(){Lr(Sx(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Lm),{basename:e,navigator:n}=b.useContext(el),{matches:r}=b.useContext(fo),{pathname:s}=Yr(),i=JSON.stringify(RG(r)),o=b.useRef(!1);return HG(()=>{o.current=!0}),b.useCallback((c,d={})=>{if(qo(o.current,$G),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=LG(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vl([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,s,t])}var uoe=b.createContext(null);function hoe(t){let e=b.useContext(fo).outlet;return b.useMemo(()=>e&&b.createElement(uoe.Provider,{value:t},e),[e,t])}function Ks(){let{matches:t}=b.useContext(fo),e=t[t.length-1];return e?e.params:{}}function kx(t,{relative:e}={}){let{matches:n}=b.useContext(fo),{pathname:r}=Yr(),s=JSON.stringify(RG(n));return b.useMemo(()=>LG(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function foe(t,e){return zG(t,e)}function zG(t,e,n,r,s){var C;Lr(Sx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(el),{matches:o}=b.useContext(fo),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let S=m&&m.path||"";BG(d,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Yr(),x;if(e){let S=typeof e=="string"?Rm(e):e;Lr(h==="/"||((C=S.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),x=S}else x=p;let y=x.pathname||"/",w=y;if(h!=="/"){let S=h.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=EG(t,{pathname:w});qo(m||v!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),qo(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=boe(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Vl([h,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:Vl([h,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,n,r,s);return e&&N?b.createElement(Nx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function moe(){let t=Noe(),e=aoe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,o)}var poe=b.createElement(moe,null),goe=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(fo.Provider,{value:this.props.routeContext},b.createElement(pD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xoe({routeContext:t,match:e,children:n}){let r=b.useContext(Lm);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(fo.Provider,{value:t},n)}function boe(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Lr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:p}=n,x=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let p,x=!1,y=null,w=null;n&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||poe,l&&(c<0&&m===0?(BG("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):c===m&&(x=!0,w=h.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,m+1)),N=()=>{let C;return p?C=y:x?C=w:h.route.Component?C=b.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,b.createElement(xoe,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(goe,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:N(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:r}):N()},null)}function gD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yoe(t){let e=b.useContext(Lm);return Lr(e,gD(t)),e}function voe(t){let e=b.useContext(Lj);return Lr(e,gD(t)),e}function woe(t){let e=b.useContext(fo);return Lr(e,gD(t)),e}function xD(t){let e=woe(t),n=e.matches[e.matches.length-1];return Lr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function joe(){return xD("useRouteId")}function Noe(){var r;let t=b.useContext(pD),e=voe("useRouteError"),n=xD("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Soe(){let{router:t}=yoe("useNavigate"),e=xD("useNavigate"),n=b.useRef(!1);return HG(()=>{n.current=!0}),b.useCallback(async(s,i={})=>{qo(n.current,$G),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var xI={};function BG(t,e,n){!e&&!xI[t]&&(xI[t]=!0,qo(!1,n))}b.memo(koe);function koe({routes:t,future:e,state:n,unstable_onError:r}){return zG(t,void 0,n,r,e)}function Coe(t){return hoe(t.context)}function ct(t){Lr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _oe({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Lr(!Sx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Rm(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:p="default"}=n,x=b.useMemo(()=>{let y=nc(c,o);return y==null?null:{location:{pathname:y,search:d,hash:h,state:m,key:p},navigationType:r}},[o,c,d,h,m,p,r]);return qo(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:b.createElement(el.Provider,{value:l},b.createElement(Nx.Provider,{children:e,value:x}))}function Toe({children:t,location:e}){return foe(dA(t),e)}function dA(t,e=[]){let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,dA(r.props.children,i));return}Lr(r.type===ct,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dA(r.props.children,i)),n.push(o)}),n}var Mv="get",Av="application/x-www-form-urlencoded";function Ij(t){return t!=null&&typeof t.tagName=="string"}function Moe(t){return Ij(t)&&t.tagName.toLowerCase()==="button"}function Aoe(t){return Ij(t)&&t.tagName.toLowerCase()==="form"}function Ooe(t){return Ij(t)&&t.tagName.toLowerCase()==="input"}function Eoe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Doe(t,e){return t.button===0&&(!e||e==="_self")&&!Eoe(t)}var uy=null;function Poe(){if(uy===null)try{new FormData(document.createElement("form"),0),uy=!1}catch{uy=!0}return uy}var Roe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nk(t){return t!=null&&!Roe.has(t)?(qo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Av}"`),null):t}function Loe(t,e){let n,r,s,i,o;if(Aoe(t)){let l=t.getAttribute("action");r=l?nc(l,e):null,n=t.getAttribute("method")||Mv,s=Nk(t.getAttribute("enctype"))||Av,i=new FormData(t)}else if(Moe(t)||Ooe(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?nc(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Mv,s=Nk(t.getAttribute("formenctype"))||Nk(l.getAttribute("enctype"))||Av,i=new FormData(l,t),!Poe()){let{name:d,type:h,value:m}=t;if(h==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,m)}}else{if(Ij(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mv,r=null,s=Av,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bD(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ioe(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&nc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Foe(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $oe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Hoe(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await Foe(i,n);return o.links?o.links():[]}return[]}));return Woe(r.flat(1).filter($oe).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function bI(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var m;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function zoe(t,e,{includeHydrateFallback:n}={}){return Boe(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Boe(t){return[...new Set(t)]}function Voe(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Woe(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Voe(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function VG(){let t=b.useContext(Lm);return bD(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Uoe(){let t=b.useContext(Lj);return bD(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yD=b.createContext(void 0);yD.displayName="FrameworkContext";function WG(){let t=b.useContext(yD);return bD(t,"You must render this element inside a <HydratedRouter> element"),t}function qoe(t,e){let n=b.useContext(yD),[r,s]=b.useState(!1),[i,o]=b.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=e,p=b.useRef(null);b.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=N=>{N.forEach(C=>{o(C.isIntersecting)})},v=new IntersectionObserver(w,{threshold:.5});return p.current&&v.observe(p.current),()=>{v.disconnect()}}},[t]),b.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let x=()=>{s(!0)},y=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:Bp(l,x),onBlur:Bp(c,y),onMouseEnter:Bp(d,x),onMouseLeave:Bp(h,y),onTouchStart:Bp(m,x)}]:[!1,p,{}]}function Bp(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Goe({page:t,...e}){let{router:n}=VG(),r=b.useMemo(()=>EG(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(Koe,{page:t,matches:r,...e}):null}function Yoe(t){let{manifest:e,routeModules:n}=WG(),[r,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return Hoe(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function Koe({page:t,matches:e,...n}){let r=Yr(),{manifest:s,routeModules:i}=WG(),{basename:o}=VG(),{loaderData:l,matches:c}=Uoe(),d=b.useMemo(()=>bI(t,e,c,s,r,"data"),[t,e,c,s,r]),h=b.useMemo(()=>bI(t,e,c,s,r,"assets"),[t,e,c,s,r]),m=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,w=!1;if(e.forEach(N=>{var S;let C=s.routes[N.route.id];!C||!C.hasLoader||(!d.some(M=>M.route.id===N.route.id)&&N.route.id in l&&((S=i[N.route.id])!=null&&S.shouldRevalidate)||C.hasClientLoader?w=!0:y.add(N.route.id))}),y.size===0)return[];let v=Ioe(t,o,"data");return w&&y.size>0&&v.searchParams.set("_routes",e.filter(N=>y.has(N.route.id)).map(N=>N.route.id).join(",")),[v.pathname+v.search]},[o,l,r,s,d,e,t,i]),p=b.useMemo(()=>zoe(h,s),[h,s]),x=Yoe(h);return b.createElement(b.Fragment,null,m.map(y=>b.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>b.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),x.map(({key:y,link:w})=>b.createElement("link",{key:y,nonce:n.nonce,...w})))}function Xoe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UG&&(window.__reactRouterVersion="7.9.3")}catch{}function Joe({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=Lie({window:n,v5Compat:!0}));let s=r.current,[i,o]=b.useState({action:s.action,location:s.location}),l=b.useCallback(c=>{b.startTransition(()=>o(c))},[o]);return b.useLayoutEffect(()=>s.listen(l),[s,l]),b.createElement(_oe,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var qG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rc=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m,...p},x){let{basename:y}=b.useContext(el),w=typeof d=="string"&&qG.test(d),v,N=!1;if(typeof d=="string"&&w&&(v=d,UG))try{let F=new URL(window.location.href),L=d.startsWith("//")?new URL(F.protocol+d):new URL(d),I=nc(L.pathname,y);L.origin===F.origin&&I!=null?d=I+L.search+L.hash:N=!0}catch{qo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=coe(d,{relative:s}),[S,M,_]=qoe(r,p),A=tle(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:m});function O(F){e&&e(F),F.defaultPrevented||A(F)}let D=b.createElement("a",{...p,..._,href:v||C,onClick:N||i?e:O,ref:Xoe(x,M),target:c,"data-discover":!w&&n==="render"?"true":void 0});return S&&!w?b.createElement(b.Fragment,null,D,b.createElement(Goe,{page:C})):D});rc.displayName="Link";var Qoe=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...d},h){let m=kx(o,{relative:d.relative}),p=Yr(),x=b.useContext(Lj),{navigator:y,basename:w}=b.useContext(el),v=x!=null&&ile(m)&&l===!0,N=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,C=p.pathname,S=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(C=C.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&w&&(S=nc(S,w)||S);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let _=C===N||!s&&C.startsWith(N)&&C.charAt(M)==="/",A=S!=null&&(S===N||!s&&S.startsWith(N)&&S.charAt(N.length)==="/"),O={isActive:_,isPending:A,isTransitioning:v},D=_?e:void 0,F;typeof r=="function"?F=r(O):F=[r,_?"active":null,A?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(O):i;return b.createElement(rc,{...d,"aria-current":D,className:F,ref:h,style:L,to:o,viewTransition:l},typeof c=="function"?c(O):c)});Qoe.displayName="NavLink";var Zoe=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Mv,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...p},x)=>{let y=sle(),w=ale(l,{relative:d}),v=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&qG.test(l),C=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let M=S.nativeEvent.submitter,_=(M==null?void 0:M.getAttribute("formmethod"))||o;y(M||S.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:m})};return b.createElement("form",{ref:x,method:v,action:w,onSubmit:r?c:C,...p,"data-discover":!N&&t==="render"?"true":void 0})});Zoe.displayName="Form";function ele(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GG(t){let e=b.useContext(Lm);return Lr(e,ele(t)),e}function tle(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=St(),c=Yr(),d=kx(t,{relative:i});return b.useCallback(h=>{if(Doe(h,e)){h.preventDefault();let m=n!==void 0?n:dg(c)===dg(d);l(t,{replace:m,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,d,n,r,e,t,s,i,o])}var nle=0,rle=()=>`__${String(++nle)}__`;function sle(){let{router:t}=GG("useSubmit"),{basename:e}=b.useContext(el),n=joe();return b.useCallback(async(r,s={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=Loe(r,e);if(s.navigate===!1){let h=s.fetcherKey||rle();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function ale(t,{relative:e}={}){let{basename:n}=b.useContext(el),r=b.useContext(fo);Lr(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...kx(t||".",{relative:e})},o=Yr();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Vl([n,i.pathname])),dg(i)}function ile(t,{relative:e}={}){let n=b.useContext(FG);Lr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GG("useViewTransitionState"),s=kx(t,{relative:e});if(!n.isTransitioning)return!1;let i=nc(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=nc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dw(s.pathname,o)!=null||dw(s.pathname,i)!=null}var vD=OG();const YG=In(vD),yI=t=>({1:"view_dashboard",2:"edit_dashboard",3:"view_assets",4:"create_assets",5:"edit_assets",6:"delete_assets",7:"view_workorders",8:"create_workorders",9:"assign_workorders",10:"complete_workorders",11:"view_reports",12:"export_reports",13:"view_settings",14:"edit_settings",15:"view_permissions",16:"edit_permissions",17:"manage_users",18:"edit_workorders",19:"delete_workorders",20:"create_reports",21:"edit_reports",22:"delete_reports",23:"view_inventory",24:"create_inventory",25:"edit_inventory",26:"delete_inventory",27:"view_teams",28:"create_teams",29:"edit_teams",30:"delete_teams",31:"view_machinehistory",32:"create_machine_history",33:"edit_machinehistory",34:"delete_machinehistory"})[t]||null;function ole(t,e){var s,i,o,l,c,d,h,m,p,x,y,w,v,N,C,S,M,_,A,O,D,F,L,I,P,z,U;const n=((s=t.stoptime)==null?void 0:s.name)||((o=(i=e==null?void 0:e.stoptimes)==null?void 0:i.data.find(V=>String(V.id)===String(t.stoptime_id)))==null?void 0:o.name)||"-";(l=t.itemtrouble)!=null&&l.name||(d=(c=e==null?void 0:e.itemtroubles)==null?void 0:c.data.find(V=>String(V.id)===String(t.itemtrouble_id)))!=null&&d.name,(h=t.jenisaktifitas)!=null&&h.name||(p=(m=e==null?void 0:e.jenisaktivitas)==null?void 0:m.data.find(V=>String(V.id)===String(t.jenisaktifitas_id)))!=null&&p.name,(x=t.kegiatan)!=null&&x.name||(w=(y=e==null?void 0:e.kegiatans)==null?void 0:y.data.find(V=>String(V.id)===String(t.kegiatan_id)))!=null&&w.name;const r=((v=t.unitsp)==null?void 0:v.name)||((C=(N=e==null?void 0:e.unitspareparts)==null?void 0:N.data.find(V=>String(V.id)===String(t.unitsp_id)))==null?void 0:C.name)||"-";return{id:String(t.id),date:t.date,shift:((S=t.shift)==null?void 0:S.name)||"-",group:((M=t.group)==null?void 0:M.name)||"-",unit:((_=t.unit)==null?void 0:_.name)||"-",mesin:((A=t.mesin)==null?void 0:A.name)||"-",stopJam:((O=t.startstop)==null?void 0:O.stop_time_hh)??null,stopMenit:((D=t.startstop)==null?void 0:D.stop_time_mm)??null,startJam:((F=t.startstop)==null?void 0:F.start_time_hh)??null,startMenit:((L=t.startstop)==null?void 0:L.start_time_mm)??null,stopTime:n,runningHour:t.running_hour??0,itemTrouble:((I=t.itemtrouble)==null?void 0:I.name)||"-",jenisGangguan:t.jenis_gangguan||"",bentukTindakan:t.bentuk_tindakan||"",perbaikanPerawatan:((P=t.jenisaktifitas)==null?void 0:P.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:t.root_cause||"",jenisAktivitas:((z=t.jenisaktifitas)==null?void 0:z.name)||"-",kegiatan:((U=t.kegiatan)==null?void 0:U.name)||"-",kodePart:t.kode_part||"",sparePart:t.spare_part||"",idPart:t.id_part||"",jumlah:t.jumlah??0,unitSparePart:r,startstop:t.startstop??null}}const Vp=Sie(),KG=b.createContext(null),Qd=t=>{var n,r;const e=t.department?{id:t.department.id,name:t.department.name,head_id:t.department.head_id,head:t.department.head?{id:t.department.head.id,name:t.department.head.name,email:t.department.head.email}:null}:null;return{id:String(t.id),name:t.name,nik:t.nik,email:t.email,roleId:t.role_id?String(t.role_id):null,roles:t.roles||[],customPermissions:t.customPermissions||[],permissions:t.permissions||t.allPermissions||[],department:e,department_id:t.department_id||((n=t.department)==null?void 0:n.id)||null,department_name:((r=t.department)==null?void 0:r.name)||null,position:t.position}},lle=({children:t})=>{const[e,n]=b.useState(null),[r,s]=b.useState(null),[i,o]=b.useState(!1),[l,c]=b.useState(null),[d,h]=b.useState(!0),[m,p]=b.useState(!0),[x,y]=b.useState(null),w=St(),v=b.useRef(!1),N=b.useCallback(async()=>{o(!0);try{const K=r||localStorage.getItem("token");K&&await fetch(`${Vp.envVariables.VITE_REACT_API_URL}/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`}})}finally{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s(null),n(null),c(null),o(!1),w("/login")}},[r,w]),C=b.useCallback(async()=>{if(v.current)return new Promise(G=>{const ue=setInterval(()=>{v.current||(clearInterval(ue),G(localStorage.getItem("token")))},100)});v.current=!0;const K=localStorage.getItem("refreshToken");if(!K)return await N(),null;try{const G=await fetch(`${Vp.envVariables.VITE_REACT_API_URL}/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},body:JSON.stringify({refresh_token:K})});if(!G.ok){if(G.status===401)return await N(),null;throw new Error("Token refresh failed")}const ue=await G.json(),pt=ue.access_token,un=ue.refresh_token||K;return localStorage.setItem("token",pt),localStorage.setItem("refreshToken",un),s(pt),n(kn=>kn?{...kn,access_token:pt,refresh_token:un}:null),pt}catch{return await N(),null}finally{v.current=!1}},[N]),S=b.useCallback(async(K,G={})=>{let ue=r||localStorage.getItem("token");const pt=async un=>{var go;if(!un)throw new Error("No token found");const kn=new Headers(G.headers||{});((go=kn.get("Content-Type"))!=null&&go.includes("application/json")||!kn.has("Content-Type"))&&kn.set("Content-Type","application/json"),kn.set("Authorization",`Bearer ${un}`);const Ns=await fetch(`${Vp.envVariables.VITE_REACT_API_URL}${K}`,{...G,headers:kn});if(Ns.status===204||Ns.statusText==="No Content")return null;if(!Ns.ok){let xo;try{xo=await Ns.json()}catch{xo=await Ns.text()}throw new Error(xo.message||`HTTP error! Status: ${Ns.status}`)}let Ui;try{return Ui=await Ns.text(),Ui?JSON.parse(Ui):null}catch{return Ui}};try{return await pt(ue)}catch(un){if(un instanceof Error&&un.message.includes("status: 401")){const kn=await C();if(kn)return await pt(kn)}throw un}},[r,C]),M=b.useCallback(async()=>{const K=await S("/user/profile?includes_trashed=true"),G=Qd(K);return n(G),localStorage.setItem("user",JSON.stringify(G)),G},[S]),_=b.useCallback(async()=>{const K=localStorage.getItem("token"),G=localStorage.getItem("user"),ue=localStorage.getItem("refreshToken");if(K&&ue){s(K);try{if(G){const un=JSON.parse(G);n(Qd(un))}const pt=await M();n(pt)}catch{await N()}}},[M,N]),A=b.useCallback(async()=>{const[K,G,ue,pt,un,kn,Ns,Ui,go]=await Promise.all([S("/mesin?includes_trashed=true"),S("/group?includes_trashed=true"),S("/shift?includes_trashed=true"),S("/unit?includes_trashed=true"),S("/unitsp?includes_trashed=true"),S("/itemtrouble?includes_trashed=true"),S("/jenisaktifitas?includes_trashed=true"),S("/kegiatan?includes_trashed=true"),S("/stoptime?includes_trashed=true")]);return{mesin:K,shifts:ue,groups:G,stoptimes:go,units:pt,itemtroubles:kn,jenisaktivitas:Ns,kegiatans:Ui,unitspareparts:un}},[S]),O=b.useCallback(async()=>{try{return await S("/erp?includes_trashed=true",{method:"GET"})}catch(K){throw K}},[S]),D=b.useCallback(async K=>{const G=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                    xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
        <soap:Body>
          <AddAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
            <asset>
              <Name>${K.name}</Name>
              <Category>${K.category}</Category>
              <Location>${K.location}</Location>
              <PurchaseDate>${K.purchase_date}</PurchaseDate>
              <Description>${K.description}</Description>
              <Type>${K.type??""}</Type>
              <Make>${K.make??""}</Make>
              <Model>${K.model??""}</Model>
              <Status>${K.status??""}</Status>
              <LastMaintenance>${K.last_maintenance??""}</LastMaintenance>
              <NextMaintenance>${K.next_maintenance??""}</NextMaintenance>
              <WorkOrders>${K.work_orders??""}</WorkOrders>
              <Health>${K.health??""}</Health>
            </asset>
          </AddAsset>
        </soap:Body>
      </soap:Envelope>`;try{const ue=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/ERPService/AssetManagement/AddAsset"},body:G});if(console.log("ERP SOAP Response:",ue),typeof ue=="string"&&ue.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return ue}catch(ue){throw console.error("Error adding asset:",ue),ue}},[]),F=b.useCallback(async K=>{const G=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                    xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
        <soap:Body>
          <EditAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
            <assetId>${K.id}</assetId>
            <assetName>${K.name}</assetName>
            <assetCategory>${K.category}</assetCategory>
            <assetLocation>${K.location}</assetLocation>
            <purchaseDate>${K.purchase_date}</purchaseDate>
            <description>${K.description}</description>
            <assetType>${K.type??""}</assetType>
            <assetMake>${K.make??""}</assetMake>
            <assetModel>${K.model??""}</assetModel>
            <assetStatus>${K.status??""}</assetStatus>
            <lastMaintenance>${K.last_maintenance??""}</lastMaintenance>
            <nextMaintenance>${K.next_maintenance??""}</nextMaintenance>
            <workOrders>${K.work_orders??""}</workOrders>
            <health>${K.health??""}</health>
          </EditAsset>
        </soap:Body>
      </soap:Envelope>`;try{return await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/ERPService/AssetManagement/EditAsset"},body:G})}catch(ue){throw console.error("Error editing asset:",ue),ue}},[S]),L=b.useCallback(async K=>{const G=`<?xml version="1.0" encoding="utf-8"?>
    <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
      <soap:Body>
        <DeleteAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
          <assetId>${K}</assetId>
        </DeleteAsset>
      </soap:Body>
    </soap:Envelope>`;try{const ue=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/ERPService/AssetManagement/DeleteAsset"},body:G});if(console.log("ERP SOAP Delete Response:",ue),typeof ue=="string"&&ue.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return ue}catch(ue){throw console.error("Error deleting asset:",ue),ue}},[S]),I=b.useCallback(async()=>{try{const K=await S("/history?includes_trashed=true");return K&&K.history&&Array.isArray(K.history)?K.history:Array.isArray(K)?K:K&&Array.isArray(K.data)?K.data:(console.warn("Unexpected audit trail response format:",K),[])}catch(K){return console.error("Failed to fetch audit trail:",K),[]}},[S]),P=b.useCallback(K=>{var ue;if(!e)return!1;if(e.roleId==="3")return!0;if(Array.isArray(K))return K.some(pt=>{var kn;const un=/^\d+$/.test(pt)?yI(pt):pt;return un?(kn=e.permissions)==null?void 0:kn.includes(un):!1});const G=/^\d+$/.test(K)?yI(K):K;return G&&((ue=e.permissions)==null?void 0:ue.includes(G))||!1},[e]);b.useEffect(()=>{(async()=>{p(!0);try{if(await _(),r){const G=await A();c(G)}}catch{await N()}finally{p(!1),h(!1)}})()},[r,_,A,N]);const z=async(K,G,ue,pt,un,kn,Ns,Ui)=>{const go=await fetch(`${Vp.envVariables.VITE_REACT_API_URL}/register?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:K,nik:ue,email:G,password:pt,department:un,position:kn,role_id:Ns||null,customPermissions:Ui?Ui.map(Number):[]})}),xo=await go.json();if(!go.ok)throw new Error(xo.message||"User creation failed");return xo},U=b.useCallback(async(K,G)=>{p(!0);try{const ue=await fetch(`${Vp.envVariables.VITE_REACT_API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nik:K,password:G})});if(!ue.ok){const kn=await ue.json();throw new Error(kn.message||"Login failed")}const pt=await ue.json(),un=Qd({...pt.user,access_token:pt.access_token,refresh_token:pt.refresh_token,permissions:pt.user.permissions||pt.user.allPermissions||[]});localStorage.setItem("token",pt.access_token),localStorage.setItem("refreshToken",pt.refresh_token),localStorage.setItem("user",JSON.stringify(un)),s(pt.access_token),n(un);try{const kn=await A();c(kn)}catch{}w("/dashboard")}catch(ue){throw ue}finally{p(!1)}},[w,A]),V=b.useCallback(async K=>await S("/mhs?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),[S]),$=b.useCallback(async(K="")=>{try{const G=await S(K?`/mhs?search=${encodeURIComponent(K)}?includes_trashed=true`:"/mhs?includes_trashed=true"),ue=await A(),pt=G.data||G;if(!Array.isArray(pt))throw new Error("Invalid response format");return pt.map(un=>ole(un,ue))}catch{return[]}},[S,A]),R=b.useCallback(async K=>await S(`/mhs/${K}?includes_trashed=true`),[S]),W=b.useCallback(async(K,G)=>await S(`/mhs/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),[S]),q=b.useCallback(async K=>await S(`/mhs/${K}?includes_trashed=true`,{method:"DELETE"}),[S]),X=b.useCallback(async K=>await S("/ayam?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),[S]),H=b.useCallback(async()=>{const K=await S("/ayam?includes_trashed=true");return Array.isArray(K)?K:Array.isArray(K.data)?K.data:[]},[S]),J=b.useCallback(async K=>{const G=await S(`/ayam/${K}?includes_trashed=true`,{method:"GET"});return console.log("API raw response:",G),G},[S]),ne=b.useCallback(async K=>{if(!K.id)throw new Error("Work order ID is required for update.");return(await S(`/ayam/${K.id}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)})).data},[S]),fe=b.useCallback(async K=>await S(`/ayam/${K}?includes_trashed=true`,{method:"DELETE"}),[S]),de=b.useCallback(async K=>(await H()).filter(ue=>(ue.requester_id===parseInt(K)||ue.assigned_to_id===parseInt(K))&&(ue.handling_status==="New"||ue.handling_status==="Progress")),[H]),we=b.useCallback(async(K,G)=>{await S("/user/password-update?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:K,new_password:G,new_password_confirmation:G})})},[S]),Fe=b.useCallback(async()=>{try{const K=await S("/users?includes_trashed=true");let G;return K&&K.success!==void 0?G=K.data||[]:Array.isArray(K)?G=K:G=[],G.map(ue=>Qd(ue))}catch(K){return console.error("Failed to fetch users:",K),[]}},[S]);b.useCallback(async K=>{const G=await S(`/users/${K}?includes_trashed=true`);return Qd(G)},[S]);const $e=b.useCallback(async()=>(await S("/user/profile?includes_trashed=true")).map(G=>Qd(G)),[S]),be=b.useCallback(async()=>(await S("/roles?includes_trashed=true")).map(G=>({id:String(G.id),name:G.name,description:G.description||`${G.name} role`,permissions:G.permissions.map(String),isSuperadmin:G.name==="superadmin"})),[S]),Ee=b.useCallback(async K=>{const G=await S("/roles?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:K.name,description:K.description,permissions:K.permissions.map(Number)})});return{id:String(G.id),name:G.name,description:G.description,permissions:G.permissions.map(String)}},[S]),Ge=b.useCallback(async(K,G)=>{var pt;const ue=await S(`/roles/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:G.name,description:G.description,permissions:(pt=G.permissions)==null?void 0:pt.map(Number)})});return{id:String(ue.id),name:ue.name,description:ue.description,permissions:ue.permissions.map(String)}},[S]),ae=b.useCallback(async K=>{await S(`/roles/${K}?includes_trashed=true`,{method:"DELETE"})},[S]),oe=b.useCallback(async(K,G)=>{const ue=await S(`/users/${K}?includes_trashed=true`),pt=await S(`/users/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ue.name,nik:ue.nik,email:ue.email,department:ue.department,roleId:G.roleId||null,customPermissions:G.customPermissions||[]})});return Qd(pt)},[S]),Y=b.useCallback(async K=>{await S(`/users/${K}?includes_trashed=true`,{method:"DELETE"})},[S]),ce=b.useCallback(async()=>{try{return(await S("/service-groups?includes_trashed=true")).data||[]}catch(K){return console.error("Failed to fetch service groups:",K),[]}},[S]),Ie=b.useCallback(async K=>{try{return(await S(`/service-groups/${K}?includes_trashed=true`)).data}catch(G){throw console.error(`Failed to fetch service group with id ${K}:`,G),G}},[S]),We=b.useCallback(async K=>{try{const G=await S("/service-groups?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(!G)throw new Error("No response from server");if(G.success===!1)throw new Error(G.message||"Failed to create service group");const ue=G.data||G;return{id:ue.id,group_name:ue.group_name,group_description:ue.group_description}}catch(G){throw console.error("Error adding service group:",G),new Error(`Failed to add service group: ${G instanceof Error?G.message:String(G)}`)}},[S]),pe=b.useCallback(async(K,G)=>{try{const ue=await S(`/service-groups/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),pt=ue.data||ue;return{id:pt.id,group_name:pt.group_name,group_description:pt.group_description}}catch(ue){throw console.error(`Failed to update service group with id ${K}:`,ue),new Error(`Failed to update service group: ${ue instanceof Error?ue.message:String(ue)}`)}},[S]),Ne=b.useCallback(async K=>{try{await S(`/service-groups/${K}?includes_trashed=true`,{method:"DELETE"})}catch(G){throw console.error(`Failed to delete service group with id ${K}:`,G),new Error(`Failed to delete service group: ${G instanceof Error?G.message:String(G)}`)}},[S]),st=b.useCallback(async K=>{try{return(await S("/service-catalogues?includes_trashed=true")).data.map(ue=>({id:ue.id,service_name:ue.service_name,service_description:ue.service_description,service_type:ue.service_type,priority:ue.priority,service_owner:ue.service_owner,sla:ue.sla,impact:ue.impact,created_at:ue.created_at,updated_at:ue.updated_at}))}catch(G){return console.error("Failed to fetch services:",G),[]}},[S]),rt=b.useCallback(async K=>{try{const G=await S(`/service-catalogues?owner=${K}&includes_trashed=true`);return G.data||G}catch(G){return console.error("Failed to fetch services by owner:",G),[]}},[S]),Ve=b.useCallback(async K=>{try{const G=await S("/service-catalogues?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),ue=G.data||G;return{id:ue.id,service_name:ue.service_name,service_description:ue.service_description,service_type:ue.service_type,priority:ue.priority,service_owner:ue.service_owner,sla:ue.sla,impact:ue.impact,created_at:ue.created_at,updated_at:ue.updated_at}}catch(G){throw console.error("Error adding service catalogue:",G),new Error(`Failed to add service catalogue: ${G instanceof Error?G.message:String(G)}`)}},[S]),Ue=b.useCallback(async(K,G)=>{try{const ue=await S(`/service-catalogues/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),pt=ue.data||ue;return{id:pt.id,service_name:pt.service_name,service_description:pt.service_description,service_type:pt.service_type,priority:pt.priority,service_owner:pt.service_owner,sla:pt.sla,impact:pt.impact,created_at:pt.created_at,updated_at:pt.updated_at}}catch(ue){throw console.error(`Failed to update service catalogue with id ${K}:`,ue),new Error(`Failed to update service catalogue: ${ue instanceof Error?ue.message:String(ue)}`)}},[S]),Ye=b.useCallback(async K=>{try{await S(`/service-catalogues/${K}?includes_trashed=true`,{method:"DELETE"})}catch(G){throw console.error(`Failed to delete service catalogue with id ${K}:`,G),new Error(`Failed to delete service catalogue: ${G instanceof Error?G.message:String(G)}`)}},[S]),kt=b.useCallback(K=>{y(K)},[]),Oe=b.useCallback(async()=>{try{const K=await S("/department?includes_trashed=true");return K.data||K}catch(K){return console.error("Failed to fetch departments:",K),[]}},[S]),Xe=b.useCallback(async K=>(await S(`/department/${K}?includes_trashed=true`)).data,[S]),Pt=b.useCallback(async K=>await S("/department?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),[S]),Se=b.useCallback(async(K,G)=>{try{const ue=await S(`/department/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),pt=ue.data||ue;return{id:pt.id,name:pt.name,head_id:pt.head_id}}catch(ue){throw console.error(`Failed to update service group with id ${K}:`,ue),new Error(`Failed to update service group: ${ue instanceof Error?ue.message:String(ue)}`)}},[S]),bt=b.useCallback(async K=>{try{await S(`/department/${K}?includes_trashed=true`,{method:"DELETE"})}catch(G){throw console.error(`Failed to delete service catalogue with id ${K}:`,G),new Error(`Failed to delete service catalogue: ${G instanceof Error?G.message:String(G)}`)}},[S]),yt=b.useCallback(async()=>{try{const K=await S("/stoptime?includes_trashed=true");return Array.isArray(K)?K:K&&Array.isArray(K.data)?K.data:(console.warn("Unexpected stop times response format:",K),[])}catch(K){return console.error("Failed to fetch stop times:",K),[]}},[S]),Pe=b.useCallback(async K=>{try{const G=await S(`/stoptime/${K}`);if(console.log("StopTimes by ID response:",G),G&&typeof G=="object")return G.data?G.data:G;throw new Error("Invalid response format")}catch(G){throw console.error(`Failed to fetch stop time with id ${K}:`,G),new Error(`Failed to fetch stop time: ${G instanceof Error?G.message:String(G)}`)}},[S]),mt=b.useCallback(async K=>{try{return await S("/stoptime?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)})}catch(G){throw console.error("Error adding stop time:",G),new Error(`Failed to add stop time: ${G instanceof Error?G.message:String(G)}`)}},[S]),ht=b.useCallback(async(K,G)=>{try{const ue=await S(`/stoptime/${K}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(console.log("Update stop time response:",ue),ue&&typeof ue=="object")return ue.data?ue.data:ue;throw new Error("Invalid response format")}catch(ue){throw console.error(`Failed to update stop time with id ${K}:`,ue),new Error(`Failed to update stop time: ${ue instanceof Error?ue.message:String(ue)}`)}},[S]),vt=b.useCallback(async K=>{try{await S(`/stoptime/${K}?includes_trashed=true`,{method:"DELETE"})}catch(G){throw console.error(`Failed to delete stop time with id ${K}:`,G),new Error(`Failed to delete stop time: ${G instanceof Error?G.message:String(G)}`)}},[S]),ie=b.useCallback(async()=>{try{const K=await S("/jenisaktifitas?includes_trashed=true");return Array.isArray(K)?K:K&&Array.isArray(K.data)?K.data:(console.warn("Unexpected jenis aktifitas response format:",K),[])}catch(K){return console.error("Failed to fetch jenis aktifitas:",K),[]}},[S]),ve=b.useCallback(async K=>{try{const G=await S(`/jenisaktifitas/${K}`);if(console.log("Jenis Aktifitas by ID response:",G),G&&typeof G=="object")return G.data?G.data:G;throw new Error("Invalid response format")}catch(G){throw console.error(`Failed to fetch jenis aktifitas with id ${K}:`,G),new Error(`Failed to fetch jenis aktifitas: ${G instanceof Error?G.message:String(G)}`)}},[S]),je=b.useCallback(async K=>{try{return await S("/jenisaktifitas?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)})}catch(G){throw console.error("Error adding jenis aktifitas:",G),new Error(`Failed to add jenis aktifitas: ${G instanceof Error?G.message:String(G)}`)}},[S]),He=b.useCallback(async(K,G)=>{try{const ue=await S(`/jenisaktifitas/${K}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(console.log("Update jenis aktifitas response:",ue),ue&&typeof ue=="object")return ue.data?ue.data:ue;throw new Error("Invalid response format")}catch(ue){throw console.error(`Failed to update jenis aktifitas with id ${K}:`,ue),new Error(`Failed to update jenis aktifitas: ${ue instanceof Error?ue.message:String(ue)}`)}},[S]),Nt=b.useCallback(async K=>{try{await S(`/jenisaktifitas/${K}?includes_trashed=true`,{method:"DELETE"})}catch(G){throw console.error(`Failed to delete jenis aktifitas with id ${K}:`,G),new Error(`Failed to delete jenis aktifitas: ${G instanceof Error?G.message:String(G)}`)}},[S]),ge=b.useCallback(async()=>{try{const K=await S("/kegiatan?includes_trashed=true");return Array.isArray(K)?K:K&&Array.isArray(K.data)?K.data:(console.warn("Unexpected activity response format:",K),[])}catch(K){return console.error("Failed to fetch activity:",K),[]}},[S]),re=b.useCallback(async K=>{try{const G=await S(`/kegiatan/${K}?includes_trashed=true`);if(console.log("Activity by ID response:",G),G&&typeof G=="object")return G.data?G.data:G;throw new Error("Invalid response format")}catch(G){throw console.error(`Failed to fetch activity with id ${K}:`,G),new Error(`Failed to fetch activity: ${G instanceof Error?G.message:String(G)}`)}},[S]),ee=b.useCallback(async K=>{try{return await S("/kegiatan?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)})}catch(G){throw console.error("Error adding activity:",G),new Error(`Failed to add activity: ${G instanceof Error?G.message:String(G)}`)}},[S]),le=b.useCallback(async(K,G)=>{try{const ue=await S(`/kegiatan/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(console.log("Update activity response:",ue),ue&&typeof ue=="object")return ue.data?ue.data:ue;throw new Error("Invalid response format")}catch(ue){throw console.error(`Failed to update activity with id ${K}:`,ue),new Error(`Failed to update activity: ${ue instanceof Error?ue.message:String(ue)}`)}},[S]),xe=b.useCallback(async K=>{try{await S(`/kegiatan/${K}?includes_trashed=true`,{method:"DELETE"})}catch(G){throw console.error(`Failed to delete activity with id ${K}:`,G),new Error(`Failed to delete activity: ${G instanceof Error?G.message:String(G)}`)}},[S]),Me=b.useCallback(async()=>{try{const K=await S("/itemtrouble?includes_trashed=true");return Array.isArray(K)?K:K&&Array.isArray(K.data)?K.data:(console.warn("Unexpected trouble item response format:",K),[])}catch(K){return console.error("Failed to fetch trouble item:",K),[]}},[S]),Z=b.useCallback(async K=>{try{const G=await S(`/itemtrouble/${K}?includes_trashed=true`);if(console.log("Trouble Item by ID response:",G),G&&typeof G=="object")return G.data?G.data:G;throw new Error("Invalid response format")}catch(G){throw console.error(`Failed to fetch trouble item with id ${K}:`,G),new Error(`Failed to fetch trouble item: ${G instanceof Error?G.message:String(G)}`)}},[S]),se=b.useCallback(async K=>{try{return await S("/itemtrouble?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)})}catch(G){throw console.error("Error adding trouble item:",G),new Error(`Failed to add trouble item: ${G instanceof Error?G.message:String(G)}`)}},[S]),ke=b.useCallback(async(K,G)=>{try{const ue=await S(`/itemtrouble/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(console.log("Update trouble item response:",ue),ue&&typeof ue=="object")return ue.data?ue.data:ue;throw new Error("Invalid response format")}catch(ue){throw console.error(`Failed to update trouble item with id ${K}:`,ue),new Error(`Failed to update trouble item: ${ue instanceof Error?ue.message:String(ue)}`)}},[S]),Ze=b.useCallback(async K=>{try{await S(`/itemtrouble/${K}?includes_trashed=true`,{method:"DELETE"})}catch(G){throw console.error(`Failed to delete trouble item with id ${K}:`,G),new Error(`Failed to delete trouble item: ${G instanceof Error?G.message:String(G)}`)}},[S]),dt=b.useCallback(async()=>{try{const K=await S("/unit?includes_trashed=true");return Array.isArray(K)?K:K&&Array.isArray(K.data)?K.data:(console.warn("Unexpected Work Unit response format:",K),[])}catch(K){return console.error("Failed to fetch Work Unit:",K),[]}},[S]),Qe=b.useCallback(async K=>{try{const G=await S(`/unit/${K}?includes_trashed=true`);if(console.log("Work Unit by ID response:",G),G&&typeof G=="object")return G.data?G.data:G;throw new Error("Invalid response format")}catch(G){throw console.error(`Failed to fetch work unit with id ${K}:`,G),new Error(`Failed to fetch work unit: ${G instanceof Error?G.message:String(G)}`)}},[S]),Re=b.useCallback(async K=>{try{return await S("/unit?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)})}catch(G){throw console.error("Error adding work unit:",G),new Error(`Failed to add work unit: ${G instanceof Error?G.message:String(G)}`)}},[S]),at=b.useCallback(async(K,G)=>{try{const ue=await S(`/unit/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(console.log("Update work unit response:",ue),ue&&typeof ue=="object")return ue.data?ue.data:ue;throw new Error("Invalid response format")}catch(ue){throw console.error(`Failed to update work unit with id ${K}:`,ue),new Error(`Failed to update work unit: ${ue instanceof Error?ue.message:String(ue)}`)}},[S]),gt=b.useCallback(async K=>{try{await S(`/unit/${K}?includes_trashed=true`,{method:"DELETE"})}catch(G){throw console.error(`Failed to delete work unit with id ${K}:`,G),new Error(`Failed to delete work unit: ${G instanceof Error?G.message:String(G)}`)}},[S]),Jt=b.useCallback(async()=>{try{const K=await S("/group?includes_trashed=true");return Array.isArray(K)?K:K&&Array.isArray(K.data)?K.data:(console.warn("Unexpected Work Group response format:",K),[])}catch(K){return console.error("Failed to fetch Work Group:",K),[]}},[S]),Fn=b.useCallback(async K=>{try{const G=await S(`/group/${K}?includes_trashed=true`);if(console.log("Work Group by ID response:",G),G&&typeof G=="object")return G.data?G.data:G;throw new Error("Invalid response format")}catch(G){throw console.error(`Failed to fetch work group with id ${K}:`,G),new Error(`Failed to fetch work group: ${G instanceof Error?G.message:String(G)}`)}},[S]),ar=b.useCallback(async K=>{try{return await S("/group?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)})}catch(G){throw console.error("Error adding work group:",G),new Error(`Failed to add work group: ${G instanceof Error?G.message:String(G)}`)}},[S]),Ct=b.useCallback(async(K,G)=>{try{const ue=await S(`/group/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(console.log("Update work group response:",ue),ue&&typeof ue=="object")return ue.data?ue.data:ue;throw new Error("Invalid response format")}catch(ue){throw console.error(`Failed to update work group with id ${K}:`,ue),new Error(`Failed to update work group: ${ue instanceof Error?ue.message:String(ue)}`)}},[S]),Bt=b.useCallback(async K=>{try{await S(`/group/${K}?includes_trashed=true`,{method:"DELETE"})}catch(G){throw console.error(`Failed to delete work group with id ${K}:`,G),new Error(`Failed to delete work group: ${G instanceof Error?G.message:String(G)}`)}},[S]),Tt=b.useCallback(async()=>{try{const K=await S("/shift?includes_trashed=true");return Array.isArray(K)?K:K&&Array.isArray(K.data)?K.data:(console.warn("Unexpected Work Shift response format:",K),[])}catch(K){return console.error("Failed to fetch Work Shift:",K),[]}},[S]),$n=b.useCallback(async K=>{try{const G=await S(`/shift/${K}?includes_trashed=true`);if(console.log("Work Shift by ID response:",G),G&&typeof G=="object")return G.data?G.data:G;throw new Error("Invalid response format")}catch(G){throw console.error(`Failed to fetch work shift with id ${K}:`,G),new Error(`Failed to fetch work shift: ${G instanceof Error?G.message:String(G)}`)}},[S]),_e=b.useCallback(async K=>{try{return await S("/shift?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)})}catch(G){throw console.error("Error adding work shift:",G),new Error(`Failed to add work shift: ${G instanceof Error?G.message:String(G)}`)}},[S]),Be=b.useCallback(async(K,G)=>{try{const ue=await S(`/shift/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(console.log("Update work shift response:",ue),ue&&typeof ue=="object")return ue.data?ue.data:ue;throw new Error("Invalid response format")}catch(ue){throw console.error(`Failed to update work shift with id ${K}:`,ue),new Error(`Failed to update work shift: ${ue instanceof Error?ue.message:String(ue)}`)}},[S]),it=b.useCallback(async K=>{try{await S(`/shift/${K}?includes_trashed=true`,{method:"DELETE"})}catch(G){throw console.error(`Failed to delete work shift with id ${K}:`,G),new Error(`Failed to delete work shift: ${G instanceof Error?G.message:String(G)}`)}},[S]),he=b.useCallback(async K=>{try{const G=await S(`/unit/${K}?includes_trashed=true`);if(console.log("Unit by ID response:",G),G&&typeof G=="object")return G.success!==void 0&&G.data?G.data:G;throw new Error("Invalid response format")}catch(G){throw console.error(`Failed to fetch unit with id ${K}:`,G),new Error(`Failed to fetch unit: ${G instanceof Error?G.message:String(G)}`)}},[S]),ot=b.useCallback(async K=>{try{const G=await S(`/mesin/${K}?includes_trashed=true`);if(console.log("Mesin by ID response:",G),G&&typeof G=="object")return G.success!==void 0&&G.data?G.data:G;throw new Error("Invalid response format")}catch(G){throw console.error(`Failed to fetch mesin with id ${K}:`,G),new Error(`Failed to fetch mesin: ${G instanceof Error?G.message:String(G)}`)}},[S]),wt=b.useCallback(async()=>{try{const K=await S("/unit?includes_trashed=true");let G=[];return Array.isArray(K)?G=K:K&&Array.isArray(K.data)&&(G=K.data),await Promise.all(G.map(async pt=>{try{const un=await S(`/unit/${pt.id}?includes_trashed=true`);let kn=un;return un&&un.success!==void 0&&un.data&&(kn=un.data),{id:kn.id,name:kn.name,created_at:kn.created_at,updated_at:kn.updated_at,deleted_at:kn.deleted_at,mesin:kn.mesin||[]}}catch(un){return console.error(`Failed to get detail for unit ${pt.id}:`,un),{id:pt.id,name:pt.name,created_at:pt.created_at,updated_at:pt.updated_at,deleted_at:pt.deleted_at,mesin:[]}}}))}catch(K){return console.error("Failed to fetch units with machines:",K),[]}},[S]),xn=b.useCallback(async()=>{try{const K=await S("/interval?includes_trashed=true");let G=[];Array.isArray(K)?G=K:K&&Array.isArray(K.data)&&(G=K.data);const ue=await wt(),pt=await S("/mesin?includes_trashed=true");let un=[];return Array.isArray(pt)?un=pt:pt&&Array.isArray(pt.data)&&(un=pt.data),{unit:ue,mesin:un,unitsWithMachines:ue,intervals:G}}catch(K){return console.error("Error fetching master monitoring data:",K),{unit:[],mesin:[],unitsWithMachines:[],intervals:[]}}},[S,wt]),ur=b.useCallback(async()=>{try{const K=await S("/monitoring-schedules?includes_trashed=true");if(Array.isArray(K))return K;if(K&&K.success!==void 0){if(K.success&&Array.isArray(K.data))return K.data;if(K.success&&Array.isArray(K.result))return K.result}return K&&Array.isArray(K.data)?K.data:K&&Array.isArray(K.result)?K.result:(console.warn("Unexpected monitoring schedule response format:",K),[])}catch(K){throw console.error("Error fetching monitoring schedule:",K),new Error(`Failed to fetch monitoring schedule: ${K instanceof Error?K.message:String(K)}`)}},[S]),An=b.useCallback(async K=>{try{const G=await S(`/monitoring-schedules/${K}?includes_trashed=true`);if(console.log("Monitoring schedule by ID response:",G),G&&G.success!==void 0){if(G.success&&G.data)return G.data;if(!G.success)throw new Error(G.message||"Failed to fetch monitoring schedule")}if(G&&G.id_monitoring_schedule)return G;if(Array.isArray(G)&&G.length>0)return G[0];throw new Error("Invalid response format")}catch(G){if(console.error(`Failed to fetch monitoring schedule with id ${K}:`,G),G instanceof Error){if(G.message.includes("404"))throw new Error(`Monitoring schedule with id ${K} not found`);if(G.message.includes("401"))throw new Error("Unauthorized - Please login again")}throw new Error(`Failed to fetch monitoring schedule: ${G instanceof Error?G.message:String(G)}`)}},[S]),dn=b.useCallback(async K=>{try{const G=await S("/monitoring-schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(!G)throw new Error("No response from server");if(G.success===!1)throw new Error(G.message||"Failed to create monitoring schedule");const ue=G.data||G.result||G;if(!ue)throw new Error("Invalid response format");return ue}catch(G){if(console.error("Error adding monitoring schedule:",G),G instanceof Error){if(G.message.includes("401"))throw new Error("Unauthorized - Please login again");if(G.message.includes("404"))throw new Error("Endpoint not found");if(G.message.includes("500"))throw new Error("Server error - Please try again later")}throw new Error(`Failed to add monitoring schedule: ${G instanceof Error?G.message:String(G)}`)}},[S]),Is=b.useCallback(async K=>{try{const G=await S("/monitoring-activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected response format from monitoring-activities POST:",G),[])}catch(G){throw console.error("Error adding monitoring activities:",G),new Error(`Failed to add monitoring activities: ${G instanceof Error?G.message:String(G)}`)}},[S]),Ma=b.useCallback(async K=>{try{const G=K.map(pt=>({id_monitoring_activity:pt.id,...pt.data})),ue=await S("/monitoring-activities-batch",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});return Array.isArray(ue)?ue:ue&&Array.isArray(ue.data)?ue.data:(console.warn("Unexpected response format from monitoring-activities-batch PATCH:",ue),[])}catch(G){throw console.error("Error updating monitoring activities:",G),new Error(`Failed to update monitoring activities: ${G instanceof Error?G.message:String(G)}`)}},[S]),Zs=b.useCallback(async K=>{try{const G=await S(`/mesin/${K}?includes_trashed=true`);return console.log("Mesin detail response:",G),G&&G.success!==void 0?G.data:G}catch(G){throw console.error(`Failed to fetch mesin detail with id ${K}:`,G),new Error(`Failed to fetch mesin detail: ${G instanceof Error?G.message:String(G)}`)}},[S]),Qn=b.useCallback(async()=>{try{const K=await S("/vendor?includes_trashed=true");return K.data||K}catch(K){return console.error("Failed to fetch vendor:",K),[]}},[S]),yc=b.useCallback(async K=>(await S(`/vendor/${K}?includes_trashed=true`)).data,[S]),Rd=b.useCallback(async K=>await S("/vendor?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),[S]),Jx=b.useCallback(async(K,G)=>{try{const ue=await S(`/vendor/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),pt=ue.data||ue;return{id:pt.id,name:pt.name,address:pt.address,contact_person:pt.contact_person,email:pt.email,telp:pt.telp,HP:pt.HP}}catch(ue){throw console.error(`Failed to update vendor with id ${K}:`,ue),new Error(`Failed to update vendor: ${ue instanceof Error?ue.message:String(ue)}`)}},[S]),d2=b.useCallback(async K=>{try{await S(`/vendor/${K}?includes_trashed=true`,{method:"DELETE"})}catch(G){throw console.error(`Failed to delete vendor with id ${K}:`,G),new Error(`Failed to delete vendor: ${G instanceof Error?G.message:String(G)}`)}},[S]),vh=b.useCallback(async()=>{try{const K=await S("/approval-templates?includes_trashed=true");return K.data||K}catch(K){return console.error("Failed to fetch approval templates:",K),[]}},[S]),wh=b.useCallback(async K=>await S(`/approval-templates/${K}?includes_trashed=true`),[S]),Wi=b.useCallback(async K=>{const G=await S("/approval-templates?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});return G.data||G},[S]),Aa=b.useCallback(async(K,G)=>{const ue=await S(`/approval-templates/${K}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});return ue.data||ue},[S]),Qx=b.useCallback(async K=>{await S(`/approval-templates/${K}?includes_trashed=true`,{method:"DELETE"})},[S]),u2=b.useCallback(async(K,G)=>{const ue=await S(`/approval-templates/${K}/approvers?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});return ue.data||ue},[S]),Qm=b.useCallback(async(K,G,ue)=>{const pt=await S(`/template-approvers/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ue)});return pt.data||pt},[S]),Zx=b.useCallback(async(K,G)=>{await S(`/template-approvers/${G}?includes_trashed=true`,{method:"DELETE"})},[S]),jh=b.useCallback(async K=>(await S(`/approval-templates/${K}?includes_trashed=true`)).approvers||[],[S]),h2=b.useCallback(async K=>{const G=await S(`/approval-templates/${K}/set-active?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"}});return G.data||G},[S]),Oa=b.useCallback(async(K,G)=>{const ue=await S(`/schedules/${K}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comments:G})});return ue&&ue.message?{success:!0,message:ue.message,data:ue.data||ue}:ue},[S]);return a.jsx(KG.Provider,{value:{user:e,token:r,isAuthenticated:!!r,login:U,register:z,logout:N,isLoggingOut:i,fetchWithAuth:S,getAllMasterData:A,submitMachineHistory:V,getMachineHistories:$,getMachineHistoryById:R,updateMachineHistory:W,deleteMachineHistory:q,masterData:l,isMasterDataLoading:d,addWorkOrderIT:X,getWorkOrdersIT:H,updateWorkOrderIT:ne,deleteWorkOrder:fe,getWorkOrderById:J,departments:[],services:[],serviceGroups:[],getServices:st,getServicesByOwner:rt,addServiceCatalogue:Ve,updateServiceCatalogue:Ue,deleteServiceCatalogue:Ye,getServiceGroups:ce,getServiceGroup:Ie,addServiceGroup:We,updateServiceGroup:pe,deleteServiceGroup:Ne,changePassword:we,fetchUser:M,fetchedUsers:$e,getUsers:Fe,hasPermission:P,setEditingUser:kt,getRoles:be,createRole:Ee,updateRole:Ge,deleteRole:ae,updateUserPermissions:oe,deleteUser:Y,isAuthLoading:m,getERPData:O,addAsset:D,editAsset:F,deleteAsset:L,getWorkOrdersForUser:de,getAuditTrail:I,getDepartment:Oe,getDepartmentById:Xe,addDepartment:Pt,updateDepartment:Se,deleteDepartment:bt,getMonitoringSchedules:ur,addMonitoringSchedule:dn,addMonitoringActivities:Is,updateMonitoringActivity:Ma,getStopTimes:yt,getStopTimesById:Pe,addStopTimes:mt,updateStopTimes:ht,deleteStopTimes:vt,getActivityTypes:ie,getActivityTypesById:ve,addActivityTypes:je,updateActivityTypes:He,deleteActivityTypes:Nt,getActivity:ge,getActivityById:re,addActivity:ee,updateActivity:le,deleteActivity:xe,getTroubleItem:Me,getTroubleItemById:Z,addTroubleItem:se,updateTroubleItem:ke,deleteTroubleItem:Ze,getWorkUnit:dt,getWorkUnitById:Qe,addWorkUnit:Re,updateWorkUnit:at,deleteWorkUnit:gt,getWorkGroup:Jt,getWorkGroupById:Fn,addWorkGroup:ar,updateWorkGroup:Ct,deleteWorkGroup:Bt,getWorkShift:Tt,getWorkShiftById:$n,addWorkShift:_e,updateWorkShift:Be,deleteWorkShift:it,getUnit:he,getMesin:ot,getUnitsWithMachines:wt,getAllMasterMonitoring:xn,getMesinDetail:Zs,getMonitoringScheduleById:An,getVendor:Qn,getVendorById:yc,addVendor:Rd,updateVendor:Jx,deleteVendor:d2,getApprovalTemplates:vh,getApprovalTemplateById:wh,createApprovalTemplate:Wi,updateApprovalTemplate:Aa,deleteApprovalTemplate:Qx,addApproverToTemplate:u2,updateApprover:Qm,deleteApprover:Zx,getTemplateApprovers:jh,setApprovalTemplateActive:h2,approveSchedule:Oa},children:t})},_t=()=>{const t=b.useContext(KG);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},zf="/assets/logo-wida-OsCBOu3a.png";var XG={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vI=Q.createContext&&Q.createContext(XG),cle=["attr","size","title"];function dle(t,e){if(t==null)return{};var n=ule(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ule(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function hw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){hle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hle(t,e,n){return e=fle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fle(t){var e=mle(t,"string");return typeof e=="symbol"?e:e+""}function mle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JG(t){return t&&t.map((e,n)=>Q.createElement(e.tag,hw({key:n},e.attr),JG(e.child)))}function Xs(t){return e=>Q.createElement(ple,uw({attr:hw({},t.attr)},e),JG(t.child))}function ple(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=dle(t,cle),l=s||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Q.createElement("svg",uw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:hw(hw({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Q.createElement("title",null,i),t.children)};return vI!==void 0?Q.createElement(vI.Consumer,null,n=>e(n)):e(XG)}function hy(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function fw(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function gle(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function jI(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function xle(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function ble(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function Ov(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function Ev(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function yle(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function NI(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function SI(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function vle(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function wle(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(t)}function jle(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}function Nle(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function kI(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function Sle(t){return Xs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const fy=["Hello","Bonjour","Holla"," ","Salam","","Hallo","Namaste",""],kle=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState(!1),[h,m]=b.useState(!1),[p,x]=b.useState(fy[0]),[y,w]=b.useState(!1),{login:v}=_t(),N=St();b.useEffect(()=>{m(!0);let A;const O=setInterval(()=>{w(!0),A=setTimeout(()=>{x(D=>{const L=(fy.indexOf(D)+1)%fy.length;return fy[L]}),w(!1)},500)},3e3);return()=>{clearInterval(O),clearTimeout(A)}},[]);const C={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},S=y?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},M=async A=>{A.preventDefault(),l(""),d(!0);try{await v(t,n),N("/dashboard")}catch(O){l(O instanceof Error?O.message:"Login failed")}finally{d(!1)}},_=()=>{i(!s)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:a.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${h?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[a.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${h?"opacity-100":"opacity-0"}`,children:[a.jsx("img",{src:zf,alt:"Logo Wida",className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),a.jsx("h1",{style:{...C,...S},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${h?"opacity-100":"opacity-0"}`,children:p}),a.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"Welcome Back"}),a.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${h?"opacity-100":"opacity-0"}`,children:"Hey, welcome back to your special place"}),o&&a.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:o})]}),a.jsxs("form",{onSubmit:M,className:"space-y-6","aria-label":"Login Form",children:[a.jsxs("div",{className:`transition-all duration-500 ease-out delay-500 ${h?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{id:"nik",type:"text",placeholder:"Masukkan NIK Anda (16 digit)",value:t,onChange:A=>e(A.target.value),required:!0,autoComplete:"off",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                          transition-all duration-300 ease-in-out`})]}),a.jsxs("div",{className:`transition-all duration-500 ease-out delay-600 ${h?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",type:s?"text":"password",placeholder:"",value:n,onChange:A=>r(A.target.value),required:!0,autoComplete:"current-password",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                            transition-all duration-300 ease-in-out pr-10`}),a.jsx("button",{type:"button",onClick:_,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200","aria-label":s?"Hide password":"Show password",children:s?a.jsx(Ov,{size:18}):a.jsx(Ev,{size:18})})]}),a.jsx("div",{className:"flex justify-end mt-2",children:a.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-all duration-200",children:"Forgot Password?"})})]}),a.jsxs("div",{className:`flex items-center transition-all duration-500 ease-out delay-700 ${h?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),a.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 rounded-md text-base font-medium
                          transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                          ${c?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 transform hover:-translate-y-0.5"}
                          flex items-center justify-center
                          ${h?"translate-y-0 opacity-100 delay-800":"translate-y-5 opacity-0"}`,children:c?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Sign In"})]}),a.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-900 ${h?"opacity-100":"opacity-0"}`,children:["Don't have an account?"," ",a.jsx(rc,{to:"#",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:"Report to IT Department"})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:a.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-1000 ${h?"opacity-100":"opacity-0"}`,children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),a.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${h?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),a.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),a.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[a.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),a.jsx("div",{className:"text-purple-300 animate-pulse-light",children:a.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 20c-4.963 0-9-4.037-9-9s4.037-9 9-9 9 4.037 9 9-4.037 9-9 9zM10.5 7h3v3h-3V7zm-2 2h3v3h-3V9zm4 0h3v3h-3V9zm-2 2h3v3h-3v-3zm-2 2h3v3h-3v-3zm4 0h3v3h-3v-3zm-2 2h3v3h-3v-3z"})})}),a.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[a.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:a.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),a.jsx("p",{children:"Please enter your fingerprint to continue"})]})]}),a.jsx("div",{className:"absolute bottom-1/4 right-1 /4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:a.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},wD=b.createContext({});function jD(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const ND=typeof window<"u",QG=ND?b.useLayoutEffect:b.useEffect,Fj=b.createContext(null);function SD(t,e){t.indexOf(e)===-1&&t.push(e)}function kD(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const sc=(t,e,n)=>n>e?e:n<t?t:n;let CD=()=>{};const ac={},ZG=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function eY(t){return typeof t=="object"&&t!==null}const tY=t=>/^0[^.\s]+$/u.test(t);function _D(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ii=t=>t,Cle=(t,e)=>n=>e(t(n)),Cx=(...t)=>t.reduce(Cle),ug=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class TD{constructor(){this.subscriptions=[]}add(e){return SD(this.subscriptions,e),()=>kD(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Lo=t=>t*1e3,Ri=t=>t/1e3;function nY(t,e){return e?t*(1e3/e):0}const rY=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_le=1e-7,Tle=12;function Mle(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=rY(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>_le&&++l<Tle);return o}function _x(t,e,n,r){if(t===e&&n===r)return Ii;const s=i=>Mle(i,0,1,t,n);return i=>i===0||i===1?i:rY(s(i),e,r)}const sY=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,aY=t=>e=>1-t(1-e),iY=_x(.33,1.53,.69,.99),MD=aY(iY),oY=sY(MD),lY=t=>(t*=2)<1?.5*MD(t):.5*(2-Math.pow(2,-10*(t-1))),AD=t=>1-Math.sin(Math.acos(t)),cY=aY(AD),dY=sY(AD),Ale=_x(.42,0,1,1),Ole=_x(0,0,.58,1),uY=_x(.42,0,.58,1),Ele=t=>Array.isArray(t)&&typeof t[0]!="number",hY=t=>Array.isArray(t)&&typeof t[0]=="number",Dle={linear:Ii,easeIn:Ale,easeInOut:uY,easeOut:Ole,circIn:AD,circInOut:dY,circOut:cY,backIn:MD,backInOut:oY,backOut:iY,anticipate:lY},Ple=t=>typeof t=="string",CI=t=>{if(hY(t)){CD(t.length===4);const[e,n,r,s]=t;return _x(e,n,r,s)}else if(Ple(t))return Dle[t];return t},my=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Rle(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(d.schedule(h),t()),h(l)}const d={schedule:(h,m=!1,p=!1)=>{const y=p&&s?n:r;return m&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const Lle=40;function fY(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=my.reduce((S,M)=>(S[M]=Rle(i),S),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:m,preRender:p,render:x,postRender:y}=o,w=()=>{const S=ac.useManualTiming?s.timestamp:performance.now();n=!1,ac.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(S-s.timestamp,Lle),1)),s.timestamp=S,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),h.process(s),m.process(s),p.process(s),x.process(s),y.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(w))},v=()=>{n=!0,r=!0,s.isProcessing||t(w)};return{schedule:my.reduce((S,M)=>{const _=o[M];return S[M]=(A,O=!1,D=!1)=>(n||v(),_.schedule(A,O,D)),S},{}),cancel:S=>{for(let M=0;M<my.length;M++)o[my[M]].cancel(S)},state:s,steps:o}}const{schedule:Mr,cancel:bd,state:Ws,steps:Sk}=fY(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ii,!0);let Dv;function Ile(){Dv=void 0}const za={now:()=>(Dv===void 0&&za.set(Ws.isProcessing||ac.useManualTiming?Ws.timestamp:performance.now()),Dv),set:t=>{Dv=t,queueMicrotask(Ile)}},mY=t=>e=>typeof e=="string"&&e.startsWith(t),OD=mY("--"),Fle=mY("var(--"),ED=t=>Fle(t)?$le.test(t.split("/*")[0].trim()):!1,$le=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Im={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hg={...Im,transform:t=>sc(0,1,t)},py={...Im,default:1},L0=t=>Math.round(t*1e5)/1e5,DD=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hle(t){return t==null}const zle=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,PD=(t,e)=>n=>!!(typeof n=="string"&&zle.test(n)&&n.startsWith(t)||e&&!Hle(n)&&Object.prototype.hasOwnProperty.call(n,e)),pY=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(DD);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Ble=t=>sc(0,255,t),kk={...Im,transform:t=>Math.round(Ble(t))},xu={test:PD("rgb","red"),parse:pY("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+kk.transform(t)+", "+kk.transform(e)+", "+kk.transform(n)+", "+L0(hg.transform(r))+")"};function Vle(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const uA={test:PD("#"),parse:Vle,transform:xu.transform},Tx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qc=Tx("deg"),Io=Tx("%"),Xt=Tx("px"),Wle=Tx("vh"),Ule=Tx("vw"),_I={...Io,parse:t=>Io.parse(t)/100,transform:t=>Io.transform(t*100)},xf={test:PD("hsl","hue"),parse:pY("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Io.transform(L0(e))+", "+Io.transform(L0(n))+", "+L0(hg.transform(r))+")"},cs={test:t=>xu.test(t)||uA.test(t)||xf.test(t),parse:t=>xu.test(t)?xu.parse(t):xf.test(t)?xf.parse(t):uA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xu.transform(t):xf.transform(t),getAnimatableNone:t=>{const e=cs.parse(t);return e.alpha=0,cs.transform(e)}},qle=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gle(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(DD))==null?void 0:e.length)||0)+(((n=t.match(qle))==null?void 0:n.length)||0)>0}const gY="number",xY="color",Yle="var",Kle="var(",TI="${}",Xle=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(Xle,c=>(cs.test(c)?(r.color.push(i),s.push(xY),n.push(cs.parse(c))):c.startsWith(Kle)?(r.var.push(i),s.push(Yle),n.push(c)):(r.number.push(i),s.push(gY),n.push(parseFloat(c))),++i,TI)).split(TI);return{values:n,split:l,indexes:r,types:s}}function bY(t){return fg(t).values}function yY(t){const{split:e,types:n}=fg(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===gY?i+=L0(s[o]):l===xY?i+=cs.transform(s[o]):i+=s[o]}return i}}const Jle=t=>typeof t=="number"?0:cs.test(t)?cs.getAnimatableNone(t):t;function Qle(t){const e=bY(t);return yY(t)(e.map(Jle))}const yd={test:Gle,parse:bY,createTransformer:yY,getAnimatableNone:Qle};function Ck(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zle({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=Ck(c,l,t+1/3),i=Ck(c,l,t),o=Ck(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function mw(t,e){return n=>n>0?e:t}const Pr=(t,e,n)=>t+(e-t)*n,_k=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},ece=[uA,xu,xf],tce=t=>ece.find(e=>e.test(t));function MI(t){const e=tce(t);if(!e)return!1;let n=e.parse(t);return e===xf&&(n=Zle(n)),n}const AI=(t,e)=>{const n=MI(t),r=MI(e);if(!n||!r)return mw(t,e);const s={...n};return i=>(s.red=_k(n.red,r.red,i),s.green=_k(n.green,r.green,i),s.blue=_k(n.blue,r.blue,i),s.alpha=Pr(n.alpha,r.alpha,i),xu.transform(s))},hA=new Set(["none","hidden"]);function nce(t,e){return hA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rce(t,e){return n=>Pr(t,e,n)}function RD(t){return typeof t=="number"?rce:typeof t=="string"?ED(t)?mw:cs.test(t)?AI:ice:Array.isArray(t)?vY:typeof t=="object"?cs.test(t)?AI:sce:mw}function vY(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>RD(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function sce(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=RD(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function ace(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],l=t.values[o]??0;n[s]=l,r[i]++}return n}const ice=(t,e)=>{const n=yd.createTransformer(e),r=fg(t),s=fg(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?hA.has(t)&&!s.values.length||hA.has(e)&&!r.values.length?nce(t,e):Cx(vY(ace(r,s),s.values),n):mw(t,e)};function wY(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pr(t,e,n):RD(t)(t,e)}const oce=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Mr.update(e,n),stop:()=>bd(e),now:()=>Ws.isProcessing?Ws.timestamp:za.now()}},jY=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},pw=2e4;function LD(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<pw;)e+=n,r=t.next(e);return e>=pw?1/0:e}function lce(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(LD(r),pw);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Ri(s)}}const cce=5;function NY(t,e,n){const r=Math.max(e-cce,0);return nY(n-t(r),e-r)}const zr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tk=.001;function dce({duration:t=zr.duration,bounce:e=zr.bounce,velocity:n=zr.velocity,mass:r=zr.mass}){let s,i,o=1-e;o=sc(zr.minDamping,zr.maxDamping,o),t=sc(zr.minDuration,zr.maxDuration,Ri(t)),o<1?(s=d=>{const h=d*o,m=h*t,p=h-n,x=fA(d,o),y=Math.exp(-m);return Tk-p/x*y},i=d=>{const m=d*o*t,p=m*n+n,x=Math.pow(o,2)*Math.pow(d,2)*t,y=Math.exp(-m),w=fA(Math.pow(d,2),o);return(-s(d)+Tk>0?-1:1)*((p-x)*y)/w}):(s=d=>{const h=Math.exp(-d*t),m=(d-n)*t+1;return-Tk+h*m},i=d=>{const h=Math.exp(-d*t),m=(n-d)*(t*t);return h*m});const l=5/t,c=hce(s,i,l);if(t=Lo(t),isNaN(c))return{stiffness:zr.stiffness,damping:zr.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const uce=12;function hce(t,e,n){let r=n;for(let s=1;s<uce;s++)r=r-t(r)/e(r);return r}function fA(t,e){return t*Math.sqrt(1-e*e)}const fce=["duration","bounce"],mce=["stiffness","damping","mass"];function OI(t,e){return e.some(n=>t[n]!==void 0)}function pce(t){let e={velocity:zr.velocity,stiffness:zr.stiffness,damping:zr.damping,mass:zr.mass,isResolvedFromDuration:!1,...t};if(!OI(t,mce)&&OI(t,fce))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*sc(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:zr.mass,stiffness:s,damping:i}}else{const n=dce(t);e={...e,...n,mass:zr.mass},e.isResolvedFromDuration=!0}return e}function gw(t=zr.visualDuration,e=zr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:h,duration:m,velocity:p,isResolvedFromDuration:x}=pce({...n,velocity:-Ri(n.velocity||0)}),y=p||0,w=d/(2*Math.sqrt(c*h)),v=o-i,N=Ri(Math.sqrt(c/h)),C=Math.abs(v)<5;r||(r=C?zr.restSpeed.granular:zr.restSpeed.default),s||(s=C?zr.restDelta.granular:zr.restDelta.default);let S;if(w<1){const _=fA(N,w);S=A=>{const O=Math.exp(-w*N*A);return o-O*((y+w*N*v)/_*Math.sin(_*A)+v*Math.cos(_*A))}}else if(w===1)S=_=>o-Math.exp(-N*_)*(v+(y+N*v)*_);else{const _=N*Math.sqrt(w*w-1);S=A=>{const O=Math.exp(-w*N*A),D=Math.min(_*A,300);return o-O*((y+w*N*v)*Math.sinh(D)+_*v*Math.cosh(D))/_}}const M={calculatedDuration:x&&m||null,next:_=>{const A=S(_);if(x)l.done=_>=m;else{let O=_===0?y:0;w<1&&(O=_===0?Lo(y):NY(S,_,A));const D=Math.abs(O)<=r,F=Math.abs(o-A)<=s;l.done=D&&F}return l.value=l.done?o:A,l},toString:()=>{const _=Math.min(LD(M),pw),A=jY(O=>M.next(_*O).value,_,30);return _+"ms "+A},toTransition:()=>{}};return M}gw.applyToOptions=t=>{const e=lce(t,100,gw);return t.ease=e.ease,t.duration=Lo(e.duration),t.type="keyframes",t};function mA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const m=t[0],p={done:!1,value:m},x=D=>l!==void 0&&D<l||c!==void 0&&D>c,y=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let w=n*e;const v=m+w,N=o===void 0?v:o(v);N!==v&&(w=N-m);const C=D=>-w*Math.exp(-D/r),S=D=>N+C(D),M=D=>{const F=C(D),L=S(D);p.done=Math.abs(F)<=d,p.value=p.done?N:L};let _,A;const O=D=>{x(p.value)&&(_=D,A=gw({keyframes:[p.value,y(p.value)],velocity:NY(S,D,p.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return O(0),{calculatedDuration:null,next:D=>{let F=!1;return!A&&_===void 0&&(F=!0,M(D),O(D)),_!==void 0&&D>=_?A.next(D-_):(!F&&M(D),p)}}}function gce(t,e,n){const r=[],s=n||ac.mix||wY,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ii:e;l=Cx(c,l)}r.push(l)}return r}function xce(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(CD(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=gce(e,r,s),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const p=ug(t[m],t[m+1],h);return l[m](p)};return n?h=>d(sc(t[0],t[i-1],h)):d}function bce(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ug(0,e,r);t.push(Pr(n,1,s))}}function yce(t){const e=[0];return bce(e,t.length-1),e}function vce(t,e){return t.map(n=>n*e)}function wce(t,e){return t.map(()=>e||uY).splice(0,t.length-1)}function I0({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Ele(r)?r.map(CI):CI(r),i={done:!1,value:e[0]},o=vce(n&&n.length===e.length?n:yce(e),t),l=xce(o,e,{ease:Array.isArray(s)?s:wce(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const jce=t=>t!==null;function ID(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(jce),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const Nce={decay:mA,inertia:mA,tween:I0,keyframes:I0,spring:gw};function SY(t){typeof t.type=="string"&&(t.type=Nce[t.type])}class FD{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Sce=t=>t/100;class $D extends FD{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==za.now()&&this.tick(za.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;SY(e);const{type:n=I0,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=n||I0;c!==I0&&typeof l[0]!="number"&&(this.mixKeyframes=Cx(Sce,wY(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=LD(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:p,repeatDelay:x,type:y,onUpdate:w,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,M=r;if(m){const D=Math.min(this.currentTime,s)/l;let F=Math.floor(D),L=D%1;!L&&D>=1&&(L=1),L===1&&F--,F=Math.min(F,m+1),!!(F%2)&&(p==="reverse"?(L=1-L,x&&(L-=x/l)):p==="mirror"&&(M=o)),S=sc(0,1,L)*l}const _=C?{done:!1,value:h[0]}:M.next(S);i&&(_.value=i(_.value));let{done:A}=_;!C&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return O&&y!==mA&&(_.value=ID(h,this.options,v,this.speed)),w&&w(_.value),O&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return Ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(this.currentTime)}set time(e){var n;e=Lo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(za.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ri(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=oce,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(za.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function kce(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const bu=t=>t*180/Math.PI,pA=t=>{const e=bu(Math.atan2(t[1],t[0]));return gA(e)},Cce={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:pA,rotateZ:pA,skewX:t=>bu(Math.atan(t[1])),skewY:t=>bu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gA=t=>(t=t%360,t<0&&(t+=360),t),EI=pA,DI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),PI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_ce={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:DI,scaleY:PI,scale:t=>(DI(t)+PI(t))/2,rotateX:t=>gA(bu(Math.atan2(t[6],t[5]))),rotateY:t=>gA(bu(Math.atan2(-t[2],t[0]))),rotateZ:EI,rotate:EI,skewX:t=>bu(Math.atan(t[4])),skewY:t=>bu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function xA(t){return t.includes("scale")?1:0}function bA(t,e){if(!t||t==="none")return xA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=_ce,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Cce,s=l}if(!s)return xA(e);const i=r[e],o=s[1].split(",").map(Mce);return typeof i=="function"?i(o):o[i]}const Tce=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return bA(n,e)};function Mce(t){return parseFloat(t.trim())}const Fm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$m=new Set(Fm),RI=t=>t===Im||t===Xt,Ace=new Set(["x","y","z"]),Oce=Fm.filter(t=>!Ace.has(t));function Ece(t){const e=[];return Oce.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ou={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>bA(e,"x"),y:(t,{transform:e})=>bA(e,"y")};Ou.translateX=Ou.x;Ou.translateY=Ou.y;const Eu=new Set;let yA=!1,vA=!1,wA=!1;function kY(){if(vA){const t=Array.from(Eu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Ece(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vA=!1,yA=!1,Eu.forEach(t=>t.complete(wA)),Eu.clear()}function CY(){Eu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vA=!0)})}function Dce(){wA=!0,CY(),kY(),wA=!1}class HD{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Eu.add(this),yA||(yA=!0,Mr.read(CY),Mr.resolveKeyframes(kY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}kce(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Eu.delete(this)}cancel(){this.state==="scheduled"&&(Eu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Pce=t=>t.startsWith("--");function Rce(t,e,n){Pce(e)?t.style.setProperty(e,n):t.style[e]=n}const Lce=_D(()=>window.ScrollTimeline!==void 0),Ice={};function Fce(t,e){const n=_D(t);return()=>Ice[e]??n()}const _Y=Fce(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),y0=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,LI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:y0([0,.65,.55,1]),circOut:y0([.55,0,1,.45]),backIn:y0([.31,.01,.66,-.59]),backOut:y0([.33,1.53,.69,.99])};function TY(t,e){if(t)return typeof t=="function"?_Y()?jY(t,e):"ease-out":hY(t)?y0(t):Array.isArray(t)?t.map(n=>TY(n,e)||LI.easeOut):LI[t]}function $ce(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:n};c&&(h.offset=c);const m=TY(l,s);Array.isArray(m)&&(h.easing=m);const p={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(h,p)}function MY(t){return typeof t=="function"&&"applyToOptions"in t}function Hce({type:t,...e}){return MY(t)&&_Y()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zce extends FD{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,CD(typeof e.type!="string");const d=Hce(e);this.animation=$ce(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=ID(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):Rce(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Lo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Lce()?(this.animation.timeline=e,Ii):n(this)}}const AY={anticipate:lY,backInOut:oY,circInOut:dY};function Bce(t){return t in AY}function Vce(t){typeof t.ease=="string"&&Bce(t.ease)&&(t.ease=AY[t.ease])}const II=10;class Wce extends zce{constructor(e){Vce(e),SY(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new $D({...o,autoplay:!1}),c=Lo(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-II).value,l.sample(c).value,II),l.stop()}}const FI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yd.test(t)||t==="0")&&!t.startsWith("url("));function Uce(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qce(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=FI(s,e),l=FI(i,e);return!o||!l?!1:Uce(t)||(n==="spring"||MY(n))&&r}function jA(t){t.duration=0,t.type="keyframes"}const Gce=new Set(["opacity","clipPath","filter","transform"]),Yce=_D(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kce(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Yce()&&n&&Gce.has(n)&&(n!=="transform"||!d)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const Xce=40;class Jce extends FD{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...m}){var y;super(),this.stop=()=>{var w,v;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=za.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:h,...m},x=(h==null?void 0:h.KeyframeResolver)||HD;this.keyframeResolver=new x(l,(w,v,N)=>this.onKeyframesResolved(w,v,p,!N),c,d,h),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=r;this.resolvedAt=za.now(),qce(e,i,o,l)||((ac.instantAnimations||!c)&&(h==null||h(ID(e,r,n))),e[0]=e[e.length-1],jA(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Xce?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!d&&Kce(p)?new Wce({...p,element:p.motionValue.owner.current}):new $D(p);x.finished.then(()=>this.notifyFinished()).catch(Ii),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Dce()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Qce=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Zce(t){const e=Qce.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function OY(t,e,n=1){const[r,s]=Zce(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return ZG(o)?parseFloat(o):o}return ED(s)?OY(s,e,n+1):s}function zD(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const EY=new Set(["width","height","top","left","right","bottom",...Fm]),ede={test:t=>t==="auto",parse:t=>t},DY=t=>e=>e.test(t),PY=[Im,Xt,Io,qc,Ule,Wle,ede],$I=t=>PY.find(DY(t));function tde(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||tY(t):!0}const nde=new Set(["brightness","contrast","saturate","opacity"]);function rde(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(DD)||[];if(!r)return t;const s=n.replace(r,"");let i=nde.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const sde=/\b([a-z-]*)\(.*?\)/gu,NA={...yd,getAnimatableNone:t=>{const e=t.match(sde);return e?e.map(rde).join(" "):t}},HI={...Im,transform:Math.round},ade={rotate:qc,rotateX:qc,rotateY:qc,rotateZ:qc,scale:py,scaleX:py,scaleY:py,scaleZ:py,skew:qc,skewX:qc,skewY:qc,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:hg,originX:_I,originY:_I,originZ:Xt},BD={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,backgroundPositionX:Xt,backgroundPositionY:Xt,...ade,zIndex:HI,fillOpacity:hg,strokeOpacity:hg,numOctaves:HI},ide={...BD,color:cs,backgroundColor:cs,outlineColor:cs,fill:cs,stroke:cs,borderColor:cs,borderTopColor:cs,borderRightColor:cs,borderBottomColor:cs,borderLeftColor:cs,filter:NA,WebkitFilter:NA},RY=t=>ide[t];function LY(t,e){let n=RY(t);return n!==NA&&(n=yd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ode=new Set(["auto","none","0"]);function lde(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!ode.has(i)&&fg(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=LY(n,s)}class cde extends HD{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),ED(d))){const h=OY(d,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!EY.has(r)||e.length!==2)return;const[s,i]=e,o=$I(s),l=$I(i);if(o!==l)if(RI(o)&&RI(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Ou[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||tde(e[s]))&&r.push(s);r.length&&lde(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ou[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ou[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function dde(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const IY=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function FY(t){return eY(t)&&"offsetHeight"in t}const zI=30,ude=t=>!isNaN(parseFloat(t));class hde{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=za.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=za.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ude(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new TD);const r=this.events[e].add(n);return e==="change"?()=>{r(),Mr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=za.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zI);return nY(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bf(t,e){return new hde(t,e)}const{schedule:VD}=fY(queueMicrotask,!1),Qi={x:!1,y:!1};function $Y(){return Qi.x||Qi.y}function fde(t){return t==="x"||t==="y"?Qi[t]?null:(Qi[t]=!0,()=>{Qi[t]=!1}):Qi.x||Qi.y?null:(Qi.x=Qi.y=!0,()=>{Qi.x=Qi.y=!1})}function HY(t,e){const n=dde(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function BI(t){return!(t.pointerType==="touch"||$Y())}function mde(t,e,n={}){const[r,s,i]=HY(t,n),o=l=>{if(!BI(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=m=>{BI(m)&&(d(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const zY=(t,e)=>e?t===e?!0:zY(t,e.parentElement):!1,WD=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pde=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gde(t){return pde.has(t.tagName)||t.tabIndex!==-1}const Pv=new WeakSet;function VI(t){return e=>{e.key==="Enter"&&t(e)}}function Mk(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xde=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=VI(()=>{if(Pv.has(n))return;Mk(n,"down");const s=VI(()=>{Mk(n,"up")}),i=()=>Mk(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function WI(t){return WD(t)&&!$Y()}function bde(t,e,n={}){const[r,s,i]=HY(t,n),o=l=>{const c=l.currentTarget;if(!WI(l))return;Pv.add(c);const d=e(c,l),h=(x,y)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),Pv.has(c)&&Pv.delete(c),WI(x)&&typeof d=="function"&&d(x,{success:y})},m=x=>{h(x,c===window||c===document||n.useGlobalTarget||zY(c,x.target))},p=x=>{h(x,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",p,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),FY(l)&&(l.addEventListener("focus",d=>xde(d,s)),!gde(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function BY(t){return eY(t)&&"ownerSVGElement"in t}function yde(t){return BY(t)&&t.tagName==="svg"}const la=t=>!!(t&&t.getVelocity),vde=[...PY,cs,yd],wde=t=>vde.find(DY(t)),UD=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function UI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jde(...t){return e=>{let n=!1;const r=t.map(s=>{const i=UI(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():UI(t[s],null)}}}}function Nde(...t){return b.useCallback(jde(...t),t)}class Sde extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=FY(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function kde({children:t,isPresent:e,anchorX:n,root:r}){const s=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=b.useContext(UD),c=Nde(i,t==null?void 0:t.ref);return b.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:p,right:x}=o.current;if(e||!i.current||!d||!h)return;const y=n==="left"?`left: ${p}`:`right: ${x}`;i.current.dataset.motionPopId=s;const w=document.createElement("style");l&&(w.nonce=l);const v=r??document.head;return v.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${y}px !important;
            top: ${m}px !important;
          }
        `),()=>{v.contains(w)&&v.removeChild(w)}},[e]),a.jsx(Sde,{isPresent:e,childRef:i,sizeRef:o,children:b.cloneElement(t,{ref:c})})}const Cde=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=jD(_de),h=b.useId();let m=!0,p=b.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:n,custom:s,onExitComplete:x=>{d.set(x,!0);for(const y of d.values())if(!y)return;r&&r()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[n,d,r]);return i&&m&&(p={...p}),b.useMemo(()=>{d.forEach((x,y)=>d.set(y,!1))},[n]),b.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(t=a.jsx(kde,{isPresent:n,anchorX:l,root:c,children:t})),a.jsx(Fj.Provider,{value:p,children:t})};function _de(){return new Map}function VY(t=!0){const e=b.useContext(Fj);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=b.useId();b.useEffect(()=>{if(t)return s(i)},[t]);const o=b.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const gy=t=>t.key||"";function qI(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const qe=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,h]=VY(o),m=b.useMemo(()=>qI(t),[t]),p=o&&!d?[]:m.map(gy),x=b.useRef(!0),y=b.useRef(m),w=jD(()=>new Map),[v,N]=b.useState(m),[C,S]=b.useState(m);QG(()=>{x.current=!1,y.current=m;for(let A=0;A<C.length;A++){const O=gy(C[A]);p.includes(O)?w.delete(O):w.get(O)!==!0&&w.set(O,!1)}},[C,p.length,p.join("-")]);const M=[];if(m!==v){let A=[...m];for(let O=0;O<C.length;O++){const D=C[O],F=gy(D);p.includes(F)||(A.splice(O,0,D),M.push(D))}return i==="wait"&&M.length&&(A=M),S(qI(A)),N(m),null}const{forceRender:_}=b.useContext(wD);return a.jsx(a.Fragment,{children:C.map(A=>{const O=gy(A),D=o&&!d?!1:m===C||p.includes(O),F=()=>{if(w.has(O))w.set(O,!0);else return;let L=!0;w.forEach(I=>{I||(L=!1)}),L&&(_==null||_(),S(y.current),o&&(h==null||h()),r&&r())};return a.jsx(Cde,{isPresent:D,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:D?void 0:F,anchorX:l,children:A},O)})})},WY=b.createContext({strict:!1}),GI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vf={};for(const t in GI)Vf[t]={isEnabled:e=>GI[t].some(n=>!!e[n])};function Tde(t){for(const e in t)Vf[e]={...Vf[e],...t[e]}}const Mde=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Mde.has(t)}let UY=t=>!xw(t);function Ade(t){typeof t=="function"&&(UY=e=>e.startsWith("on")?!xw(e):t(e))}try{Ade(require("@emotion/is-prop-valid").default)}catch{}function Ode(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(UY(s)||n===!0&&xw(s)||!e&&!xw(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const $j=b.createContext({});function Hj(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function mg(t){return typeof t=="string"||Array.isArray(t)}const qD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],GD=["initial",...qD];function zj(t){return Hj(t.animate)||GD.some(e=>mg(t[e]))}function qY(t){return!!(zj(t)||t.variants)}function Ede(t,e){if(zj(t)){const{initial:n,animate:r}=t;return{initial:n===!1||mg(n)?n:void 0,animate:mg(r)?r:void 0}}return t.inherit!==!1?e:{}}function Dde(t){const{initial:e,animate:n}=Ede(t,b.useContext($j));return b.useMemo(()=>({initial:e,animate:n}),[YI(e),YI(n)])}function YI(t){return Array.isArray(t)?t.join(" "):t}const pg={};function Pde(t){for(const e in t)pg[e]=t[e],OD(e)&&(pg[e].isCSSVariable=!0)}function GY(t,{layout:e,layoutId:n}){return $m.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pg[t]||t==="opacity")}const Rde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lde=Fm.length;function Ide(t,e,n){let r="",s=!0;for(let i=0;i<Lde;i++){const o=Fm[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=IY(l,BD[o]);if(!c){s=!1;const h=Rde[o]||o;r+=`${h}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function YD(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if($m.has(c)){o=!0;continue}else if(OD(c)){s[c]=d;continue}else{const h=IY(d,BD[c]);c.startsWith("origin")?(l=!0,i[c]=h):r[c]=h}}if(e.transform||(o||n?r.transform=Ide(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=i;r.transformOrigin=`${c} ${d} ${h}`}}const KD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YY(t,e,n){for(const r in e)!la(e[r])&&!GY(r,n)&&(t[r]=e[r])}function Fde({transformTemplate:t},e){return b.useMemo(()=>{const n=KD();return YD(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $de(t,e){const n=t.style||{},r={};return YY(r,n,t),Object.assign(r,Fde(t,e)),r}function Hde(t,e){const n={},r=$de(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const zde={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bde={offset:"strokeDashoffset",array:"strokeDasharray"};function Vde(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?zde:Bde;t[i.offset]=Xt.transform(-r);const o=Xt.transform(e),l=Xt.transform(n);t[i.array]=`${o} ${l}`}function KY(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,d,h){if(YD(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&Vde(m,s,i,o,!1)}const XY=()=>({...KD(),attrs:{}}),JY=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Wde(t,e,n,r){const s=b.useMemo(()=>{const i=XY();return KY(i,e,JY(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};YY(i,t.style,t),s.style={...i,...s.style}}return s}const Ude=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XD(t){return typeof t!="string"||t.includes("-")?!1:!!(Ude.indexOf(t)>-1||/[A-Z]/u.test(t))}function qde(t,e,n,{latestValues:r},s,i=!1){const l=(XD(t)?Wde:Hde)(e,r,s,t),c=Ode(e,typeof t=="string",i),d=t!==b.Fragment?{...c,...l,ref:n}:{},{children:h}=e,m=b.useMemo(()=>la(h)?h.get():h,[h]);return b.createElement(t,{...d,children:m})}function KI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function JD(t,e,n,r){if(typeof e=="function"){const[s,i]=KI(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=KI(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Rv(t){return la(t)?t.get():t}function Gde({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Yde(n,r,s,t),renderState:e()}}function Yde(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Rv(i[p]);let{initial:o,animate:l}=t;const c=zj(t),d=qY(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Hj(m)){const p=Array.isArray(m)?m:[m];for(let x=0;x<p.length;x++){const y=JD(t,p[x]);if(y){const{transitionEnd:w,transition:v,...N}=y;for(const C in N){let S=N[C];if(Array.isArray(S)){const M=h?S.length-1:0;S=S[M]}S!==null&&(s[C]=S)}for(const C in w)s[C]=w[C]}}}return s}const QY=t=>(e,n)=>{const r=b.useContext($j),s=b.useContext(Fj),i=()=>Gde(t,e,r,s);return n?i():jD(i)};function QD(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(la(r[o])||e.style&&la(e.style[o])||GY(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Kde=QY({scrapeMotionValuesFromProps:QD,createRenderState:KD});function ZY(t,e,n){const r=QD(t,e,n);for(const s in t)if(la(t[s])||la(e[s])){const i=Fm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Xde=QY({scrapeMotionValuesFromProps:ZY,createRenderState:XY}),Jde=Symbol.for("motionComponentSymbol");function bf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Qde(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):bf(n)&&(n.current=r))},[e])}const ZD=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zde="framerAppearId",eK="data-"+ZD(Zde),tK=b.createContext({});function eue(t,e,n,r,s){var w,v;const{visualElement:i}=b.useContext($j),o=b.useContext(WY),l=b.useContext(Fj),c=b.useContext(UD).reducedMotion,d=b.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,m=b.useContext(tK);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&tue(d.current,n,s,m);const p=b.useRef(!1);b.useInsertionEffect(()=>{h&&p.current&&h.update(n,l)});const x=n[eK],y=b.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,x)));return QG(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),y.current&&h.animationState&&h.animationState.animateChanges())}),b.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,x)}),y.current=!1),h.enteringChildren=void 0)}),h}function tue(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:nK(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&bf(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:d})}function nK(t){if(t)return t.options.allowProjection!==!1?t.projection:nK(t.parent)}function Ak(t,{forwardMotionProps:e=!1}={},n,r){n&&Tde(n);const s=XD(t)?Xde:Kde;function i(l,c){let d;const h={...b.useContext(UD),...l,layoutId:nue(l)},{isStatic:m}=h,p=Dde(l),x=s(l,m);if(!m&&ND){rue();const y=sue(h);d=y.MeasureLayout,p.visualElement=eue(t,x,h,r,y.ProjectionNode)}return a.jsxs($j.Provider,{value:p,children:[d&&p.visualElement?a.jsx(d,{visualElement:p.visualElement,...h}):null,qde(t,l,Qde(x,p.visualElement,c),x,m,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=b.forwardRef(i);return o[Jde]=t,o}function nue({layoutId:t}){const e=b.useContext(wD).id;return e&&t!==void 0?e+"-"+t:t}function rue(t,e){b.useContext(WY).strict}function sue(t){const{drag:e,layout:n}=Vf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function aue(t,e){if(typeof Proxy>"u")return Ak;const n=new Map,r=(i,o)=>Ak(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Ak(o,void 0,t,e)),n.get(o))})}function rK({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function iue({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oue(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ok(t){return t===void 0||t===1}function SA({scale:t,scaleX:e,scaleY:n}){return!Ok(t)||!Ok(e)||!Ok(n)}function lu(t){return SA(t)||sK(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sK(t){return XI(t.x)||XI(t.y)}function XI(t){return t&&t!=="0%"}function bw(t,e,n){const r=t-n,s=e*r;return n+s}function JI(t,e,n,r,s){return s!==void 0&&(t=bw(t,s,r)),bw(t,n,r)+e}function kA(t,e=0,n=1,r,s){t.min=JI(t.min,e,n,r,s),t.max=JI(t.max,e,n,r,s)}function aK(t,{x:e,y:n}){kA(t.x,e.translate,e.scale,e.originPoint),kA(t.y,n.translate,n.scale,n.originPoint)}const QI=.999999999999,ZI=1.0000000000001;function lue(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vf(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,aK(t,o)),r&&lu(i.latestValues)&&vf(t,i.latestValues))}e.x<ZI&&e.x>QI&&(e.x=1),e.y<ZI&&e.y>QI&&(e.y=1)}function yf(t,e){t.min=t.min+e,t.max=t.max+e}function e8(t,e,n,r,s=.5){const i=Pr(t.min,t.max,s);kA(t,e,n,i,r)}function vf(t,e){e8(t.x,e.x,e.scaleX,e.scale,e.originX),e8(t.y,e.y,e.scaleY,e.scale,e.originY)}function iK(t,e){return rK(oue(t.getBoundingClientRect(),e))}function cue(t,e,n){const r=iK(t,n),{scroll:s}=e;return s&&(yf(r.x,s.offset.x),yf(r.y,s.offset.y)),r}const t8=()=>({translate:0,scale:1,origin:0,originPoint:0}),wf=()=>({x:t8(),y:t8()}),n8=()=>({min:0,max:0}),Qr=()=>({x:n8(),y:n8()}),CA={current:null},oK={current:!1};function due(){if(oK.current=!0,!!ND)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>CA.current=t.matches;t.addEventListener("change",e),e()}else CA.current=!1}const uue=new WeakMap;function hue(t,e,n){for(const r in e){const s=e[r],i=n[r];if(la(s))t.addValue(r,s);else if(la(i))t.addValue(r,Bf(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Bf(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const r8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fue{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=HD,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=za.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Mr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=zj(n),this.isVariantNode=qY(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const x=m[p];c[p]!==void 0&&la(x)&&x.set(c[p])}}mount(e){var n;this.current=e,uue.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),oK.current||due(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:CA.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),bd(this.notifyUpdate),bd(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=$m.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Mr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vf){const n=Vf[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<r8.length;r++){const s=r8[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=hue(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Bf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ZG(r)||tY(r))?r=parseFloat(r):!wde(r)&&yd.test(n)&&(r=LY(e,n)),this.setBaseTarget(e,la(r)?r.get():r)),la(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=JD(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!la(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new TD),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){VD.render(this.render)}}class lK extends fue{constructor(){super(...arguments),this.KeyframeResolver=cde}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;la(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cK(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function mue(t){return window.getComputedStyle(t)}class pue extends lK{constructor(){super(...arguments),this.type="html",this.renderInstance=cK}readValueFromInstance(e,n){var r;if($m.has(n))return(r=this.projection)!=null&&r.isProjecting?xA(n):Tce(e,n);{const s=mue(e),i=(OD(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return iK(e,n)}build(e,n,r){YD(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return QD(e,n,r)}}const dK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gue(t,e,n,r){cK(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(dK.has(s)?s:ZD(s),e.attrs[s])}class xue extends lK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if($m.has(n)){const r=RY(n);return r&&r.default||0}return n=dK.has(n)?n:ZD(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZY(e,n,r)}build(e,n,r){KY(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){gue(e,n,r,s)}mount(e){this.isSVGTag=JY(e.tagName),super.mount(e)}}const bue=(t,e)=>XD(t)?new xue(e):new pue(e,{allowProjection:t!==b.Fragment});function Tf(t,e,n){const r=t.getProps();return JD(r,e,n!==void 0?n:r.custom,t)}const _A=t=>Array.isArray(t);function yue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bf(n))}function vue(t){return _A(t)?t[t.length-1]||0:t}function wue(t,e){const n=Tf(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=vue(i[o]);yue(t,o,l)}}function jue(t){return!!(la(t)&&t.add)}function TA(t,e){const n=t.getValue("willChange");if(jue(n))return n.add(e);if(!n&&ac.WillChange){const r=new ac.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function uK(t){return t.props[eK]}const Nue=t=>t!==null;function Sue(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Nue),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const kue={type:"spring",stiffness:500,damping:25,restSpeed:10},Cue=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_ue={type:"keyframes",duration:.8},Tue={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mue=(t,{keyframes:e})=>e.length>2?_ue:$m.has(t)?t.startsWith("scale")?Cue(e[1]):kue:Tue;function Aue({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const eP=(t,e,n,r={},s,i)=>o=>{const l=zD(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Lo(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};Aue(l)||Object.assign(h,Mue(t,h)),h.duration&&(h.duration=Lo(h.duration)),h.repeatDelay&&(h.repeatDelay=Lo(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(jA(h),h.delay===0&&(m=!0)),(ac.instantAnimations||ac.skipAnimations)&&(m=!0,jA(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!i&&e.get()!==void 0){const p=Sue(h.keyframes,l);if(p!==void 0){Mr.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new $D(h):new Jce(h)};function Oue({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function hK(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(i=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const m=t.getValue(h,t.latestValues[h]??null),p=l[h];if(p===void 0||d&&Oue(d,h))continue;const x={delay:n,...zD(i||{},h)},y=m.get();if(y!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===y&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=uK(t);if(N){const C=window.MotionHandoffAnimation(N,h,Mr);C!==null&&(x.startTime=C,w=!0)}}TA(t,h),m.start(eP(h,m,p,t.shouldReduceMotion&&EY.has(h)?{type:!1}:x,t,w));const v=m.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{Mr.update(()=>{o&&wue(t,o)})}),c}function fK(t,e,n,r=0,s=1){const i=Array.from(t).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),o=t.size,l=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:l-i*r}function MA(t,e,n={}){var c;const r=Tf(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(hK(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:p}=s;return Eue(t,e,d,h,m,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,h]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function Eue(t,e,n=0,r=0,s=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(MA(c,e,{...o,delay:n+(typeof r=="function"?0:r)+fK(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Due(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>MA(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=MA(t,e,n);else{const s=typeof e=="function"?Tf(t,e,n.custom):e;r=Promise.all(hK(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function mK(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Pue=GD.length;function pK(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?pK(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Pue;n++){const r=GD[n],s=t.props[r];(mg(s)||s===!1)&&(e[r]=s)}return e}const Rue=[...qD].reverse(),Lue=qD.length;function Iue(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Due(t,n,r)))}function Fue(t){let e=Iue(t),n=s8(),r=!0;const s=c=>(d,h)=>{var p;const m=Tf(t,h,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(m){const{transition:x,transitionEnd:y,...w}=m;d={...d,...w,...y}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,h=pK(t.parent)||{},m=[],p=new Set;let x={},y=1/0;for(let v=0;v<Lue;v++){const N=Rue[v],C=n[N],S=d[N]!==void 0?d[N]:h[N],M=mg(S),_=N===c?C.isActive:null;_===!1&&(y=v);let A=S===h[N]&&S!==d[N]&&M;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),C.protectedKeys={...x},!C.isActive&&_===null||!S&&!C.prevProp||Hj(S)||typeof S=="boolean")continue;const O=$ue(C.prevProp,S);let D=O||N===c&&C.isActive&&!A&&M||v>y&&M,F=!1;const L=Array.isArray(S)?S:[S];let I=L.reduce(s(N),{});_===!1&&(I={});const{prevResolvedValues:P={}}=C,z={...P,...I},U=R=>{D=!0,p.has(R)&&(F=!0,p.delete(R)),C.needsAnimating[R]=!0;const W=t.getValue(R);W&&(W.liveStyle=!1)};for(const R in z){const W=I[R],q=P[R];if(x.hasOwnProperty(R))continue;let X=!1;_A(W)&&_A(q)?X=!mK(W,q):X=W!==q,X?W!=null?U(R):p.add(R):W!==void 0&&p.has(R)?U(R):C.protectedKeys[R]=!0}C.prevProp=S,C.prevResolvedValues=I,C.isActive&&(x={...x,...I}),r&&t.blockInitialAnimation&&(D=!1);const V=A&&O;D&&(!V||F)&&m.push(...L.map(R=>{const W={type:N};if(typeof R=="string"&&r&&!V&&t.manuallyAnimateOnMount&&t.parent){const{parent:q}=t,X=Tf(q,R);if(q.enteringChildren&&X){const{delayChildren:H}=X.transition||{};W.delay=fK(q.enteringChildren,t,H)}}return{animation:R,options:W}}))}if(p.size){const v={};if(typeof d.initial!="boolean"){const N=Tf(t,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(v.transition=N.transition)}p.forEach(N=>{const C=t.getBaseTarget(N),S=t.getValue(N);S&&(S.liveStyle=!0),v[N]=C??null}),m.push({animation:v})}let w=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(m):Promise.resolve()}function l(c,d){var m;if(n[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(p=>{var x;return(x=p.animationState)==null?void 0:x.setActive(c,d)}),n[c].isActive=d;const h=o(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=s8(),r=!0}}}function $ue(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mK(e,t):!1}function Zd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function s8(){return{animate:Zd(!0),whileInView:Zd(),whileHover:Zd(),whileTap:Zd(),whileDrag:Zd(),whileFocus:Zd(),exit:Zd()}}class _d{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Hue extends _d{constructor(e){super(e),e.animationState||(e.animationState=Fue(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hj(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let zue=0;class Bue extends _d{constructor(){super(...arguments),this.id=zue++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Vue={animation:{Feature:Hue},exit:{Feature:Bue}};function gg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Mx(t){return{point:{x:t.pageX,y:t.pageY}}}const Wue=t=>e=>WD(e)&&t(e,Mx(e));function F0(t,e,n,r){return gg(t,e,Wue(n),r)}const gK=1e-4,Uue=1-gK,que=1+gK,xK=.01,Gue=0-xK,Yue=0+xK;function ga(t){return t.max-t.min}function Kue(t,e,n){return Math.abs(t-e)<=n}function a8(t,e,n,r=.5){t.origin=r,t.originPoint=Pr(e.min,e.max,t.origin),t.scale=ga(n)/ga(e),t.translate=Pr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Uue&&t.scale<=que||isNaN(t.scale))&&(t.scale=1),(t.translate>=Gue&&t.translate<=Yue||isNaN(t.translate))&&(t.translate=0)}function $0(t,e,n,r){a8(t.x,e.x,n.x,r?r.originX:void 0),a8(t.y,e.y,n.y,r?r.originY:void 0)}function i8(t,e,n){t.min=n.min+e.min,t.max=t.min+ga(e)}function Xue(t,e,n){i8(t.x,e.x,n.x),i8(t.y,e.y,n.y)}function o8(t,e,n){t.min=e.min-n.min,t.max=t.min+ga(e)}function H0(t,e,n){o8(t.x,e.x,n.x),o8(t.y,e.y,n.y)}function _i(t){return[t("x"),t("y")]}const bK=({current:t})=>t?t.ownerDocument.defaultView:null,l8=(t,e)=>Math.abs(t-e);function Jue(t,e){const n=l8(t.x,e.x),r=l8(t.y,e.y);return Math.sqrt(n**2+r**2)}class yK{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Dk(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,y=Jue(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!y)return;const{point:w}=p,{timestamp:v}=Ws;this.history.push({...w,timestamp:v});const{onStart:N,onMove:C}=this.handlers;x||(N&&N(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Ek(x,this.transformPagePoint),Mr.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Dk(p.type==="pointercancel"?this.lastMoveEventInfo:Ek(x,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,N),w&&w(p,N)},!WD(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Mx(e),c=Ek(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Ws;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=n;m&&m(e,Dk(c,this.history)),this.removeListeners=Cx(F0(this.contextWindow,"pointermove",this.handlePointerMove),F0(this.contextWindow,"pointerup",this.handlePointerUp),F0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bd(this.updatePoint)}}function Ek(t,e){return e?{point:e(t.point)}:t}function c8(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dk({point:t},e){return{point:t,delta:c8(t,vK(e)),offset:c8(t,Que(e)),velocity:Zue(e,.1)}}function Que(t){return t[0]}function vK(t){return t[t.length-1]}function Zue(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=vK(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Lo(e)));)n--;if(!r)return{x:0,y:0};const i=Ri(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ehe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pr(n,t,r.max):Math.min(t,n)),t}function d8(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function the(t,{top:e,left:n,bottom:r,right:s}){return{x:d8(t.x,n,s),y:d8(t.y,e,r)}}function u8(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nhe(t,e){return{x:u8(t.x,e.x),y:u8(t.y,e.y)}}function rhe(t,e){let n=.5;const r=ga(t),s=ga(e);return s>r?n=ug(e.min,e.max-r,t.min):r>s&&(n=ug(t.min,t.max-s,e.min)),sc(0,1,n)}function she(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const AA=.35;function ahe(t=AA){return t===!1?t=0:t===!0&&(t=AA),{x:h8(t,"left","right"),y:h8(t,"top","bottom")}}function h8(t,e,n){return{min:f8(t,e),max:f8(t,n)}}function f8(t,e){return typeof t=="number"?t:t[e]||0}const ihe=new WeakMap;class ohe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mx(m).point)},o=(m,p)=>{const{drag:x,dragPropagation:y,onDragStart:w}=this.getProps();if(x&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fde(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(N=>{let C=this.getAxisMotionValue(N).get()||0;if(Io.test(C)){const{projection:S}=this.visualElement;if(S&&S.layout){const M=S.layout.layoutBox[N];M&&(C=ga(M)*(parseFloat(C)/100))}}this.originPoint[N]=C}),w&&Mr.postRender(()=>w(m,p)),TA(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:x,dragDirectionLock:y,onDirectionLock:w,onDrag:v}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=p;if(y&&this.currentDirection===null){this.currentDirection=lhe(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,N),this.updateAxis("y",p.point,N),this.visualElement.render(),v&&v(m,p)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>_i(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new yK(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:bK(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Mr.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!xy(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=ehe(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&bf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=the(r.layoutBox,e):this.constraints=!1,this.elastic=ahe(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_i(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=she(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!bf(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=cue(r,s.root,this.visualElement.getTransformPagePoint());let o=nhe(s.layout.layoutBox,i);if(n){const l=n(iue(o));this.hasMutatedConstraints=!!l,l&&(o=rK(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=_i(h=>{if(!xy(h,n,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const p=s?200:1e6,x=s?40:1e7,y={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,y)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return TA(this.visualElement,e),r.start(eP(e,r,0,n,this.visualElement,!1))}stopAnimation(){_i(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_i(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_i(n=>{const{drag:r}=this.getProps();if(!xy(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Pr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!bf(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};_i(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=rhe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_i(o=>{if(!xy(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Pr(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;ihe.set(this.visualElement,this);const e=this.visualElement.current,n=F0(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();bf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Mr.read(r);const o=gg(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(_i(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=AA,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function xy(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lhe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class che extends _d{constructor(e){super(e),this.removeGroupControls=Ii,this.removeListeners=Ii,this.controls=new ohe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const m8=t=>(e,n)=>{t&&Mr.postRender(()=>t(e,n))};class dhe extends _d{constructor(){super(...arguments),this.removePointerDownListener=Ii}onPointerDown(e){this.session=new yK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bK(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:m8(e),onStart:m8(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Mr.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=F0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function p8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xt.test(t))t=parseFloat(t);else return t;const n=p8(t,e.target.x),r=p8(t,e.target.y);return`${n}% ${r}%`}},uhe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=yd.parse(t);if(s.length>5)return r;const i=yd.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const d=Pr(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let Pk=!1;class hhe extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Pde(fhe),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Pk&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Lv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Pk=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Mr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),VD.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Pk=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wK(t){const[e,n]=VY(),r=b.useContext(wD);return a.jsx(hhe,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(tK),isPresent:e,safeToRemove:n})}const fhe={borderRadius:{...Wp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wp,borderTopRightRadius:Wp,borderBottomLeftRadius:Wp,borderBottomRightRadius:Wp,boxShadow:uhe};function mhe(t,e,n){const r=la(t)?t:Bf(t);return r.start(eP("",r,e,n)),r.animation}const phe=(t,e)=>t.depth-e.depth;class ghe{constructor(){this.children=[],this.isDirty=!1}add(e){SD(this.children,e),this.isDirty=!0}remove(e){kD(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(phe),this.isDirty=!1,this.children.forEach(e)}}function xhe(t,e){const n=za.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(bd(r),t(i-e))};return Mr.setup(r,!0),()=>bd(r)}const jK=["TopLeft","TopRight","BottomLeft","BottomRight"],bhe=jK.length,g8=t=>typeof t=="string"?parseFloat(t):t,x8=t=>typeof t=="number"||Xt.test(t);function yhe(t,e,n,r,s,i){s?(t.opacity=Pr(0,n.opacity??1,vhe(r)),t.opacityExit=Pr(e.opacity??1,0,whe(r))):i&&(t.opacity=Pr(e.opacity??1,n.opacity??1,r));for(let o=0;o<bhe;o++){const l=`border${jK[o]}Radius`;let c=b8(e,l),d=b8(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||x8(c)===x8(d)?(t[l]=Math.max(Pr(g8(c),g8(d),r),0),(Io.test(d)||Io.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Pr(e.rotate||0,n.rotate||0,r))}function b8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vhe=NK(0,.5,cY),whe=NK(.5,.95,Ii);function NK(t,e,n){return r=>r<t?0:r>e?1:n(ug(t,e,r))}function y8(t,e){t.min=e.min,t.max=e.max}function wi(t,e){y8(t.x,e.x),y8(t.y,e.y)}function v8(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function w8(t,e,n,r,s){return t-=e,t=bw(t,1/n,r),s!==void 0&&(t=bw(t,1/s,r)),t}function jhe(t,e=0,n=1,r=.5,s,i=t,o=t){if(Io.test(e)&&(e=parseFloat(e),e=Pr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Pr(i.min,i.max,r);t===i&&(l-=e),t.min=w8(t.min,e,n,l,s),t.max=w8(t.max,e,n,l,s)}function j8(t,e,[n,r,s],i,o){jhe(t,e[n],e[r],e[s],e.scale,i,o)}const Nhe=["x","scaleX","originX"],She=["y","scaleY","originY"];function N8(t,e,n,r){j8(t.x,e,Nhe,n?n.x:void 0,r?r.x:void 0),j8(t.y,e,She,n?n.y:void 0,r?r.y:void 0)}function S8(t){return t.translate===0&&t.scale===1}function SK(t){return S8(t.x)&&S8(t.y)}function k8(t,e){return t.min===e.min&&t.max===e.max}function khe(t,e){return k8(t.x,e.x)&&k8(t.y,e.y)}function C8(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kK(t,e){return C8(t.x,e.x)&&C8(t.y,e.y)}function _8(t){return ga(t.x)/ga(t.y)}function T8(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Che{constructor(){this.members=[]}add(e){SD(this.members,e),e.scheduleRender()}remove(e){if(kD(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _he(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:p,skewX:x,skewY:y}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),p&&(r+=`rotateY(${p}deg) `),x&&(r+=`skewX(${x}deg) `),y&&(r+=`skewY(${y}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Rk=["","X","Y","Z"],The=1e3;let Mhe=0;function Lk(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function CK(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=uK(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Mr,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&CK(r)}function _K({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Mhe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ehe),this.nodes.forEach(Lhe),this.nodes.forEach(Ihe),this.nodes.forEach(Dhe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ghe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new TD),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=BY(o)&&!yde(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h,m=0;const p=()=>this.root.updateBlockedByResize=!1;Mr.read(()=>{m=window.innerWidth}),t(o,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,h&&h(),h=xhe(p,250),Lv.hasAnimatedSinceResize&&(Lv.hasAnimatedSinceResize=!1,this.nodes.forEach(O8)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Bhe,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=d.getProps(),N=!this.targetLayout||!kK(this.targetLayout,x),C=!m&&p;if(this.options.layoutRoot||this.resumeFrom||C||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...zD(y,"layout"),onPlay:w,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(h,C)}else m||O8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Fhe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CK(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M8);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(A8);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Rhe),this.nodes.forEach(Ahe),this.nodes.forEach(Ohe)):this.nodes.forEach(A8),this.clearAllSnapshots();const l=za.now();Ws.delta=sc(0,1e3/60,l-Ws.timestamp),Ws.timestamp=l,Ws.isProcessing=!0,Sk.update.process(Ws),Sk.preRender.process(Ws),Sk.render.process(Ws),Ws.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,VD.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Phe),this.sharedNodes.forEach($he)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ga(this.snapshot.measuredBox.x)&&!ga(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!SK(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||lu(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Vhe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Qr();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Whe))){const{scroll:h}=this.root;h&&(yf(l.x,h.offset.x),yf(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=Qr();if(wi(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:p}=h;h!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&wi(l,o),yf(l.x,m.offset.x),yf(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Qr();wi(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&vf(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),lu(h.latestValues)&&vf(c,h.latestValues)}return lu(this.latestValues)&&vf(c,this.latestValues),c}removeTransform(o){const l=Qr();wi(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!lu(d.latestValues))continue;SA(d.latestValues)&&d.updateSnapshot();const h=Qr(),m=d.measurePageBox();wi(h,m),N8(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return lu(this.latestValues)&&N8(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ws.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Ws.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qr(),this.relativeTargetOrigin=Qr(),H0(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qr(),this.targetWithTransforms=Qr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xue(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wi(this.target,this.layout.layoutBox),aK(this.target,this.targetDelta)):wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qr(),this.relativeTargetOrigin=Qr(),H0(this.relativeTargetOrigin,this.target,x.target),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||SA(this.parent.latestValues)||sK(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ws.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;wi(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;lue(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qr());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v8(this.prevProjectionDelta.x,this.projectionDelta.x),v8(this.prevProjectionDelta.y,this.projectionDelta.y)),$0(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!T8(this.projectionDelta.x,this.prevProjectionDelta.x)||!T8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wf(),this.projectionDelta=wf(),this.projectionDeltaWithTransform=wf()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=wf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Qr(),x=c?c.source:void 0,y=this.layout?this.layout.source:void 0,w=x!==y,v=this.getStack(),N=!v||v.members.length<=1,C=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(zhe));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const _=M/1e3;E8(m.x,o.x,_),E8(m.y,o.y,_),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(H0(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Hhe(this.relativeTarget,this.relativeTargetOrigin,p,_),S&&khe(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Qr()),wi(S,this.relativeTarget)),w&&(this.animationValues=h,yhe(h,d,this.latestValues,_,C,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(bd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mr.update(()=>{Lv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bf(0)),this.currentAnimation=mhe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(The),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&TK(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Qr();const m=ga(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const p=ga(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}wi(l,c),vf(l,h),$0(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Che),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Lk("z",o,d,this.animationValues);for(let h=0;h<Rk.length;h++)Lk(`rotate${Rk[h]}`,o,d,this.animationValues),Lk(`skew${Rk[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Rv(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Rv(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!lu(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=_he(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),o.transform=m;const{x:p,y:x}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in pg){if(h[y]===void 0)continue;const{correct:w,applyTo:v,isCSSVariable:N}=pg[y],C=m==="none"?h[y]:w(h[y],d);if(v){const S=v.length;for(let M=0;M<S;M++)o[v[M]]=C}else N?this.options.visualElement.renderState.vars[y]=C:o[y]=C}this.options.layoutId&&(o.pointerEvents=d===this?Rv(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(M8),this.root.sharedNodes.clear()}}}function Ahe(t){t.updateLayout()}function Ohe(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?_i(m=>{const p=o?e.measuredBox[m]:e.layoutBox[m],x=ga(p);p.min=r[m].min,p.max=p.min+x}):TK(i,e.layoutBox,r)&&_i(m=>{const p=o?e.measuredBox[m]:e.layoutBox[m],x=ga(r[m]);p.max=p.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const l=wf();$0(l,r,e.layoutBox);const c=wf();o?$0(c,t.applyTransform(s,!0),e.measuredBox):$0(c,r,e.layoutBox);const d=!SK(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:x}=m;if(p&&x){const y=Qr();H0(y,e.layoutBox,p.layoutBox);const w=Qr();H0(w,r,x.layoutBox),kK(y,w)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=y,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Ehe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Dhe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Phe(t){t.clearSnapshot()}function M8(t){t.clearMeasurements()}function A8(t){t.isLayoutDirty=!1}function Rhe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function O8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Lhe(t){t.resolveTargetDelta()}function Ihe(t){t.calcProjection()}function Fhe(t){t.resetSkewAndRotation()}function $he(t){t.removeLeadSnapshot()}function E8(t,e,n){t.translate=Pr(e.translate,0,n),t.scale=Pr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function D8(t,e,n,r){t.min=Pr(e.min,n.min,r),t.max=Pr(e.max,n.max,r)}function Hhe(t,e,n,r){D8(t.x,e.x,n.x,r),D8(t.y,e.y,n.y,r)}function zhe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Bhe={duration:.45,ease:[.4,0,.1,1]},P8=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),R8=P8("applewebkit/")&&!P8("chrome/")?Math.round:Ii;function L8(t){t.min=R8(t.min),t.max=R8(t.max)}function Vhe(t){L8(t.x),L8(t.y)}function TK(t,e,n){return t==="position"||t==="preserve-aspect"&&!Kue(_8(e),_8(n),.2)}function Whe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Uhe=_K({attachResizeListener:(t,e)=>gg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ik={current:void 0},MK=_K({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ik.current){const t=new Uhe({});t.mount(window),t.setOptions({layoutScroll:!0}),Ik.current=t}return Ik.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qhe={pan:{Feature:dhe},drag:{Feature:che,ProjectionNode:MK,MeasureLayout:wK}};function I8(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Mr.postRender(()=>i(e,Mx(e)))}class Ghe extends _d{mount(){const{current:e}=this.node;e&&(this.unmount=mde(e,(n,r)=>(I8(this.node,r,"Start"),s=>I8(this.node,s,"End"))))}unmount(){}}class Yhe extends _d{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cx(gg(this.node.current,"focus",()=>this.onFocus()),gg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function F8(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Mr.postRender(()=>i(e,Mx(e)))}class Khe extends _d{mount(){const{current:e}=this.node;e&&(this.unmount=bde(e,(n,r)=>(F8(this.node,r,"Start"),(s,{success:i})=>F8(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const OA=new WeakMap,Fk=new WeakMap,Xhe=t=>{const e=OA.get(t.target);e&&e(t)},Jhe=t=>{t.forEach(Xhe)};function Qhe({root:t,...e}){const n=t||document;Fk.has(n)||Fk.set(n,{});const r=Fk.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Jhe,{root:t,...e})),r[s]}function Zhe(t,e,n){const r=Qhe(e);return OA.set(t,n),r.observe(t),()=>{OA.delete(t),r.unobserve(t)}}const efe={some:0,all:1};class tfe extends _d{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:efe[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),p=d?h:m;p&&p(c)};return Zhe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nfe(e,n))&&this.startObserver()}unmount(){}}function nfe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const rfe={inView:{Feature:tfe},tap:{Feature:Khe},focus:{Feature:Yhe},hover:{Feature:Ghe}},sfe={layout:{ProjectionNode:MK,MeasureLayout:wK}},afe={...Vue,...rfe,...qhe,...sfe},k=aue(afe,bue);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ofe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),$8=t=>{const e=ofe(t);return e.charAt(0).toUpperCase()+e.slice(1)},AK=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),lfe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...cfe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AK("lucide",s),...!i&&!lfe(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>b.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(dfe,{ref:i,iconNode:e,className:AK(`lucide-${ife($8(t))}`,`lucide-${t}`,r),...s}));return n.displayName=$8(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Wl=lt("activity",ufe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],ffe=lt("align-center",hfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],pfe=lt("align-justify",mfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],xfe=lt("align-left",gfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],yfe=lt("align-right",bfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],wfe=lt("archive",vfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hn=lt("arrow-left",jfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Sfe=lt("arrow-right",Nfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jn=lt("bell",kfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],_fe=lt("bold",Cfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],EA=lt("book-open",Tfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Afe=lt("box",Mfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],OK=lt("boxes",Ofe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Dfe=lt("briefcase",Efe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],qu=lt("building",Pfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Go=lt("calendar",Rfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ife=lt("camera",Lfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],Bj=lt("chart-bar",Ffe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],H8=lt("chart-column",$fe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Yo=lt("chart-no-axes-column",Hfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Bfe=lt("chart-pie",zfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ut=lt("chevron-down",Vfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ys=lt("chevron-left",Wfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ft=lt("chevron-right",Ufe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xg=lt("chevron-up",qfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Et=lt("circle-check-big",Gfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Kfe=lt("circle-x",Yfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],Ps=lt("clipboard",Xfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sn=lt("clock",Jfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Zfe=lt("code",Qfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eme=[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]],tme=lt("component",eme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],rme=lt("computer",nme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ame=lt("credit-card",sme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ime=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Wf=lt("database",ime);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ome=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],EK=lt("dollar-sign",ome);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lme=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],yw=lt("download",lme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ns=lt("eye",cme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vw=lt("file-text",dme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],hme=lt("file",ume);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fme=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],mme=lt("folder-plus",fme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pme=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],DA=lt("folder",pme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],xme=lt("frown",gme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bme=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Js=lt("funnel",bme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vme=lt("globe",yme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],jme=lt("hammer",wme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],Sme=lt("heading-1",Nme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kme=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Cme=lt("heading-2",kme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _me=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],Tme=lt("heading-3",_me);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mme=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Uf=lt("history",Mme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],Cn=lt("hourglass",Ame);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Vj=lt("house",Ome);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ts=lt("info",Eme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Pme=lt("italic",Dme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rme=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],PA=lt("key",Rme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ime=lt("layers",Lme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],DK=lt("life-buoy",Fme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $me=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Hme=lt("link",$me);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]],Wj=lt("list-check",zme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Iv=lt("list-checks",Bme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Wme=lt("list-ordered",Vme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ume=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],dh=lt("list-plus",Ume);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],RA=lt("list",qme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gme=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ww=lt("loader",Gme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yme=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Kme=lt("lock",Yme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xme=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dr=lt("log-out",Xme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jme=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],PK=lt("mail",Jme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qme=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],RK=lt("map-pin",Qme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zme=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],LK=lt("map",Zme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Mf=lt("message-square",epe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Ax=lt("monitor",tpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Kn=lt("moon",npe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],io=lt("package",rpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],ape=lt("paint-bucket",spe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ope=lt("palette",ipe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],qf=lt("paperclip",lpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],dpe=lt("phone",cpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],hpe=lt("pilcrow",upe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cr=lt("plus",fpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],IK=lt("printer",mpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],gpe=lt("receipt",ppe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],bpe=lt("redo-2",xpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vpe=lt("refresh-cw",ype);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]],jpe=lt("remove-formatting",wpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Tn=lt("save",Npe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ir=lt("search",Spe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kpe=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xn=lt("settings",kpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],_pe=lt("shopping-bag",Cpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Mpe=lt("shopping-cart",Tpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fs=lt("square-pen",Ape);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ope=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],Epe=lt("strikethrough",Ope);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Vn=lt("sun",Dpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ppe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Rpe=lt("tag",Ppe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=[["path",{d:"M10 15h4",key:"192ueg"}],["path",{d:"m14.817 10.995-.971-1.45 1.034-1.232a2 2 0 0 0-2.025-3.238l-1.82.364L9.91 3.885a2 2 0 0 0-3.625.748L6.141 6.55l-1.725.426a2 2 0 0 0-.19 3.756l.657.27",key:"xbnumr"}],["path",{d:"m18.822 10.995 2.26-5.38a1 1 0 0 0-.557-1.318L16.954 2.9a1 1 0 0 0-1.281.533l-.924 2.122",key:"eaw7gc"}],["path",{d:"M4 12.006A1 1 0 0 1 4.994 11H19a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1vaooh"}]],uo=lt("tool-case",Lpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Er=lt("trash-2",Ipe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],yu=lt("trending-up",Fpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zt=lt("triangle-alert",$pe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hpe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],FK=lt("type",Hpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zpe=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Bpe=lt("undo-2",zpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ua=lt("upload",Vpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wpe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],z8=lt("user-check",Wpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upe=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qpe=lt("user-cog",Upe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gpe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ype=lt("user-plus",Gpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kpe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rn=lt("user",Kpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xpe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ja=lt("users",Xpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jpe=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Af=lt("warehouse",Jpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qpe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],Na=lt("wrench",Qpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zpe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nt=lt("x",Zpe),gs=Q.memo(({icon:t,text:e,to:n,expanded:r})=>{const s=St(),o=Yr().pathname===n;return a.jsxs(k.button,{onClick:()=>s(n),whileHover:{backgroundColor:o?void 0:"rgba(239, 246, 255, 0.6)"},whileTap:{scale:.98},className:`relative w-full text-left flex items-center py-3 px-4 rounded-xl transition-all duration-200 ease-in-out group
        ${o?"bg-blue-600 text-white shadow-lg":"text-gray-700 hover:text-blue-700"}
      `,children:[a.jsx("span",{className:`text-xl transition-colors duration-200 ${o?"text-white":"text-blue-500 group-hover:text-blue-700"}`,children:t}),r&&a.jsx(k.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.15},className:"ml-4 text-base font-medium whitespace-nowrap",children:e})]})}),e0e=()=>{const[t,e]=b.useState(()=>{const c=localStorage.getItem("sidebarOpen");return c?JSON.parse(c):!1}),[n,r]=b.useState(window.innerWidth<768),{user:s,hasPermission:i}=_t(),o=b.useRef(null);b.useEffect(()=>{const c=o.current;if(c){const d=sessionStorage.getItem("sidebarScrollPos");d&&(c.scrollTop=parseInt(d,10));const h=()=>{sessionStorage.setItem("sidebarScrollPos",c.scrollTop.toString())};return c.addEventListener("scroll",h),()=>{c.removeEventListener("scroll",h)}}},[]);const l=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(c=>!c)};return a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:a.jsx(qe,{children:(!n||t)&&a.jsxs(k.div,{initial:{width:n?0:t?280:80,opacity:0},animate:{width:t?280:80,opacity:1},exit:{width:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:`bg-white border-r border-gray-100 flex flex-col shadow-xl overflow-hidden ${n?"fixed z-50 h-full":""}`,children:[a.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100",children:[t?a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:zf,alt:"Logo Wida",className:"h-9 w-auto"}),a.jsx("p",{className:"text-blue-600 font-bold text-xl tracking-wide",children:"CMMS"})]}):a.jsx("img",{src:zf,alt:"Logo Wida",className:"h-8 w-auto mx-auto"}),a.jsx("button",{onClick:l,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Collapse sidebar":"Expand sidebar",children:t?a.jsx(Ys,{className:"text-xl"}):a.jsx(Ft,{className:"text-xl"})})]}),a.jsxs("nav",{ref:o,className:"flex-1 p-3 space-y-1.5 overflow-y-auto sidebar-nav",children:[i("1")&&a.jsx(gs,{icon:a.jsx(Vj,{}),text:"Dashboard",to:"/dashboard",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"System"}),i("23")&&a.jsx(gs,{icon:a.jsx(Wj,{}),text:"Audit Trail",to:"/audittrail",expanded:t}),i("23")&&a.jsx(gs,{icon:a.jsx(Uf,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:t}),i("23")&&a.jsx(gs,{icon:a.jsx(Uf,{}),text:"Workflow Approval",to:"/workflowapproval",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Master"}),i("23")&&a.jsx(gs,{icon:a.jsx(RK,{}),text:"Work Location",to:"/worklocation",expanded:t}),i("23")&&a.jsx(gs,{icon:a.jsx(ja,{}),text:"Work Arrangement",to:"/workarrangement",expanded:t}),i("15")&&a.jsx(gs,{icon:a.jsx(PA,{}),text:"User Management",to:"/permissions",expanded:t}),i("23")&&a.jsx(gs,{icon:a.jsx(Na,{}),text:"Spare Part",to:"/sparepart",expanded:t}),i("3")&&a.jsx(gs,{icon:a.jsx(io,{}),text:"Assets",to:"/assets",expanded:t}),i("3")&&a.jsx(gs,{icon:a.jsx(io,{}),text:"Vendors",to:"/vendors",expanded:t}),i("3")&&a.jsx(gs,{icon:a.jsx(DK,{}),text:"Services",to:"/services",expanded:t}),i("3")&&a.jsx(gs,{icon:a.jsx(uo,{}),text:"Maintenance Activity",to:"/maintenanceactivity",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Maintenance"}),i("31")&&a.jsx(gs,{icon:a.jsx(Bj,{}),text:"Machine History",to:"/machinehistory",expanded:t}),i("31")&&a.jsx(gs,{icon:a.jsx(Ax,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Work Orders"}),i("7")&&a.jsx(gs,{icon:a.jsx(Ps,{}),text:"Work Orders",to:"/workorders",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Spare Parts"}),i("23")&&a.jsx(gs,{icon:a.jsx(tme,{}),text:"Sparepart Detail",to:"/sparepartdetail",expanded:t}),i("23")&&a.jsx(gs,{icon:a.jsx(Mpe,{}),text:"Purchase Order Realization",to:"/purchaseorderrealization",expanded:t}),i("23")&&a.jsx(gs,{icon:a.jsx(gpe,{}),text:"Transaction by Item",to:"/transactionbyitem",expanded:t}),i("23")&&a.jsx(gs,{icon:a.jsx(wfe,{}),text:"Spare Part Management",to:"/sparepartmanagement",expanded:t})]}),a.jsx("div",{className:"p-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(s==null?void 0:s.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),t&&a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:"Application Version"}),a.jsx("p",{className:"text-xs text-gray-500",children:"1.0.0"})," "]})]})})]})})})},jt=Q.memo(e0e),by=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},B8=()=>{var I;const[t,e]=b.useState(!1),[n,r]=b.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),[s,i]=b.useState(1),{user:o,fetchWithAuth:l,hasPermission:c}=_t(),[d,h]=b.useState(null),m=St(),[p,x]=b.useState(!1),[y,w]=b.useState(window.innerWidth<768),[v,N]=b.useState(!1),[C,S]=b.useState(!1),M=b.useRef(null),_=b.useRef(null);b.useEffect(()=>{const P=()=>{w(window.innerWidth<768),window.innerWidth<768&&r(!1)};return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),b.useEffect(()=>{const P=z=>{M.current&&!M.current.contains(z.target)&&N(!1),_.current&&!_.current.contains(z.target)&&S(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const A=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:a.jsx(yu,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:a.jsx(Zt,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:a.jsx(Et,{className:"text-blue-500"}),date:"Jul 28, 2023"}],O=[{id:1,name:"Budi Santoso",role:"Maintenance Technician",avatar:"https://randomuser.me/api/portraits/men/32.jpg",comment:"The HVAC system in Building A needs calibration. Temperature fluctuations observed.",time:"2 hours ago"},{id:2,name:"Ani Wijaya",role:"Facility Manager",avatar:"https://randomuser.me/api/portraits/women/44.jpg",comment:"Completed generator maintenance ahead of schedule. All parameters normal.",time:"5 hours ago"},{id:3,name:"Rudi Hermawan",role:"Operations Supervisor",avatar:"https://randomuser.me/api/portraits/men/67.jpg",comment:"Requesting additional spare parts for conveyor system maintenance next week.",time:"1 day ago"}],D={total:142,running:118,maintenance:15,breakdown:5,idle:4},F={total:86,overdue:5},L=()=>{x(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!n)),r(P=>!P)};return b.useEffect(()=>{i(1),(async()=>{try{const z=await l("/protected-data");h(z)}catch(z){console.error("Failed to fetch data:",z)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(n))},[n,t,l]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[y&&a.jsx(k.button,{onClick:L,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Vj,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Dashboard"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[" ",a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!t),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:M,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>N(!v),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:v&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:[A.slice(0,3).map(P=>a.jsxs("div",{className:"flex items-start px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 last:border-b-0",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:P.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-gray-800",children:P.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:P.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:P.date})]})]},P.id)),A.length===0&&a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})]}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{alert("View All Notifications clicked"),N(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:_,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>S(!C),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(o==null?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:o==null?void 0:o.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:C&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(o==null?void 0:o.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{m("/profile"),S(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{m("/settings"),S(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{m("/logout"),S(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome back, ",(o==null?void 0:o.name)||((I=o==null?void 0:o.roles)==null?void 0:I[0]),"!"]}),a.jsx("p",{className:"opacity-90 text-sm",children:"Here's what's happening with your assets today"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(by,{title:"Total Assets",value:D.total.toString(),change:"+8%",icon:a.jsx(io,{})}),a.jsx(by,{title:"Assets Running",value:D.running.toString(),change:"+5%",icon:a.jsx(Et,{})}),a.jsx(by,{title:"Work Orders",value:F.total.toString(),change:"-3%",icon:a.jsx(Ps,{})}),a.jsx(by,{title:"Overdue Tasks",value:F.overdue.toString(),change:"+2%",icon:a.jsx(Sn,{})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs(k.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Insights"}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:A.map(P=>a.jsxs(k.div,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"flex items-start p-3 hover:bg-blue-50 rounded-xl transition-colors cursor-pointer",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:P.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-800",children:P.title}),a.jsx("p",{className:"text-sm text-gray-600",children:P.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:P.date})]})]},P.id))})]}),a.jsxs(k.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Asset Status Distribution"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(Yo,{className:"mx-auto text-4xl mb-2"}),a.jsx("p",{children:"Asset Status Chart"})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-green-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Running (",Math.round(D.running/D.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-yellow-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Maintenance (",Math.round(D.maintenance/D.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-red-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Breakdown (",Math.round(D.breakdown/D.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-blue-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Idle (",Math.round(D.idle/D.total*100),"%)"]})]})]})]})]}),a.jsxs("div",{children:[a.jsxs(k.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Updates"}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:O.map(P=>a.jsx(k.div,{whileHover:{y:-3,boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},className:"p-3 border border-blue-100 rounded-xl cursor-pointer bg-white",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(k.img,{whileHover:{rotate:5},src:P.avatar,alt:P.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center flex-wrap",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:P.name}),a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full ml-2",children:P.role})]}),a.jsx("p",{className:"text-sm mt-1 text-gray-700",children:P.comment}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:P.time})]})]})},P.id))})]}),a.jsxs(k.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),a.jsx("div",{className:"space-y-3",children:[{text:"Create Work Order",icon:a.jsx(Ps,{className:"text-blue-600 text-lg"}),onClick:()=>m("/workorders")},{text:"Add New Asset",icon:a.jsx(io,{className:"text-blue-600 text-lg"}),onClick:()=>m("/assets")},{text:"Send Announcement",icon:a.jsx(Mf,{className:"text-blue-600 text-lg"}),onClick:()=>m("/dashboard")},{text:"Generate Report",icon:a.jsx(Yo,{className:"text-blue-600 text-lg"}),onClick:()=>m("/reports")}].map((P,z)=>a.jsxs(k.button,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 1)"},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors text-gray-800 font-semibold text-sm",onClick:P.onClick,children:[a.jsx("span",{children:P.text}),P.icon]},z))})]})]})]})]})]})]})},t0e=()=>a.jsx("div",{className:"flex justify-center items-center fixed inset-0 w-full h-full bg-white/70 backdrop-blur-sm z-50",children:a.jsx("div",{className:"w-16 h-16 border-4 border-solid border-blue-500 border-t-transparent rounded-full animate-spin"})}),ks=({requiredPermissions:t=[]})=>{const{token:e,user:n,hasPermission:r,isAuthLoading:s}=_t(),i=St(),o=Yr();return b.useEffect(()=>{if(!s){if(!e){i("/login",{state:{from:o},replace:!0});return}n&&t.length>0&&!t.some(c=>r(c))&&i("/unauthorized",{state:{from:o},replace:!0})}},[e,n,t,r,i,o,s]),s?a.jsx(t0e,{}):e&&(t.length===0||n&&t.some(c=>r(c)))?a.jsx(Coe,{}):null},n0e=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(()=>{const de=localStorage.getItem("sidebarOpen");return de?JSON.parse(de):!1}),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState("all"),[h,m]=b.useState(!1),[p,x]=b.useState(!1),[y,w]=b.useState(!1),[v,N]=b.useState(null),[C,S]=b.useState(!1),[M,_]=b.useState(1),[A]=b.useState(5),{user:O,fetchWithAuth:D}=_t();St(),Yr();const[F,L]=b.useState(!1),[I,P]=b.useState(window.innerWidth<768);b.useEffect(()=>{const de=()=>{P(window.innerWidth<768),window.innerWidth<768&&r(!1)};return window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]);const[z,U]=b.useState([{id:"TM-001",name:"Budi Santoso",nik:0x462d53c8abac0,phone:"+62 812-3456-7890",role:"supervisor",department:"Maintenance",status:"active",joinDate:"2021-03-15",lastActive:"Today, 09:45",avatar:"https://randomuser.me/api/portraits/men/32.jpg"}]),V=()=>{L(!0),r(de=>!de)},$=de=>{const we={...de,id:`TM-${String(z.length+1).padStart(3,"0")}`,avatar:`https://ui-avatars.com/api/?name=${de.name}&background=0078D7&color=fff`};U([...z,we]),x(!1)},R=de=>{U(z.map(we=>we.id===de.id?de:we)),w(!1),N(null),S(!1)},W=z.filter(de=>{const we=de.name.toLowerCase().includes(s.toLowerCase())||de.id.toLowerCase().includes(s.toLowerCase())||de.department.toLowerCase().includes(s.toLowerCase()),Fe=o==="all"||de.status===o,$e=c==="all"||de.role===c;return we&&Fe&&$e}),q=M*A,X=q-A;W.slice(X,q),Math.ceil(W.length/A),b.useEffect(()=>{_(1),localStorage.setItem("sidebarOpen",JSON.stringify(n))},[s,o,c,n]);const H=({title:de,value:we,change:Fe,icon:$e})=>{const be=Fe.startsWith("+");return a.jsxs(k.div,{whileHover:{y:-5,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-xl shadow-sm p-5 border border-blue-100 cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:de}),a.jsx("p",{className:"text-3xl font-extrabold mt-1 text-gray-900",children:we})]}),a.jsx(k.div,{whileHover:{rotate:10,scale:1.1},className:"p-3 rounded-full bg-blue-50 text-blue-600 text-2xl",children:$e})]}),a.jsxs(k.p,{animate:{x:be?[0,2,0]:[0,-2,0]},transition:{repeat:1/0,duration:2},className:`mt-3 text-sm font-medium ${be?"text-green-600":"text-red-600"}`,children:[Fe," from last month"]})]})},J=({isOpen:de,onClose:we,title:Fe,children:$e})=>de?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-xl shadow-2xl w-full max-w-lg mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-blue-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:Fe}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:we,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(Sle,{})})]}),a.jsx("div",{children:$e})]})}):null,ne=({onAddMember:de})=>{const[we,Fe]=b.useState({name:"",nik:0,phone:"",role:"technician",department:"Maintenance",status:"active",joinDate:new Date().toISOString().split("T")[0],lastActive:"Just now"}),$e=be=>{be.preventDefault(),de(we)};return a.jsx("form",{onSubmit:$e,className:"space-y-4",children:a.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Add Member"})})})},fe=({member:de,isEditing:we,onSave:Fe,onCancel:$e})=>{const[be,Ee]=b.useState(de),Ge=ae=>{ae.preventDefault(),Fe(be)};return a.jsx("form",{onSubmit:Ge,className:"space-y-4",children:a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(k.button,{type:"button",onClick:$e,whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-blue-200 text-base font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:we?"Cancel":"Close"}),we&&a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Save Changes"})]})})};return a.jsxs("div",{className:`flex h-screen font-sans ${t?"dark bg-gray-900":"bg-gray-50"}`,children:[a.jsx(qe,{children:(!I||n)&&a.jsx(k.div,{initial:{width:I?0:n?256:80},animate:{width:I?n?256:0:n?256:80},exit:{width:0},transition:{duration:.3,ease:"easeInOut"},className:`bg-white dark:bg-gray-800 border-r border-blue-100 dark:border-gray-700 flex flex-col shadow-md overflow-hidden ${I?"fixed z-50 h-full":""}`})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white dark:bg-gray-800 border-b border-blue-100 dark:border-gray-700 p-4 flex items-center justify-between shadow-sm",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[I&&a.jsx(k.button,{onClick:V,whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors duration-200",children:a.jsx(xle,{className:"text-xl"})}),a.jsx(kI,{className:"text-2xl text-blue-600 dark:text-blue-400"}),a.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-blue-600 dark:text-blue-400",children:"Team"})]}),a.jsx("div",{className:"flex items-center space-x-4"})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar",children:[a.jsx(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(H,{title:"Total Members",value:z.length.toString(),change:"+8%",icon:a.jsx(kI,{})})}),a.jsx(k.div,{layout:!0,className:"mb-6 bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 md:p-6 border border-blue-100 dark:border-gray-700"}),a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-blue-100 dark:border-gray-700"}),W.length>A&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between"})]})]}),a.jsx(J,{isOpen:p,onClose:()=>x(!1),title:"Add New Team Member",children:a.jsx(ne,{onAddMember:$})}),v&&a.jsx(J,{isOpen:y,onClose:()=>{w(!1),N(null),S(!1)},title:C?"Edit Team Member":"Team Member Details",children:a.jsx(fe,{member:v,isEditing:C,onSave:R,onCancel:()=>{w(!1),N(null),S(!1)}})})]})},r0e=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[o,l]=b.useState(!1),c=async d=>{d.preventDefault(),r(""),i(""),l(!0);try{await new Promise(h=>setTimeout(h,1e3)),i(`Password reset link sent to ${t}`),e("")}catch(h){r(h instanceof Error?h.message:"Failed to send reset link")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("form",{onSubmit:c,className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12","aria-label":"Forgot Password Form",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-lg flex items-center justify-center",children:a.jsx("img",{src:zf,alt:"Logo Wida",className:"h-20 w-auto"})}),a.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2 text-center",children:"Reset Password"}),a.jsx("p",{className:"text-sm text-gray-500 text-center mb-8",children:"Enter your NIK to receive a reset link"}),n&&a.jsxs("div",{className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:n})]}),s&&a.jsxs("div",{className:"mb-6 text-sm text-green-700 bg-green-50 border border-green-100 px-4 py-3 rounded-md flex items-start",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("span",{children:s})]}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{id:"nik",type:"nik",placeholder:"12345678910111213141516",value:t,onChange:d=>e(d.target.value),required:!0,className:"w-full px-4 py-2.5 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),a.jsx("button",{type:"submit",disabled:o,className:`w-full py-2.5 px-4 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${o?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} flex items-center justify-center`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"})]}),a.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-100",children:[a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Remember your password?"," ",a.jsx(rc,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-2",children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})]})})})},s0e=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:a.jsx("div",{className:"w-full max-w-4xl",children:a.jsxs("div",{className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-lg flex items-center justify-center",children:a.jsx("img",{src:zf,alt:"Logo Wida",className:"h-20 w-auto"})}),a.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Privacy Policy"}),a.jsxs("p",{className:"text-sm text-gray-500 text-center mb-8",children:["Effective: ",new Date().toLocaleDateString()]}),a.jsxs("div",{className:"prose prose-sm max-w-none text-gray-700 space-y-6",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"1. Information We Collect"}),a.jsx("p",{children:"We collect personal information when you register, including:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Full name and contact details"}),a.jsx("li",{children:"Professional credentials (for healthcare providers)"}),a.jsx("li",{children:"Usage data and cookies"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"2. How We Use Information"}),a.jsx("p",{children:"Your data helps us:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Provide pharmaceutical services"}),a.jsx("li",{children:"Secure your account with authentication"}),a.jsx("li",{children:"Improve our platform"}),a.jsx("li",{children:"Comply with legal requirements"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"3. Data Protection"}),a.jsx("p",{children:"We implement security measures including:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Encryption of sensitive data"}),a.jsx("li",{children:"Regular security audits"}),a.jsx("li",{children:"Access controls to personal information"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"4. Third-Party Sharing"}),a.jsx("p",{children:"We only share data with:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Verified healthcare partners (with consent)"}),a.jsx("li",{children:"Legal authorities when required"}),a.jsx("li",{children:"Service providers under confidentiality agreements"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"5. Your Rights"}),a.jsx("p",{children:"You may request to:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Access your personal data"}),a.jsx("li",{children:"Correct inaccurate information"}),a.jsx("li",{children:"Delete your account data"}),a.jsx("li",{children:"Opt-out of marketing communications"})]})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[a.jsx(rc,{to:"/register",className:"text-blue-600 hover:underline font-medium mb-3 sm:mb-0",children:"Back to Registration"}),a.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})})]})]})})}),a0e=["Logout","Sign Out","Sampai Jumpa","Au Revoir","Sayonara"],i0e=()=>{const{logout:t,isLoggingOut:e}=_t(),[n,r]=b.useState(null),[s,i]=b.useState(!1),[o]=b.useState(a0e[0]),[l,c]=b.useState(!1);b.useEffect(()=>{i(!0);let x;return c(!0),x=setTimeout(()=>{c(!1)},500),()=>{clearTimeout(x)}},[]);const d={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},h=l?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},m=async()=>{try{await t()}catch(x){r("Failed to logout. Please try again."),console.error("Logout error:",x)}},p=()=>{window.history.back()};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:a.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[a.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${s?"opacity-100":"opacity-0"}`,children:[a.jsx("img",{src:zf,alt:"Logo Wida",className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),a.jsx("h1",{style:{...d,...h},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${s?"opacity-100":"opacity-0"}`,children:o}),a.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"See You Soon!"}),a.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${s?"opacity-100":"opacity-0"}`,children:"Thank you for your hard work today. We hope to see you back soon."}),e?a.jsx(a.Fragment,{children:a.jsx("div",{className:`text-center transition-all duration-500 ease-out delay-500 ${s?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:a.jsxs("button",{type:"button",disabled:!0,className:`w-full py-3 px-4 rounded-md text-base font-medium bg-blue-400 text-white cursor-not-allowed
                              transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                              flex items-center justify-center`,children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Securing Session & Logging Out..."]})})}):a.jsxs(a.Fragment,{children:[n&&a.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:n})]}),a.jsxs("div",{className:`space-y-4 transition-all duration-500 ease-out delay-500 ${s?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsxs("button",{onClick:m,className:`w-full py-3 px-4 rounded-md text-base font-medium
                            transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500
                            bg-red-600 text-white hover:bg-red-700 active:bg-red-800 transform hover:-translate-y-0.5
                            flex items-center justify-center`,children:[a.jsx(vle,{className:"mr-2"}),"Yes, Sign Out Now"]}),a.jsx("div",{className:"flex justify-center transition-all duration-500 ease-out delay-600",children:a.jsxs("button",{onClick:p,className:`inline-flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 \r
                              transition-all duration-300 ease-in-out font-medium hover:text-gray-800`,children:[a.jsx(fw,{className:"mr-2"}),"No, Stay Logged In"]})})]}),a.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-700 ${s?"opacity-100":"opacity-0"}`,children:["Not finished yet?"," ",a.jsx(rc,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(yle,{className:"mr-1 h-4 w-4"})," Back to Dashboard"]})})]})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:a.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-800 ${s?"opacity-100":"opacity-0"}`,children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),a.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${s?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),a.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),a.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[a.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),a.jsx("div",{className:"text-purple-300 animate-pulse-light",children:a.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M13 12c0-1.104-.896-2-2-2h-1V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3c0 1.104-.896 2-2 2h-1v2h2c1.104 0 2 .896 2 2v7c0 1.104-.896 2-2 2H6c-1.104 0-2-.896-2-2v-7c0-1.104.896-2 2-2h2v-2h-1c-1.104 0-2-.896-2-2V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3h-1c-1.104 0-2 .896-2 2zM6 14v7h12v-7H6z"})})}),a.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[a.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:a.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),a.jsx("p",{children:"Security check on exit completed"})]})]}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:a.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},yy=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},o0e=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,l0e=({asset:t,isEditing:e,onSave:n,onCancel:r})=>{const[s,i]=b.useState(t);b.useEffect(()=>{i(t)},[t]);const o=d=>{const{name:h,value:m}=d.target;i(p=>({...p,[h]:m}))},l=d=>{const h=parseInt(d.target.value,10);i(m=>({...m,health:isNaN(h)?0:Math.max(0,Math.min(100,h))}))},c=d=>{d.preventDefault(),n(s)};return a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-id",className:"block text-sm font-medium text-gray-700",children:"Asset ID"}),a.jsx("input",{type:"text",id:"detail-id",value:s.id,readOnly:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-blue-50 cursor-not-allowed transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-name",className:"block text-sm font-medium text-gray-700",children:"Asset Name"}),a.jsx("input",{type:"text",id:"detail-name",name:"name",value:s.name,onChange:o,readOnly:!e,required:!0,className:`mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-type",className:"block text-sm font-medium text-gray-700",children:"Asset Type"}),a.jsxs("select",{id:"detail-type",name:"type",value:s.type,onChange:o,disabled:!e,required:!0,className:`mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-make",className:"block text-sm font-medium text-gray-700",children:"Make"}),a.jsx("input",{type:"text",id:"detail-make",name:"make",value:s.make,onChange:o,readOnly:!e,required:!0,className:`mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-model",className:"block text-sm font-medium text-gray-700",children:"Model"}),a.jsx("input",{type:"text",id:"detail-model",name:"model",value:s.model,onChange:o,readOnly:!e,required:!0,className:`mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-status",className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{id:"detail-status",name:"status",value:s.status,onChange:o,disabled:!e,required:!0,className:`mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-lastMaintenance",className:"block text-sm font-medium text-gray-700",children:"Last Maintenance Date"}),a.jsx("input",{type:"date",id:"detail-lastMaintenance",name:"lastMaintenance",value:s.lastMaintenance,onChange:o,readOnly:!e,className:`mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-nextMaintenance",className:"block text-sm font-medium text-gray-700",children:"Next Maintenance Date"}),a.jsx("input",{type:"date",id:"detail-nextMaintenance",name:"nextMaintenance",value:s.nextMaintenance,onChange:o,readOnly:!e,className:`mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-location",className:"block text-sm font-medium text-gray-700",children:"Location"}),a.jsx("input",{type:"text",id:"detail-location",name:"location",value:s.location,onChange:o,readOnly:!e,required:!0,className:`mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-workOrders",className:"block text-sm font-medium text-gray-700",children:"Work Orders"}),a.jsx("input",{type:"text",id:"detail-workOrders",name:"workOrders",value:s.workOrders,onChange:o,readOnly:!e,className:`mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-health",className:"block text-sm font-medium text-gray-700",children:"Health (%)"}),a.jsx("input",{type:"text",id:"detail-health",name:"health",value:s.health,onChange:l,readOnly:!e,min:"0",max:"100",className:`mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(k.button,{type:"button",onClick:r,whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-gray-200 text-base font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:e?"Cancel":"Close"}),e&&a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Save Changes"})]})]})},c0e=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(()=>{const Ve=localStorage.getItem("sidebarOpen");return Ve?JSON.parse(Ve):!1}),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState("all"),[h,m]=b.useState(!1),[p,x]=b.useState(!1),[y,w]=b.useState(!1),[v,N]=b.useState(null),[C,S]=b.useState(!1),[M,_]=b.useState(1),[A]=b.useState(5),{user:O,fetchWithAuth:D,hasPermission:F,getERPData:L,deleteAsset:I}=_t(),[P,z]=b.useState(null),U=St(),[V,$]=b.useState(!1),[R,W]=b.useState(window.innerWidth<768),[q,X]=b.useState(!1),[H,J]=b.useState(!1),ne=b.useRef(null),fe=b.useRef(null),[de,we]=b.useState([]),[Fe,$e]=b.useState(!1),[be,Ee]=b.useState(null);b.useEffect(()=>{const Ve=()=>{W(window.innerWidth<768),window.innerWidth<768&&r(!1)};return window.addEventListener("resize",Ve),()=>window.removeEventListener("resize",Ve)},[]),b.useEffect(()=>{const Ve=Ue=>{ne.current&&!ne.current.contains(Ue.target)&&X(!1),fe.current&&!fe.current.contains(Ue.target)&&J(!1)};return document.addEventListener("mousedown",Ve),()=>{document.removeEventListener("mousedown",Ve)}},[]);const Ge=async()=>{$e(!0),Ee(null);try{const Ve=await L();we(Ve)}catch(Ve){Ee("Failed to load data from ERP."),console.error("Error fetching ERP data:",Ve)}finally{$e(!1)}},ae=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:a.jsx(Et,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:a.jsx(Zt,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:a.jsx(Et,{className:"text-blue-500"}),date:"Jul 28, 2023"}],oe=()=>{$(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!n)),r(Ve=>!Ve)},Y=de.filter(Ve=>{const Ue=String(Ve.id),Ye=s.toLowerCase();return Ve.name.toLowerCase().includes(Ye)||Ue.toLowerCase().includes(Ye)||Ve.category.toLowerCase().includes(Ye)||Ve.location.toLowerCase().includes(Ye)}),ce=M*A,Ie=ce-A,We=Y.slice(Ie,ce),pe=Math.ceil(Y.length/A),Ne=Ve=>_(Ve);b.useEffect(()=>{_(1),(async()=>{try{const Ue=await D("/protected-data");z(Ue)}catch(Ue){console.error("Failed to fetch data:",Ue)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(n))},[s,o,c,n,t,D]);const st=Ve=>{N(Ve),w(!0),S(!1)},rt=async Ve=>{if(window.confirm(`Are you sure you want to delete asset with ID: ${Ve}?`)){if(console.log("Attempting to delete asset with ID:",Ve),!Ve){console.error("Asset ID is empty or invalid."),alert("Cannot delete: Asset ID is missing.");return}try{await I(Ve),we(de.filter(Ue=>String(Ue.id)!==Ve)),console.log(`Asset with ID: ${Ve} deleted successfully.`)}catch(Ue){console.error("Failed to delete asset:",Ue),alert("Failed to delete asset.")}}};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[R&&a.jsx(k.button,{onClick:oe,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(io,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Assets Data"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!t),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:ne,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!q),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:q&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>X(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:[ae.slice(0,3).map(Ve=>a.jsxs("div",{className:"flex items-start px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 last:border-b-0",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:Ve.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-gray-800",children:Ve.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Ve.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Ve.date})]})]},Ve.id)),ae.length===0&&a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})]}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{X(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:fe,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>J(!H),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(O==null?void 0:O.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:O==null?void 0:O.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:H&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(O==null?void 0:O.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{U("/profile"),J(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{U("/settings"),J(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{U("/logout"),J(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Assets Data Overview"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and monitor your physical assets efficiently"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(k.button,{onClick:Ge,disabled:Fe,whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:`flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md ${Fe?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[a.jsx(Wf,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:Fe?"Loading...":"Load Data from ERP"})]}),a.jsxs(k.button,{onClick:()=>U("/assets/addasset"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Asset"})]}),a.jsxs(k.button,{onClick:()=>{},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Import"})]}),a.jsxs(k.button,{onClick:()=>m(!h),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Js,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Filters"}),h?a.jsx(xg,{}):a.jsx(Ut,{})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(yy,{title:"Total Assets",value:de.length.toString(),change:"+12%",icon:a.jsx(io,{})}),a.jsx(yy,{title:"Active Assets",value:"N/A",change:"+5%",icon:a.jsx(Et,{})}),a.jsx(yy,{title:"In Maintenance",value:"N/A",change:"-2%",icon:a.jsx(Na,{})}),a.jsx(yy,{title:"Critical Issues",value:"N/A",change:"+1",icon:a.jsx(Zt,{})})]}),a.jsx(k.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search assets by name or ID...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:Ve=>i(Ve.target.value)})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:Ve=>l(Ve.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"})]}),a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:c,onChange:Ve=>d(Ve.target.value),children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"})]})]})})]})}),a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Asset"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Purchase Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[Fe&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-600 text-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-600",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})})}),be&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-10 text-red-500 text-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Zt,{className:"text-red-500 mr-2"}),be]})})}),!Fe&&de.length===0&&!be&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-600 text-lg",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(io,{className:"text-gray-400 mb-3",size:48}),'No assets found. Please click "Load Data from ERP".']})})}),We.length>0&&We.map(Ve=>a.jsxs(k.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"ml-0",children:[" ",a.jsx("div",{className:"text-base font-medium text-gray-900",children:Ve.name}),a.jsx("div",{className:"text-sm text-gray-600",children:Ve.category})]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:Ve.location})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:Ve.purchaseDate})," "]}),a.jsxs("td",{className:"px-6 py-4",children:[" ",a.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:Ve.description})," "]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(k.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>U(`/assets/editasset/${Ve.id}`),className:"text-yellow-600 hover:text-blue-600 transition-colors duration-200",title:"Edit Asset",children:a.jsx(fs,{className:"w-5 h-5"})}),a.jsx(k.button,{whileHover:{scale:1.1,color:"#dc2626"},whileTap:{scale:.9},onClick:()=>rt(String(Ve.id)),className:"text-red-600 hover:text-red-600 transition-colors duration-200",title:"Delete Asset",children:a.jsx(Er,{className:"w-5 h-5"})}),a.jsx(k.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>st(Ve),className:"text-blue-600 hover:text-blue-600 transition-colors duration-200",title:"View Details",children:a.jsx(ns,{className:"w-5 h-5"})})]})})]},Ve.id))]})]})})}),Y.length>A&&a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Ie+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(ce,Y.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:Y.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ne(M-1),disabled:M===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:pe},(Ve,Ue)=>a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ne(Ue+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${M===Ue+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Ue+1},Ue+1)),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ne(M+1),disabled:M===pe,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),v&&a.jsx(o0e,{isOpen:y,onClose:()=>{w(!1),N(null),S(!1)},title:C?"Edit Asset":"Asset Details",children:a.jsx(l0e,{asset:v,isEditing:C,onSave:()=>{},onCancel:()=>{w(!1),N(null),S(!1)}})})]})},vy=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},V8=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),W8=[{id:1,title:"Peringatan Mesin A",description:"Suhu mesin A melebihi batas normal.",date:"Today, 10:00 AM",icon:a.jsx(Zt,{className:"text-red-500"})},{id:2,title:"Jadwal Perawatan Mendatang",description:"Perawatan rutin untuk Mesin B akan dilakukan besok.",date:"Yesterday, 03:00 PM",icon:a.jsx(Go,{className:"text-blue-500"})}],d0e=({onAddInventory:t})=>{const[e,n]=b.useState({name:"",description:"",category:"spare-parts",status:"in-stock",quantity:0,minQuantity:5,unit:"pcs",location:"",supplier:"",cost:0,lastOrdered:"",nextOrder:"",barcode:""}),r=o=>{const{name:l,value:c}=o.target;n(d=>({...d,[l]:c}))},s=o=>{const{name:l,value:c}=o.target;n(d=>({...d,[l]:Number(c)}))},i=o=>{o.preventDefault(),t(e),n({name:"",description:"",category:"spare-parts",status:"in-stock",quantity:0,minQuantity:5,unit:"pcs",location:"",supplier:"",cost:0,lastOrdered:"",nextOrder:"",barcode:""})};return a.jsxs("form",{onSubmit:i,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Item Name*"}),a.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:r,required:!0,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:r,rows:3,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category*"}),a.jsxs("select",{id:"category",name:"category",value:e.category,onChange:r,required:!0,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[a.jsx("option",{value:"spare-parts",children:"Spare Parts"}),a.jsx("option",{value:"consumables",children:"Consumables"}),a.jsx("option",{value:"tools",children:"Tools"}),a.jsx("option",{value:"safety",children:"Safety Equipment"}),a.jsx("option",{value:"office",children:"Office Supplies"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status*"}),a.jsxs("select",{id:"status",name:"status",value:e.status,onChange:r,required:!0,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[a.jsx("option",{value:"in-stock",children:"In Stock"}),a.jsx("option",{value:"low-stock",children:"Low Stock"}),a.jsx("option",{value:"out-of-stock",children:"Out of Stock"}),a.jsx("option",{value:"on-order",children:"On Order"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Current Quantity*"}),a.jsx("input",{type:"number",id:"quantity",name:"quantity",value:e.quantity,onChange:s,min:"0",required:!0,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"minQuantity",className:"block text-sm font-medium text-gray-700",children:"Minimum Quantity*"}),a.jsx("input",{type:"number",id:"minQuantity",name:"minQuantity",value:e.minQuantity,onChange:s,min:"0",required:!0,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700",children:"Unit*"}),a.jsxs("select",{id:"unit",name:"unit",value:e.unit,onChange:r,required:!0,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[a.jsx("option",{value:"pcs",children:"Pieces"}),a.jsx("option",{value:"kg",children:"Kilograms"}),a.jsx("option",{value:"l",children:"Liters"}),a.jsx("option",{value:"m",children:"Meters"}),a.jsx("option",{value:"box",children:"Boxes"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location*"}),a.jsx("input",{type:"text",id:"location",name:"location",value:e.location,onChange:r,required:!0,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"supplier",className:"block text-sm font-medium text-gray-700",children:"Supplier*"}),a.jsx("input",{type:"text",id:"supplier",name:"supplier",value:e.supplier,onChange:r,required:!0,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"cost",className:"block text-sm font-medium text-gray-700",children:"Unit Cost ($)*"}),a.jsx("input",{type:"number",id:"cost",name:"cost",value:e.cost,onChange:s,min:"0",step:"0.01",required:!0,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"barcode",className:"block text-sm font-medium text-gray-700",children:"Barcode/Serial"}),a.jsx("input",{type:"text",id:"barcode",name:"barcode",value:e.barcode,onChange:r,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastOrdered",className:"block text-sm font-medium text-gray-700",children:"Last Ordered"}),a.jsx("input",{type:"date",id:"lastOrdered",name:"lastOrdered",value:e.lastOrdered,onChange:r,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"nextOrder",className:"block text-sm font-medium text-gray-700",children:"Next Order"}),a.jsx("input",{type:"date",id:"nextOrder",name:"nextOrder",value:e.nextOrder,onChange:r,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),a.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Add Inventory Item"})})]})},u0e=({inventory:t,isEditing:e,onSave:n,onCancel:r,onRequestOrder:s})=>{const[i,o]=b.useState(t),[l,c]=b.useState("");b.useEffect(()=>{o(t)},[t]);const d=y=>{const{name:w,value:v}=y.target;o(N=>({...N,[w]:v}))},h=y=>{const{name:w,value:v}=y.target;o(N=>({...N,[w]:Number(v)}))},m=()=>{l.trim()&&(o(y=>({...y,notes:[...y.notes,l]})),c(""))},p=y=>{o(w=>({...w,notes:w.notes.filter((v,N)=>N!==y)}))},x=y=>{y.preventDefault(),n(i)};return a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-id",className:"block text-sm font-medium text-gray-700",children:"Inventory ID"}),a.jsx("input",{type:"text",id:"detail-id",value:i.id,readOnly:!0,className:"mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 bg-blue-50 cursor-not-allowed transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-name",className:"block text-sm font-medium text-gray-700",children:"Item Name"}),a.jsx("input",{type:"text",id:"detail-name",name:"name",value:i.name,onChange:d,readOnly:!e,required:!0,className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-description",className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("textarea",{id:"detail-description",name:"description",value:i.description,onChange:d,readOnly:!e,rows:3,className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-category",className:"block text-sm font-medium text-gray-700",children:"Category"}),a.jsxs("select",{id:"detail-category",name:"category",value:i.category,onChange:d,disabled:!e,required:!0,className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"spare-parts",children:"Spare Parts"}),a.jsx("option",{value:"consumables",children:"Consumables"}),a.jsx("option",{value:"tools",children:"Tools"}),a.jsx("option",{value:"safety",children:"Safety Equipment"}),a.jsx("option",{value:"office",children:"Office Supplies"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-status",className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{id:"detail-status",name:"status",value:i.status,onChange:d,disabled:!e,required:!0,className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"in-stock",children:"In Stock"}),a.jsx("option",{value:"low-stock",children:"Low Stock"}),a.jsx("option",{value:"out-of-stock",children:"Out of Stock"}),a.jsx("option",{value:"on-order",children:"On Order"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-quantity",className:"block text-sm font-medium text-gray-700",children:"Current Quantity"}),a.jsx("input",{type:"number",id:"detail-quantity",name:"quantity",value:i.quantity,onChange:h,readOnly:!e,min:"0",required:!0,className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-minQuantity",className:"block text-sm font-medium text-gray-700",children:"Minimum Quantity"}),a.jsx("input",{type:"number",id:"detail-minQuantity",name:"minQuantity",value:i.minQuantity,onChange:h,readOnly:!e,min:"0",required:!0,className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-unit",className:"block text-sm font-medium text-gray-700",children:"Unit"}),a.jsxs("select",{id:"detail-unit",name:"unit",value:i.unit,onChange:d,disabled:!e,required:!0,className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`,children:[a.jsx("option",{value:"pcs",children:"Pieces"}),a.jsx("option",{value:"kg",children:"Kilograms"}),a.jsx("option",{value:"l",children:"Liters"}),a.jsx("option",{value:"m",children:"Meters"}),a.jsx("option",{value:"box",children:"Boxes"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-location",className:"block text-sm font-medium text-gray-700",children:"Location"}),a.jsx("input",{type:"text",id:"detail-location",name:"location",value:i.location,onChange:d,readOnly:!e,required:!0,className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-supplier",className:"block text-sm font-medium text-gray-700",children:"Supplier"}),a.jsx("input",{type:"text",id:"detail-supplier",name:"supplier",value:i.supplier,onChange:d,readOnly:!e,required:!0,className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-cost",className:"block text-sm font-medium text-gray-700",children:"Unit Cost ($)"}),a.jsx("input",{type:"number",id:"detail-cost",name:"cost",value:i.cost,onChange:h,readOnly:!e,min:"0",step:"0.01",className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-barcode",className:"block text-sm font-medium text-gray-700",children:"Barcode/Serial"}),a.jsx("input",{type:"text",id:"detail-barcode",name:"barcode",value:i.barcode,onChange:d,readOnly:!e,className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-lastOrdered",className:"block text-sm font-medium text-gray-700",children:"Last Ordered"}),a.jsx("input",{type:"date",id:"detail-lastOrdered",name:"lastOrdered",value:i.lastOrdered,onChange:d,readOnly:!e,className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"detail-nextOrder",className:"block text-sm font-medium text-gray-700",children:"Next Order"}),a.jsx("input",{type:"date",id:"detail-nextOrder",name:"nextOrder",value:i.nextOrder,onChange:d,readOnly:!e,className:`mt-1 block w-full border border-blue-200 rounded-md shadow-sm p-2.5 transition-all duration-200 ${e?"bg-white focus:ring-blue-500 focus:border-blue-500":"bg-blue-50 cursor-not-allowed"}`})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),a.jsx("div",{className:"space-y-3",children:i.notes.map((y,w)=>a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg relative",children:[a.jsx("p",{className:"text-gray-700",children:y}),e&&a.jsx("button",{type:"button",onClick:()=>p(w),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",children:a.jsx(Cr,{})})]},w))}),a.jsxs("div",{className:"mt-2 flex",children:[a.jsx("textarea",{value:l,onChange:y=>c(y.target.value),placeholder:"Add new note",rows:2,className:"flex-1 border border-blue-200 rounded-l-md p-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("button",{type:"button",onClick:m,className:"bg-blue-600 text-white px-3 rounded-r-md hover:bg-blue-700",children:"Add"})]})]}),a.jsxs("div",{className:"flex justify-between space-x-3 mt-6",children:[a.jsx("div",{children:i.status==="low-stock"||i.status==="out-of-stock"?a.jsxs(k.button,{type:"button",onClick:()=>s(i),whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[a.jsx(_pe,{className:"mr-2"}),"Request Order"]}):null}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(k.button,{type:"button",onClick:r,whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-blue-200 text-base font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:e?"Cancel":"Close"}),e&&a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Save Changes"})]})]})]})},h0e=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(()=>{const Ne=localStorage.getItem("sidebarOpen");return Ne?JSON.parse(Ne):!1}),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState("all"),[h,m]=b.useState(!1),[p,x]=b.useState(!1),[y,w]=b.useState(!1),[v,N]=b.useState(null),[C,S]=b.useState(!1),[M,_]=b.useState(1),[A]=b.useState(5),{user:O,fetchWithAuth:D,hasPermission:F}=_t(),[L,I]=b.useState(null),P=St(),[z,U]=b.useState(!1),[V,$]=b.useState(window.innerWidth<768),[R,W]=b.useState(!1),[q,X]=b.useState(!1),H=b.useRef(null),J=b.useRef(null);b.useEffect(()=>{const Ne=()=>{$(window.innerWidth<768),window.innerWidth<768&&r(!1)};return window.addEventListener("resize",Ne),()=>window.removeEventListener("resize",Ne)},[]);const[ne,fe]=b.useState([{id:"INV-001",name:"HVAC Filter",description:"High-efficiency particulate air filter for HVAC systems",category:"spare-parts",status:"in-stock",quantity:25,minQuantity:10,unit:"pcs",location:"Warehouse A, Shelf 3B",supplier:"ACME Filters Inc.",cost:45.99,lastOrdered:"2023-09-15",nextOrder:"2023-12-15",barcode:"HF-789456123",notes:["Compatible with all Trane XR15 models","Next shipment expected December 10"]},{id:"INV-002",name:"Hydraulic Oil",description:"Premium grade hydraulic oil for industrial machinery",category:"consumables",status:"low-stock",quantity:8,minQuantity:15,unit:"l",location:"Maintenance Room, Cabinet 2",supplier:"LubriMax",cost:32.5,lastOrdered:"2023-10-01",nextOrder:"",barcode:"HO-456789123",notes:["For use with forklifts and hydraulic presses","Order more before November"]},{id:"INV-003",name:"Safety Glasses",description:"Anti-fog safety glasses with UV protection",category:"safety",status:"in-stock",quantity:50,minQuantity:20,unit:"pcs",location:"Safety Locker, Bin 5",supplier:"SafeVision",cost:12.99,lastOrdered:"2023-08-20",nextOrder:"2024-02-20",barcode:"SG-123456789",notes:["Popular item - check stock monthly","ANSI Z87.1 certified"]},{id:"INV-004",name:"Industrial Bearing",description:"Sealed ball bearing for conveyor systems",category:"spare-parts",status:"out-of-stock",quantity:0,minQuantity:5,unit:"pcs",location:"Parts Room, Bin 12",supplier:"BearingTech",cost:89.75,lastOrdered:"2023-09-30",nextOrder:"2023-11-05",barcode:"IB-987654321",notes:["Model #BT-6205-2RS","Backordered - expected Nov 5"]},{id:"INV-005",name:"Multimeter",description:"Digital multimeter for electrical diagnostics",category:"tools",status:"in-stock",quantity:6,minQuantity:3,unit:"pcs",location:"Tool Crib, Drawer 4",supplier:"ElectroTools",cost:149.99,lastOrdered:"2023-07-10",nextOrder:"",barcode:"MM-654321987",notes:["Check calibration every 6 months","Last calibration: 2023-07-15"]},{id:"INV-006",name:"Printer Toner",description:"Black toner cartridge for OfficeJet Pro 9015",category:"office",status:"low-stock",quantity:2,minQuantity:5,unit:"pcs",location:"Supply Closet, Shelf 1",supplier:"PrintRight",cost:79.99,lastOrdered:"2023-10-05",nextOrder:"",barcode:"PT-321654987",notes:["Compatible with multiple printer models","Order 5 more next week"]},{id:"INV-007",name:"Steel Cable",description:"1/4 inch galvanized steel cable",category:"consumables",status:"in-stock",quantity:120,minQuantity:50,unit:"m",location:"Warehouse B, Rack 7",supplier:"CableMaster",cost:2.25,lastOrdered:"2023-09-25",nextOrder:"2024-03-25",barcode:"SC-147258369",notes:["Used for rigging and safety lines","500m spool - current length remaining: 120m"]},{id:"INV-008",name:"Hard Hat",description:"ANSI-approved industrial hard hat",category:"safety",status:"in-stock",quantity:18,minQuantity:10,unit:"pcs",location:"Safety Locker, Bin 2",supplier:"HeadSafe",cost:34.5,lastOrdered:"2023-08-15",nextOrder:"",barcode:"HH-369258147",notes:["Replace every 5 years or after impact","Current stock expires 2026"]},{id:"INV-009",name:"Conveyor Belt",description:"Rubber conveyor belt for production line",category:"spare-parts",status:"on-order",quantity:0,minQuantity:2,unit:"m",location:"Warehouse A, Rack 12",supplier:"BeltTech",cost:125,lastOrdered:"2023-10-10",nextOrder:"2023-10-25",barcode:"CB-258369147",notes:["Special order - 10m length","Expected delivery October 25"]},{id:"INV-010",name:"Wrench Set",description:"Metric combination wrench set",category:"tools",status:"in-stock",quantity:4,minQuantity:2,unit:"set",location:"Tool Crib, Drawer 3",supplier:"ToolPro",cost:89.95,lastOrdered:"2023-06-20",nextOrder:"",barcode:"WS-951753864",notes:["10-piece set (8mm-19mm)","Popular with maintenance team"]}]),de=()=>{alert("Import functionality is not yet implemented. This would typically involve uploading a file.")},we=Ne=>{switch(Ne){case"in-stock":return"bg-green-500";case"low-stock":return"bg-yellow-500";case"out-of-stock":return"bg-red-500";case"on-order":return"bg-blue-500";default:return"bg-gray-500"}},Fe=Ne=>{switch(Ne){case"spare-parts":return a.jsx(io,{className:"text-blue-500"});case"consumables":return a.jsx(Ime,{className:"text-orange-500"});case"tools":return a.jsx(uo,{className:"text-purple-500"});case"safety":return a.jsx(Zt,{className:"text-red-500"});case"office":return a.jsx(Rpe,{className:"text-green-500"});default:return a.jsx(Afe,{className:"text-gray-500"})}},$e=(Ne,st)=>{N(Ne),S(st),w(!0)},be=Ne=>{const st={...Ne,id:`INV-${String(ne.length+1).padStart(3,"0")}`,notes:[]};fe([...ne,st]),x(!1)},Ee=Ne=>{fe(ne.map(st=>st.id===Ne.id?Ne:st)),w(!1),N(null),S(!1)},Ge=Ne=>{const st={...Ne,status:"on-order",nextOrder:new Date(new Date().setDate(new Date().getDate()+14)).toISOString().split("T")[0]};fe(ne.map(rt=>rt.id===st.id?st:rt)),alert(`Order requested for ${Ne.name}. Next order date set to ${st.nextOrder}`),w(!1),N(null)},ae=()=>{U(!0),r(Ne=>!Ne)},oe=ne.filter(Ne=>{const st=Ne.name.toLowerCase().includes(s.toLowerCase())||Ne.id.toLowerCase().includes(s.toLowerCase())||Ne.description.toLowerCase().includes(s.toLowerCase()),rt=o==="all"||Ne.status===o,Ve=c==="all"||Ne.category===c;return st&&rt&&Ve}),Y=M*A,ce=Y-A,Ie=oe.slice(ce,Y),We=Math.ceil(oe.length/A),pe=Ne=>_(Ne);return b.useEffect(()=>{_(1),(async()=>{try{const st=await D("/protected-data");I(st)}catch(st){console.error("Failed to fetch data:",st)}})(),localStorage.setItem("sidebarOpen",JSON.stringify(n))},[s,o,c,n]),a.jsxs("div",{className:"flex h-screen font-sans bg-gray-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[V&&a.jsx(k.button,{onClick:ae,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Wf,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Inventory"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[" ",a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!t),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:H,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(!R),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:R&&a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),a.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:W8.length>0?W8.map(Ne=>a.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[Ne.icon&&a.jsx("div",{className:"flex-shrink-0 mr-3",children:Ne.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:Ne.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Ne.description}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ne.date})]})]},Ne.id)):a.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),a.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{W(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),a.jsxs("div",{className:"relative",ref:J,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>X(!q),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(O==null?void 0:O.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:O==null?void 0:O.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:q&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(O==null?void 0:O.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{P("/profile"),X(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{P("/settings"),X(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{P("/logout"),X(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Inventory ",a.jsx("span",{className:"text-blue-600",children:"Management"})]})," ",a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Effortlessly track, analyze, and manage machine downtime and maintenance activities to optimize factory operations."})," "]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(k.button,{onClick:()=>x(!0),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Cr,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Add Item"})]}),a.jsxs(k.button,{onClick:de,whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ua,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Import"})]}),a.jsxs(k.button,{onClick:()=>m(!h),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Js,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Filters"}),h?a.jsx(xg,{}):a.jsx(Ut,{})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(vy,{title:"Total Items",value:ne.length.toString(),change:"+8%",icon:a.jsx(Wf,{})}),a.jsx(vy,{title:"In Stock",value:ne.filter(Ne=>Ne.status==="in-stock").length.toString(),change:"+5%",icon:a.jsx(Et,{})}),a.jsx(vy,{title:"Low Stock",value:ne.filter(Ne=>Ne.status==="low-stock").length.toString(),change:"+2",icon:a.jsx(Zt,{})}),a.jsx(vy,{title:"Out of Stock",value:ne.filter(Ne=>Ne.status==="out-of-stock").length.toString(),change:"+1",icon:a.jsx(Cr,{})})]}),a.jsx(k.div,{layout:!0,className:"mb-6 bg-white rounded-xl shadow-sm p-4 md:p-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search inventory by name, ID, or description...",className:"w-full pl-12 pr-4 py-3 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:Ne=>i(Ne.target.value)})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[a.jsxs("select",{className:"border border-blue-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:Ne=>l(Ne.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"in-stock",children:"In Stock"}),a.jsx("option",{value:"low-stock",children:"Low Stock"}),a.jsx("option",{value:"out-of-stock",children:"Out of Stock"}),a.jsx("option",{value:"on-order",children:"On Order"})]}),a.jsxs("select",{className:"border border-blue-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:c,onChange:Ne=>d(Ne.target.value),children:[a.jsx("option",{value:"all",children:"All Categories"}),a.jsx("option",{value:"spare-parts",children:"Spare Parts"}),a.jsx("option",{value:"consumables",children:"Consumables"}),a.jsx("option",{value:"tools",children:"Tools"}),a.jsx("option",{value:"safety",children:"Safety Equipment"}),a.jsx("option",{value:"office",children:"Office Supplies"})]})]})})]})}),a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Quantity"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ie.length>0?Ie.map(Ne=>a.jsxs(k.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full bg-blue-50 flex items-center justify-center text-2xl",children:Fe(Ne.category)}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-base font-medium text-gray-900",children:Ne.name}),a.jsx("div",{className:"text-sm text-gray-600",children:Ne.id}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Ne.description.substring(0,50),"..."]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm capitalize text-gray-900",children:Ne.category.split("-").map(st=>st.charAt(0).toUpperCase()+st.slice(1)).join(" ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(k.span,{whileHover:{scale:1.05},className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${we(Ne.status)} text-white shadow-sm`,children:Ne.status.split("-").map(st=>st.charAt(0).toUpperCase()+st.slice(1)).join(" ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[Ne.quantity," ",Ne.unit,Ne.status==="low-stock"&&a.jsxs("div",{className:"text-xs text-yellow-600",children:["(Min: ",Ne.minQuantity,")"]}),Ne.status==="out-of-stock"&&a.jsxs("div",{className:"text-xs text-red-600",children:["(Min: ",Ne.minQuantity,")"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ne.location}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",Ne.cost.toFixed(2)]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["per ",Ne.unit]})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$e(Ne,!1),className:"text-blue-600 hover:text-blue-800 mr-3 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:[a.jsx(ns,{className:"text-lg"}),a.jsx("span",{children:"View"})]}),a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$e(Ne,!0),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Item",children:[a.jsx(fs,{className:"text-lg"}),a.jsx("span",{children:"Edit"})]})]})]},Ne.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No inventory items found matching your criteria."})})})]})})}),oe.length>A&&a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:ce+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(Y,oe.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:oe.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pe(M-1),disabled:M===1,className:"px-4 py-2 border border-blue-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:We},(Ne,st)=>a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pe(st+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                      ${M===st+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,children:st+1},st+1)),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pe(M+1),disabled:M===We,className:"px-4 py-2 border border-blue-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),a.jsx(V8,{isOpen:p,onClose:()=>x(!1),title:"Add New Inventory Item",children:a.jsx(d0e,{onAddInventory:be})}),v&&a.jsx(V8,{isOpen:y,onClose:()=>{w(!1),N(null),S(!1)},title:C?"Edit Inventory Item":"Inventory Details",children:a.jsx(u0e,{inventory:v,isEditing:C,onSave:Ee,onCancel:()=>{w(!1),N(null),S(!1)},onRequestOrder:Ge})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ox(t){return t+.5|0}const td=(t,e,n)=>Math.max(Math.min(t,n),e);function v0(t){return td(Ox(t*2.55),0,255)}function cd(t){return td(Ox(t*255),0,255)}function Dl(t){return td(Ox(t/2.55)/100,0,1)}function U8(t){return td(Ox(t*100),0,100)}const ji={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},LA=[..."0123456789ABCDEF"],f0e=t=>LA[t&15],m0e=t=>LA[(t&240)>>4]+LA[t&15],wy=t=>(t&240)>>4===(t&15),p0e=t=>wy(t.r)&&wy(t.g)&&wy(t.b)&&wy(t.a);function g0e(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ji[t[1]]*17,g:255&ji[t[2]]*17,b:255&ji[t[3]]*17,a:e===5?ji[t[4]]*17:255}:(e===7||e===9)&&(n={r:ji[t[1]]<<4|ji[t[2]],g:ji[t[3]]<<4|ji[t[4]],b:ji[t[5]]<<4|ji[t[6]],a:e===9?ji[t[7]]<<4|ji[t[8]]:255})),n}const x0e=(t,e)=>t<255?e(t):"";function b0e(t){var e=p0e(t)?f0e:m0e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+x0e(t.a,e):void 0}const y0e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $K(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function v0e(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function w0e(t,e,n){const r=$K(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function j0e(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function tP(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),l=(i+o)/2;let c,d,h;return i!==o&&(h=i-o,d=l>.5?h/(2-i-o):h/(i+o),c=j0e(n,r,s,h,i),c=c*60+.5),[c|0,d||0,l]}function nP(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(cd)}function rP(t,e,n){return nP($K,t,e,n)}function N0e(t,e,n){return nP(w0e,t,e,n)}function S0e(t,e,n){return nP(v0e,t,e,n)}function HK(t){return(t%360+360)%360}function k0e(t){const e=y0e.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?v0(+e[5]):cd(+e[5]));const s=HK(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=N0e(s,i,o):e[1]==="hsv"?r=S0e(s,i,o):r=rP(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function C0e(t,e){var n=tP(t);n[0]=HK(n[0]+e),n=rP(n),t.r=n[0],t.g=n[1],t.b=n[2]}function _0e(t){if(!t)return;const e=tP(t),n=e[0],r=U8(e[1]),s=U8(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Dl(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const q8={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},G8={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function T0e(){const t={},e=Object.keys(G8),n=Object.keys(q8);let r,s,i,o,l;for(r=0;r<e.length;r++){for(o=l=e[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,q8[i]);i=parseInt(G8[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let jy;function M0e(t){jy||(jy=T0e(),jy.transparent=[0,0,0,0]);const e=jy[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const A0e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function O0e(t){const e=A0e.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?v0(o):td(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?v0(r):td(r,0,255)),s=255&(e[4]?v0(s):td(s,0,255)),i=255&(e[6]?v0(i):td(i,0,255)),{r,g:s,b:i,a:n}}}function E0e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Dl(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const $k=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ef=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function D0e(t,e,n){const r=ef(Dl(t.r)),s=ef(Dl(t.g)),i=ef(Dl(t.b));return{r:cd($k(r+n*(ef(Dl(e.r))-r))),g:cd($k(s+n*(ef(Dl(e.g))-s))),b:cd($k(i+n*(ef(Dl(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Ny(t,e,n){if(t){let r=tP(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=rP(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function zK(t,e){return t&&Object.assign(e||{},t)}function Y8(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=cd(t[3]))):(e=zK(t,{r:0,g:0,b:0,a:1}),e.a=cd(e.a)),e}function P0e(t){return t.charAt(0)==="r"?O0e(t):k0e(t)}let BK=class IA{constructor(e){if(e instanceof IA)return e;const n=typeof e;let r;n==="object"?r=Y8(e):n==="string"&&(r=g0e(e)||M0e(e)||P0e(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=zK(this._rgb);return e&&(e.a=Dl(e.a)),e}set rgb(e){this._rgb=Y8(e)}rgbString(){return this._valid?E0e(this._rgb):void 0}hexString(){return this._valid?b0e(this._rgb):void 0}hslString(){return this._valid?_0e(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,l=2*o-1,c=r.a-s.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,r.r=255&d*r.r+i*s.r+.5,r.g=255&d*r.g+i*s.g+.5,r.b=255&d*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=D0e(this._rgb,e._rgb,n)),this}clone(){return new IA(this.rgb)}alpha(e){return this._rgb.a=cd(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ox(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ny(this._rgb,2,e),this}darken(e){return Ny(this._rgb,2,-e),this}saturate(e){return Ny(this._rgb,1,e),this}desaturate(e){return Ny(this._rgb,1,-e),this}rotate(e){return C0e(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jl(){}const R0e=(()=>{let t=0;return()=>t++})();function gn(t){return t==null}function Tr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function jn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Wr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ti(t,e){return Wr(t)?t:e}function nn(t,e){return typeof t>"u"?e:t}const L0e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,VK=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xr(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function rr(t,e,n,r){let s,i,o;if(Tr(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(jn(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function jw(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Nw(t){if(Tr(t))return t.map(Nw);if(jn(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=Nw(t[n[s]]);return e}return t}function WK(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function I0e(t,e,n,r){if(!WK(t))return;const s=e[t],i=n[t];jn(s)&&jn(i)?bg(s,i,r):e[t]=Nw(i)}function bg(t,e,n){const r=Tr(e)?e:[e],s=r.length;if(!jn(t))return t;n=n||{};const i=n.merger||I0e;let o;for(let l=0;l<s;++l){if(o=r[l],!jn(o))continue;const c=Object.keys(o);for(let d=0,h=c.length;d<h;++d)i(c[d],t,o,n)}return t}function z0(t,e){return bg(t,e,{merger:F0e})}function F0e(t,e,n){if(!WK(t))return;const r=e[t],s=n[t];jn(r)&&jn(s)?z0(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Nw(s))}const K8={"":t=>t,x:t=>t.x,y:t=>t.y};function $0e(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function H0e(t){const e=$0e(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function vd(t,e){return(K8[e]||(K8[e]=H0e(e)))(t)}function sP(t){return t.charAt(0).toUpperCase()+t.slice(1)}const yg=t=>typeof t<"u",wd=t=>typeof t=="function",X8=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function z0e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Dn=Math.PI,Sr=2*Dn,B0e=Sr+Dn,Sw=Number.POSITIVE_INFINITY,V0e=Dn/180,Zr=Dn/2,eu=Dn/4,J8=Dn*2/3,nd=Math.log10,Fo=Math.sign;function B0(t,e,n){return Math.abs(t-e)<n}function Q8(t){const e=Math.round(t);t=B0(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(nd(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function W0e(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function U0e(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Gf(t){return!U0e(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function q0e(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function UK(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function so(t){return t*(Dn/180)}function aP(t){return t*(180/Dn)}function Z8(t){if(!Wr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function qK(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Dn&&(i+=Sr),{angle:i,distance:s}}function FA(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function G0e(t,e){return(t-e+B0e)%Sr-Dn}function aa(t){return(t%Sr+Sr)%Sr}function vg(t,e,n,r){const s=aa(t),i=aa(e),o=aa(n),l=aa(i-s),c=aa(o-s),d=aa(s-i),h=aa(s-o);return s===i||s===o||r&&i===o||l>c&&d<h}function Os(t,e,n){return Math.max(e,Math.min(n,t))}function Y0e(t){return Os(t,-32768,32767)}function Pl(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function iP(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Rl=(t,e,n,r)=>iP(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),K0e=(t,e,n)=>iP(t,n,r=>t[r][e]>=n);function X0e(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const GK=["push","pop","shift","splice","unshift"];function J0e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),GK.forEach(n=>{const r="_onData"+sP(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),o}})})}function e7(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(GK.forEach(i=>{delete t[i]}),delete t._chartjs)}function YK(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const KK=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function XK(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,KK.call(window,()=>{r=!1,t.apply(e,n)}))}}function Q0e(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const oP=t=>t==="start"?"left":t==="end"?"right":"center",na=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Z0e=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function JK(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=o.axis,{min:m,max:p,minDefined:x,maxDefined:y}=o.getUserBounds();if(x){if(s=Math.min(Rl(c,h,m).lo,n?r:Rl(e,h,o.getPixelForValue(m)).lo),d){const w=c.slice(0,s+1).reverse().findIndex(v=>!gn(v[l.axis]));s-=Math.max(0,w)}s=Os(s,0,r-1)}if(y){let w=Math.max(Rl(c,o.axis,p,!0).hi+1,n?0:Rl(e,h,o.getPixelForValue(p),!0).hi+1);if(d){const v=c.slice(w-1).findIndex(N=>!gn(N[l.axis]));w+=Math.max(0,v)}i=Os(w,s,r)-s}else i=r-s}return{start:s,count:i}}function QK(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Sy=t=>t===0||t===1,t7=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Sr/n)),n7=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Sr/n)+1,V0={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Zr)+1,easeOutSine:t=>Math.sin(t*Zr),easeInOutSine:t=>-.5*(Math.cos(Dn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Sy(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Sy(t)?t:t7(t,.075,.3),easeOutElastic:t=>Sy(t)?t:n7(t,.075,.3),easeInOutElastic(t){return Sy(t)?t:t<.5?.5*t7(t*2,.1125,.45):.5+.5*n7(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-V0.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?V0.easeInBounce(t*2)*.5:V0.easeOutBounce(t*2-1)*.5+.5};function lP(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function r7(t){return lP(t)?t:new BK(t)}function Hk(t){return lP(t)?t:new BK(t).saturate(.5).darken(.1).hexString()}const ege=["x","y","borderWidth","radius","tension"],tge=["color","borderColor","backgroundColor"];function nge(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:tge},numbers:{type:"number",properties:ege}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function rge(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const s7=new Map;function sge(t,e){e=e||{};const n=t+JSON.stringify(e);let r=s7.get(n);return r||(r=new Intl.NumberFormat(t,e),s7.set(n,r)),r}function Ex(t,e,n){return sge(e,n).format(t)}const ZK={values(t){return Tr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),i=age(t,n)}const o=nd(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Ex(t,r,c)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(nd(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?ZK.numeric.call(this,t,e,n):""}};function age(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Uj={formatters:ZK};function ige(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Uj.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Gu=Object.create(null),$A=Object.create(null);function W0(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function zk(t,e,n){return typeof e=="string"?bg(W0(t,e),n):bg(W0(t,""),e)}class oge{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Hk(s.backgroundColor),this.hoverBorderColor=(r,s)=>Hk(s.borderColor),this.hoverColor=(r,s)=>Hk(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return zk(this,e,n)}get(e){return W0(this,e)}describe(e,n){return zk($A,e,n)}override(e,n){return zk(Gu,e,n)}route(e,n,r,s){const i=W0(this,e),o=W0(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],d=o[s];return jn(c)?Object.assign({},d,c):nn(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var Ar=new oge({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nge,rge,ige]);function lge(t){return!t||gn(t.size)||gn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function kw(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function cge(t,e,n,r){r=r||{};let s=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(s=r.data={},i=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const l=n.length;let c,d,h,m,p;for(c=0;c<l;c++)if(m=n[c],m!=null&&!Tr(m))o=kw(t,s,i,o,m);else if(Tr(m))for(d=0,h=m.length;d<h;d++)p=m[d],p!=null&&!Tr(p)&&(o=kw(t,s,i,o,p));t.restore();const x=i.length/2;if(x>n.length){for(c=0;c<x;c++)delete s[i[c]];i.splice(0,x)}return o}function tu(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function a7(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function HA(t,e,n,r){eX(t,e,n,r,null)}function eX(t,e,n,r,s){let i,o,l,c,d,h,m,p;const x=e.pointStyle,y=e.rotation,w=e.radius;let v=(y||0)*V0e;if(x&&typeof x=="object"&&(i=x.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(v),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),x){default:s?t.ellipse(n,r,s/2,w,0,0,Sr):t.arc(n,r,w,0,Sr),t.closePath();break;case"triangle":h=s?s/2:w,t.moveTo(n+Math.sin(v)*h,r-Math.cos(v)*w),v+=J8,t.lineTo(n+Math.sin(v)*h,r-Math.cos(v)*w),v+=J8,t.lineTo(n+Math.sin(v)*h,r-Math.cos(v)*w),t.closePath();break;case"rectRounded":d=w*.516,c=w-d,o=Math.cos(v+eu)*c,m=Math.cos(v+eu)*(s?s/2-d:c),l=Math.sin(v+eu)*c,p=Math.sin(v+eu)*(s?s/2-d:c),t.arc(n-m,r-l,d,v-Dn,v-Zr),t.arc(n+p,r-o,d,v-Zr,v),t.arc(n+m,r+l,d,v,v+Zr),t.arc(n-p,r+o,d,v+Zr,v+Dn),t.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*w,h=s?s/2:c,t.rect(n-h,r-c,2*h,2*c);break}v+=eu;case"rectRot":m=Math.cos(v)*(s?s/2:w),o=Math.cos(v)*w,l=Math.sin(v)*w,p=Math.sin(v)*(s?s/2:w),t.moveTo(n-m,r-l),t.lineTo(n+p,r-o),t.lineTo(n+m,r+l),t.lineTo(n-p,r+o),t.closePath();break;case"crossRot":v+=eu;case"cross":m=Math.cos(v)*(s?s/2:w),o=Math.cos(v)*w,l=Math.sin(v)*w,p=Math.sin(v)*(s?s/2:w),t.moveTo(n-m,r-l),t.lineTo(n+m,r+l),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o);break;case"star":m=Math.cos(v)*(s?s/2:w),o=Math.cos(v)*w,l=Math.sin(v)*w,p=Math.sin(v)*(s?s/2:w),t.moveTo(n-m,r-l),t.lineTo(n+m,r+l),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o),v+=eu,m=Math.cos(v)*(s?s/2:w),o=Math.cos(v)*w,l=Math.sin(v)*w,p=Math.sin(v)*(s?s/2:w),t.moveTo(n-m,r-l),t.lineTo(n+m,r+l),t.moveTo(n+p,r-o),t.lineTo(n-p,r+o);break;case"line":o=s?s/2:Math.cos(v)*w,l=Math.sin(v)*w,t.moveTo(n-o,r-l),t.lineTo(n+o,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(v)*(s?s/2:w),r+Math.sin(v)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ll(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function qj(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Gj(t){t.restore()}function dge(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function uge(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function hge(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),gn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function fge(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,d=n+i.actualBoundingBoxDescent,h=s.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,h),t.lineTo(l,h),t.stroke()}}function mge(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Yu(t,e,n,r,s,i={}){const o=Tr(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=s.string,hge(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&mge(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),gn(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,n,r,i.maxWidth)),t.fillText(d,n,r,i.maxWidth),fge(t,n,r,d,i),r+=Number(s.lineHeight);t.restore()}function wg(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Dn,Dn,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,Dn,Zr,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Zr,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-Zr,!0),t.lineTo(n+o.topLeft,r)}const pge=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gge=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xge(t,e){const n=(""+t).match(pge);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const bge=t=>+t||0;function cP(t,e){const n={},r=jn(e),s=r?Object.keys(e):e,i=jn(t)?r?o=>nn(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=bge(i(o));return n}function tX(t){return cP(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Du(t){return cP(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ua(t){const e=tX(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vs(t,e){t=t||{},e=e||Ar.font;let n=nn(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=nn(t.style,e.style);r&&!(""+r).match(gge)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:nn(t.family,e.family),lineHeight:xge(nn(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:nn(t.weight,e.weight),string:""};return s.string=lge(s),s}function w0(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function yge(t,e,n){const{min:r,max:s}=t,i=VK(e,(s-r)/2),o=(l,c)=>n&&l===0?0:l+c;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Td(t,e){return Object.assign(Object.create(t),e)}function dP(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=aX("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>dP([l,...t],e,i,r)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return rX(l,c,()=>_ge(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return o7(l).includes(c)},ownKeys(l){return o7(l)},set(l,c,d){const h=l._storage||(l._storage=s());return l[c]=h[c]=d,delete l._keys,!0}})}function Yf(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:nX(t,r),setContext:i=>Yf(t,i,n,r),override:i=>Yf(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return rX(i,o,()=>wge(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function nX(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:wd(n)?n:()=>n,isIndexable:wd(r)?r:()=>r}}const vge=(t,e)=>t?t+sP(e):e,uP=(t,e)=>jn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function rX(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function wge(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let l=r[e];return wd(l)&&o.isScriptable(e)&&(l=jge(e,l,t,n)),Tr(l)&&l.length&&(l=Nge(e,l,t,o.isIndexable)),uP(e,l)&&(l=Yf(l,s,i&&i[e],o)),l}function jge(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||r);return l.delete(t),uP(t,c)&&(c=hP(s._scopes,s,t,c)),c}function Nge(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:l}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(jn(e[0])){const c=e,d=s._scopes.filter(h=>h!==c);e=[];for(const h of c){const m=hP(d,s,t,h);e.push(Yf(m,i,o&&o[t],l))}}return e}function sX(t,e,n){return wd(t)?t(e,n):t}const Sge=(t,e)=>t===!0?e:typeof t=="string"?vd(e,t):void 0;function kge(t,e,n,r,s){for(const i of e){const o=Sge(n,i);if(o){t.add(o);const l=sX(o._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function hP(t,e,n,r){const s=e._rootScopes,i=sX(e._fallback,n,r),o=[...t,...s],l=new Set;l.add(r);let c=i7(l,o,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=i7(l,o,i,c,r),c===null)?!1:dP(Array.from(l),[""],s,i,()=>Cge(e,n,r))}function i7(t,e,n,r,s){for(;n;)n=kge(t,e,n,r,s);return n}function Cge(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Tr(s)&&jn(n)?n:s||{}}function _ge(t,e,n,r){let s;for(const i of e)if(s=aX(vge(i,t),n),typeof s<"u")return uP(t,s)?hP(n,r,t,s):s}function aX(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function o7(t){let e=t._keys;return e||(e=t._keys=Tge(t._scopes)),e}function Tge(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}function iX(t,e,n,r){const{iScale:s}=t,{key:i="r"}=this._parsing,o=new Array(r);let l,c,d,h;for(l=0,c=r;l<c;++l)d=l+n,h=e[d],o[l]={r:s.parse(vd(h,i),d)};return o}const Mge=Number.EPSILON||1e-14,Kf=(t,e)=>e<t.length&&!t[e].skip&&t[e],oX=t=>t==="x"?"y":"x";function Age(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,l=FA(i,s),c=FA(o,i);let d=l/(l+c),h=c/(l+c);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const m=r*d,p=r*h;return{previous:{x:i.x-m*(o.x-s.x),y:i.y-m*(o.y-s.y)},next:{x:i.x+p*(o.x-s.x),y:i.y+p*(o.y-s.y)}}}function Oge(t,e,n){const r=t.length;let s,i,o,l,c,d=Kf(t,0);for(let h=0;h<r-1;++h)if(c=d,d=Kf(t,h+1),!(!c||!d)){if(B0(e[h],0,Mge)){n[h]=n[h+1]=0;continue}s=n[h]/e[h],i=n[h+1]/e[h],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),n[h]=s*o*e[h],n[h+1]=i*o*e[h])}}function Ege(t,e,n="x"){const r=oX(n),s=t.length;let i,o,l,c=Kf(t,0);for(let d=0;d<s;++d){if(o=l,l=c,c=Kf(t,d+1),!l)continue;const h=l[n],m=l[r];o&&(i=(h-o[n])/3,l[`cp1${n}`]=h-i,l[`cp1${r}`]=m-i*e[d]),c&&(i=(c[n]-h)/3,l[`cp2${n}`]=h+i,l[`cp2${r}`]=m+i*e[d])}}function Dge(t,e="x"){const n=oX(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,l,c,d=Kf(t,0);for(o=0;o<r;++o)if(l=c,c=d,d=Kf(t,o+1),!!c){if(d){const h=d[e]-c[e];s[o]=h!==0?(d[n]-c[n])/h:0}i[o]=l?d?Fo(s[o-1])!==Fo(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Oge(t,s,i),Ege(t,i,e)}function ky(t,e,n){return Math.max(Math.min(t,n),e)}function Pge(t,e){let n,r,s,i,o,l=Ll(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=l,l=n<r-1&&Ll(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=ky(s.cp1x,e.left,e.right),s.cp1y=ky(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=ky(s.cp2x,e.left,e.right),s.cp2y=ky(s.cp2y,e.top,e.bottom)))}function Rge(t,e,n,r,s){let i,o,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")Dge(t,s);else{let d=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=Age(d,l,t[Math.min(i+1,o-(r?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&Pge(t,n)}function fP(){return typeof window<"u"&&typeof document<"u"}function mP(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Cw(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Yj=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Lge(t,e){return Yj(t).getPropertyValue(e)}const Ige=["top","right","bottom","left"];function Pu(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=Ige[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Fge=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function $ge(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,l,c;if(Fge(s,i,t.target))l=s,c=i;else{const d=e.getBoundingClientRect();l=r.clientX-d.left,c=r.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function cu(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Yj(n),i=s.boxSizing==="border-box",o=Pu(s,"padding"),l=Pu(s,"border","width"),{x:c,y:d,box:h}=$ge(t,n),m=o.left+(h&&l.left),p=o.top+(h&&l.top);let{width:x,height:y}=e;return i&&(x-=o.width+l.width,y-=o.height+l.height),{x:Math.round((c-m)/x*n.width/r),y:Math.round((d-p)/y*n.height/r)}}function Hge(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&mP(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),l=Yj(i),c=Pu(l,"border","width"),d=Pu(l,"padding");e=o.width-d.width-c.width,n=o.height-d.height-c.height,r=Cw(l.maxWidth,i,"clientWidth"),s=Cw(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||Sw,maxHeight:s||Sw}}const Cy=t=>Math.round(t*10)/10;function zge(t,e,n,r){const s=Yj(t),i=Pu(s,"margin"),o=Cw(s.maxWidth,t,"clientWidth")||Sw,l=Cw(s.maxHeight,t,"clientHeight")||Sw,c=Hge(t,e,n);let{width:d,height:h}=c;if(s.boxSizing==="content-box"){const p=Pu(s,"border","width"),x=Pu(s,"padding");d-=x.width+p.width,h-=x.height+p.height}return d=Math.max(0,d-i.width),h=Math.max(0,r?d/r:h-i.height),d=Cy(Math.min(d,o,c.maxWidth)),h=Cy(Math.min(h,l,c.maxHeight)),d&&!h&&(h=Cy(d/2)),(e!==void 0||n!==void 0)&&r&&c.height&&h>c.height&&(h=c.height,d=Cy(Math.floor(h*r))),{width:d,height:h}}function l7(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Bge=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};fP()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function c7(t,e){const n=Lge(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function du(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Vge(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Wge(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=du(t,s,n),l=du(s,i,n),c=du(i,e,n),d=du(o,l,n),h=du(l,c,n);return du(d,h,n)}const Uge=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},qge=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Of(t,e,n){return t?Uge(e,n):qge()}function lX(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function cX(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function dX(t){return t==="angle"?{between:vg,compare:G0e,normalize:aa}:{between:Pl,compare:(e,n)=>e-n,normalize:e=>e}}function d7({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function Gge(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:l}=dX(r),c=e.length;let{start:d,end:h,loop:m}=t,p,x;if(m){for(d+=c,h+=c,p=0,x=c;p<x&&o(l(e[d%c][r]),s,i);++p)d--,h--;d%=c,h%=c}return h<d&&(h+=c),{start:d,end:h,loop:m,style:t.style}}function uX(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:l,between:c,normalize:d}=dX(r),{start:h,end:m,loop:p,style:x}=Gge(t,e,n),y=[];let w=!1,v=null,N,C,S;const M=()=>c(s,S,N)&&l(s,S)!==0,_=()=>l(i,N)===0||c(i,S,N),A=()=>w||M(),O=()=>!w||_();for(let D=h,F=h;D<=m;++D)C=e[D%o],!C.skip&&(N=d(C[r]),N!==S&&(w=c(N,s,i),v===null&&A()&&(v=l(N,s)===0?D:F),v!==null&&O()&&(y.push(d7({start:v,end:D,loop:p,count:o,style:x})),v=null),F=D,S=N));return v!==null&&y.push(d7({start:v,end:m,loop:p,count:o,style:x})),y}function hX(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=uX(r[s],t.points,e);i.length&&n.push(...i)}return n}function Yge(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function Kge(t,e,n,r){const s=t.length,i=[];let o=e,l=t[e],c;for(c=e+1;c<=n;++c){const d=t[c%s];d.skip||d.stop?l.skip||(r=!1,i.push({start:e%s,end:(c-1)%s,loop:r}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function Xge(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:l}=Yge(n,s,i,r);if(r===!0)return u7(t,[{start:o,end:l,loop:i}],n,e);const c=l<o?l+s:l,d=!!t._fullLoop&&o===0&&l===s-1;return u7(t,Kge(n,o,c,d),n,e)}function u7(t,e,n,r){return!r||!r.setContext||!n?e:Jge(t,e,n,r)}function Jge(t,e,n,r){const s=t._chart.getContext(),i=h7(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=n.length,d=[];let h=i,m=e[0].start,p=m;function x(y,w,v,N){const C=l?-1:1;if(y!==w){for(y+=c;n[y%c].skip;)y-=C;for(;n[w%c].skip;)w+=C;y%c!==w%c&&(d.push({start:y%c,end:w%c,loop:v,style:N}),h=N,m=w%c)}}for(const y of e){m=l?m:y.start;let w=n[m%c],v;for(p=m+1;p<=y.end;p++){const N=n[p%c];v=h7(r.setContext(Td(s,{type:"segment",p0:w,p1:N,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:o}))),Qge(v,h)&&x(m,p-1,y.loop,h),w=N,h=v}m<p-1&&x(m,p-1,y.loop,h)}return d}function h7(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Qge(t,e){if(!e)return!1;const n=[],r=function(s,i){return lP(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function _y(t,e,n){return t.options.clip?t[n]:e[n]}function Zge(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:_y(n,e,"left"),right:_y(n,e,"right"),top:_y(r,e,"top"),bottom:_y(r,e,"bottom")}:e}function fX(t,e){const n=e._clip;if(n.disabled)return!1;const r=Zge(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class exe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=KK.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var _l=new exe;const f7="transparent",txe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=r7(t||f7),s=r.valid&&r7(e||f7);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class nxe{constructor(e,n,r,s){const i=n[r];s=w0([e.to,s,i,e.from]);const o=w0([e.from,i,s]);this._active=!0,this._fn=e.fn||txe[e.type||typeof o],this._easing=V0[e.easing]||V0.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=w0([e.to,n,s,e.from]),this._from=w0([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class mX{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!jn(e))return;const n=Object.keys(Ar.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!jn(i))return;const o={};for(const l of n)o[l]=i[l];(Tr(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,o)})})}_animateOptions(e,n){const r=n.options,s=sxe(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&rxe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,n));continue}const h=n[d];let m=i[d];const p=r.get(d);if(m)if(p&&m.active()){m.update(p,h,l);continue}else m.cancel();if(!p||!p.duration){e[d]=h;continue}i[d]=m=new nxe(p,e,d,h),s.push(m)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return _l.add(this._chart,r),!0}}function rxe(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function sxe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function m7(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function axe(t,e,n){if(n===!1)return!1;const r=m7(t,n),s=m7(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function ixe(t){let e,n,r,s;return jn(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function pX(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function p7(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,l,c,d;if(e===null)return;let h=!1;for(o=0,l=s.length;o<l;++o){if(c=+s[o],c===n){if(h=!0,r.all)continue;break}d=t.values[c],Wr(d)&&(i||e===0||Fo(e)===Fo(d))&&(e+=d)}return!h&&!r.all?0:e}function oxe(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,h;for(c=0,d=o.length;c<d;++c)h=o[c],l[c]={[s]:h,[i]:t[h]};return l}function Bk(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function lxe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function cxe(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function dxe(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function g7(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function x7(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:l}=r,c=i.axis,d=o.axis,h=lxe(i,o,r),m=e.length;let p;for(let x=0;x<m;++x){const y=e[x],{[c]:w,[d]:v}=y,N=y._stacks||(y._stacks={});p=N[d]=dxe(s,h,w),p[l]=v,p._top=g7(p,o,!0,r.type),p._bottom=g7(p,o,!1,r.type);const C=p._visualValues||(p._visualValues={});C[l]=v}}function Vk(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function uxe(t,e){return Td(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function hxe(t,e,n){return Td(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Up(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Wk=t=>t==="reset"||t==="none",b7=(t,e)=>e?t:Object.assign({},t),fxe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:pX(n,!0),values:null};class oo{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Bk(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Up(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(m,p,x,y)=>m==="x"?p:m==="r"?y:x,i=n.xAxisID=nn(r.xAxisID,Vk(e,"x")),o=n.yAxisID=nn(r.yAxisID,Vk(e,"y")),l=n.rAxisID=nn(r.rAxisID,Vk(e,"r")),c=n.indexAxis,d=n.iAxisID=s(c,i,o,l),h=n.vAxisID=s(c,o,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&e7(this._data,this),e._stacked&&Up(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(jn(n)){const s=this._cachedMeta;this._data=oxe(n,s)}else if(r!==n){if(r){e7(r,this);const s=this._cachedMeta;Up(s),s._parsed=[]}n&&Object.isExtensible(n)&&J0e(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Bk(n.vScale,n),n.stack!==r.stack&&(s=!0,Up(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(x7(this,n._parsed),n._stacked=Bk(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,l=i.axis;let c=e===0&&n===s.length?!0:r._sorted,d=e>0&&r._parsed[e-1],h,m,p;if(this._parsing===!1)r._parsed=s,r._sorted=!0,p=s;else{Tr(s[e])?p=this.parseArrayData(r,s,e,n):jn(s[e])?p=this.parseObjectData(r,s,e,n):p=this.parsePrimitiveData(r,s,e,n);const x=()=>m[l]===null||d&&m[l]<d[l];for(h=0;h<n;++h)r._parsed[h+e]=m=p[h],c&&(x()&&(c=!1),d=m);r._sorted=c}o&&x7(this,p)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),h=i===o,m=new Array(s);let p,x,y;for(p=0,x=s;p<x;++p)y=p+r,m[p]={[l]:h||i.parse(d[y],y),[c]:o.parse(n[y],y)};return m}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,l=new Array(s);let c,d,h,m;for(c=0,d=s;c<d;++c)h=c+r,m=n[h],l[c]={x:i.parse(m[0],h),y:o.parse(m[1],h)};return l}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(s);let h,m,p,x;for(h=0,m=s;h<m;++h)p=h+r,x=n[p],d[h]={x:i.parse(vd(x,l),p),y:o.parse(vd(x,c),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],l={keys:pX(s,!0),values:n._stacks[e.axis]._visualValues};return p7(l,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,o=p7(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,l=this._getOtherScale(e),c=fxe(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:m}=cxe(l);let p,x;function y(){x=s[p];const w=x[l.axis];return!Wr(x[e.axis])||h>w||m<w}for(p=0;p<o&&!(!y()&&(this.updateRangeFromParsed(d,e,x,c),i));++p);if(i){for(p=o-1;p>=0;--p)if(!y()){this.updateRangeFromParsed(d,e,x,c);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],Wr(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ixe(nn(this.options.clip,axe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||s.length-l,d=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,i,l,c),h=l;h<l+c;++h){const m=s[h];m.hidden||(m.active&&d?o.push(m):m.draw(e,i))}for(h=0;h<o.length;++h)o[h].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=hxe(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=uxe(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,l=i[o],c=this.enableOptionSharing&&yg(r);if(l)return b7(l,c);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),m=s?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),h),x=Object.keys(Ar.elements[e]),y=()=>this.getContext(r,s,n),w=d.resolveNamedOptions(p,x,y,m);return w.$shared&&(w.$shared=c,i[o]=Object.freeze(b7(w,c))),w}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,l=i[o];if(l)return l;let c;if(s.options.animation!==!1){const h=this.chart.config,m=h.datasetAnimationScopeKeys(this._type,n),p=h.getOptionScopes(this.getDataset(),m);c=h.createResolver(p,this.getContext(e,r,n))}const d=new mX(s,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Wk(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){Wk(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Wk(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let l;const c=d=>{for(d.length+=n,l=d.length-1;l>=o;l--)d[l]=d[l-n]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Up(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Le(oo,"defaults",{}),Le(oo,"datasetElementType",null),Le(oo,"dataElementType",null);function mxe(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=YK(r.sort((s,i)=>s-i))}return t._cache.$bar}function pxe(t){const e=t.iScale,n=mxe(e,t.type);let r=e._length,s,i,o,l;const c=()=>{o===32767||o===-32768||(yg(l)&&(r=Math.min(r,Math.abs(o-l)||r)),l=o)};for(s=0,i=n.length;s<i;++s)o=e.getPixelForValue(n[s]),c();for(l=void 0,s=0,i=e.ticks.length;s<i;++s)o=e.getPixelForTick(s),c();return r}function gxe(t,e,n,r){const s=n.barThickness;let i,o;return gn(s)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[t]-i/2}}function xxe(t,e,n,r){const s=e.pixels,i=s[t];let o=t>0?s[t-1]:null,l=t<s.length-1?s[t+1]:null;const c=n.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/r,ratio:n.barPercentage,start:d}}function bxe(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),o=Math.min(s,i),l=Math.max(s,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[n.axis]=d,e._custom={barStart:c,barEnd:d,start:s,end:i,min:o,max:l}}function gX(t,e,n,r){return Tr(t)?bxe(t,e,n,r):e[n.axis]=n.parse(t,r),e}function y7(t,e,n,r){const s=t.iScale,i=t.vScale,o=s.getLabels(),l=s===i,c=[];let d,h,m,p;for(d=n,h=n+r;d<h;++d)p=e[d],m={},m[s.axis]=l||s.parse(o[d],d),c.push(gX(p,m,i,d));return c}function Uk(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function yxe(t,e,n){return t!==0?Fo(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function vxe(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function wxe(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:h}=vxe(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=d:(n._bottom||0)===r?s=h:(i[v7(h,o,l,c)]=!0,s=d)),i[v7(s,o,l,c)]=!0,t.borderSkipped=i}function v7(t,e,n,r){return r?(t=jxe(t,e,n),t=w7(t,n,e)):t=w7(t,e,n),t}function jxe(t,e,n){return t===e?n:t===n?e:t}function w7(t,e,n){return t==="start"?e:t==="end"?n:t}function Nxe(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class U0 extends oo{parsePrimitiveData(e,n,r,s){return y7(e,n,r,s)}parseArrayData(e,n,r,s){return y7(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,h=o.axis==="x"?l:c,m=[];let p,x,y,w;for(p=r,x=r+s;p<x;++p)w=n[p],y={},y[i.axis]=i.parse(vd(w,d),p),m.push(gX(vd(w,h),y,o,p));return m}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),o=i._custom,l=Uk(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),h=this._getRuler(),{sharedOptions:m,includeOptions:p}=this._getSharedOptions(n,s);for(let x=n;x<n+r;x++){const y=this.getParsed(x),w=i||gn(y[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(x),v=this._calculateBarIndexPixels(x,h),N=(y._stacks||{})[l.axis],C={horizontal:d,base:w.base,enableBorderRadius:!N||Uk(y._custom)||o===N._top||o===N._bottom,x:d?w.head:v.center,y:d?v.center:w.head,height:d?v.size:Math.abs(w.size),width:d?Math.abs(w.size):v.size};p&&(C.options=m||this.resolveDataElementOptions(x,e[x].active?"active":s));const S=C.options||e[x].options;wxe(C,S,N,o),Nxe(C,S,h.ratio),this.updateElement(e[x],x,C,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),i=r.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],d=h=>{const m=h._parsed.find(x=>x[r.axis]===c),p=m&&m[h.vScale.axis];if(gn(p)||isNaN(p))return!0};for(const h of s)if(!(n!==void 0&&d(h))&&((i===!1||o.indexOf(h.stack)===-1||i===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[nn(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const l=e.barThickness;return{min:l||pxe(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,h=Uk(d);let m=c[n.axis],p=0,x=r?this.applyStack(n,c,r):m,y,w;x!==m&&(p=x-m,x=m),h&&(m=d.barStart,x=d.barEnd-d.barStart,m!==0&&Fo(m)!==Fo(d.barEnd)&&(p=0),p+=m);const v=!gn(i)&&!h?i:p;let N=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(p+x):y=N,w=y-N,Math.abs(w)<o){w=yxe(w,n,l)*o,m===l&&(N-=w/2);const C=n.getPixelForDecimal(0),S=n.getPixelForDecimal(1),M=Math.min(C,S),_=Math.max(C,S);N=Math.max(Math.min(N,_),M),y=N+w,r&&!h&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(y)-n.getValueForPixel(N))}if(N===n.getPixelForValue(l)){const C=Fo(w)*n.getLineWidthForValue(l)/2;N+=C,w-=C}return{size:w,base:N,head:y,center:y+w/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,o=nn(s.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(n.grouped){const h=i?this._getStackCount(e):n.stackCount,m=s.barThickness==="flex"?xxe(e,n,s,h*d):gxe(e,n,s,h*d),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(nn(p,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+x;l=m.start+m.chunk*y+m.chunk/2,c=Math.min(o,m.chunk*m.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(o,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}Le(U0,"id","bar"),Le(U0,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Le(U0,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Fv extends oo{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,s){const i=super.parsePrimitiveData(e,n,r,s);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+r).radius;return i}parseArrayData(e,n,r,s){const i=super.parseArrayData(e,n,r,s);for(let o=0;o<i.length;o++){const l=n[r+o];i[o]._custom=nn(l[2],this.resolveDataElementOptions(o+r).radius)}return i}parseObjectData(e,n,r,s){const i=super.parseObjectData(e,n,r,s);for(let o=0;o<i.length;o++){const l=n[r+o];i[o]._custom=nn(l&&l.r&&+l.r,this.resolveDataElementOptions(o+r).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,o=this.getParsed(e),l=s.getLabelForValue(o.x),c=i.getLabelForValue(o.y),d=o._custom;return{label:r[e]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(n,s),h=o.axis,m=l.axis;for(let p=n;p<n+r;p++){const x=e[p],y=!i&&this.getParsed(p),w={},v=w[h]=i?o.getPixelForDecimal(.5):o.getPixelForValue(y[h]),N=w[m]=i?l.getBasePixel():l.getPixelForValue(y[m]);w.skip=isNaN(v)||isNaN(N),d&&(w.options=c||this.resolveDataElementOptions(p,x.active?"active":s),i&&(w.options.radius=0)),this.updateElement(x,p,w,s)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const i=s.radius;return n!=="active"&&(s.radius=0),s.radius+=nn(r&&r._custom,i),s}}Le(Fv,"id","bubble"),Le(Fv,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Le(Fv,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Sxe(t,e,n){let r=1,s=1,i=0,o=0;if(e<Sr){const l=t,c=l+e,d=Math.cos(l),h=Math.sin(l),m=Math.cos(c),p=Math.sin(c),x=(S,M,_)=>vg(S,l,c,!0)?1:Math.max(M,M*n,_,_*n),y=(S,M,_)=>vg(S,l,c,!0)?-1:Math.min(M,M*n,_,_*n),w=x(0,d,m),v=x(Zr,h,p),N=y(Dn,d,m),C=y(Dn+Zr,h,p);r=(w-N)/2,s=(v-C)/2,i=-(w+N)/2,o=-(v+C)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class vu extends oo{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(jn(r[e])){const{key:c="value"}=this._parsing;i=d=>+vd(r[d],c)}let o,l;for(o=e,l=e+n;o<l;++o)s._parsed[o]=i(o)}}_getRotation(){return so(this.options.rotation-90)}_getCircumference(){return so(this.options.circumference)}_getRotationExtents(){let e=Sr,n=-Sr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-o)/2,0),c=Math.min(L0e(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:m}=this._getRotationExtents(),{ratioX:p,ratioY:x,offsetX:y,offsetY:w}=Sxe(m,h,c),v=(r.width-o)/p,N=(r.height-o)/x,C=Math.max(Math.min(v,N)/2,0),S=VK(this.options.radius,C),M=Math.max(S*c,0),_=(S-M)/this._getVisibleDatasetWeightTotal();this.offsetX=y*S,this.offsetY=w*S,s.total=this.calculateTotal(),this.outerRadius=S-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/Sr)}updateElements(e,n,r,s){const i=s==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,h=(l.left+l.right)/2,m=(l.top+l.bottom)/2,p=i&&d.animateScale,x=p?0:this.innerRadius,y=p?0:this.outerRadius,{sharedOptions:w,includeOptions:v}=this._getSharedOptions(n,s);let N=this._getRotation(),C;for(C=0;C<n;++C)N+=this._circumference(C,i);for(C=n;C<n+r;++C){const S=this._circumference(C,i),M=e[C],_={x:h+this.offsetX,y:m+this.offsetY,startAngle:N,endAngle:N+S,circumference:S,outerRadius:y,innerRadius:x};v&&(_.options=w||this.resolveDataElementOptions(C,M.active?"active":s)),N+=S,this.updateElement(M,C,_,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Sr*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=Ex(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,o,l,c;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),e=o.data,l=o.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(nn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Le(vu,"id","doughnut"),Le(vu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Le(vu,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Le(vu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class $v extends oo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:l,count:c}=JK(n,s,o);this._drawStart=l,this._drawCount=c,QK(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:d},e),this.updateElements(s,l,c,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(n,s),p=o.axis,x=l.axis,{spanGaps:y,segment:w}=this.options,v=Gf(y)?y:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||s==="none",C=n+r,S=e.length;let M=n>0&&this.getParsed(n-1);for(let _=0;_<S;++_){const A=e[_],O=N?A:{};if(_<n||_>=C){O.skip=!0;continue}const D=this.getParsed(_),F=gn(D[x]),L=O[p]=o.getPixelForValue(D[p],_),I=O[x]=i||F?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,D,c):D[x],_);O.skip=isNaN(L)||isNaN(I)||F,O.stop=_>0&&Math.abs(D[p]-M[p])>v,w&&(O.parsed=D,O.raw=d.data[_]),m&&(O.options=h||this.resolveDataElementOptions(_,A.active?"active":s)),N||this.updateElement(A,_,O,s),M=D}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Le($v,"id","line"),Le($v,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Le($v,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class q0 extends oo{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=Ex(n._parsed[e].r,r.options.locale);return{label:s[e]||"",value:i}}parseObjectData(e,n,r,s){return iX.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,s)=>{const i=this.getParsed(s).r;!isNaN(i)&&this.chart.getDataVisibility(s)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(s/2,0),o=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),l=(i-o)/e.getVisibleDatasetCount();this.outerRadius=i-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,n,r,s){const i=s==="reset",o=this.chart,c=o.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,m=d.yCenter,p=d.getIndexAngle(0)-.5*Dn;let x=p,y;const w=360/this.countVisibleElements();for(y=0;y<n;++y)x+=this._computeAngle(y,s,w);for(y=n;y<n+r;y++){const v=e[y];let N=x,C=x+this._computeAngle(y,s,w),S=o.getDataVisibility(y)?d.getDistanceFromCenterForValue(this.getParsed(y).r):0;x=C,i&&(c.animateScale&&(S=0),c.animateRotate&&(N=C=p));const M={x:h,y:m,innerRadius:0,outerRadius:S,startAngle:N,endAngle:C,options:this.resolveDataElementOptions(y,v.active?"active":s)};this.updateElement(v,y,M,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?so(this.resolveDataElementOptions(e,n).angle||r):0}}Le(q0,"id","polarArea"),Le(q0,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Le(q0,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class _w extends vu{}Le(_w,"id","pie"),Le(_w,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Hv extends oo{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,s){return iX.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta,r=n.dataset,s=n.data||[],i=n.iScale.getLabels();if(r.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===s.length,options:o};this.updateElement(r,void 0,l,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,r,s){const i=this._cachedMeta.rScale,o=s==="reset";for(let l=n;l<n+r;l++){const c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":s),h=i.getPointPositionForValue(l,this.getParsed(l).r),m=o?i.xCenter:h.x,p=o?i.yCenter:h.y,x={x:m,y:p,angle:h.angle,skip:isNaN(m)||isNaN(p),options:d};this.updateElement(c,l,x,s)}}}Le(Hv,"id","radar"),Le(Hv,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Le(Hv,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class zv extends oo{getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,o=this.getParsed(e),l=s.getLabelForValue(o.x),c=i.getLabelForValue(o.y);return{label:r[e]||"",value:"("+l+", "+c+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:i,count:o}=JK(n,r,s);if(this._drawStart=i,this._drawCount=o,QK(n)&&(i=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:d},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,i,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(n,s),m=this.getSharedOptions(h),p=this.includeOptions(s,m),x=o.axis,y=l.axis,{spanGaps:w,segment:v}=this.options,N=Gf(w)?w:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||i||s==="none";let S=n>0&&this.getParsed(n-1);for(let M=n;M<n+r;++M){const _=e[M],A=this.getParsed(M),O=C?_:{},D=gn(A[y]),F=O[x]=o.getPixelForValue(A[x],M),L=O[y]=i||D?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[y],M);O.skip=isNaN(F)||isNaN(L)||D,O.stop=M>0&&Math.abs(A[x]-S[x])>N,v&&(O.parsed=A,O.raw=d.data[M]),p&&(O.options=m||this.resolveDataElementOptions(M,_.active?"active":s)),C||this.updateElement(_,M,O,s),S=A}this.updateSharedOptions(m,s,h)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let l=0;for(let c=n.length-1;c>=0;--c)l=Math.max(l,n[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const i=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,i,o)/2}}Le(zv,"id","scatter"),Le(zv,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Le(zv,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var kxe=Object.freeze({__proto__:null,BarController:U0,BubbleController:Fv,DoughnutController:vu,LineController:$v,PieController:_w,PolarAreaController:q0,RadarController:Hv,ScatterController:zv});function nu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class pP{constructor(e){Le(this,"options");this.options=e||{}}static override(e){Object.assign(pP.prototype,e)}init(){}formats(){return nu()}parse(){return nu()}format(){return nu()}add(){return nu()}diff(){return nu()}startOf(){return nu()}endOf(){return nu()}}var Cxe={_date:pP};function _xe(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,l=s._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?K0e:Rl;if(r){if(s._sharedOptions){const h=i[0],m=typeof h.getRange=="function"&&h.getRange(e);if(m){const p=d(i,e,n-m),x=d(i,e,n+m);return{lo:p.lo,hi:x.hi}}}}else{const h=d(i,e,n);if(c){const{vScale:m}=s._cachedMeta,{_parsed:p}=t,x=p.slice(0,h.lo+1).reverse().findIndex(w=>!gn(w[m.axis]));h.lo-=Math.max(0,x);const y=p.slice(h.hi).findIndex(w=>!gn(w[m.axis]));h.hi+=Math.max(0,y)}return h}}return{lo:0,hi:i.length-1}}function Kj(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:h}=i[l],{lo:m,hi:p}=_xe(i[l],e,o,s);for(let x=m;x<=p;++x){const y=h[x];y.skip||r(y,d,x)}}}function Txe(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function qk(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Kj(t,n,e,function(l,c,d){!s&&!Ll(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function Mxe(t,e,n,r){let s=[];function i(o,l,c){const{startAngle:d,endAngle:h}=o.getProps(["startAngle","endAngle"],r),{angle:m}=qK(o,{x:e.x,y:e.y});vg(m,d,h)&&s.push({element:o,datasetIndex:l,index:c})}return Kj(t,n,e,i),s}function Axe(t,e,n,r,s,i){let o=[];const l=Txe(n);let c=Number.POSITIVE_INFINITY;function d(h,m,p){const x=h.inRange(e.x,e.y,s);if(r&&!x)return;const y=h.getCenterPoint(s);if(!(!!i||t.isPointInArea(y))&&!x)return;const v=l(e,y);v<c?(o=[{element:h,datasetIndex:m,index:p}],c=v):v===c&&o.push({element:h,datasetIndex:m,index:p})}return Kj(t,n,e,d),o}function Gk(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?Mxe(t,e,n,s):Axe(t,e,n,r,s,i)}function j7(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return Kj(t,n,e,(c,d,h)=>{c[o]&&c[o](e[n],s)&&(i.push({element:c,datasetIndex:d,index:h}),l=l||c.inRange(e.x,e.y,s))}),r&&!l?[]:i}var Oxe={modes:{index(t,e,n,r){const s=cu(e,t),i=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?qk(t,s,i,r,o):Gk(t,s,i,!1,r,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const h=l[0].index,m=d.data[h];m&&!m.skip&&c.push({element:m,datasetIndex:d.index,index:h})}),c):[]},dataset(t,e,n,r){const s=cu(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?qk(t,s,i,r,o):Gk(t,s,i,!1,r,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let h=0;h<d.length;++h)l.push({element:d[h],datasetIndex:c,index:h})}return l},point(t,e,n,r){const s=cu(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return qk(t,s,i,r,o)},nearest(t,e,n,r){const s=cu(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Gk(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=cu(e,t);return j7(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=cu(e,t);return j7(t,s,"y",n.intersect,r)}}};const xX=["left","top","right","bottom"];function qp(t,e){return t.filter(n=>n.pos===e)}function N7(t,e){return t.filter(n=>xX.indexOf(n.pos)===-1&&n.box.axis===e)}function Gp(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function Exe(t){const e=[];let n,r,s,i,o,l;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:l});return e}function Dxe(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!xX.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function Pxe(t,e){const n=Dxe(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=n[l.stack],h=d&&l.stackWeight/d.weight;l.horizontal?(l.width=h?h*r:c&&e.availableWidth,l.height=s):(l.width=r,l.height=h?h*s:c&&e.availableHeight)}return n}function Rxe(t){const e=Exe(t),n=Gp(e.filter(d=>d.box.fullSize),!0),r=Gp(qp(e,"left"),!0),s=Gp(qp(e,"right")),i=Gp(qp(e,"top"),!0),o=Gp(qp(e,"bottom")),l=N7(e,"x"),c=N7(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(o).concat(l),chartArea:qp(e,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(o).concat(l)}}function S7(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function bX(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Lxe(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!jn(s)){n.size&&(t[s]-=n.size);const m=r[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?i.height:i.width),n.size=m.size/m.count,t[s]+=n.size}i.getPadding&&bX(o,i.getPadding());const l=Math.max(0,e.outerWidth-S7(o,t,"left","right")),c=Math.max(0,e.outerHeight-S7(o,t,"top","bottom")),d=l!==t.w,h=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:d,other:h}:{same:h,other:d}}function Ixe(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Fxe(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function j0(t,e,n,r){const s=[];let i,o,l,c,d,h;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,Fxe(l.horizontal,e));const{same:m,other:p}=Lxe(e,n,l,r);d|=m&&s.length,h=h||p,c.fullSize||s.push(l)}return d&&j0(s,e,n,r)||h}function Ty(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function k7(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=r[l.stack]||{placed:0,weight:1},h=l.stackWeight/d.weight||1;if(l.horizontal){const m=e.w*h,p=d.size||c.height;yg(d.start)&&(o=d.start),c.fullSize?Ty(c,s.left,o,n.outerWidth-s.right-s.left,p):Ty(c,e.left+d.placed,o,m,p),d.start=o,d.placed+=m,o=c.bottom}else{const m=e.h*h,p=d.size||c.width;yg(d.start)&&(i=d.start),c.fullSize?Ty(c,i,s.top,p,n.outerHeight-s.bottom-s.top):Ty(c,i,e.top+d.placed,p,m),d.start=i,d.placed+=m,i=c.right}}e.x=i,e.y=o}var ca={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=ua(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),l=Rxe(t.boxes),c=l.vertical,d=l.horizontal;rr(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const h=c.reduce((w,v)=>v.box.options&&v.box.options.display===!1?w:w+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/h,hBoxMaxHeight:o/2}),p=Object.assign({},s);bX(p,ua(r));const x=Object.assign({maxPadding:p,w:i,h:o,x:s.left,y:s.top},s),y=Pxe(c.concat(d),m);j0(l.fullSize,x,m,y),j0(c,x,m,y),j0(d,x,m,y)&&j0(c,x,m,y),Ixe(x),k7(l.leftAndTop,x,m,y),x.x+=x.w,x.y+=x.h,k7(l.rightAndBottom,x,m,y),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},rr(l.chartArea,w=>{const v=w.box;Object.assign(v,t.chartArea),v.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class yX{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class $xe extends yX{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bv="$chartjs",Hxe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},C7=t=>t===null||t==="";function zxe(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Bv]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",C7(s)){const i=c7(t,"width");i!==void 0&&(t.width=i)}if(C7(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=c7(t,"height");i!==void 0&&(t.height=i)}return t}const vX=Bge?{passive:!0}:!1;function Bxe(t,e,n){t&&t.addEventListener(e,n,vX)}function Vxe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,vX)}function Wxe(t,e){const n=Hxe[t.type]||t.type,{x:r,y:s}=cu(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Tw(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Uxe(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Tw(l.addedNodes,r),o=o&&!Tw(l.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function qxe(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Tw(l.removedNodes,r),o=o&&!Tw(l.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const jg=new Map;let _7=0;function wX(){const t=window.devicePixelRatio;t!==_7&&(_7=t,jg.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Gxe(t,e){jg.size||window.addEventListener("resize",wX),jg.set(t,e)}function Yxe(t){jg.delete(t),jg.size||window.removeEventListener("resize",wX)}function Kxe(t,e,n){const r=t.canvas,s=r&&mP(r);if(!s)return;const i=XK((l,c)=>{const d=s.clientWidth;n(l,c),d<s.clientWidth&&n()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,h=c.contentRect.height;d===0&&h===0||i(d,h)});return o.observe(s),Gxe(t,i),o}function Yk(t,e,n){n&&n.disconnect(),e==="resize"&&Yxe(t)}function Xxe(t,e,n){const r=t.canvas,s=XK(i=>{t.ctx!==null&&n(Wxe(i,t))},t);return Bxe(r,e,s),s}class Jxe extends yX{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(zxe(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Bv])return!1;const r=n[Bv].initial;["height","width"].forEach(i=>{const o=r[i];gn(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Bv],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:Uxe,detach:qxe,resize:Kxe}[n]||Xxe;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Yk,detach:Yk,resize:Yk}[n]||Vxe)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return zge(e,n,r,s)}isAttached(e){const n=e&&mP(e);return!!(n&&n.isConnected)}}function Qxe(t){return!fP()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?$xe:Jxe}var Tv;let hc=(Tv=class{constructor(){Le(this,"x");Le(this,"y");Le(this,"active",!1);Le(this,"options");Le(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Gf(this.x)&&Gf(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},Le(Tv,"defaults",{}),Le(Tv,"defaultRoutes"),Tv);function Zxe(t,e){const n=t.options.ticks,r=ebe(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?nbe(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>s)return rbe(e,d,i,o/s),d;const h=tbe(i,e,s);if(o>0){let m,p;const x=o>1?Math.round((c-l)/(o-1)):null;for(My(e,d,h,gn(x)?0:l-x,l),m=0,p=o-1;m<p;m++)My(e,d,h,i[m],i[m+1]);return My(e,d,h,c,gn(x)?e.length:c+x),d}return My(e,d,h),d}function ebe(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function tbe(t,e,n){const r=sbe(t),s=e.length/n;if(!r)return Math.max(s,1);const i=W0e(r);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>s)return c}return Math.max(s,1)}function nbe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function rbe(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function My(t,e,n,r,s){const i=nn(r,0),o=Math.min(nn(s,t.length),t.length);let l=0,c,d,h;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),h=i;h<0;)l++,h=Math.round(i+l*n);for(d=Math.max(i,0);d<o;d++)d===h&&(e.push(t[d]),l++,h=Math.round(i+l*n))}function sbe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const abe=t=>t==="left"?"right":t==="right"?"left":t,T7=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,M7=(t,e)=>Math.min(e||t,t);function A7(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function ibe(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(s),d;if(!(n&&(r===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(s-1))/2,c+=s<e?d:-d,c<i-l||c>o+l)))return c}function obe(t,e){rr(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Yp(t){return t.drawTicks?t.tickLength:0}function O7(t,e){if(!t.display)return 0;const n=vs(t.font,e),r=ua(t.padding);return(Tr(t.text)?t.text.length:1)*n.lineHeight+r.height}function lbe(t,e){return Td(t,{scale:e,type:"scale"})}function cbe(t,e,n){return Td(t,{tick:n,index:e,type:"tick"})}function dbe(t,e,n){let r=oP(t);return(n&&e!=="right"||!n&&e==="right")&&(r=abe(r)),r}function ube(t,e,n,r){const{top:s,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:h}=c;let m=0,p,x,y;const w=o-s,v=l-i;if(t.isHorizontal()){if(x=na(r,i,l),jn(n)){const N=Object.keys(n)[0],C=n[N];y=h[N].getPixelForValue(C)+w-e}else n==="center"?y=(d.bottom+d.top)/2+w-e:y=T7(t,n,e);p=l-i}else{if(jn(n)){const N=Object.keys(n)[0],C=n[N];x=h[N].getPixelForValue(C)-v+e}else n==="center"?x=(d.left+d.right)/2-v+e:x=T7(t,n,e);y=na(r,o,s),m=n==="left"?-Zr:Zr}return{titleX:x,titleY:y,maxWidth:p,rotation:m}}class uh extends hc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=ti(e,Number.POSITIVE_INFINITY),n=ti(n,Number.NEGATIVE_INFINITY),r=ti(r,Number.POSITIVE_INFINITY),s=ti(s,Number.NEGATIVE_INFINITY),{min:ti(e,r),max:ti(n,s),minDefined:Wr(e),maxDefined:Wr(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:ti(n,ti(r,n)),max:ti(r,ti(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xr(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yge(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?A7(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Zxe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xr(this.options.afterUpdate,[this])}beforeSetDimensions(){xr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=xr(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){xr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=M7(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,l,c,d;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),m=h.widest.width,p=h.highest.height,x=Os(this.chart.width-m,0,this.maxWidth);l=e.offset?this.maxWidth/r:x/(r-1),m+6>l&&(l=x/(r-(e.offset?.5:1)),c=this.maxHeight-Yp(e.grid)-n.padding-O7(e.title,this.chart.options.font),d=Math.sqrt(m*m+p*p),o=aP(Math.min(Math.asin(Os((h.highest.height+6)/l,-1,1)),Math.asin(Os(c/d,-1,1))-Math.asin(Os(p/d,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){xr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=O7(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=Yp(i)+c):(e.height=this.maxHeight,e.width=Yp(i)+c),r.display&&this.ticks.length){const{first:d,last:h,widest:m,highest:p}=this._getLabelSizes(),x=r.padding*2,y=so(this.labelRotation),w=Math.cos(y),v=Math.sin(y);if(l){const N=r.mirror?0:v*m.width+w*p.height;e.height=Math.min(this.maxHeight,e.height+N+x)}else{const N=r.mirror?0:w*m.width+v*p.height;e.width=Math.min(this.maxWidth,e.width+N+x)}this._calculatePadding(d,h,v,w)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,x=0;c?d?(p=s*e.width,x=r*n.height):(p=r*e.height,x=s*n.width):i==="start"?x=n.width:i==="end"?p=e.width:i!=="inner"&&(p=e.width/2,x=n.width/2),this.paddingLeft=Math.max((p-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((x-m+o)*this.width/(this.width-m),0)}else{let h=n.height/2,m=e.height/2;i==="start"?(h=0,m=e.height):i==="end"&&(h=n.height,m=0),this.paddingTop=h+o,this.paddingBottom=m+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)gn(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=A7(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(n/M7(n,r));let d=0,h=0,m,p,x,y,w,v,N,C,S,M,_;for(m=0;m<n;m+=c){if(y=e[m].label,w=this._resolveTickFontOptions(m),s.font=v=w.string,N=i[v]=i[v]||{data:{},gc:[]},C=w.lineHeight,S=M=0,!gn(y)&&!Tr(y))S=kw(s,N.data,N.gc,S,y),M=C;else if(Tr(y))for(p=0,x=y.length;p<x;++p)_=y[p],!gn(_)&&!Tr(_)&&(S=kw(s,N.data,N.gc,S,_),M+=C);o.push(S),l.push(M),d=Math.max(S,d),h=Math.max(M,h)}obe(i,n);const A=o.indexOf(d),O=l.indexOf(h),D=F=>({width:o[F]||0,height:l[F]||0});return{first:D(0),last:D(n-1),widest:D(A),highest:D(O),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Y0e(this._alignToPixels?tu(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=cbe(this.getContext(),e,r))}return this.$context||(this.$context=lbe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=so(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:l}=s,c=i.offset,d=this.isHorizontal(),m=this.ticks.length+(c?1:0),p=Yp(i),x=[],y=l.setContext(this.getContext()),w=y.display?y.width:0,v=w/2,N=function($){return tu(r,$,w)};let C,S,M,_,A,O,D,F,L,I,P,z;if(o==="top")C=N(this.bottom),O=this.bottom-p,F=C-v,I=N(e.top)+v,z=e.bottom;else if(o==="bottom")C=N(this.top),I=e.top,z=N(e.bottom)-v,O=C+v,F=this.top+p;else if(o==="left")C=N(this.right),A=this.right-p,D=C-v,L=N(e.left)+v,P=e.right;else if(o==="right")C=N(this.left),L=e.left,P=N(e.right)-v,A=C+v,D=this.left+p;else if(n==="x"){if(o==="center")C=N((e.top+e.bottom)/2+.5);else if(jn(o)){const $=Object.keys(o)[0],R=o[$];C=N(this.chart.scales[$].getPixelForValue(R))}I=e.top,z=e.bottom,O=C+v,F=O+p}else if(n==="y"){if(o==="center")C=N((e.left+e.right)/2);else if(jn(o)){const $=Object.keys(o)[0],R=o[$];C=N(this.chart.scales[$].getPixelForValue(R))}A=C-v,D=A-p,L=e.left,P=e.right}const U=nn(s.ticks.maxTicksLimit,m),V=Math.max(1,Math.ceil(m/U));for(S=0;S<m;S+=V){const $=this.getContext(S),R=i.setContext($),W=l.setContext($),q=R.lineWidth,X=R.color,H=W.dash||[],J=W.dashOffset,ne=R.tickWidth,fe=R.tickColor,de=R.tickBorderDash||[],we=R.tickBorderDashOffset;M=ibe(this,S,c),M!==void 0&&(_=tu(r,M,q),d?A=D=L=P=_:O=F=I=z=_,x.push({tx1:A,ty1:O,tx2:D,ty2:F,x1:L,y1:I,x2:P,y2:z,width:q,color:X,borderDash:H,borderDashOffset:J,tickWidth:ne,tickColor:fe,tickBorderDash:de,tickBorderDashOffset:we}))}return this._ticksLength=m,this._borderValue=C,x}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:h,mirror:m}=i,p=Yp(r.grid),x=p+h,y=m?-h:x,w=-so(this.labelRotation),v=[];let N,C,S,M,_,A,O,D,F,L,I,P,z="middle";if(s==="top")A=this.bottom-y,O=this._getXAxisLabelAlignment();else if(s==="bottom")A=this.top+y,O=this._getXAxisLabelAlignment();else if(s==="left"){const V=this._getYAxisLabelAlignment(p);O=V.textAlign,_=V.x}else if(s==="right"){const V=this._getYAxisLabelAlignment(p);O=V.textAlign,_=V.x}else if(n==="x"){if(s==="center")A=(e.top+e.bottom)/2+x;else if(jn(s)){const V=Object.keys(s)[0],$=s[V];A=this.chart.scales[V].getPixelForValue($)+x}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")_=(e.left+e.right)/2-x;else if(jn(s)){const V=Object.keys(s)[0],$=s[V];_=this.chart.scales[V].getPixelForValue($)}O=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(c==="start"?z="top":c==="end"&&(z="bottom"));const U=this._getLabelSizes();for(N=0,C=l.length;N<C;++N){S=l[N],M=S.label;const V=i.setContext(this.getContext(N));D=this.getPixelForTick(N)+i.labelOffset,F=this._resolveTickFontOptions(N),L=F.lineHeight,I=Tr(M)?M.length:1;const $=I/2,R=V.color,W=V.textStrokeColor,q=V.textStrokeWidth;let X=O;o?(_=D,O==="inner"&&(N===C-1?X=this.options.reverse?"left":"right":N===0?X=this.options.reverse?"right":"left":X="center"),s==="top"?d==="near"||w!==0?P=-I*L+L/2:d==="center"?P=-U.highest.height/2-$*L+L:P=-U.highest.height+L/2:d==="near"||w!==0?P=L/2:d==="center"?P=U.highest.height/2-$*L:P=U.highest.height-I*L,m&&(P*=-1),w!==0&&!V.showLabelBackdrop&&(_+=L/2*Math.sin(w))):(A=D,P=(1-I)*L/2);let H;if(V.showLabelBackdrop){const J=ua(V.backdropPadding),ne=U.heights[N],fe=U.widths[N];let de=P-J.top,we=0-J.left;switch(z){case"middle":de-=ne/2;break;case"bottom":de-=ne;break}switch(O){case"center":we-=fe/2;break;case"right":we-=fe;break;case"inner":N===C-1?we-=fe:N>0&&(we-=fe/2);break}H={left:we,top:de,width:fe+J.width,height:ne+J.height,color:V.backdropColor}}v.push({label:M,font:F,textOffset:P,options:{rotation:w,color:R,strokeColor:W,strokeWidth:q,textAlign:X,textBaseline:z,translation:[_,A],backdrop:H}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-so(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,h;return n==="left"?s?(h=this.right+i,r==="near"?d="left":r==="center"?(d="center",h+=c/2):(d="right",h+=c)):(h=this.right-l,r==="near"?d="right":r==="center"?(d="center",h-=c/2):(d="left",h=this.left)):n==="right"?s?(h=this.left+i,r==="near"?d="right":r==="center"?(d="center",h-=c/2):(d="left",h-=c)):(h=this.left+l,r==="near"?d="left":r==="center"?(d="center",h+=c/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,h,m,p;this.isHorizontal()?(d=tu(e,this.left,o)-o/2,h=tu(e,this.right,l)+l/2,m=p=c):(m=tu(e,this.top,o)-o/2,p=tu(e,this.bottom,l)+l/2,d=h=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(d,m),n.lineTo(h,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&qj(r,s);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,h=o.textOffset;Yu(r,d,0,h,c,l)}s&&Gj(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=vs(r.font),o=ua(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||jn(n)?(c+=o.bottom,Tr(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:d,titleY:h,maxWidth:m,rotation:p}=ube(this,c,n,l);Yu(e,r.text,0,0,i,{color:r.color,maxWidth:m,rotation:p,textAlign:dbe(l,n,s),textBaseline:"middle",translation:[d,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=nn(e.grid&&e.grid.z,-1),s=nn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==uh.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const l=n[i];l[r]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return vs(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ay{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;mbe(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,hbe(e,o,r),this.override&&Ar.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Ar[s]&&(delete Ar[s][r],this.override&&delete Gu[r])}}function hbe(t,e,n){const r=bg(Object.create(null),[n?Ar.get(n):{},Ar.get(e),t.defaults]);Ar.set(e,r),t.defaultRoutes&&fbe(e,t.defaultRoutes),t.descriptors&&Ar.describe(e,t.descriptors)}function fbe(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),l=o.pop(),c=o.join(".");Ar.route(i,s,c,l)})}function mbe(t){return"id"in t&&"defaults"in t}class pbe{constructor(){this.controllers=new Ay(oo,"datasets",!0),this.elements=new Ay(hc,"elements"),this.plugins=new Ay(Object,"plugins"),this.scales=new Ay(uh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):rr(s,o=>{const l=r||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,r){const s=sP(e);xr(r["before"+s],[],r),n[e](r),xr(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var No=new pbe;class gbe{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,l=o[r],c=[n,s,i.options];if(xr(l,c,o)===!1&&s.cancelable)return!1}return!0}invalidate(){gn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=nn(r.options&&r.options.plugins,{}),i=xbe(r);return s===!1&&!n?[]:ybe(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function xbe(t){const e={},n=[],r=Object.keys(No.plugins.items);for(let i=0;i<r.length;i++)n.push(No.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function bbe(t,e){return!e&&t===!1?null:t===!0?{}:t}function ybe(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=bbe(r[c],s);d!==null&&i.push({plugin:l,options:vbe(t.config,{plugin:l,local:n[c]},d,o)})}return i}function vbe(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zA(t,e){const n=Ar.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function wbe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function jbe(t,e){return t===e?"_index_":"_value_"}function E7(t){if(t==="x"||t==="y"||t==="r")return t}function Nbe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function BA(t,...e){if(E7(t))return t;for(const n of e){const r=n.axis||Nbe(n.position)||t.length>1&&E7(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function D7(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Sbe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return D7(t,"x",n[0])||D7(t,"y",n[0])}return{}}function kbe(t,e){const n=Gu[t.type]||{scales:{}},r=e.scales||{},s=zA(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const l=r[o];if(!jn(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=BA(o,l,Sbe(o,t),Ar.scales[l.type]),d=jbe(c,s),h=n.scales||{};i[o]=z0(Object.create(null),[{axis:c},l,h[c],h[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||zA(l,e),h=(Gu[l]||{}).scales||{};Object.keys(h).forEach(m=>{const p=wbe(m,c),x=o[p+"AxisID"]||p;i[x]=i[x]||Object.create(null),z0(i[x],[{axis:p},r[x],h[m]])})}),Object.keys(i).forEach(o=>{const l=i[o];z0(l,[Ar.scales[l.type],Ar.scale])}),i}function jX(t){const e=t.options||(t.options={});e.plugins=nn(e.plugins,{}),e.scales=kbe(t,e)}function NX(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Cbe(t){return t=t||{},t.data=NX(t.data),jX(t),t}const P7=new Map,SX=new Set;function Oy(t,e){let n=P7.get(t);return n||(n=e(),P7.set(t,n),SX.add(n)),n}const Kp=(t,e,n)=>{const r=vd(e,n);r!==void 0&&t.add(r)};class _be{constructor(e){this._config=Cbe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=NX(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),jX(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Oy(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Oy(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Oy(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Oy(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),l=o.get(n);if(l)return l;const c=new Set;n.forEach(h=>{e&&(c.add(e),h.forEach(m=>Kp(c,e,m))),h.forEach(m=>Kp(c,s,m)),h.forEach(m=>Kp(c,Gu[i]||{},m)),h.forEach(m=>Kp(c,Ar,m)),h.forEach(m=>Kp(c,$A,m))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),SX.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Gu[n]||{},Ar.datasets[n]||{},{type:n},Ar,$A]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=R7(this._resolverCache,e,s);let c=o;if(Mbe(o,n)){i.$shared=!1,r=wd(r)?r():r;const d=this.createResolver(e,r,l);c=Yf(o,r,d)}for(const d of n)i[d]=c[d];return i}createResolver(e,n,r=[""],s){const{resolver:i}=R7(this._resolverCache,e,r);return jn(n)?Yf(i,n,void 0,s):i}}function R7(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:dP(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const Tbe=t=>jn(t)&&Object.getOwnPropertyNames(t).some(e=>wd(t[e]));function Mbe(t,e){const{isScriptable:n,isIndexable:r}=nX(t);for(const s of e){const i=n(s),o=r(s),l=(o||i)&&t[s];if(i&&(wd(l)||Tbe(l))||o&&Tr(l))return!0}return!1}var Abe="4.5.0";const Obe=["top","bottom","left","right","chartArea"];function L7(t,e){return t==="top"||t==="bottom"||Obe.indexOf(t)===-1&&e==="x"}function I7(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function F7(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),xr(n&&n.onComplete,[t],e)}function Ebe(t){const e=t.chart,n=e.options.animation;xr(n&&n.onProgress,[t],e)}function kX(t){return fP()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Vv={},$7=t=>{const e=kX(t);return Object.values(Vv).filter(n=>n.canvas===e).pop()};function Dbe(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function Pbe(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Uc;let Xj=(Uc=class{static register(...e){No.add(...e),H7()}static unregister(...e){No.remove(...e),H7()}constructor(e,n){const r=this.config=new _be(n),s=kX(e),i=$7(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Qxe(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,h=c&&c.width;if(this.id=R0e(),this.ctx=l,this.canvas=c,this.width=h,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gbe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Q0e(m=>this.update(m),o.resizeDelay||0),this._dataChanges=[],Vv[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}_l.listen(this,"complete",F7),_l.listen(this,"progress",Ebe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return gn(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return No}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():l7(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return a7(this.canvas,this.ctx),this}stop(){return _l.stop(this),this}resize(e,n){_l.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,l7(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),xr(r.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};rr(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const l=n[o],c=BA(o,l),d=c==="r",h=c==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),rr(i,o=>{const l=o.options,c=l.id,d=BA(c,l),h=nn(l.type,o.dtype);(l.position===void 0||L7(l.position,d)!==L7(o.dposition))&&(l.position=o.dposition),s[c]=!0;let m=null;if(c in r&&r[c].type===h)m=r[c];else{const p=No.getScale(h);m=new p({id:c,type:h,ctx:this.ctx,chart:this}),r[m.id]=m}m.init(l,e)}),rr(s,(o,l)=>{o||delete r[l]}),rr(r,o=>{ca.configure(this,o,o.options),ca.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(I7("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=i.indexAxis||zA(l,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const c=No.getController(l),{datasetElementType:d,dataElementType:h}=Ar.datasets[l];Object.assign(c,{dataElementType:No.getElement(h),datasetElementType:d&&No.getElement(d)}),o.controller=new c(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){rr(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:m}=this.getDatasetMeta(d),p=!s&&i.indexOf(m)===-1;m.buildOrUpdateElements(p),o=Math.max(+m.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||rr(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(I7("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){rr(this.scales,e=>{ca.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!X8(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;Dbe(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!X8(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ca.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],rr(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,wd(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(_l.has(this)?this.attached&&!_l.running(this)&&_l.start(this):(this.draw(),F7({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=fX(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&qj(n,s),e.controller.draw(),s&&Gj(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ll(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=Oxe.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Td(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);yg(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),_l.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),a7(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Vv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};rr(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(c,d)=>{n.addEventListener(this,c,d),e[c]=d},s=(c,d)=>{e[c]&&(n.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){rr(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},rr(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!jw(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(c,d)=>c.filter(h=>!d.some(m=>h.datasetIndex===m.datasetIndex&&h.index===m.index)),o=i(n,e),l=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,l=this._getActiveElements(e,s,r,o),c=z0e(e),d=Pbe(e,this._lastEvent,r,c);r&&(this._lastEvent=null,xr(i.onHover,[e,l,this],this),c&&xr(i.onClick,[e,l,this],this));const h=!jw(l,s);return(h||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=d,h}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},Le(Uc,"defaults",Ar),Le(Uc,"instances",Vv),Le(Uc,"overrides",Gu),Le(Uc,"registry",No),Le(Uc,"version",Abe),Le(Uc,"getChart",$7),Uc);function H7(){return rr(Xj.instances,t=>t._plugins.invalidate())}function Rbe(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:h}=c,m=Math.min(d/o,aa(r-n));if(t.beginPath(),t.arc(s,i,o-d/2,r+m/2,n-m/2),l>0){const p=Math.min(d/l,aa(r-n));t.arc(s,i,l+d/2,n-p/2,r+p/2,!0)}else{const p=Math.min(d/2,o*aa(r-n));if(h==="round")t.arc(s,i,p,n-Dn/2,r+Dn/2,!0);else if(h==="bevel"){const x=2*p*p,y=-x*Math.cos(n+Dn/2)+s,w=-x*Math.sin(n+Dn/2)+i,v=x*Math.cos(r+Dn/2)+s,N=x*Math.sin(r+Dn/2)+i;t.lineTo(y,w),t.lineTo(v,N)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Lbe(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=s/l;t.beginPath(),t.arc(i,o,l,r-d,n+d),c>s?(d=s/c,t.arc(i,o,c,n+d,r-d,!0)):t.arc(i,o,s,n+Zr,r-Zr),t.closePath(),t.clip()}function Ibe(t){return cP(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Fbe(t,e,n,r){const s=Ibe(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,r*e/2),l=c=>{const d=(n-Math.min(i,c))*r/2;return Os(c,0,Math.min(i,d))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Os(s.innerStart,0,o),innerEnd:Os(s.innerEnd,0,o)}}function tf(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Mw(t,e,n,r,s,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:h}=e,m=Math.max(e.outerRadius+r+n-d,0),p=h>0?h+r+n+d:0;let x=0;const y=s-c;if(r){const V=h>0?h-r:0,$=m>0?m-r:0,R=(V+$)/2,W=R!==0?y*R/(R+r):y;x=(y-W)/2}const w=Math.max(.001,y*m-n/Dn)/m,v=(y-w)/2,N=c+v+x,C=s-v-x,{outerStart:S,outerEnd:M,innerStart:_,innerEnd:A}=Fbe(e,p,m,C-N),O=m-S,D=m-M,F=N+S/O,L=C-M/D,I=p+_,P=p+A,z=N+_/I,U=C-A/P;if(t.beginPath(),i){const V=(F+L)/2;if(t.arc(o,l,m,F,V),t.arc(o,l,m,V,L),M>0){const q=tf(D,L,o,l);t.arc(q.x,q.y,M,L,C+Zr)}const $=tf(P,C,o,l);if(t.lineTo($.x,$.y),A>0){const q=tf(P,U,o,l);t.arc(q.x,q.y,A,C+Zr,U+Math.PI)}const R=(C-A/p+(N+_/p))/2;if(t.arc(o,l,p,C-A/p,R,!0),t.arc(o,l,p,R,N+_/p,!0),_>0){const q=tf(I,z,o,l);t.arc(q.x,q.y,_,z+Math.PI,N-Zr)}const W=tf(O,N,o,l);if(t.lineTo(W.x,W.y),S>0){const q=tf(O,F,o,l);t.arc(q.x,q.y,S,N-Zr,F)}}else{t.moveTo(o,l);const V=Math.cos(F)*m+o,$=Math.sin(F)*m+l;t.lineTo(V,$);const R=Math.cos(L)*m+o,W=Math.sin(L)*m+l;t.lineTo(R,W)}t.closePath()}function $be(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){Mw(t,e,n,r,c,s);for(let d=0;d<i;++d)t.fill();isNaN(l)||(c=o+(l%Sr||Sr))}return Mw(t,e,n,r,c,s),t.fill(),c}function Hbe(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:h,borderDash:m,borderDashOffset:p,borderRadius:x}=c,y=c.borderAlign==="inner";if(!d)return;t.setLineDash(m||[]),t.lineDashOffset=p,y?(t.lineWidth=d*2,t.lineJoin=h||"round"):(t.lineWidth=d,t.lineJoin=h||"bevel");let w=e.endAngle;if(i){Mw(t,e,n,r,w,s);for(let v=0;v<i;++v)t.stroke();isNaN(l)||(w=o+(l%Sr||Sr))}y&&Lbe(t,e,w),c.selfJoin&&w-o>=Dn&&x===0&&h!=="miter"&&Rbe(t,e,w),i||(Mw(t,e,n,r,w,s),t.stroke())}class N0 extends hc{constructor(n){super();Le(this,"circumference");Le(this,"endAngle");Le(this,"fullCircles");Le(this,"innerRadius");Le(this,"outerRadius");Le(this,"pixelMargin");Le(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:l}=qK(i,{x:n,y:r}),{startAngle:c,endAngle:d,innerRadius:h,outerRadius:m,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),x=(this.options.spacing+this.options.borderWidth)/2,y=nn(p,d-c),w=vg(o,c,d)&&c!==d,v=y>=Sr||w,N=Pl(l,h+x,m+x);return v&&N}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:h}=this.options,m=(i+o)/2,p=(l+c+h+d)/2;return{x:r+Math.cos(m)*p,y:s+Math.sin(m)*p}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,l=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>Sr?Math.floor(s/Sr):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(Dn,s||0)),h=i*d;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,$be(n,this,h,o,l),Hbe(n,this,h,o,l),n.restore()}}Le(N0,"id","arc"),Le(N0,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Le(N0,"defaultRoutes",{backgroundColor:"backgroundColor"}),Le(N0,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function CX(t,e,n=e){t.lineCap=nn(n.borderCapStyle,e.borderCapStyle),t.setLineDash(nn(n.borderDash,e.borderDash)),t.lineDashOffset=nn(n.borderDashOffset,e.borderDashOffset),t.lineJoin=nn(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=nn(n.borderWidth,e.borderWidth),t.strokeStyle=nn(n.borderColor,e.borderColor)}function zbe(t,e,n){t.lineTo(n.x,n.y)}function Bbe(t){return t.stepped?dge:t.tension||t.cubicInterpolationMode==="monotone"?uge:zbe}function _X(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:l}=e,c=Math.max(s,o),d=Math.min(i,l),h=s<o&&i<o||s>l&&i>l;return{count:r,start:c,loop:e.loop,ilen:d<c&&!h?r+d-c:d-c}}function Vbe(t,e,n,r){const{points:s,options:i}=e,{count:o,start:l,loop:c,ilen:d}=_X(s,n,r),h=Bbe(i);let{move:m=!0,reverse:p}=r||{},x,y,w;for(x=0;x<=d;++x)y=s[(l+(p?d-x:x))%o],!y.skip&&(m?(t.moveTo(y.x,y.y),m=!1):h(t,w,y,p,i.stepped),w=y);return c&&(y=s[(l+(p?d:0))%o],h(t,w,y,p,i.stepped)),!!c}function Wbe(t,e,n,r){const s=e.points,{count:i,start:o,ilen:l}=_X(s,n,r),{move:c=!0,reverse:d}=r||{};let h=0,m=0,p,x,y,w,v,N;const C=M=>(o+(d?l-M:M))%i,S=()=>{w!==v&&(t.lineTo(h,v),t.lineTo(h,w),t.lineTo(h,N))};for(c&&(x=s[C(0)],t.moveTo(x.x,x.y)),p=0;p<=l;++p){if(x=s[C(p)],x.skip)continue;const M=x.x,_=x.y,A=M|0;A===y?(_<w?w=_:_>v&&(v=_),h=(m*h+M)/++m):(S(),t.lineTo(M,_),y=A,m=0,w=v=_),N=_}S()}function VA(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Wbe:Vbe}function Ube(t){return t.stepped?Vge:t.tension||t.cubicInterpolationMode==="monotone"?Wge:du}function qbe(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),CX(t,e.options),t.stroke(s)}function Gbe(t,e,n,r){const{segments:s,options:i}=e,o=VA(e);for(const l of s)CX(t,i,l.style),t.beginPath(),o(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Ybe=typeof Path2D=="function";function Kbe(t,e,n,r){Ybe&&!e.options.segment?qbe(t,e,n,r):Gbe(t,e,n,r)}class rd extends hc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;Rge(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Xge(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=hX(this,{property:n,start:s,end:s});if(!o.length)return;const l=[],c=Ube(r);let d,h;for(d=0,h=o.length;d<h;++d){const{start:m,end:p}=o[d],x=i[m],y=i[p];if(x===y){l.push(x);continue}const w=Math.abs((s-x[n])/(y[n]-x[n])),v=c(x,y,w,r.stepped);v[n]=e[n],l.push(v)}return l.length===1?l[0]:l}pathSegment(e,n,r){return VA(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=VA(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)o&=i(e,this,l,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Kbe(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Le(rd,"id","line"),Le(rd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Le(rd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Le(rd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function z7(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Wv extends hc{constructor(n){super();Le(this,"parsed");Le(this,"skip");Le(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return z7(this,n,"x",r)}inYRange(n,r){return z7(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!Ll(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,HA(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Le(Wv,"id","point"),Le(Wv,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Le(Wv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function TX(t,e){const{x:n,y:r,base:s,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,h,m;return t.horizontal?(m=o/2,l=Math.min(n,s),c=Math.max(n,s),d=r-m,h=r+m):(m=i/2,l=n-m,c=n+m,d=Math.min(r,s),h=Math.max(r,s)),{left:l,top:d,right:c,bottom:h}}function sd(t,e,n,r){return t?0:Os(e,n,r)}function Xbe(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=tX(r);return{t:sd(s.top,i.top,0,n),r:sd(s.right,i.right,0,e),b:sd(s.bottom,i.bottom,0,n),l:sd(s.left,i.left,0,e)}}function Jbe(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Du(s),o=Math.min(e,n),l=t.borderSkipped,c=r||jn(s);return{topLeft:sd(!c||l.top||l.left,i.topLeft,0,o),topRight:sd(!c||l.top||l.right,i.topRight,0,o),bottomLeft:sd(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:sd(!c||l.bottom||l.right,i.bottomRight,0,o)}}function Qbe(t){const e=TX(t),n=e.right-e.left,r=e.bottom-e.top,s=Xbe(t,n/2,r/2),i=Jbe(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Kk(t,e,n,r){const s=e===null,i=n===null,l=t&&!(s&&i)&&TX(t,r);return l&&(s||Pl(e,l.left,l.right))&&(i||Pl(n,l.top,l.bottom))}function Zbe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function eye(t,e){t.rect(e.x,e.y,e.w,e.h)}function Xk(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+o,radius:t.radius}}class Uv extends hc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=Qbe(this),l=Zbe(o.radius)?wg:eye;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,Xk(o,n,i)),e.clip(),l(e,Xk(i,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),l(e,Xk(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return Kk(this,e,n,r)}inXRange(e,n){return Kk(this,e,null,n)}inYRange(e,n){return Kk(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Le(Uv,"id","bar"),Le(Uv,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Le(Uv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var tye=Object.freeze({__proto__:null,ArcElement:N0,BarElement:Uv,LineElement:rd,PointElement:Wv});const WA=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],B7=WA.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function MX(t){return WA[t%WA.length]}function AX(t){return B7[t%B7.length]}function nye(t,e){return t.borderColor=MX(e),t.backgroundColor=AX(e),++e}function rye(t,e){return t.backgroundColor=t.data.map(()=>MX(e++)),e}function sye(t,e){return t.backgroundColor=t.data.map(()=>AX(e++)),e}function aye(t){let e=0;return(n,r)=>{const s=t.getDatasetMeta(r).controller;s instanceof vu?e=rye(n,e):s instanceof q0?e=sye(n,e):s&&(e=nye(n,e))}}function V7(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function iye(t){return t&&(t.borderColor||t.backgroundColor)}function oye(){return Ar.borderColor!=="rgba(0,0,0,0.1)"||Ar.backgroundColor!=="rgba(0,0,0,0.1)"}var lye={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:s}=t.config,{elements:i}=s,o=V7(r)||iye(s)||i&&V7(i)||oye();if(!n.forceOverride&&o)return;const l=aye(t);r.forEach(l)}};function cye(t,e,n,r,s){const i=s.samples||r;if(i>=n)return t.slice(e,e+n);const o=[],l=(n-2)/(i-2);let c=0;const d=e+n-1;let h=e,m,p,x,y,w;for(o[c++]=t[h],m=0;m<i-2;m++){let v=0,N=0,C;const S=Math.floor((m+1)*l)+1+e,M=Math.min(Math.floor((m+2)*l)+1,n)+e,_=M-S;for(C=S;C<M;C++)v+=t[C].x,N+=t[C].y;v/=_,N/=_;const A=Math.floor(m*l)+1+e,O=Math.min(Math.floor((m+1)*l)+1,n)+e,{x:D,y:F}=t[h];for(x=y=-1,C=A;C<O;C++)y=.5*Math.abs((D-v)*(t[C].y-F)-(D-t[C].x)*(N-F)),y>x&&(x=y,p=t[C],w=C);o[c++]=p,h=w}return o[c++]=t[d],o}function dye(t,e,n,r){let s=0,i=0,o,l,c,d,h,m,p,x,y,w;const v=[],N=e+n-1,C=t[e].x,M=t[N].x-C;for(o=e;o<e+n;++o){l=t[o],c=(l.x-C)/M*r,d=l.y;const _=c|0;if(_===h)d<y?(y=d,m=o):d>w&&(w=d,p=o),s=(i*s+l.x)/++i;else{const A=o-1;if(!gn(m)&&!gn(p)){const O=Math.min(m,p),D=Math.max(m,p);O!==x&&O!==A&&v.push({...t[O],x:s}),D!==x&&D!==A&&v.push({...t[D],x:s})}o>0&&A!==x&&v.push(t[A]),v.push(l),h=_,i=0,y=w=d,m=p=x=o}}return v}function OX(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function W7(t){t.data.datasets.forEach(e=>{OX(e)})}function uye(t,e){const n=e.length;let r=0,s;const{iScale:i}=t,{min:o,max:l,minDefined:c,maxDefined:d}=i.getUserBounds();return c&&(r=Os(Rl(e,i.axis,o).lo,0,n-1)),d?s=Os(Rl(e,i.axis,l).hi+1,r,n)-r:s=n-r,{start:r,count:s}}var hye={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){W7(t);return}const r=t.width;t.data.datasets.forEach((s,i)=>{const{_data:o,indexAxis:l}=s,c=t.getDatasetMeta(i),d=o||s.data;if(w0([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const h=t.scales[c.xAxisID];if(h.type!=="linear"&&h.type!=="time"||t.options.parsing)return;let{start:m,count:p}=uye(c,d);const x=n.threshold||4*r;if(p<=x){OX(s);return}gn(o)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let y;switch(n.algorithm){case"lttb":y=cye(d,m,p,r,n);break;case"min-max":y=dye(d,m,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=y})},destroy(t){W7(t)}};function fye(t,e,n){const r=t.segments,s=t.points,i=e.points,o=[];for(const l of r){let{start:c,end:d}=l;d=Jj(c,d,s);const h=UA(n,s[c],s[d],l.loop);if(!e.segments){o.push({source:l,target:h,start:s[c],end:s[d]});continue}const m=hX(e,h);for(const p of m){const x=UA(n,i[p.start],i[p.end],p.loop),y=uX(l,s,x);for(const w of y)o.push({source:w,target:p,start:{[n]:U7(h,x,"start",Math.max)},end:{[n]:U7(h,x,"end",Math.min)}})}}return o}function UA(t,e,n,r){if(r)return;let s=e[t],i=n[t];return t==="angle"&&(s=aa(s),i=aa(i)),{property:t,start:s,end:i}}function mye(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,i=[];return e.segments.forEach(({start:o,end:l})=>{l=Jj(o,l,s);const c=s[o],d=s[l];r!==null?(i.push({x:c.x,y:r}),i.push({x:d.x,y:r})):n!==null&&(i.push({x:n,y:c.y}),i.push({x:n,y:d.y}))}),i}function Jj(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function U7(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function EX(t,e){let n=[],r=!1;return Tr(t)?(r=!0,n=t):n=mye(t,e),n.length?new rd({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function q7(t){return t&&t.fill!==!1}function pye(t,e,n){let s=t[e].fill;const i=[e];let o;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!Wr(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;i.push(s),s=o.fill}return!1}function gye(t,e,n){const r=vye(t);if(jn(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return Wr(s)&&Math.floor(s)===s?xye(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function xye(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function bye(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:jn(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function yye(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:jn(t)?r=t.value:r=e.getBaseValue(),r}function vye(t){const e=t.options,n=e.fill;let r=nn(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function wye(t){const{scale:e,index:n,line:r}=t,s=[],i=r.segments,o=r.points,l=jye(e,n);l.push(EX({x:null,y:e.bottom},r));for(let c=0;c<i.length;c++){const d=i[c];for(let h=d.start;h<=d.end;h++)Nye(s,o[h],l)}return new rd({points:s,options:{}})}function jye(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function Nye(t,e,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:o,last:l,point:c}=Sye(i,e,"x");if(!(!c||o&&l)){if(o)r.unshift(c);else if(t.push(c),!l)break}}t.push(...r)}function Sye(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],i=t.segments,o=t.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const h=i[d],m=o[h.start][n],p=o[h.end][n];if(Pl(s,m,p)){l=s===m,c=s===p;break}}return{first:l,last:c,point:r}}class DX{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:i,radius:o}=this;return n=n||{start:0,end:Sr},e.arc(s,i,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,i=e.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function kye(t){const{chart:e,fill:n,line:r}=t;if(Wr(n))return Cye(e,n);if(n==="stack")return wye(t);if(n==="shape")return!0;const s=_ye(t);return s instanceof DX?s:EX(s,r)}function Cye(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function _ye(t){return(t.scale||{}).getPointPositionForValue?Mye(t):Tye(t)}function Tye(t){const{scale:e={},fill:n}=t,r=bye(n,e);if(Wr(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function Mye(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,i=r.reverse?e.max:e.min,o=yye(n,e,i),l=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,i);return new DX({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<s;++c)l.push(e.getPointPositionForValue(c,o));return l}function Jk(t,e,n){const r=kye(e),{chart:s,index:i,line:o,scale:l,axis:c}=e,d=o.options,h=d.fill,m=d.backgroundColor,{above:p=m,below:x=m}=h||{},y=s.getDatasetMeta(i),w=fX(s,y);r&&o.points.length&&(qj(t,n),Aye(t,{line:o,target:r,above:p,below:x,area:n,scale:l,axis:c,clip:w}),Gj(t))}function Aye(t,e){const{line:n,target:r,above:s,below:i,area:o,scale:l,clip:c}=e,d=n._loop?"angle":e.axis;t.save();let h=i;i!==s&&(d==="x"?(G7(t,r,o.top),Qk(t,{line:n,target:r,color:s,scale:l,property:d,clip:c}),t.restore(),t.save(),G7(t,r,o.bottom)):d==="y"&&(Y7(t,r,o.left),Qk(t,{line:n,target:r,color:i,scale:l,property:d,clip:c}),t.restore(),t.save(),Y7(t,r,o.right),h=s)),Qk(t,{line:n,target:r,color:h,scale:l,property:d,clip:c}),t.restore()}function G7(t,e,n){const{segments:r,points:s}=e;let i=!0,o=!1;t.beginPath();for(const l of r){const{start:c,end:d}=l,h=s[c],m=s[Jj(c,d,s)];i?(t.moveTo(h.x,h.y),i=!1):(t.lineTo(h.x,n),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(m.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Y7(t,e,n){const{segments:r,points:s}=e;let i=!0,o=!1;t.beginPath();for(const l of r){const{start:c,end:d}=l,h=s[c],m=s[Jj(c,d,s)];i?(t.moveTo(h.x,h.y),i=!1):(t.lineTo(n,h.y),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(n,m.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Qk(t,e){const{line:n,target:r,property:s,color:i,scale:o,clip:l}=e,c=fye(n,r,s);for(const{source:d,target:h,start:m,end:p}of c){const{style:{backgroundColor:x=i}={}}=d,y=r!==!0;t.save(),t.fillStyle=x,Oye(t,o,l,y&&UA(s,m,p)),t.beginPath();const w=!!n.pathSegment(t,d);let v;if(y){w?t.closePath():K7(t,r,p,s);const N=!!r.pathSegment(t,h,{move:w,reverse:!0});v=w&&N,v||K7(t,r,m,s)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function Oye(t,e,n,r){const s=e.chart.chartArea,{property:i,start:o,end:l}=r||{};if(i==="x"||i==="y"){let c,d,h,m;i==="x"?(c=o,d=s.top,h=l,m=s.bottom):(c=s.left,d=o,h=s.right,m=l),t.beginPath(),n&&(c=Math.max(c,n.left),h=Math.min(h,n.right),d=Math.max(d,n.top),m=Math.min(m,n.bottom)),t.rect(c,d,h-c,m-d),t.clip()}}function K7(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var Eye={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let i,o,l,c;for(o=0;o<r;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof rd&&(c={visible:t.isDatasetVisible(o),index:o,fill:gye(l,o,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,s.push(c);for(o=0;o<r;++o)c=s[o],!(!c||c.fill===!1)&&(c.fill=pye(s,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=s.length-1;o>=0;--o){const l=s[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),r&&l.fill&&Jk(t.ctx,l,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;q7(i)&&Jk(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!q7(r)||n.drawTime!=="beforeDatasetDraw"||Jk(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const X7=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Dye=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let J7=class extends hc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=xr(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=vs(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=X7(r,i);let d,h;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(o,i,l,c)+10):(h=this.maxHeight,d=this._fitCols(o,s,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],h=s+l;let m=e;i.textAlign="left",i.textBaseline="middle";let p=-1,x=-h;return this.legendItems.forEach((y,w)=>{const v=r+n/2+i.measureText(y.text).width;(w===0||d[d.length-1]+v+2*l>o)&&(m+=h,d[d.length-(w>0?0:1)]=0,x+=h,p++),c[w]={left:0,top:x,row:p,width:v,height:s},d[d.length-1]+=v+l}),m}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],h=o-e;let m=l,p=0,x=0,y=0,w=0;return this.legendItems.forEach((v,N)=>{const{itemWidth:C,itemHeight:S}=Pye(r,n,i,v,s);N>0&&x+S+2*l>h&&(m+=p+l,d.push({width:p,height:x}),y+=p+l,w++,p=x=0),c[N]={left:y,top:x,col:w,width:C,height:S},p=Math.max(p,C),x+=S+l}),m+=p,d.push({width:p,height:x}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=Of(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=na(r,this.left+s,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,c=na(r,this.left+s,this.right-this.lineWidths[l])),d.top+=this.top+e+s,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+s}else{let l=0,c=na(r,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,c=na(r,this.top+e+s,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+s,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;qj(e,this),this._draw(),Gj(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,l=Ar.color,c=Of(e.rtl,this.left,this.width),d=vs(o.font),{padding:h}=o,m=d.size,p=m/2;let x;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:y,boxHeight:w,itemHeight:v}=X7(o,m),N=function(A,O,D){if(isNaN(y)||y<=0||isNaN(w)||w<0)return;s.save();const F=nn(D.lineWidth,1);if(s.fillStyle=nn(D.fillStyle,l),s.lineCap=nn(D.lineCap,"butt"),s.lineDashOffset=nn(D.lineDashOffset,0),s.lineJoin=nn(D.lineJoin,"miter"),s.lineWidth=F,s.strokeStyle=nn(D.strokeStyle,l),s.setLineDash(nn(D.lineDash,[])),o.usePointStyle){const L={radius:w*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:F},I=c.xPlus(A,y/2),P=O+p;eX(s,L,I,P,o.pointStyleWidth&&y)}else{const L=O+Math.max((m-w)/2,0),I=c.leftForLtr(A,y),P=Du(D.borderRadius);s.beginPath(),Object.values(P).some(z=>z!==0)?wg(s,{x:I,y:L,w:y,h:w,radius:P}):s.rect(I,L,y,w),s.fill(),F!==0&&s.stroke()}s.restore()},C=function(A,O,D){Yu(s,D.text,A,O+v/2,d,{strikethrough:D.hidden,textAlign:c.textAlign(D.textAlign)})},S=this.isHorizontal(),M=this._computeTitleHeight();S?x={x:na(i,this.left+h,this.right-r[0]),y:this.top+h+M,line:0}:x={x:this.left+h,y:na(i,this.top+M+h,this.bottom-n[0].height),line:0},lX(this.ctx,e.textDirection);const _=v+h;this.legendItems.forEach((A,O)=>{s.strokeStyle=A.fontColor,s.fillStyle=A.fontColor;const D=s.measureText(A.text).width,F=c.textAlign(A.textAlign||(A.textAlign=o.textAlign)),L=y+p+D;let I=x.x,P=x.y;c.setWidth(this.width),S?O>0&&I+L+h>this.right&&(P=x.y+=_,x.line++,I=x.x=na(i,this.left+h,this.right-r[x.line])):O>0&&P+_>this.bottom&&(I=x.x=I+n[x.line].width+h,x.line++,P=x.y=na(i,this.top+M+h,this.bottom-n[x.line].height));const z=c.x(I);if(N(z,P,A),I=Z0e(F,I+y+p,S?I+L:this.right,e.rtl),C(c.x(I),P,A),S)x.x+=L+h;else if(typeof A.text!="string"){const U=d.lineHeight;x.y+=PX(A,U)+h}else x.y+=_}),cX(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=vs(n.font),s=ua(n.padding);if(!n.display)return;const i=Of(e.rtl,this.left,this.width),o=this.ctx,l=n.position,c=r.size/2,d=s.top+c;let h,m=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+d,m=na(e.align,m,this.right-p);else{const y=this.columnSizes.reduce((w,v)=>Math.max(w,v.height),0);h=d+na(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const x=na(l,m,m+p);o.textAlign=i.textAlign(oP(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Yu(o,n.text,x,h,r)}_computeTitleHeight(){const e=this.options.title,n=vs(e.font),r=ua(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(Pl(e,this.left,this.right)&&Pl(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Pl(e,s.left,s.left+s.width)&&Pl(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Iye(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=Dye(s,r);s&&!i&&xr(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&xr(n.onHover,[e,r,this],this)}else r&&xr(n.onClick,[e,r,this],this)}};function Pye(t,e,n,r,s){const i=Rye(r,t,e,n),o=Lye(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function Rye(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function Lye(t,e,n){let r=t;return typeof e.text!="string"&&(r=PX(e,n)),r}function PX(t,e){const n=t.text?t.text.length:0;return e*n}function Iye(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Fye={id:"legend",_element:J7,start(t,e,n){const r=t.legend=new J7({ctx:t.ctx,options:n,chart:t});ca.configure(t,r,n),ca.addBox(t,r)},stop(t){ca.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ca.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),h=ua(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class gP extends hc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Tr(r.text)?r.text.length:1;this._padding=ua(r.padding);const i=s*vs(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,l=o.align;let c=0,d,h,m;return this.isHorizontal()?(h=na(l,r,i),m=n+e,d=i-r):(o.position==="left"?(h=r+e,m=na(l,s,n),c=Dn*-.5):(h=i-e,m=na(l,n,s),c=Dn*.5),d=s-n),{titleX:h,titleY:m,maxWidth:d,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=vs(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);Yu(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:d,textAlign:oP(n.align),textBaseline:"middle",translation:[o,l]})}}function $ye(t,e){const n=new gP({ctx:t.ctx,options:e,chart:t});ca.configure(t,n,e),ca.addBox(t,n),t.titleBlock=n}var Hye={id:"title",_element:gP,start(t,e,n){$ye(t,n)},stop(t){const e=t.titleBlock;ca.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;ca.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ey=new WeakMap;var zye={id:"subtitle",start(t,e,n){const r=new gP({ctx:t.ctx,options:n,chart:t});ca.configure(t,r,n),ca.addBox(t,r),Ey.set(t,r)},stop(t){ca.removeBox(t,Ey.get(t)),Ey.delete(t)},beforeUpdate(t,e,n){const r=Ey.get(t);ca.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const S0={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),h=FA(e,d);h<s&&(s=h,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function jo(t,e){return e&&(Tr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Tl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Bye(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:l}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Q7(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=vs(e.bodyFont),d=vs(e.titleFont),h=vs(e.footerFont),m=i.length,p=s.length,x=r.length,y=ua(e.padding);let w=y.height,v=0,N=r.reduce((M,_)=>M+_.before.length+_.lines.length+_.after.length,0);if(N+=t.beforeBody.length+t.afterBody.length,m&&(w+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),N){const M=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;w+=x*M+(N-x)*c.lineHeight+(N-1)*e.bodySpacing}p&&(w+=e.footerMarginTop+p*h.lineHeight+(p-1)*e.footerSpacing);let C=0;const S=function(M){v=Math.max(v,n.measureText(M).width+C)};return n.save(),n.font=d.string,rr(t.title,S),n.font=c.string,rr(t.beforeBody.concat(t.afterBody),S),C=e.displayColors?o+2+e.boxPadding:0,rr(r,M=>{rr(M.before,S),rr(M.lines,S),rr(M.after,S)}),C=0,n.font=h.string,rr(t.footer,S),n.restore(),v+=y.width,{width:v,height:w}}function Vye(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Wye(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function Uye(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return r==="center"?d=s<=(l+c)/2?"left":"right":s<=i/2?d="left":s>=o-i/2&&(d="right"),Wye(d,t,e,n)&&(d="center"),d}function Z7(t,e,n){const r=n.yAlign||e.yAlign||Vye(t,n);return{xAlign:n.xAlign||e.xAlign||Uye(t,e,n,r),yAlign:r}}function qye(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Gye(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function e9(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=n,d=s+i,{topLeft:h,topRight:m,bottomLeft:p,bottomRight:x}=Du(o);let y=qye(e,l);const w=Gye(e,c,d);return c==="center"?l==="left"?y+=d:l==="right"&&(y-=d):l==="left"?y-=Math.max(h,p)+s:l==="right"&&(y+=Math.max(m,x)+s),{x:Os(y,0,r.width-e.width),y:Os(w,0,r.height-e.height)}}function Dy(t,e,n){const r=ua(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function t9(t){return jo([],Tl(t))}function Yye(t,e,n){return Td(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function n9(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const RX={beforeTitle:jl,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:jl,beforeBody:jl,beforeLabel:jl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return gn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:jl,afterBody:jl,beforeFooter:jl,footer:jl,afterFooter:jl};function Fa(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?RX[e].call(n,r):s}var lA;let r9=(lA=class extends hc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new mX(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Yye(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Fa(r,"beforeTitle",this,e),i=Fa(r,"title",this,e),o=Fa(r,"afterTitle",this,e);let l=[];return l=jo(l,Tl(s)),l=jo(l,Tl(i)),l=jo(l,Tl(o)),l}getBeforeBody(e,n){return t9(Fa(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return rr(e,i=>{const o={before:[],lines:[],after:[]},l=n9(r,i);jo(o.before,Tl(Fa(l,"beforeLabel",this,i))),jo(o.lines,Fa(l,"label",this,i)),jo(o.after,Tl(Fa(l,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return t9(Fa(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Fa(r,"beforeFooter",this,e),i=Fa(r,"footer",this,e),o=Fa(r,"afterFooter",this,e);let l=[];return l=jo(l,Tl(s)),l=jo(l,Tl(i)),l=jo(l,Tl(o)),l}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let l=[],c,d;for(c=0,d=n.length;c<d;++c)l.push(Bye(this.chart,n[c]));return e.filter&&(l=l.filter((h,m,p)=>e.filter(h,m,p,r))),e.itemSort&&(l=l.sort((h,m)=>e.itemSort(h,m,r))),rr(l,h=>{const m=n9(e.callbacks,h);s.push(Fa(m,"labelColor",this,h)),i.push(Fa(m,"labelPointStyle",this,h)),o.push(Fa(m,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=S0[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const c=this._size=Q7(this,r),d=Object.assign({},l,c),h=Z7(this.chart,r,d),m=e9(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,i={opacity:1,x:m.x,y:m.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:m}=Du(l),{x:p,y:x}=e,{width:y,height:w}=n;let v,N,C,S,M,_;return i==="center"?(M=x+w/2,s==="left"?(v=p,N=v-o,S=M+o,_=M-o):(v=p+y,N=v+o,S=M-o,_=M+o),C=v):(s==="left"?N=p+Math.max(c,h)+o:s==="right"?N=p+y-Math.max(d,m)-o:N=this.caretX,i==="top"?(S=x,M=S-o,v=N-o,C=N+o):(S=x+w,M=S+o,v=N+o,C=N-o),_=S),{x1:v,x2:N,x3:C,y1:S,y2:M,y3:_}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,l,c;if(i){const d=Of(r.rtl,this.x,this.width);for(e.x=Dy(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",o=vs(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,c=0;c<i;++c)n.fillText(s[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=i,h=vs(i.bodyFont),m=Dy(this,"left",i),p=s.x(m),x=c<h.lineHeight?(h.lineHeight-c)/2:0,y=n.y+x;if(i.usePointStyle){const w={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=s.leftForLtr(p,d)+d/2,N=y+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,HA(e,w,v,N),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,HA(e,w,v,N)}else{e.lineWidth=jn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=s.leftForLtr(p,d),v=s.leftForLtr(s.xPlus(p,1),d-2),N=Du(o.borderRadius);Object.values(N).some(C=>C!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,wg(e,{x:w,y,w:d,h:c,radius:N}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),wg(e,{x:v,y:y+1,w:d-2,h:c-2,radius:N}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(w,y,d,c),e.strokeRect(w,y,d,c),e.fillStyle=o.backgroundColor,e.fillRect(v,y+1,d-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:h}=r,m=vs(r.bodyFont);let p=m.lineHeight,x=0;const y=Of(r.rtl,this.x,this.width),w=function(D){n.fillText(D,y.x(e.x+x),e.y+p/2),e.y+=p+i},v=y.textAlign(o);let N,C,S,M,_,A,O;for(n.textAlign=o,n.textBaseline="middle",n.font=m.string,e.x=Dy(this,v,r),n.fillStyle=r.bodyColor,rr(this.beforeBody,w),x=l&&v!=="right"?o==="center"?d/2+h:d+2+h:0,M=0,A=s.length;M<A;++M){for(N=s[M],C=this.labelTextColors[M],n.fillStyle=C,rr(N.before,w),S=N.lines,l&&S.length&&(this._drawColorBox(n,e,M,y,r),p=Math.max(m.lineHeight,c)),_=0,O=S.length;_<O;++_)w(S[_]),p=m.lineHeight;rr(N.after,w)}x=0,p=m.lineHeight,rr(this.afterBody,w),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,l;if(i){const c=Of(r.rtl,this.x,this.width);for(e.x=Dy(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",o=vs(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:h}=r,{topLeft:m,topRight:p,bottomLeft:x,bottomRight:y}=Du(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+m,c),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(l+d-p,c),n.quadraticCurveTo(l+d,c,l+d,c+p),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(l+d,c+h-y),n.quadraticCurveTo(l+d,c+h,l+d-y,c+h),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(l+x,c+h),n.quadraticCurveTo(l,c+h,l,c+h-x),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(l,c+m),n.quadraticCurveTo(l,c,l+m,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=S0[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Q7(this,e),c=Object.assign({},o,this._size),d=Z7(n,e,c),h=e9(e,c,d,n);(s._to!==h.x||i._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=ua(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),lX(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),cX(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!jw(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),l=this._positionChanged(o,e),c=n||!jw(o,i)||l;return c&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=S0[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}},Le(lA,"positioners",S0),lA);var Kye={id:"tooltip",_element:r9,positioners:S0,afterInit(t,e,n){n&&(t.tooltip=new r9({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:RX},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Xye=Object.freeze({__proto__:null,Colors:lye,Decimation:hye,Filler:Eye,Legend:Fye,SubTitle:zye,Title:Hye,Tooltip:Kye});const Jye=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Qye(t,e,n,r){const s=t.indexOf(e);if(s===-1)return Jye(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const Zye=(t,e)=>t===null?null:Os(Math.round(t),0,e);function s9(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class qA extends uh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(gn(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Qye(r,e,nn(n,e),this._addedLabels),Zye(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return s9.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Le(qA,"id","category"),Le(qA,"defaults",{ticks:{callback:s9}});function eve(t,e){const n=[],{bounds:s,step:i,min:o,max:l,precision:c,count:d,maxTicks:h,maxDigits:m,includeBounds:p}=t,x=i||1,y=h-1,{min:w,max:v}=e,N=!gn(o),C=!gn(l),S=!gn(d),M=(v-w)/(m+1);let _=Q8((v-w)/y/x)*x,A,O,D,F;if(_<1e-14&&!N&&!C)return[{value:w},{value:v}];F=Math.ceil(v/_)-Math.floor(w/_),F>y&&(_=Q8(F*_/y/x)*x),gn(c)||(A=Math.pow(10,c),_=Math.ceil(_*A)/A),s==="ticks"?(O=Math.floor(w/_)*_,D=Math.ceil(v/_)*_):(O=w,D=v),N&&C&&i&&q0e((l-o)/i,_/1e3)?(F=Math.round(Math.min((l-o)/_,h)),_=(l-o)/F,O=o,D=l):S?(O=N?o:O,D=C?l:D,F=d-1,_=(D-O)/F):(F=(D-O)/_,B0(F,Math.round(F),_/1e3)?F=Math.round(F):F=Math.ceil(F));const L=Math.max(Z8(_),Z8(O));A=Math.pow(10,gn(c)?L:c),O=Math.round(O*A)/A,D=Math.round(D*A)/A;let I=0;for(N&&(p&&O!==o?(n.push({value:o}),O<o&&I++,B0(Math.round((O+I*_)*A)/A,o,a9(o,M,t))&&I++):O<o&&I++);I<F;++I){const P=Math.round((O+I*_)*A)/A;if(C&&P>l)break;n.push({value:P})}return C&&p&&D!==l?n.length&&B0(n[n.length-1].value,l,a9(l,M,t))?n[n.length-1].value=l:n.push({value:l}):(!C||D===l)&&n.push({value:D}),n}function a9(t,e,{horizontal:n,minRotation:r}){const s=so(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class Aw extends uh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return gn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=c=>s=n?s:c,l=c=>i=r?i:c;if(e){const c=Fo(s),d=Fo(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(s-c)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=eve(s,i);return e.bounds==="ticks"&&UK(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Ex(e,this.chart.options.locale,this.options.ticks.format)}}class GA extends Aw{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Wr(e)?e:0,this.max=Wr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=so(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Le(GA,"id","linear"),Le(GA,"defaults",{ticks:{callback:Uj.formatters.numeric}});const Ng=t=>Math.floor(nd(t)),ru=(t,e)=>Math.pow(10,Ng(t)+e);function i9(t){return t/Math.pow(10,Ng(t))===1}function o9(t,e,n){const r=Math.pow(10,n),s=Math.floor(t/r);return Math.ceil(e/r)-s}function tve(t,e){const n=e-t;let r=Ng(n);for(;o9(t,e,r)>10;)r++;for(;o9(t,e,r)<10;)r--;return Math.min(r,Ng(t))}function nve(t,{min:e,max:n}){e=ti(t.min,e);const r=[],s=Ng(e);let i=tve(e,n),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=s>i?Math.pow(10,s):0,d=Math.round((e-c)*o)/o,h=Math.floor((e-c)/l/10)*l*10;let m=Math.floor((d-h)/Math.pow(10,i)),p=ti(t.min,Math.round((c+h+m*Math.pow(10,i))*o)/o);for(;p<n;)r.push({value:p,major:i9(p),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(i++,m=2,o=i>=0?1:o),p=Math.round((c+h+m*Math.pow(10,i))*o)/o;const x=ti(t.max,p);return r.push({value:x,major:i9(x),significand:m}),r}class YA extends uh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=Aw.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Wr(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Wr(e)?Math.max(0,e):null,this.max=Wr(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Wr(this._userMin)&&(this.min=e===ru(this.min,0)?ru(this.min,-1):ru(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,s=this.max;const i=l=>r=e?r:l,o=l=>s=n?s:l;r===s&&(r<=0?(i(1),o(10)):(i(ru(r,-1)),o(ru(s,1)))),r<=0&&i(ru(s,-1)),s<=0&&o(ru(r,1)),this.min=r,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=nve(n,this);return e.bounds==="ticks"&&UK(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Ex(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=nd(e),this._valueRange=nd(this.max)-nd(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(nd(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Le(YA,"id","logarithmic"),Le(YA,"defaults",{ticks:{callback:Uj.formatters.logarithmic,major:{enabled:!0}}});function KA(t){const e=t.ticks;if(e.display&&t.display){const n=ua(e.backdropPadding);return nn(e.font&&e.font.size,Ar.font.size)+n.height}return 0}function rve(t,e,n){return n=Tr(n)?n:[n],{w:cge(t,e.string,n),h:n.length*e.lineHeight}}function l9(t,e,n,r,s){return t===r||t===s?{start:e-n/2,end:e+n/2}:t<r||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function sve(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],s=[],i=t._pointLabels.length,o=t.options.pointLabels,l=o.centerPointLabels?Dn/i:0;for(let c=0;c<i;c++){const d=o.setContext(t.getPointLabelContext(c));s[c]=d.padding;const h=t.getPointPosition(c,t.drawingArea+s[c],l),m=vs(d.font),p=rve(t.ctx,m,t._pointLabels[c]);r[c]=p;const x=aa(t.getIndexAngle(c)+l),y=Math.round(aP(x)),w=l9(y,h.x,p.w,0,180),v=l9(y,h.y,p.h,90,270);ave(n,e,x,w,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=lve(t,r,s)}function ave(t,e,n,r,s){const i=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let l=0,c=0;r.start<e.l?(l=(e.l-r.start)/i,t.l=Math.min(t.l,e.l-l)):r.end>e.r&&(l=(r.end-e.r)/i,t.r=Math.max(t.r,e.r+l)),s.start<e.t?(c=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-c)):s.end>e.b&&(c=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function ive(t,e,n){const r=t.drawingArea,{extra:s,additionalAngle:i,padding:o,size:l}=n,c=t.getPointPosition(e,r+s+o,i),d=Math.round(aP(aa(c.angle+Zr))),h=uve(c.y,l.h,d),m=cve(d),p=dve(c.x,l.w,m);return{visible:!0,x:c.x,y:h,textAlign:m,left:p,top:h,right:p+l.w,bottom:h+l.h}}function ove(t,e){if(!e)return!0;const{left:n,top:r,right:s,bottom:i}=t;return!(Ll({x:n,y:r},e)||Ll({x:n,y:i},e)||Ll({x:s,y:r},e)||Ll({x:s,y:i},e))}function lve(t,e,n){const r=[],s=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:l}=i.pointLabels,c={extra:KA(i)/2,additionalAngle:o?Dn/s:0};let d;for(let h=0;h<s;h++){c.padding=n[h],c.size=e[h];const m=ive(t,h,c);r.push(m),l==="auto"&&(m.visible=ove(m,d),m.visible&&(d=m))}return r}function cve(t){return t===0||t===180?"center":t<180?"left":"right"}function dve(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function uve(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function hve(t,e,n){const{left:r,top:s,right:i,bottom:o}=n,{backdropColor:l}=e;if(!gn(l)){const c=Du(e.borderRadius),d=ua(e.backdropPadding);t.fillStyle=l;const h=r-d.left,m=s-d.top,p=i-r+d.width,x=o-s+d.height;Object.values(c).some(y=>y!==0)?(t.beginPath(),wg(t,{x:h,y:m,w:p,h:x,radius:c}),t.fill()):t.fillRect(h,m,p,x)}}function fve(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let s=e-1;s>=0;s--){const i=t._pointLabelItems[s];if(!i.visible)continue;const o=r.setContext(t.getPointLabelContext(s));hve(n,o,i);const l=vs(o.font),{x:c,y:d,textAlign:h}=i;Yu(n,t._pointLabels[s],c,d+l.lineHeight/2,l,{color:o.color,textAlign:h,textBaseline:"middle"})}}function LX(t,e,n,r){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,Sr);else{let i=t.getPointPosition(0,e);s.moveTo(i.x,i.y);for(let o=1;o<r;o++)i=t.getPointPosition(o,e),s.lineTo(i.x,i.y)}}function mve(t,e,n,r,s){const i=t.ctx,o=e.circular,{color:l,lineWidth:c}=e;!o&&!r||!l||!c||n<0||(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash(s.dash||[]),i.lineDashOffset=s.dashOffset,i.beginPath(),LX(t,n,o,r),i.closePath(),i.stroke(),i.restore())}function pve(t,e,n){return Td(t,{label:n,index:e,type:"pointLabel"})}class k0 extends Aw{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ua(KA(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Wr(e)&&!isNaN(e)?e:0,this.max=Wr(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/KA(this.options))}generateTickLabels(e){Aw.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const s=xr(this.options.pointLabels.callback,[n,r],this);return s||s===0?s:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?sve(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,s))}getIndexAngle(e){const n=Sr/(this._pointLabels.length||1),r=this.options.startAngle||0;return aa(e*n+so(r))}getDistanceFromCenterForValue(e){if(gn(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(gn(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return pve(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const s=this.getIndexAngle(e)-Zr+r;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:s,bottom:i}=this._pointLabelItems[e];return{left:n,top:r,right:s,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),LX(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:s,border:i}=n,o=this._pointLabels.length;let l,c,d;if(n.pointLabels.display&&fve(this,o),s.display&&this.ticks.forEach((h,m)=>{if(m!==0||m===0&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const p=this.getContext(m),x=s.setContext(p),y=i.setContext(p);mve(this,x,c,o,y)}}),r.display){for(e.save(),l=o-1;l>=0;l--){const h=r.setContext(this.getPointLabelContext(l)),{color:m,lineWidth:p}=h;!p||!m||(e.lineWidth=p,e.strokeStyle=m,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const s=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const d=r.setContext(this.getContext(c)),h=vs(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=h.string,o=e.measureText(l.label).width,e.fillStyle=d.backdropColor;const m=ua(d.backdropPadding);e.fillRect(-o/2-m.left,-i-h.size/2-m.top,o+m.width,h.size+m.height)}Yu(e,l.label,0,-i,h,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}Le(k0,"id","radialLinear"),Le(k0,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Uj.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Le(k0,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Le(k0,"descriptors",{angleLines:{_fallback:"grid"}});const Qj={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ha=Object.keys(Qj);function c9(t,e){return t-e}function d9(t,e){if(gn(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Wr(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Gf(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function u9(t,e,n,r){const s=Ha.length;for(let i=Ha.indexOf(t);i<s-1;++i){const o=Qj[Ha[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=r)return Ha[i]}return Ha[s-1]}function gve(t,e,n,r,s){for(let i=Ha.length-1;i>=Ha.indexOf(n);i--){const o=Ha[i];if(Qj[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return Ha[n?Ha.indexOf(n):0]}function xve(t){for(let e=Ha.indexOf(t)+1,n=Ha.length;e<n;++e)if(Qj[Ha[e]].common)return Ha[e]}function h9(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=iP(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function bve(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+s.add(l,1,r))c=n[l],c>=0&&(e[c].major=!0);return e}function f9(t,e,n){const r=[],s={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],s[l]=o,r.push({value:l,major:!1});return i===0||!n?r:bve(t,r,s,n)}class Sg extends uh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new Cxe._date(e.adapters.date);s.init(n),z0(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:d9(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Wr(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Wr(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,l=X0e(s,i,o);return this._unit=n.unit||(r.autoSkip?u9(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):gve(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:xve(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),f9(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Os(n,0,o),r=Os(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||u9(i.minUnit,n,r,this._getLabelCapacity(n)),l=nn(s.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=Gf(c)||c===!0,h={};let m=n,p,x;if(d&&(m=+e.startOf(m,"isoWeek",c)),m=+e.startOf(m,d?"day":o),e.diff(r,n,o)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+o);const y=s.ticks.source==="data"&&this.getDataTimestamps();for(p=m,x=0;p<r;p=+e.add(p,l,o),x++)h9(h,p,y);return(p===r||s.bounds==="ticks"||x===1)&&h9(h,p,y),Object.keys(h).sort(c9).map(w=>+w)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return xr(o,[e,n,r],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,h=c&&l[c],m=d&&l[d],p=r[n],x=d&&m&&p&&p.major;return this._adapter.format(e,s||(x?m:h))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=so(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*o,h:r*o+l*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,f9(this,[e],this._majorUnit),s),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(d9(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return YK(e.sort(c9))}}Le(Sg,"id","time"),Le(Sg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Py(t,e,n){let r=0,s=t.length-1,i,o,l,c;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Rl(t,"pos",e)),{pos:i,time:l}=t[r],{pos:o,time:c}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Rl(t,"time",e)),{time:i,pos:l}=t[r],{time:o,pos:c}=t[s]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class XA extends Sg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Py(n,this.min),this._tableRange=Py(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,l,c,d,h;for(o=0,l=e.length;o<l;++o)d=e[o],d>=n&&d<=r&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,l=s.length;o<l;++o)h=s[o+1],c=s[o-1],d=s[o],Math.round((h+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Py(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Py(this._table,r*this._tableRange+this._minPos,!0)}}Le(XA,"id","timeseries"),Le(XA,"defaults",Sg.defaults);var yve=Object.freeze({__proto__:null,CategoryScale:qA,LinearScale:GA,LogarithmicScale:YA,RadialLinearScale:k0,TimeScale:Sg,TimeSeriesScale:XA});const vve=[kxe,tye,Xye,yve],IX="label";function m9(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function wve(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function FX(t,e){t.labels=e}function $X(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:IX;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function jve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IX;const n={labels:[],datasets:[]};return FX(n,t.labels),$X(n,t.datasets,e),n}function Nve(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:h,updateMode:m,...p}=t,x=b.useRef(null),y=b.useRef(null),w=()=>{x.current&&(y.current=new Xj(x.current,{type:o,data:jve(l,i),options:c&&{...c},plugins:d}),m9(e,y.current))},v=()=>{m9(e,null),y.current&&(y.current.destroy(),y.current=null)};return b.useEffect(()=>{!s&&y.current&&c&&wve(y.current,c)},[s,c]),b.useEffect(()=>{!s&&y.current&&FX(y.current.config.data,l.labels)},[s,l.labels]),b.useEffect(()=>{!s&&y.current&&l.datasets&&$X(y.current.config.data,l.datasets,i)},[s,l.datasets]),b.useEffect(()=>{y.current&&(s?(v(),setTimeout(w)):y.current.update(m))},[s,c,l.labels,l.datasets,m]),b.useEffect(()=>{y.current&&(v(),setTimeout(w))},[o]),b.useEffect(()=>(w(),()=>v()),[]),Q.createElement("canvas",{ref:x,role:"img",height:n,width:r,...p},h)}const Sve=b.forwardRef(Nve);function HX(t,e){return Xj.register(e),b.forwardRef((n,r)=>Q.createElement(Sve,{...n,ref:r,type:t}))}const Ry=HX("bar",U0),p9=HX("pie",_w);Xj.register(...vve);const Ly=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last period"]})]})},g9=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),kve=({report:t,onView:e,onExport:n})=>{const r=()=>{switch(t.type){case"maintenance":return a.jsx(Na,{className:"text-blue-500"});case"inventory":return a.jsx(io,{className:"text-green-500"});case"work-orders":return a.jsx(Ps,{className:"text-orange-500"});case"cost-analysis":return a.jsx(EK,{className:"text-purple-500"});default:return a.jsx(Yo,{className:"text-gray-500"})}};return a.jsx(k.div,{whileHover:{y:-5,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-md p-5 border border-blue-100 cursor-pointer",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600",children:r()}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900",children:t.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:new Date(t.generatedAt).toLocaleDateString()}),a.jsx("span",{className:"inline-block mt-2 px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:t.type.split("-").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(t.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200",title:"View Report",children:a.jsx(ns,{className:"text-lg"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(t.id),className:"p-2 text-gray-600 hover:bg-blue-50 rounded-lg transition-colors duration-200",title:"Export Report",children:a.jsx(yw,{className:"text-lg"})})]})]})})},Cve=()=>{const[t,e]=b.useState(()=>{const Y=localStorage.getItem("sidebarOpen");return Y?JSON.parse(Y):!1}),[n,r]=b.useState(""),[s,i]=b.useState("all"),[o,l]=b.useState("all"),[c,d]=b.useState(!1),[h,m]=b.useState(!1),[p,x]=b.useState(null),[y,w]=b.useState(""),[v,N]=b.useState("maintenance"),[C,S]=b.useState("30-days"),[M,_]=b.useState(1),[A]=b.useState(5),{user:O,hasPermission:D}=_t(),[F,L]=b.useState(window.innerWidth<768),[I,P]=b.useState(!1),[z,U]=b.useState(!1),[V,$]=b.useState(!1),R=b.useRef(null),W=b.useRef(null),q=St();Yr();const[X,H]=b.useState([{id:"REP-001",title:"Monthly Maintenance Summary",type:"maintenance",generatedAt:new Date().toISOString(),timeRange:"30-days",data:{totalWorkOrders:42,completed:35,inProgress:5,overdue:2,byDepartment:{maintenance:28,production:10,facilities:4},byPriority:{high:8,medium:25,low:9}},filters:{department:"all",priority:"all"}},{id:"REP-002",title:"Inventory Status Report",type:"inventory",generatedAt:new Date(Date.now()-864e5).toISOString(),timeRange:"7-days",data:{totalItems:156,inStock:120,lowStock:25,outOfStock:11,byCategory:{"spare-parts":65,consumables:45,tools:30,safety:16},inventoryValue:28456.78},filters:{department:"maintenance"}},{id:"REP-003",title:"Quarterly Cost Analysis",type:"cost-analysis",generatedAt:new Date(Date.now()-2592e6).toISOString(),timeRange:"90-days",data:{totalCost:125487.32,byCategory:{maintenance:65432.1,inventory:32587.45,labor:27467.77},byMonth:{"Month 1":42156.32,"Month 2":39874.21,"Month 3":43456.79}},filters:{}},{id:"REP-004",title:"Work Order Performance",type:"work-orders",generatedAt:new Date(Date.now()-1728e5).toISOString(),timeRange:"30-days",data:{avgCompletionTime:"2.5 days",onTimeCompletion:"82%",byTechnician:{"John Doe":18,"Jane Smith":12,"Mike Johnson":8,"Sarah Williams":4},byAssetType:{mechanical:22,electrical:12,vehicle:5,building:3}},filters:{assetType:"all"}},{id:"REP-005",title:"Preventive Maintenance Compliance",type:"maintenance",generatedAt:new Date(Date.now()-6048e5).toISOString(),timeRange:"30-days",data:{scheduled:45,completed:38,complianceRate:"84%",byEquipment:{"HVAC Systems":12,"Production Machines":18,Vehicles:8,Other:7}},filters:{}}]);b.useEffect(()=>{const Y=()=>{L(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),b.useEffect(()=>{const Y=ce=>{R.current&&!R.current.contains(ce.target)&&U(!1),W.current&&!W.current.contains(ce.target)&&$(!1)};return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[]);const J=Y=>{const ce=X.find(Ie=>Ie.id===Y);ce&&x(ce)},ne=Y=>{const ce=X.find(Ie=>Ie.id===Y);ce&&alert(`Exporting report: ${ce.title}`)},fe=()=>{const Y={id:`REP-${String(X.length+1).padStart(3,"0")}`,title:y||`${v.split("-").map(ce=>ce.charAt(0).toUpperCase()+ce.slice(1)).join(" ")} Report`,type:v,generatedAt:new Date().toISOString(),timeRange:C,data:de(v),filters:{}};H([Y,...X]),m(!1),w("")},de=(Y,ce)=>{switch(Y){case"maintenance":return{totalWorkOrders:Math.floor(Math.random()*50)+20,completed:Math.floor(Math.random()*40)+15,inProgress:Math.floor(Math.random()*10)+2,overdue:Math.floor(Math.random()*5),byDepartment:{maintenance:Math.floor(Math.random()*30)+10,production:Math.floor(Math.random()*20)+5,facilities:Math.floor(Math.random()*10)+2}};case"inventory":return{totalItems:Math.floor(Math.random()*200)+100,inStock:Math.floor(Math.random()*150)+80,lowStock:Math.floor(Math.random()*30)+5,outOfStock:Math.floor(Math.random()*20)+2,byCategory:{"spare-parts":Math.floor(Math.random()*80)+30,consumables:Math.floor(Math.random()*60)+20,tools:Math.floor(Math.random()*40)+10,safety:Math.floor(Math.random()*20)+5}};case"work-orders":return{avgCompletionTime:`${Math.floor(Math.random()*5)+1} days`,onTimeCompletion:`${Math.floor(Math.random()*30)+70}%`,byTechnician:{"John Doe":Math.floor(Math.random()*20)+5,"Jane Smith":Math.floor(Math.random()*15)+5,"Mike Johnson":Math.floor(Math.random()*10)+2,"Sarah Williams":Math.floor(Math.random()*8)+1}};case"cost-analysis":return{totalCost:Math.floor(Math.random()*2e5)+5e4,byCategory:{maintenance:Math.floor(Math.random()*1e5)+3e4,inventory:Math.floor(Math.random()*8e4)+2e4,labor:Math.floor(Math.random()*7e4)+15e3}};default:return{}}},we=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(Y=>!Y)},Fe=X.filter(Y=>{const ce=Y.title.toLowerCase().includes(n.toLowerCase())||Y.id.toLowerCase().includes(n.toLowerCase()),Ie=s==="all"||Y.type===s,We=o==="all"||Y.timeRange===o;return ce&&Ie&&We}),$e=M*A,be=$e-A,Ee=Fe.slice(be,$e),Ge=Math.ceil(Fe.length/A),ae=Y=>_(Y),oe=Y=>{const ce={responsive:!0,plugins:{legend:{display:!1}}},Ie=pe=>Object.values(pe).map(Ne=>Number(Ne)),We=pe=>pe.split("-").map(Ne=>Ne.charAt(0).toUpperCase()+Ne.slice(1)).join(" ");switch(Y.type){case"maintenance":{const pe={labels:["Completed","In Progress","Overdue"],datasets:[{label:"Work Orders",data:[Number(Y.data.completed),Number(Y.data.inProgress),Number(Y.data.overdue)],backgroundColor:["#10B981","#3B82F6","#EF4444"]}]},Ne={labels:Object.keys(Y.data.byDepartment),datasets:[{data:Ie(Y.data.byDepartment),backgroundColor:["#3B82F6","#10B981","#F59E0B"]}]};return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"Work Orders by Status"}),a.jsx(Ry,{data:pe,options:ce})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"Work Orders by Department"}),a.jsx(p9,{data:Ne,options:ce})]})]})}case"inventory":{const pe={labels:["In Stock","Low Stock","Out of Stock"],datasets:[{data:[Number(Y.data.inStock),Number(Y.data.lowStock),Number(Y.data.outOfStock)],backgroundColor:["#10B981","#F59E0B","#EF4444"]}]},Ne={labels:Object.keys(Y.data.byCategory).map(We),datasets:[{label:"Items",data:Ie(Y.data.byCategory),backgroundColor:"#3B82F6"}]};return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"Inventory Status"}),a.jsx(p9,{data:pe,options:ce})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"Inventory by Category"}),a.jsx(Ry,{data:Ne,options:ce})]})]})}case"work-orders":{const pe={labels:Object.keys(Y.data.byTechnician),datasets:[{label:"Work Orders Completed",data:Ie(Y.data.byTechnician),backgroundColor:"#3B82F6"}]};return a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"Work Orders by Technician"}),a.jsx(Ry,{data:pe,options:ce})]})})}case"cost-analysis":{const pe={labels:Object.keys(Y.data.byCategory).map(We),datasets:[{label:"Cost ($)",data:Ie(Y.data.byCategory),backgroundColor:["#3B82F6","#10B981","#F59E0B"]}]},Ne={...ce,scales:{y:{beginAtZero:!0}}};return a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"Costs by Category"}),a.jsx(Ry,{data:pe,options:Ne})]})})}default:return null}};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[F&&a.jsx(k.button,{onClick:we,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Yo,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Reports"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>P(!I),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":I?"Switch to light mode":"Switch to dark mode",children:I?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:R,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>U(!z),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:z&&a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),a.jsxs("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[a.jsx("div",{className:"flex-shrink-0 mr-3",children:a.jsx(Zt,{className:"text-red-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Maintenance Alert"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Machine A requires preventive maintenance"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Today, 10:00 AM"})]})]}),a.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[a.jsx("div",{className:"flex-shrink-0 mr-3",children:a.jsx(Go,{className:"text-blue-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Scheduled Report"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Monthly maintenance report generated"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Yesterday, 03:00 PM"})]})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{U(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),a.jsxs("div",{className:"relative",ref:W,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>$(!V),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(O==null?void 0:O.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:O==null?void 0:O.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:V&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(O==null?void 0:O.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{q("/profile"),$(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{q("/settings"),$(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{q("/logout"),$(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Reports ",a.jsx("span",{className:"text-blue-600",children:"Dashboard"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Generate, view and analyze maintenance reports to optimize factory operations."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(k.button,{onClick:()=>m(!0),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Generate Report"})]}),a.jsxs(k.button,{onClick:()=>alert("Export all reports functionality"),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(yw,{className:"text-base"}),a.jsx("span",{children:"Export All"})]}),a.jsxs(k.button,{onClick:()=>d(!c),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(k.span,{animate:{rotate:c?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Ly,{title:"Total Reports",value:X.length.toString(),change:"+12%",icon:a.jsx(Yo,{})}),a.jsx(Ly,{title:"Maintenance",value:X.filter(Y=>Y.type==="maintenance").length.toString(),change:"+5%",icon:a.jsx(Na,{})}),a.jsx(Ly,{title:"Inventory",value:X.filter(Y=>Y.type==="inventory").length.toString(),change:"+3%",icon:a.jsx(io,{})}),a.jsx(Ly,{title:"Cost Analysis",value:X.filter(Y=>Y.type==="cost-analysis").length.toString(),change:"+2",icon:a.jsx(EK,{})})]}),a.jsx(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search reports by title or ID...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:n,onChange:Y=>r(Y.target.value)})]}),a.jsx(qe,{children:c&&a.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full overflow-hidden",children:[a.jsxs("select",{className:"border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm appearance-none transition-all duration-200 shadow-sm cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1rem",backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},value:s,onChange:Y=>i(Y.target.value),children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"inventory",children:"Inventory"}),a.jsx("option",{value:"work-orders",children:"Work Orders"}),a.jsx("option",{value:"cost-analysis",children:"Cost Analysis"})]}),a.jsxs("select",{className:"border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm appearance-none transition-all duration-200 shadow-sm cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1rem",backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},value:o,onChange:Y=>l(Y.target.value),children:[a.jsx("option",{value:"all",children:"All Time Ranges"}),a.jsx("option",{value:"7-days",children:"Last 7 Days"}),a.jsx("option",{value:"30-days",children:"Last 30 Days"}),a.jsx("option",{value:"90-days",children:"Last 90 Days"}),a.jsx("option",{value:"custom",children:"Custom"})]})]})})]})}),Fe.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Ts,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:n?"No reports found matching your search.":"No reports available."}),n&&a.jsx("button",{onClick:()=>r(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ee.map(Y=>a.jsx(kve,{report:Y,onView:J,onExport:ne},Y.id))}),Fe.length>A&&a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:be+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min($e,Fe.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:Fe.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ae(M-1),disabled:M===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Ge},(Y,ce)=>a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ae(ce+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${M===ce+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${ce+1}`,children:ce+1},ce+1)),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ae(M+1),disabled:M===Ge,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),a.jsx(g9,{isOpen:h,onClose:()=>m(!1),title:"Generate New Report",className:"max-w-xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"report-title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Report Title"}),a.jsx("input",{type:"text",id:"report-title",className:"w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-sm transition-all duration-200",value:y,onChange:Y=>w(Y.target.value),placeholder:"Monthly Maintenance Summary"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"report-type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Report Type"}),a.jsxs("select",{id:"report-type",className:"w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-sm transition-all duration-200",value:v,onChange:Y=>N(Y.target.value),children:[a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"inventory",children:"Inventory"}),a.jsx("option",{value:"work-orders",children:"Work Orders"}),a.jsx("option",{value:"cost-analysis",children:"Cost Analysis"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"time-range",className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Range"}),a.jsxs("select",{id:"time-range",className:"w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-sm transition-all duration-200",value:C,onChange:Y=>S(Y.target.value),children:[a.jsx("option",{value:"7-days",children:"Last 7 Days"}),a.jsx("option",{value:"30-days",children:"Last 30 Days"}),a.jsx("option",{value:"90-days",children:"Last 90 Days"}),a.jsx("option",{value:"custom",children:"Custom Range"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-100 mt-6",children:[a.jsx(k.button,{type:"button",onClick:()=>m(!1),whileHover:{scale:1.02,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.98},className:"inline-flex items-center px-6 py-2.5 border border-gray-300 text-base font-semibold rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 ease-in-out",children:"Cancel"}),a.jsx(k.button,{type:"button",onClick:fe,whileHover:{scale:1.02,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.98},className:"inline-flex items-center px-6 py-2.5 border border-transparent text-base font-semibold rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 ease-in-out",children:"Generate Report"})]})]})}),p&&a.jsx(g9,{isOpen:!!p,onClose:()=>x(null),title:p.title,className:"max-w-5xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-100",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Generated: ",new Date(p.generatedAt).toLocaleString()," | Time Range:"," ",p.timeRange.split("-").map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)).join(" ")]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(p.id),className:"flex items-center space-x-1 px-3 py-1.5 border border-blue-200 rounded-lg bg-white text-blue-600 hover:bg-blue-50 transition-colors duration-200 text-sm",children:[a.jsx(yw,{size:16}),a.jsx("span",{children:"Export"})]}),a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>alert("Print functionality would go here"),className:"flex items-center space-x-1 px-3 py-1.5 border border-blue-200 rounded-lg bg-white text-gray-600 hover:bg-blue-50 transition-colors duration-200 text-sm",children:[a.jsx(IK,{size:16}),a.jsx("span",{children:"Print"})]})]})]}),oe(p),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"Key Metrics"}),a.jsx("div",{className:"space-y-3",children:Object.entries(p.data).map(([Y,ce])=>typeof ce!="object"||ce===null?a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[Y.split("-").map(Ie=>Ie.charAt(0).toUpperCase()+Ie.slice(1)).join(" "),":"]}),a.jsx("span",{className:"font-medium",children:typeof ce=="number"&&Y.toLowerCase().includes("cost")?`$${ce.toFixed(2)}`:String(ce)})]},Y):null)})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsx("h3",{className:"font-bold text-lg mb-4",children:"Report Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Report ID:"}),a.jsx("span",{className:"font-medium",children:p.id})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),a.jsx("span",{className:"font-medium",children:p.type.split("-").map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)).join(" ")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Generated:"}),a.jsx("span",{className:"font-medium",children:new Date(p.generatedAt).toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Time Range:"}),a.jsx("span",{className:"font-medium",children:p.timeRange.split("-").map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)).join(" ")})]})]})]})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-6",children:a.jsx(k.button,{type:"button",onClick:()=>x(null),whileHover:{scale:1.02,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.98},className:"inline-flex items-center px-6 py-2.5 border border-transparent text-base font-semibold rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 ease-in-out",children:"Close"})})]})})]})},Iy=({title:t,value:e,change:n,icon:r})=>{const s=n==null?void 0:n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),n&&a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},x9=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),_ve=()=>{const[t,e]=b.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),[n,r]=b.useState(""),[s,i]=b.useState("all"),[o,l]=b.useState("all"),[c,d]=b.useState(!1),[h,m]=b.useState(!1),[p,x]=b.useState(null),{user:y,hasPermission:w}=_t(),[v,N]=b.useState(window.innerWidth<768),[C,S]=b.useState(!1),[M,_]=b.useState(!1),[A,O]=b.useState(!1),D=b.useRef(null),F=b.useRef(null),L=St(),[I,P]=b.useState({name:"",nik:"",role:"technician",department:"maintenance",phone:""}),[z,U]=b.useState([{id:1,name:"Budi Santoso",nik:"1234567890123456",role:"Maintenance Supervisor",department:"Facility Management",phone:"+62 812-3456-7890",avatar:"https://randomuser.me/api/portraits/men/32.jpg",status:"Active",joinDate:"2021-03-15",lastActive:"2023-08-20 09:45"},{id:2,name:"Ani Wijaya",nik:"1234567890123456",role:"Maintenance Technician",department:"Mechanical",phone:"+62 813-4567-8901",avatar:"https://randomuser.me/api/portraits/women/44.jpg",status:"Active",joinDate:"2021-05-22",lastActive:"2023-08-20 14:30"},{id:3,name:"Rudi Hermawan",nik:"1234567890123456",role:"Electrical Engineer",department:"Electrical",phone:"+62 814-5678-9012",avatar:"https://randomuser.me/api/portraits/men/67.jpg",status:"Active",joinDate:"2021-07-10",lastActive:"2023-08-19 11:15"},{id:4,name:"Citra Dewi",nik:"1234567890123456",role:"Inventory Manager",department:"Logistics",phone:"+62 815-6789-0123",avatar:"https://randomuser.me/api/portraits/women/28.jpg",status:"Active",joinDate:"2021-09-05",lastActive:"2023-08-18 16:20"},{id:5,name:"Dodi Pratama",nik:"1234567890123456",role:"Facility Manager",department:"Facility Management",phone:"+62 816-7890-1234",avatar:"https://randomuser.me/api/portraits/men/45.jpg",status:"Active",joinDate:"2020-11-18",lastActive:"2023-08-20 08:00"},{id:6,name:"Eka Putri",nik:"1234567890123456",role:"Maintenance Technician",department:"HVAC",phone:"+62 817-8901-2345",avatar:"https://randomuser.me/api/portraits/women/33.jpg",status:"On Leave",joinDate:"2022-01-30",lastActive:"2023-08-15 10:00"}]);b.useEffect(()=>{const H=()=>{N(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),b.useEffect(()=>{const H=J=>{D.current&&!D.current.contains(J.target)&&_(!1),F.current&&!F.current.contains(J.target)&&O(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]);const V=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(H=>!H)},$=()=>{const H=Math.max(...z.map(J=>J.id))+1;U([...z,{id:H,name:I.name,nik:I.nik,role:I.role,department:I.department,phone:I.phone,avatar:`https://randomuser.me/api/portraits/${Math.random()>.5?"men":"women"}/${Math.floor(Math.random()*50)}.jpg`,status:"Active",joinDate:new Date().toISOString().split("T")[0],lastActive:"Just now"}]),d(!1),P({name:"",nik:"",role:"technician",department:"maintenance",phone:""}),x(null)},R=()=>{p&&(U(z.filter(H=>H.id!==p.id)),m(!1),x(null))},W=H=>{switch(H){case"Active":return"bg-green-100 text-green-800 border border-green-200";case"On Leave":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},q=z.filter(H=>{const J=H.name.toLowerCase().includes(n.toLowerCase())||H.nik.toLowerCase().includes(n.toLowerCase()),ne=s==="all"||s==="active"&&H.status==="Active"||s==="on leave"&&H.status==="On Leave",fe=o==="all"||H.department.toLowerCase()===o.toLowerCase();return J&&ne&&fe}),X=[...new Set(z.map(H=>H.department))];return[...new Set(z.map(H=>H.role))],a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[v&&a.jsx(k.button,{onClick:V,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(ja,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Team Management"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(!C),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":C?"Switch to light mode":"Switch to dark mode",children:C?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:D,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>_(!M),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:M&&a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),a.jsxs("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[a.jsx("div",{className:"flex-shrink-0 mr-3",children:a.jsx(Et,{className:"text-green-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"New team member added"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"John Doe has joined the maintenance team"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Today, 10:00 AM"})]})]}),a.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[a.jsx("div",{className:"flex-shrink-0 mr-3",children:a.jsx(Sn,{className:"text-yellow-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Leave request"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Jane Smith has requested time off"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Yesterday, 03:00 PM"})]})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{_(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),a.jsxs("div",{className:"relative",ref:F,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>O(!A),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(y==null?void 0:y.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:y==null?void 0:y.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:A&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(y==null?void 0:y.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{L("/profile"),O(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{L("/settings"),O(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{L("/logout"),O(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Team ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage your team members and their permissions to optimize maintenance operations."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(k.button,{onClick:()=>d(!0),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Member"})]}),a.jsxs(k.button,{onClick:()=>alert("Export functionality"),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(yw,{className:"text-base"}),a.jsx("span",{children:"Export"})]}),a.jsxs(k.button,{onClick:()=>alert("Import functionality"),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-base"}),a.jsx("span",{children:"Import"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Iy,{title:"Total Members",value:z.length,icon:a.jsx(ja,{})}),a.jsx(Iy,{title:"Active Members",value:z.filter(H=>H.status==="Active").length,icon:a.jsx(Et,{})}),a.jsx(Iy,{title:"On Leave",value:z.filter(H=>H.status==="On Leave").length,icon:a.jsx(Sn,{})}),a.jsx(Iy,{title:"Departments",value:X.length,icon:a.jsx(Wf,{})})]}),a.jsx(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by name, NIK, or department...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:n,onChange:H=>r(H.target.value)})]}),a.jsxs("select",{className:"border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm appearance-none transition-all duration-200 shadow-sm cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1rem",backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},value:s,onChange:H=>i(H.target.value),children:[a.jsx("option",{value:"all",children:"All Members"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"on leave",children:"On Leave"})]}),a.jsxs("select",{className:"border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm appearance-none transition-all duration-200 shadow-sm cursor-pointer",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1rem",backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center"},value:o,onChange:H=>l(H.target.value),children:[a.jsx("option",{value:"all",children:"All Departments"}),X.map(H=>a.jsx("option",{value:H.toLowerCase(),children:H},H))]})]})}),a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Member"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Last Active"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:q.length>0?q.map(H=>a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("img",{className:"h-10 w-10 rounded-full",src:H.avatar,alt:H.name})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.name}),a.jsx("div",{className:"text-sm text-gray-500",children:H.nik})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:H.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:H.department})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(k.span,{whileHover:{scale:1.03},className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full ${W(H.status)}`,children:H.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:H.lastActive})]},H.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"No team members found matching your criteria"})})})]})})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 mt-8",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Department Distribution"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"bg-blue-50 rounded-xl p-4 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(Yo,{className:"mx-auto text-4xl mb-2 text-blue-400"}),a.jsx("p",{children:"Department chart visualization"})]})}),a.jsx("div",{className:"space-y-4",children:X.map(H=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-1/3 text-sm font-medium text-gray-700",children:H}),a.jsx("div",{className:"w-1/2 bg-gray-200 rounded-full h-2.5 mx-2",children:a.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${z.filter(J=>J.department===H).length/z.length*100}%`}})}),a.jsxs("div",{className:"w-1/6 text-right text-sm text-gray-500",children:[Math.round(z.filter(J=>J.department===H).length/z.length*100),"%"]})]},H))})]})]})]})]}),a.jsx(x9,{isOpen:c,onClose:()=>d(!1),title:p?"Edit Team Member":"Add New Team Member",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",className:"w-full bg-blue-50 border border-blue-200 rounded-lg p-3 text-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:I.name,onChange:H=>P({...I,name:H.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{type:"text",className:"w-full bg-blue-50 border border-blue-200 rounded-lg p-3 text-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:I.nik,onChange:H=>P({...I,nik:H.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"tel",className:"w-full bg-blue-50 border border-blue-200 rounded-lg p-3 text-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:I.phone,onChange:H=>P({...I,phone:H.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{className:"w-full bg-blue-50 border border-blue-200 rounded-lg p-3 text-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:I.role,onChange:H=>P({...I,role:H.target.value}),children:[a.jsx("option",{value:"technician",children:"Maintenance Technician"}),a.jsx("option",{value:"supervisor",children:"Maintenance Supervisor"}),a.jsx("option",{value:"engineer",children:"Engineer"}),a.jsx("option",{value:"manager",children:"Facility Manager"}),a.jsx("option",{value:"inventory",children:"Inventory Manager"}),a.jsx("option",{value:"admin",children:"Administrator"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsxs("select",{className:"w-full bg-blue-50 border border-blue-200 rounded-lg p-3 text-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:I.department,onChange:H=>P({...I,department:H.target.value}),children:[a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"facility",children:"Facility Management"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"hvac",children:"HVAC"}),a.jsx("option",{value:"logistics",children:"Logistics"})]})]}),a.jsxs("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-6",children:[a.jsx(k.button,{type:"button",onClick:()=>{d(!1),x(null)},whileHover:{scale:1.02,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.98},className:"inline-flex items-center px-6 py-2.5 border border-gray-300 text-base font-semibold rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 ease-in-out",children:"Cancel"}),a.jsx(k.button,{type:"button",onClick:$,whileHover:{scale:1.02,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.98},className:"inline-flex items-center px-6 py-2.5 border border-transparent text-base font-semibold rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 ease-in-out ml-3",children:p?"Update Member":"Add Member"})]})]})}),a.jsx(x9,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Et,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to delete ",p==null?void 0:p.name,"? This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Tve=()=>{var I;const{user:t,hasPermission:e,logout:n}=_t(),r=St();Yr();const[s,i]=b.useState(!1),[o,l]=b.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),[c,d]=b.useState(window.innerWidth<768),[h,m]=b.useState("profile"),[p,x]=b.useState(!1),[y,w]=b.useState(!1),[v,N]=b.useState(!1),C=b.useRef(null);b.useEffect(()=>{const P=()=>{d(window.innerWidth<768),window.innerWidth<768&&l(!1)};return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),b.useEffect(()=>{const P=z=>{C.current&&!C.current.contains(z.target)&&N(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const[S,M]=b.useState({name:t==null?void 0:t.name,nik:t==null?void 0:t.nik,email:t==null?void 0:t.email,language:"en",notifications:!0,billingEmail:"haloo@company.com"}),_=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(P=>!P)},A=P=>{const{name:z,value:U,type:V}=P.target,$=V==="checkbox"?P.target.checked:void 0;M(R=>({...R,[z]:V==="checkbox"?$:U}))},O=()=>{x(!1)},D=({title:P,children:z})=>a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-900",children:P}),z]}),F=({label:P,value:z,children:U,editable:V=!0,onEdit:$})=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[a.jsxs("div",{className:"mb-2 sm:mb-0",children:[a.jsx("p",{className:"font-medium text-gray-700",children:P}),z!==void 0&&a.jsx("p",{className:"text-sm text-gray-600",children:typeof z=="boolean"?z?"Enabled":"Disabled":z})]}),V&&a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:$,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),U]}),L=({isOpen:P,onClose:z,title:U,children:V,actions:$})=>P?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:U}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:z,className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:20})})]}),a.jsx("div",{className:"p-6",children:V}),$&&a.jsx("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100",children:$})]})}):null;return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[c&&a.jsx(k.button,{onClick:_,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Xn,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Settings"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!s),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":s?"Switch to light mode":"Switch to dark mode",children:a.jsx(qe,{mode:"wait",children:a.jsx(k.div,{initial:{rotate:180,opacity:0},animate:{rotate:360,opacity:1},exit:{rotate:0,opacity:0},transition:{duration:.2},children:s?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})},s?"sun":"moon")})}),a.jsxs("div",{className:"relative",ref:C,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>N(!v),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(t==null?void 0:t.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:t==null?void 0:t.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:v&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(t==null?void 0:t.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{r("/profile"),N(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{r("/settings"),N(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{r("/logout"),N(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Account Settings"}),a.jsx("p",{className:"opacity-90 text-sm",children:"Manage your profile, security, and preferences"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[a.jsx(k.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:w-64 flex-shrink-0",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-md border border-blue-50 overflow-hidden",children:a.jsx("div",{className:"space-y-1 p-2",children:[{id:"profile",icon:a.jsx(Rn,{}),label:"Profile"},{id:"security",icon:a.jsx(Kme,{}),label:"Security"},{id:"notifications",icon:a.jsx(Jn,{}),label:"Notifications"},{id:"preferences",icon:a.jsx(Vn,{}),label:"Preferences"},{id:"billing",icon:a.jsx(ame,{}),label:"Billing"},{id:"team",icon:a.jsx(ja,{}),label:"Team Settings"},{id:"integrations",icon:a.jsx(vme,{}),label:"Integrations"},{id:"data",icon:a.jsx(Wf,{}),label:"Data Management"}].map(P=>a.jsxs(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(P.id),className:`w-full text-left flex items-center p-3 rounded-xl transition-colors duration-200 ${h===P.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50"}`,children:[a.jsx("span",{className:"text-xl mr-3 text-blue-500",children:P.icon}),a.jsx("span",{className:"text-base",children:P.label})]},P.id))})})}),a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex-1",children:[h==="profile"&&a.jsx(D,{title:"Profile Information",children:p?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",name:"name",value:S.name,onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{type:"text",name:"nik",value:S.nik,onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"text",name:"nik",value:S.email,onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow",children:"Save Changes"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(F,{label:"Name",value:t==null?void 0:t.name,editable:!1}),a.jsx(F,{label:"NIK",value:t==null?void 0:t.nik,editable:!1}),a.jsx(F,{label:"Role",value:(I=t==null?void 0:t.roles)==null?void 0:I[0],editable:!1}),a.jsx(F,{label:"Email",value:t==null?void 0:t.email,editable:!1})]})}),h==="security"&&a.jsxs(D,{title:"Security Settings",children:[a.jsx(F,{label:"Password",value:"",onEdit:()=>r("/settings/change-password")}),a.jsx(F,{label:"Two-factor authentication",value:!1,onEdit:()=>r("/settings/two-factor")}),a.jsx(F,{label:"Active sessions",value:"3 devices",onEdit:()=>r("/settings/sessions")})]}),h==="notifications"&&a.jsxs(D,{title:"Notification Preferences",children:[a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Email notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"notifications",checked:S.notifications,onChange:A,className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsx(F,{label:"Push notifications",value:!1,onEdit:()=>{}})]}),h==="preferences"&&a.jsxs(D,{title:"Preferences",children:[a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Dark mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Toggle dark theme"})]}),a.jsx(qe,{mode:"wait",children:a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(!s),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:s?a.jsx(Vn,{className:"text-yellow-400"}):a.jsx(Kn,{})},s?"sun-card":"moon-card")})]}),a.jsx(F,{label:"Language",value:"English",onEdit:()=>{}}),a.jsx(F,{label:"Timezone",value:"UTC+07:00",onEdit:()=>{}})]}),h==="billing"&&a.jsxs(D,{title:"Billing Information",children:[a.jsx(F,{label:"Billing email",value:S.billingEmail,onEdit:()=>{}}),a.jsx(F,{label:"Payment method",value:"Visa ending in 4242",onEdit:()=>{}}),a.jsx(F,{label:"Plan",value:"Premium ($29/month)",onEdit:()=>{}})]}),h==="team"&&a.jsxs(D,{title:"Team Settings",children:[a.jsx(F,{label:"Team members",value:"5 active",onEdit:()=>r("/team")}),a.jsx(F,{label:"Team roles",value:"Custom roles",onEdit:()=>r("/settings/roles")}),a.jsx(F,{label:"Team permissions",value:"Custom permissions",onEdit:()=>r("/settings/permissions")})]}),h==="integrations"&&a.jsxs(D,{title:"Integrations",children:[a.jsx(F,{label:"Google Workspace",value:"Connected",onEdit:()=>{}}),a.jsx(F,{label:"Slack",value:"Not connected",onEdit:()=>{}}),a.jsx(F,{label:"Microsoft 365",value:"Not connected",onEdit:()=>{}})]}),h==="data"&&a.jsxs(D,{title:"Data Management",children:[a.jsx(F,{label:"Export data",value:"JSON, CSV formats",onEdit:()=>{}}),a.jsx(F,{label:"Delete account",value:"Permanently remove all data",onEdit:()=>w(!0)})]})]})]})]})})]}),a.jsxs(L,{isOpen:y,onClose:()=>w(!1),title:"Delete Account",children:[a.jsx("div",{className:"text-gray-700 mb-6",children:a.jsx("p",{children:"Are you sure you want to delete your account? This action cannot be undone."})}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{},className:"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})]})};function zX(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=zX(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function It(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=zX(t))&&(r&&(r+=" "),r+=e);return r}const BX=6048e5,Mve=864e5,Zj=6e4,eN=36e5,Ave=1e3,b9=Symbol.for("constructDateFrom");function sr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&b9 in t?t[b9](e):t instanceof Date?new t.constructor(e):new Date(e)}function Lt(t,e){return sr(e||t,t)}function lo(t,e,n){const r=Lt(t,n==null?void 0:n.in);return isNaN(e)?sr((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function ho(t,e,n){const r=Lt(t,n==null?void 0:n.in);if(isNaN(e))return sr(t,NaN);if(!e)return r;const s=r.getDate(),i=sr(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}function VX(t,e,n){return sr(t,+Lt(t)+e)}function Ove(t,e,n){return VX(t,e*eN)}let Eve={};function hh(){return Eve}function ic(t,e){var l,c,d,h;const n=hh(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=Lt(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Xf(t,e){return ic(t,{...e,weekStartsOn:1})}function WX(t,e){const n=Lt(t,e==null?void 0:e.in),r=n.getFullYear(),s=sr(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Xf(s),o=sr(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=Xf(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Ow(t){const e=Lt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function fc(t,...e){const n=sr.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Ku(t,e){const n=Lt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Jf(t,e,n){const[r,s]=fc(n==null?void 0:n.in,t,e),i=Ku(r),o=Ku(s),l=+i-Ow(i),c=+o-Ow(o);return Math.round((l-c)/Mve)}function Dve(t,e){const n=WX(t,e),r=sr(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Xf(r)}function JA(t,e,n){const r=Lt(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*Zj),r}function xP(t,e,n){return ho(t,e*3,n)}function Pve(t,e,n){return VX(t,e*1e3)}function Ew(t,e,n){return lo(t,e*7,n)}function Ul(t,e,n){return ho(t,e*12,n)}function y9(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=sr.bind(null,s));const i=Lt(s,r);(!n||n<i||isNaN(+i))&&(n=i)}),sr(r,n||NaN)}function v9(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=sr.bind(null,s));const i=Lt(s,r);(!n||n>i||isNaN(+i))&&(n=i)}),sr(r,n||NaN)}function Rve(t,e,n){const[r,s]=fc(n==null?void 0:n.in,t,e);return+Ku(r)==+Ku(s)}function ql(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Dw(t){return!(!ql(t)&&typeof t!="number"||isNaN(+Lt(t)))}function Pw(t,e,n){const[r,s]=fc(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return i*12+o}function Ru(t,e){const n=Lt(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}function Rw(t,e,n){const[r,s]=fc(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),o=Ru(r)-Ru(s);return i*4+o}function Lw(t,e,n){const[r,s]=fc(n==null?void 0:n.in,t,e);return r.getFullYear()-s.getFullYear()}function Lve(t,e,n){const[r,s]=fc(n==null?void 0:n.in,t,e),i=w9(r,s),o=Math.abs(Jf(r,s));r.setDate(r.getDate()-i*o);const l=+(w9(r,s)===-i),c=i*(o-l);return c===0?0:c}function w9(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function UX(t,e){const n=Lt(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function qX(t,e){const n=Lt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function QA(t,e){const n=Lt(t,e==null?void 0:e.in),r=n.getMonth(),s=r-r%3;return n.setMonth(s,1),n.setHours(0,0,0,0),n}function GX(t,e){const n=Lt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function YX(t,e){const n=Lt(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function tN(t,e){const n=Lt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ive(t,e){var l,c;const n=hh(),r=n.weekStartsOn??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,s=Lt(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const Fve={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$ve=(t,e,n)=>{let r;const s=Fve[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Zk(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Hve={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zve={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Bve={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vve={date:Zk({formats:Hve,defaultWidth:"full"}),time:Zk({formats:zve,defaultWidth:"full"}),dateTime:Zk({formats:Bve,defaultWidth:"full"})},Wve={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Uve=(t,e,n,r)=>Wve[t];function Xp(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const qve={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gve={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yve={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kve={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qve=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Zve={ordinalNumber:Qve,era:Xp({values:qve,defaultWidth:"wide"}),quarter:Xp({values:Gve,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xp({values:Yve,defaultWidth:"wide"}),day:Xp({values:Kve,defaultWidth:"wide"}),dayPeriod:Xp({values:Xve,defaultWidth:"wide",formattingValues:Jve,defaultFormattingWidth:"wide"})};function Jp(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?twe(l,m=>m.test(o)):ewe(l,m=>m.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function ewe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function twe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function nwe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const rwe=/^(\d+)(th|st|nd|rd)?/i,swe=/\d+/i,awe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iwe={any:[/^b/i,/^(a|c)/i]},owe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lwe={any:[/1/i,/2/i,/3/i,/4/i]},cwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pwe={ordinalNumber:nwe({matchPattern:rwe,parsePattern:swe,valueCallback:t=>parseInt(t,10)}),era:Jp({matchPatterns:awe,defaultMatchWidth:"wide",parsePatterns:iwe,defaultParseWidth:"any"}),quarter:Jp({matchPatterns:owe,defaultMatchWidth:"wide",parsePatterns:lwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jp({matchPatterns:cwe,defaultMatchWidth:"wide",parsePatterns:dwe,defaultParseWidth:"any"}),day:Jp({matchPatterns:uwe,defaultMatchWidth:"wide",parsePatterns:hwe,defaultParseWidth:"any"}),dayPeriod:Jp({matchPatterns:fwe,defaultMatchWidth:"any",parsePatterns:mwe,defaultParseWidth:"any"})},KX={code:"en-US",formatDistance:$ve,formatLong:Vve,formatRelative:Uve,localize:Zve,match:pwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gwe(t,e){const n=Lt(t,e==null?void 0:e.in);return Jf(n,tN(n))+1}function bP(t,e){const n=Lt(t,e==null?void 0:e.in),r=+Xf(n)-+Dve(n);return Math.round(r/BX)+1}function yP(t,e){var h,m,p,x;const n=Lt(t,e==null?void 0:e.in),r=n.getFullYear(),s=hh(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(p=s.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??1,o=sr((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=ic(o,e),c=sr((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=ic(c,e);return+n>=+l?r+1:+n>=+d?r:r-1}function xwe(t,e){var l,c,d,h;const n=hh(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=yP(t,e),i=sr((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ic(i,e)}function XX(t,e){const n=Lt(t,e==null?void 0:e.in),r=+ic(n,e)-+xwe(n,e);return Math.round(r/BX)+1}function nr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Vc={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return nr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):nr(n+1,2)},d(t,e){return nr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return nr(t.getHours()%12||12,e.length)},H(t,e){return nr(t.getHours(),e.length)},m(t,e){return nr(t.getMinutes(),e.length)},s(t,e){return nr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return nr(s,e.length)}},nf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},j9={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Vc.y(t,e)},Y:function(t,e,n,r){const s=yP(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return nr(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):nr(i,e.length)},R:function(t,e){const n=WX(t);return nr(n,e.length)},u:function(t,e){const n=t.getFullYear();return nr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return nr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return nr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Vc.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return nr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=XX(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):nr(s,e.length)},I:function(t,e,n){const r=bP(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):nr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Vc.d(t,e)},D:function(t,e,n){const r=gwe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):nr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return nr(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return nr(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return nr(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=nf.noon:r===0?s=nf.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=nf.evening:r>=12?s=nf.afternoon:r>=4?s=nf.morning:s=nf.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Vc.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Vc.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):nr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):nr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vc.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Vc.s(t,e)},S:function(t,e){return Vc.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return S9(r);case"XXXX":case"XX":return uu(r);case"XXXXX":case"XXX":default:return uu(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return S9(r);case"xxxx":case"xx":return uu(r);case"xxxxx":case"xxx":default:return uu(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+N9(r,":");case"OOOO":default:return"GMT"+uu(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+N9(r,":");case"zzzz":default:return"GMT"+uu(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return nr(r,e.length)},T:function(t,e,n){return nr(+t,e.length)}};function N9(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+nr(i,2)}function S9(t,e){return t%60===0?(t>0?"-":"+")+nr(Math.abs(t)/60,2):uu(t,e)}function uu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=nr(Math.trunc(r/60),2),i=nr(r%60,2);return n+s+e+i}const k9=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},JX=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},bwe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return k9(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",k9(r,e)).replace("{{time}}",JX(s,e))},ZA={p:JX,P:bwe},ywe=/^D+$/,vwe=/^Y+$/,wwe=["D","DD","YY","YYYY"];function jwe(t){return ywe.test(t)}function Nwe(t){return vwe.test(t)}function Swe(t,e,n){const r=kwe(t,e,n);if(console.warn(r),wwe.includes(t))throw new RangeError(r)}function kwe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Cwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_we=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Twe=/^'([^]*?)'?$/,Mwe=/''/g,Awe=/[a-zA-Z]/;function C9(t,e,n){var h,m,p,x,y,w,v,N;const r=hh(),s=(n==null?void 0:n.locale)??r.locale??KX,i=(n==null?void 0:n.firstWeekContainsDate)??((m=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(p=r.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((w=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((N=(v=r.locale)==null?void 0:v.options)==null?void 0:N.weekStartsOn)??0,l=Lt(t,n==null?void 0:n.in);if(!Dw(l))throw new RangeError("Invalid time value");let c=e.match(_we).map(C=>{const S=C[0];if(S==="p"||S==="P"){const M=ZA[S];return M(C,s.formatLong)}return C}).join("").match(Cwe).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const S=C[0];if(S==="'")return{isToken:!1,value:Owe(C)};if(j9[S])return{isToken:!0,value:C};if(S.match(Awe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:C}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(C=>{if(!C.isToken)return C.value;const S=C.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Nwe(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&jwe(S))&&Swe(S,e,String(t));const M=j9[S[0]];return M(l,S,s.localize,d)}).join("")}function Owe(t){const e=t.match(Twe);return e?e[1].replace(Mwe,"'"):t}function _9(t,e){return Lt(t,e==null?void 0:e.in).getDate()}function Ewe(t,e){return Lt(t,e==null?void 0:e.in).getDay()}function Dwe(t,e){const n=Lt(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),i=sr(n,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function Pwe(){return Object.assign({},hh())}function Gl(t,e){return Lt(t,e==null?void 0:e.in).getHours()}function Rwe(t,e){const n=Lt(t,e==null?void 0:e.in).getDay();return n===0?7:n}function Yl(t,e){return Lt(t,e==null?void 0:e.in).getMinutes()}function oa(t,e){return Lt(t,e==null?void 0:e.in).getMonth()}function dd(t){return Lt(t).getSeconds()}function eO(t){return+Lt(t)}function cn(t,e){return Lt(t,e==null?void 0:e.in).getFullYear()}function jd(t,e){return+Lt(t)>+Lt(e)}function Do(t,e){return+Lt(t)<+Lt(e)}function Lwe(t,e){return+Lt(t)==+Lt(e)}function Iwe(t,e){const n=Fwe(e)?new e(0):sr(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function Fwe(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const $we=10;class QX{constructor(){Le(this,"subPriority",0)}validate(e,n){return!0}}class Hwe extends QX{constructor(e,n,r,s,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class zwe extends QX{constructor(n,r){super();Le(this,"priority",$we);Le(this,"subPriority",-1);this.context=n||(s=>sr(r,s))}set(n,r){return r.timestampIsSet?n:sr(n,Iwe(n,this.context))}}class Wn{run(e,n,r,s){const i=this.parse(e,n,r,s);return i?{setter:new Hwe(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class Bwe extends Wn{constructor(){super(...arguments);Le(this,"priority",140);Le(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const es={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Oo={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ts(t,e){return t&&{value:e(t.value),rest:t.rest}}function Rr(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Eo(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*eN+i*Zj+o*Ave),rest:e.slice(n[0].length)}}function ZX(t){return Rr(es.anyDigitsSigned,t)}function qr(t,e){switch(t){case 1:return Rr(es.singleDigit,e);case 2:return Rr(es.twoDigits,e);case 3:return Rr(es.threeDigits,e);case 4:return Rr(es.fourDigits,e);default:return Rr(new RegExp("^\\d{1,"+t+"}"),e)}}function Iw(t,e){switch(t){case 1:return Rr(es.singleDigitSigned,e);case 2:return Rr(es.twoDigitsSigned,e);case 3:return Rr(es.threeDigitsSigned,e);case 4:return Rr(es.fourDigitsSigned,e);default:return Rr(new RegExp("^-?\\d{1,"+t+"}"),e)}}function vP(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function eJ(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const i=r+50,o=Math.trunc(i/100)*100,l=t>=i%100;s=t+o-(l?100:0)}return n?s:1-s}function tJ(t){return t%400===0||t%4===0&&t%100!==0}class Vwe extends Wn{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return ts(qr(4,n),i);case"yo":return ts(s.ordinalNumber(n,{unit:"year"}),i);default:return ts(qr(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const i=n.getFullYear();if(s.isTwoDigitYear){const l=eJ(s.year,i);return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class Wwe extends Wn{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return ts(qr(4,n),i);case"Yo":return ts(s.ordinalNumber(n,{unit:"year"}),i);default:return ts(qr(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,i){const o=yP(n,i);if(s.isTwoDigitYear){const c=eJ(s.year,o);return n.setFullYear(c,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),ic(n,i)}const l=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),ic(n,i)}}class Uwe extends Wn{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Iw(r==="R"?4:r.length,n)}set(n,r,s){const i=sr(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Xf(i)}}class qwe extends Wn{constructor(){super(...arguments);Le(this,"priority",130);Le(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Iw(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class Gwe extends Wn{constructor(){super(...arguments);Le(this,"priority",120);Le(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return qr(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class Ywe extends Wn{constructor(){super(...arguments);Le(this,"priority",120);Le(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return qr(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class Kwe extends Wn{constructor(){super(...arguments);Le(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Le(this,"priority",110)}parse(n,r,s){const i=o=>o-1;switch(r){case"M":return ts(Rr(es.month,n),i);case"MM":return ts(qr(2,n),i);case"Mo":return ts(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class Xwe extends Wn{constructor(){super(...arguments);Le(this,"priority",110);Le(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const i=o=>o-1;switch(r){case"L":return ts(Rr(es.month,n),i);case"LL":return ts(qr(2,n),i);case"Lo":return ts(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function Jwe(t,e,n){const r=Lt(t,n==null?void 0:n.in),s=XX(r,n)-e;return r.setDate(r.getDate()-s*7),Lt(r,n==null?void 0:n.in)}class Qwe extends Wn{constructor(){super(...arguments);Le(this,"priority",100);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return Rr(es.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return qr(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,i){return ic(Jwe(n,s,i),i)}}function Zwe(t,e,n){const r=Lt(t,n==null?void 0:n.in),s=bP(r,n)-e;return r.setDate(r.getDate()-s*7),r}class e1e extends Wn{constructor(){super(...arguments);Le(this,"priority",100);Le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return Rr(es.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return qr(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return Xf(Zwe(n,s))}}const t1e=[31,28,31,30,31,30,31,31,30,31,30,31],n1e=[31,29,31,30,31,30,31,31,30,31,30,31];class r1e extends Wn{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"subPriority",1);Le(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return Rr(es.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return qr(r.length,n)}}validate(n,r){const s=n.getFullYear(),i=tJ(s),o=n.getMonth();return i?r>=1&&r<=n1e[o]:r>=1&&r<=t1e[o]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class s1e extends Wn{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"subpriority",1);Le(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return Rr(es.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return qr(r.length,n)}}validate(n,r){const s=n.getFullYear();return tJ(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function wP(t,e,n){var m,p,x,y;const r=hh(),s=(n==null?void 0:n.weekStartsOn)??((p=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((y=(x=r.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,i=Lt(t,n==null?void 0:n.in),o=i.getDay(),c=(e%7+7)%7,d=7-s,h=e<0||e>6?e-(o+d)%7:(c+d)%7-(o+d)%7;return lo(i,h,n)}class a1e extends Wn{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=wP(n,s,i),n.setHours(0,0,0,0),n}}class i1e extends Wn{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return ts(qr(r.length,n),o);case"eo":return ts(s.ordinalNumber(n,{unit:"day"}),o);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=wP(n,s,i),n.setHours(0,0,0,0),n}}class o1e extends Wn{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return ts(qr(r.length,n),o);case"co":return ts(s.ordinalNumber(n,{unit:"day"}),o);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=wP(n,s,i),n.setHours(0,0,0,0),n}}function l1e(t,e,n){const r=Lt(t,n==null?void 0:n.in),s=Rwe(r,n),i=e-s;return lo(r,i,n)}class c1e extends Wn{constructor(){super(...arguments);Le(this,"priority",90);Le(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return qr(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return ts(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return ts(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return ts(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return ts(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=l1e(n,s),n.setHours(0,0,0,0),n}}class d1e extends Wn{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(vP(s),0,0,0),n}}class u1e extends Wn{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(vP(s),0,0,0),n}}class h1e extends Wn{constructor(){super(...arguments);Le(this,"priority",80);Le(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(vP(s),0,0,0),n}}class f1e extends Wn{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return Rr(es.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return qr(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class m1e extends Wn{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return Rr(es.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return qr(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class p1e extends Wn{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return Rr(es.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return qr(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class g1e extends Wn{constructor(){super(...arguments);Le(this,"priority",70);Le(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return Rr(es.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return qr(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class x1e extends Wn{constructor(){super(...arguments);Le(this,"priority",60);Le(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return Rr(es.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return qr(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class b1e extends Wn{constructor(){super(...arguments);Le(this,"priority",50);Le(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return Rr(es.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return qr(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class y1e extends Wn{constructor(){super(...arguments);Le(this,"priority",30);Le(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return ts(qr(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class v1e extends Wn{constructor(){super(...arguments);Le(this,"priority",10);Le(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Eo(Oo.basicOptionalMinutes,n);case"XX":return Eo(Oo.basic,n);case"XXXX":return Eo(Oo.basicOptionalSeconds,n);case"XXXXX":return Eo(Oo.extendedOptionalSeconds,n);case"XXX":default:return Eo(Oo.extended,n)}}set(n,r,s){return r.timestampIsSet?n:sr(n,n.getTime()-Ow(n)-s)}}class w1e extends Wn{constructor(){super(...arguments);Le(this,"priority",10);Le(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Eo(Oo.basicOptionalMinutes,n);case"xx":return Eo(Oo.basic,n);case"xxxx":return Eo(Oo.basicOptionalSeconds,n);case"xxxxx":return Eo(Oo.extendedOptionalSeconds,n);case"xxx":default:return Eo(Oo.extended,n)}}set(n,r,s){return r.timestampIsSet?n:sr(n,n.getTime()-Ow(n)-s)}}class j1e extends Wn{constructor(){super(...arguments);Le(this,"priority",40);Le(this,"incompatibleTokens","*")}parse(n){return ZX(n)}set(n,r,s){return[sr(n,s*1e3),{timestampIsSet:!0}]}}class N1e extends Wn{constructor(){super(...arguments);Le(this,"priority",20);Le(this,"incompatibleTokens","*")}parse(n){return ZX(n)}set(n,r,s){return[sr(n,s),{timestampIsSet:!0}]}}const S1e={G:new Bwe,y:new Vwe,Y:new Wwe,R:new Uwe,u:new qwe,Q:new Gwe,q:new Ywe,M:new Kwe,L:new Xwe,w:new Qwe,I:new e1e,d:new r1e,D:new s1e,E:new a1e,e:new i1e,c:new o1e,i:new c1e,a:new d1e,b:new u1e,B:new h1e,h:new f1e,H:new m1e,K:new p1e,k:new g1e,m:new x1e,s:new b1e,S:new y1e,X:new v1e,x:new w1e,t:new j1e,T:new N1e},k1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_1e=/^'([^]*?)'?$/,T1e=/''/g,M1e=/\S/,A1e=/[a-zA-Z]/;function O1e(t,e,n,r){var v,N,C,S,M,_,A,O;const s=()=>sr((r==null?void 0:r.in)||n,NaN),i=Pwe(),o=(r==null?void 0:r.locale)??i.locale??KX,l=(r==null?void 0:r.firstWeekContainsDate)??((N=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:N.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(C=i.locale)==null?void 0:C.options)==null?void 0:S.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((_=(M=r==null?void 0:r.locale)==null?void 0:M.options)==null?void 0:_.weekStartsOn)??i.weekStartsOn??((O=(A=i.locale)==null?void 0:A.options)==null?void 0:O.weekStartsOn)??0;if(!e)return t?s():Lt(n,r==null?void 0:r.in);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:o},h=[new zwe(r==null?void 0:r.in,n)],m=e.match(C1e).map(D=>{const F=D[0];if(F in ZA){const L=ZA[F];return L(D,o.formatLong)}return D}).join("").match(k1e),p=[];for(let D of m){const F=D[0],L=S1e[F];if(L){const{incompatibleTokens:I}=L;if(Array.isArray(I)){const z=p.find(U=>I.includes(U.token)||U.token===F);if(z)throw new RangeError(`The format string mustn't contain \`${z.fullToken}\` and \`${D}\` at the same time`)}else if(L.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);p.push({token:F,fullToken:D});const P=L.run(t,D,o.match,d);if(!P)return s();h.push(P.setter),t=P.rest}else{if(F.match(A1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");if(D==="''"?D="'":F==="'"&&(D=E1e(D)),t.indexOf(D)===0)t=t.slice(D.length);else return s()}}if(t.length>0&&M1e.test(t))return s();const x=h.map(D=>D.priority).sort((D,F)=>F-D).filter((D,F,L)=>L.indexOf(D)===F).map(D=>h.filter(F=>F.priority===D).sort((F,L)=>L.subPriority-F.subPriority)).map(D=>D[0]);let y=Lt(n,r==null?void 0:r.in);if(isNaN(+y))return s();const w={};for(const D of x){if(!D.validate(y,d))return s();const F=D.set(y,w,d);Array.isArray(F)?(y=F[0],Object.assign(w,F[1])):y=F}return y}function E1e(t){return t.match(_1e)[1].replace(T1e,"'")}function D1e(t,e,n){const[r,s]=fc(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function P1e(t,e,n){const[r,s]=fc(n==null?void 0:n.in,t,e);return+QA(r)==+QA(s)}function R1e(t,e,n){const[r,s]=fc(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function kg(t,e,n){const r=+Lt(t,n==null?void 0:n.in),[s,i]=[+Lt(e.start,n==null?void 0:n.in),+Lt(e.end,n==null?void 0:n.in)].sort((o,l)=>o-l);return r>=s&&r<=i}function L1e(t,e,n){return lo(t,-1,n)}function I1e(t,e){const n=()=>sr(e==null?void 0:e.in,NaN),s=z1e(t);let i;if(s.date){const d=B1e(s.date,2);i=V1e(d.restDateString,d.year)}if(!i||isNaN(+i))return n();const o=+i;let l=0,c;if(s.time&&(l=W1e(s.time),isNaN(l)))return n();if(s.timezone){if(c=U1e(s.timezone),isNaN(c))return n()}else{const d=new Date(o+l),h=Lt(0,e==null?void 0:e.in);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return Lt(o+l+c,e==null?void 0:e.in)}const Fy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},F1e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,$1e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,H1e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function z1e(t){const e={},n=t.split(Fy.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Fy.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Fy.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Fy.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function B1e(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function V1e(t,e){if(e===null)return new Date(NaN);const n=t.match(F1e);if(!n)return new Date(NaN);const r=!!n[4],s=Qp(n[1]),i=Qp(n[2])-1,o=Qp(n[3]),l=Qp(n[4]),c=Qp(n[5])-1;if(r)return X1e(e,l,c)?q1e(e,l,c):new Date(NaN);{const d=new Date(0);return!Y1e(e,i,o)||!K1e(e,s)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(s,o)),d)}}function Qp(t){return t?parseInt(t):1}function W1e(t){const e=t.match($1e);if(!e)return NaN;const n=eC(e[1]),r=eC(e[2]),s=eC(e[3]);return J1e(n,r,s)?n*eN+r*Zj+s*1e3:NaN}function eC(t){return t&&parseFloat(t.replace(",","."))||0}function U1e(t){if(t==="Z")return 0;const e=t.match(H1e);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return Q1e(r,s)?n*(r*eN+s*Zj):NaN}function q1e(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const G1e=[31,null,31,30,31,30,31,31,30,31,30,31];function nJ(t){return t%400===0||t%4===0&&t%100!==0}function Y1e(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(G1e[e]||(nJ(t)?29:28))}function K1e(t,e){return e>=1&&e<=(nJ(t)?366:365)}function X1e(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function J1e(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Q1e(t,e){return e>=0&&e<=59}function Ai(t,e,n){const r=Lt(t,n==null?void 0:n.in),s=r.getFullYear(),i=r.getDate(),o=sr(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const l=Dwe(o);return r.setMonth(e,Math.min(i,l)),r}function qv(t,e,n){const r=Lt(t,n==null?void 0:n.in);return r.setHours(e),r}function Gv(t,e,n){const r=Lt(t,n==null?void 0:n.in);return r.setMinutes(e),r}function hf(t,e,n){const r=Lt(t,n==null?void 0:n.in),s=Math.trunc(r.getMonth()/3)+1,i=e-s;return Ai(r,r.getMonth()+i*3)}function Yv(t,e,n){const r=Lt(t,n==null?void 0:n.in);return r.setSeconds(e),r}function _o(t,e,n){const r=Lt(t,n==null?void 0:n.in);return isNaN(+r)?sr(t,NaN):(r.setFullYear(e),r)}function Lu(t,e,n){return ho(t,-e,n)}function rJ(t,e,n){return xP(t,-1,n)}function T9(t,e,n){return Ew(t,-1,n)}function Qf(t,e,n){return Ul(t,-e,n)}function nN(){return typeof window<"u"}function Hm(t){return sJ(t)?(t.nodeName||"").toLowerCase():"#document"}function oi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tl(t){var e;return(e=(sJ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function sJ(t){return nN()?t instanceof Node||t instanceof oi(t).Node:!1}function xa(t){return nN()?t instanceof Element||t instanceof oi(t).Element:!1}function Ko(t){return nN()?t instanceof HTMLElement||t instanceof oi(t).HTMLElement:!1}function M9(t){return!nN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof oi(t).ShadowRoot}const Z1e=new Set(["inline","contents"]);function Dx(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Hi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Z1e.has(s)}const eje=new Set(["table","td","th"]);function tje(t){return eje.has(Hm(t))}const nje=[":popover-open",":modal"];function rN(t){return nje.some(e=>{try{return t.matches(e)}catch{return!1}})}const rje=["transform","translate","scale","rotate","perspective"],sje=["transform","translate","scale","rotate","perspective","filter"],aje=["paint","layout","strict","content"];function jP(t){const e=NP(),n=xa(t)?Hi(t):t;return rje.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||sje.some(r=>(n.willChange||"").includes(r))||aje.some(r=>(n.contain||"").includes(r))}function ije(t){let e=Nd(t);for(;Ko(e)&&!Zf(e);){if(jP(e))return e;if(rN(e))return null;e=Nd(e)}return null}function NP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oje=new Set(["html","body","#document"]);function Zf(t){return oje.has(Hm(t))}function Hi(t){return oi(t).getComputedStyle(t)}function sN(t){return xa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Nd(t){if(Hm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||M9(t)&&t.host||tl(t);return M9(e)?e.host:e}function aJ(t){const e=Nd(t);return Zf(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ko(e)&&Dx(e)?e:aJ(e)}function Cg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=aJ(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=oi(s);if(i){const l=tO(o);return e.concat(o,o.visualViewport||[],Dx(s)?s:[],l&&n?Cg(l):[])}return e.concat(s,Cg(s,[],n))}function tO(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const em=Math.min,Iu=Math.max,Fw=Math.round,$y=Math.floor,$o=t=>({x:t,y:t}),lje={left:"right",right:"left",bottom:"top",top:"bottom"},cje={start:"end",end:"start"};function dje(t,e,n){return Iu(t,em(e,n))}function aN(t,e){return typeof t=="function"?t(e):t}function tm(t){return t.split("-")[0]}function Px(t){return t.split("-")[1]}function uje(t){return t==="x"?"y":"x"}function SP(t){return t==="y"?"height":"width"}const hje=new Set(["top","bottom"]);function wu(t){return hje.has(tm(t))?"y":"x"}function kP(t){return uje(wu(t))}function fje(t,e,n){n===void 0&&(n=!1);const r=Px(t),s=kP(t),i=SP(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=$w(o)),[o,$w(o)]}function mje(t){const e=$w(t);return[nO(t),e,nO(e)]}function nO(t){return t.replace(/start|end/g,e=>cje[e])}const A9=["left","right"],O9=["right","left"],pje=["top","bottom"],gje=["bottom","top"];function xje(t,e,n){switch(t){case"top":case"bottom":return n?e?O9:A9:e?A9:O9;case"left":case"right":return e?pje:gje;default:return[]}}function bje(t,e,n,r){const s=Px(t);let i=xje(tm(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(nO)))),i}function $w(t){return t.replace(/left|right|bottom|top/g,e=>lje[e])}function yje(t){return{top:0,right:0,bottom:0,left:0,...t}}function iJ(t){return typeof t!="number"?yje(t):{top:t,right:t,bottom:t,left:t}}function Hw(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}var vje=typeof document<"u",wje=function(){},zw=vje?b.useLayoutEffect:wje;const jje={...cw},Nje=jje.useInsertionEffect,Sje=Nje||(t=>t());function kje(t){const e=b.useRef(()=>{});return Sje(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function E9(t,e,n){let{reference:r,floating:s}=t;const i=wu(e),o=kP(e),l=SP(o),c=tm(e),d=i==="y",h=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let x;switch(c){case"top":x={x:h,y:r.y-s.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-s.width,y:m};break;default:x={x:r.x,y:r.y}}switch(Px(e)){case"start":x[o]-=p*(n&&d?-1:1);break;case"end":x[o]+=p*(n&&d?-1:1);break}return x}const Cje=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:m}=E9(d,r,c),p=r,x={},y=0;for(let w=0;w<l.length;w++){const{name:v,fn:N}=l[w],{x:C,y:S,data:M,reset:_}=await N({x:h,y:m,initialPlacement:r,placement:p,strategy:s,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});h=C??h,m=S??m,x={...x,[v]:{...x[v],...M}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:h,y:m}=E9(d,p,c)),w=-1)}return{x:h,y:m,placement:p,strategy:s,middlewareData:x}};async function _je(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:x=0}=aN(e,t),y=iJ(x),v=l[p?m==="floating"?"reference":"floating":m],N=Hw(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),C=m==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),M=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},_=Hw(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:S,strategy:c}):C);return{top:(N.top-_.top+y.top)/M.y,bottom:(_.bottom-N.bottom+y.bottom)/M.y,left:(N.left-_.left+y.left)/M.x,right:(_.right-N.right+y.right)/M.x}}const Tje=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=aN(t,e)||{};if(d==null)return{};const m=iJ(h),p={x:n,y:r},x=kP(s),y=SP(x),w=await o.getDimensions(d),v=x==="y",N=v?"top":"left",C=v?"bottom":"right",S=v?"clientHeight":"clientWidth",M=i.reference[y]+i.reference[x]-p[x]-i.floating[y],_=p[x]-i.reference[x],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let O=A?A[S]:0;(!O||!await(o.isElement==null?void 0:o.isElement(A)))&&(O=l.floating[S]||i.floating[y]);const D=M/2-_/2,F=O/2-w[y]/2-1,L=em(m[N],F),I=em(m[C],F),P=L,z=O-w[y]-I,U=O/2-w[y]/2+D,V=dje(P,U,z),$=!c.arrow&&Px(s)!=null&&U!==V&&i.reference[y]/2-(U<P?L:I)-w[y]/2<0,R=$?U<P?U-P:U-z:0;return{[x]:p[x]+R,data:{[x]:V,centerOffset:U-V-R,...$&&{alignmentOffset:R}},reset:$}}}),Mje=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...v}=aN(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const N=tm(s),C=wu(l),S=tm(l)===l,M=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=p||(S||!w?[$w(l)]:mje(l)),A=y!=="none";!p&&A&&_.push(...bje(l,w,y,M));const O=[l,..._],D=await _je(e,v),F=[];let L=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&F.push(D[N]),m){const U=fje(s,o,M);F.push(D[U[0]],D[U[1]])}if(L=[...L,{placement:s,overflows:F}],!F.every(U=>U<=0)){var I,P;const U=(((I=i.flip)==null?void 0:I.index)||0)+1,V=O[U];if(V&&(!(m==="alignment"?C!==wu(V):!1)||L.every(W=>wu(W.placement)===C?W.overflows[0]>0:!0)))return{data:{index:U,overflows:L},reset:{placement:V}};let $=(P=L.filter(R=>R.overflows[0]<=0).sort((R,W)=>R.overflows[1]-W.overflows[1])[0])==null?void 0:P.placement;if(!$)switch(x){case"bestFit":{var z;const R=(z=L.filter(W=>{if(A){const q=wu(W.placement);return q===C||q==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(q=>q>0).reduce((q,X)=>q+X,0)]).sort((W,q)=>W[1]-q[1])[0])==null?void 0:z[0];R&&($=R);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}},Aje=new Set(["left","top"]);async function Oje(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=tm(n),l=Px(n),c=wu(n)==="y",d=Aje.has(o)?-1:1,h=i&&c?-1:1,m=aN(e,t);let{mainAxis:p,crossAxis:x,alignmentAxis:y}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof y=="number"&&(x=l==="end"?y*-1:y),c?{x:x*h,y:p*d}:{x:p*d,y:x*h}}const Eje=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await Oje(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}};function oJ(t){const e=Hi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ko(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=Fw(n)!==i||Fw(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function CP(t){return xa(t)?t:t.contextElement}function Ef(t){const e=CP(t);if(!Ko(e))return $o(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=oJ(e);let o=(i?Fw(n.width):n.width)/r,l=(i?Fw(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Dje=$o(0);function lJ(t){const e=oi(t);return!NP()||!e.visualViewport?Dje:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Pje(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==oi(t)?!1:e}function Xu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=CP(t);let o=$o(1);e&&(r?xa(r)&&(o=Ef(r)):o=Ef(t));const l=Pje(i,n,r)?lJ(i):$o(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,h=s.width/o.x,m=s.height/o.y;if(i){const p=oi(i),x=r&&xa(r)?oi(r):r;let y=p,w=tO(y);for(;w&&r&&x!==y;){const v=Ef(w),N=w.getBoundingClientRect(),C=Hi(w),S=N.left+(w.clientLeft+parseFloat(C.paddingLeft))*v.x,M=N.top+(w.clientTop+parseFloat(C.paddingTop))*v.y;c*=v.x,d*=v.y,h*=v.x,m*=v.y,c+=S,d+=M,y=oi(w),w=tO(y)}}return Hw({width:h,height:m,x:c,y:d})}function iN(t,e){const n=sN(t).scrollLeft;return e?e.left+n:Xu(tl(t)).left+n}function cJ(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-iN(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function Rje(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=tl(r),l=e?rN(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=$o(1);const h=$o(0),m=Ko(r);if((m||!m&&!i)&&((Hm(r)!=="body"||Dx(o))&&(c=sN(r)),Ko(r))){const x=Xu(r);d=Ef(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const p=o&&!m&&!i?cJ(o,c):$o(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function Lje(t){return Array.from(t.getClientRects())}function Ije(t){const e=tl(t),n=sN(t),r=t.ownerDocument.body,s=Iu(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Iu(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+iN(t);const l=-n.scrollTop;return Hi(r).direction==="rtl"&&(o+=Iu(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}const D9=25;function Fje(t,e){const n=oi(t),r=tl(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const h=NP();(!h||h&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=iN(r);if(d<=0){const h=r.ownerDocument,m=h.body,p=getComputedStyle(m),x=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,y=Math.abs(r.clientWidth-m.clientWidth-x);y<=D9&&(i-=y)}else d<=D9&&(i+=d);return{width:i,height:o,x:l,y:c}}const $je=new Set(["absolute","fixed"]);function Hje(t,e){const n=Xu(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ko(t)?Ef(t):$o(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function P9(t,e,n){let r;if(e==="viewport")r=Fje(t,n);else if(e==="document")r=Ije(tl(t));else if(xa(e))r=Hje(e,n);else{const s=lJ(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Hw(r)}function dJ(t,e){const n=Nd(t);return n===e||!xa(n)||Zf(n)?!1:Hi(n).position==="fixed"||dJ(n,e)}function zje(t,e){const n=e.get(t);if(n)return n;let r=Cg(t,[],!1).filter(l=>xa(l)&&Hm(l)!=="body"),s=null;const i=Hi(t).position==="fixed";let o=i?Nd(t):t;for(;xa(o)&&!Zf(o);){const l=Hi(o),c=jP(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&$je.has(s.position)||Dx(o)&&!c&&dJ(t,o))?r=r.filter(h=>h!==o):s=l,o=Nd(o)}return e.set(t,r),r}function Bje(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?rN(e)?[]:zje(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const m=P9(e,h,s);return d.top=Iu(m.top,d.top),d.right=em(m.right,d.right),d.bottom=em(m.bottom,d.bottom),d.left=Iu(m.left,d.left),d},P9(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Vje(t){const{width:e,height:n}=oJ(t);return{width:e,height:n}}function Wje(t,e,n){const r=Ko(e),s=tl(e),i=n==="fixed",o=Xu(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=$o(0);function d(){c.x=iN(s)}if(r||!r&&!i)if((Hm(e)!=="body"||Dx(s))&&(l=sN(e)),r){const x=Xu(e,!0,i,e);c.x=x.x+e.clientLeft,c.y=x.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?cJ(s,l):$o(0),m=o.left+l.scrollLeft-c.x-h.x,p=o.top+l.scrollTop-c.y-h.y;return{x:m,y:p,width:o.width,height:o.height}}function tC(t){return Hi(t).position==="static"}function R9(t,e){if(!Ko(t)||Hi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tl(t)===n&&(n=n.ownerDocument.body),n}function uJ(t,e){const n=oi(t);if(rN(t))return n;if(!Ko(t)){let s=Nd(t);for(;s&&!Zf(s);){if(xa(s)&&!tC(s))return s;s=Nd(s)}return n}let r=R9(t,e);for(;r&&tje(r)&&tC(r);)r=R9(r,e);return r&&Zf(r)&&tC(r)&&!jP(r)?n:r||ije(t)||n}const Uje=async function(t){const e=this.getOffsetParent||uJ,n=this.getDimensions,r=await n(t.floating);return{reference:Wje(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function qje(t){return Hi(t).direction==="rtl"}const Gje={convertOffsetParentRelativeRectToViewportRelativeRect:Rje,getDocumentElement:tl,getClippingRect:Bje,getOffsetParent:uJ,getElementRects:Uje,getClientRects:Lje,getDimensions:Vje,getScale:Ef,isElement:xa,isRTL:qje};function hJ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Yje(t,e){let n=null,r;const s=tl(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:m,width:p,height:x}=d;if(l||e(),!p||!x)return;const y=$y(m),w=$y(s.clientWidth-(h+p)),v=$y(s.clientHeight-(m+x)),N=$y(h),S={rootMargin:-y+"px "+-w+"px "+-v+"px "+-N+"px",threshold:Iu(0,em(1,c))||1};let M=!0;function _(A){const O=A[0].intersectionRatio;if(O!==c){if(!M)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!hJ(d,t.getBoundingClientRect())&&o(),M=!1}try{n=new IntersectionObserver(_,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,S)}n.observe(t)}return o(!0),i}function fJ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=CP(t),h=s||i?[...d?Cg(d):[],...Cg(e)]:[];h.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),i&&N.addEventListener("resize",n)});const m=d&&l?Yje(d,n):null;let p=-1,x=null;o&&(x=new ResizeObserver(N=>{let[C]=N;C&&C.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=x)==null||S.observe(e)})),n()}),d&&!c&&x.observe(d),x.observe(e));let y,w=c?Xu(t):null;c&&v();function v(){const N=Xu(t);w&&!hJ(w,N)&&n(),w=N,y=requestAnimationFrame(v)}return n(),()=>{var N;h.forEach(C=>{s&&C.removeEventListener("scroll",n),i&&C.removeEventListener("resize",n)}),m==null||m(),(N=x)==null||N.disconnect(),x=null,c&&cancelAnimationFrame(y)}}const Kje=Eje,Xje=Mje,L9=Tje,Jje=(t,e,n)=>{const r=new Map,s={platform:Gje,...n},i={...s.platform,_c:r};return Cje(t,e,{...s,platform:i})};var Qje=typeof document<"u",Zje=function(){},Kv=Qje?b.useLayoutEffect:Zje;function Bw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bw(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Bw(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function mJ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function I9(t,e){const n=mJ(t);return Math.round(e*n)/n}function nC(t){const e=b.useRef(t);return Kv(()=>{e.current=t}),e}function eNe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,m]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,x]=b.useState(r);Bw(p,r)||x(r);const[y,w]=b.useState(null),[v,N]=b.useState(null),C=b.useCallback(W=>{W!==A.current&&(A.current=W,w(W))},[]),S=b.useCallback(W=>{W!==O.current&&(O.current=W,N(W))},[]),M=i||y,_=o||v,A=b.useRef(null),O=b.useRef(null),D=b.useRef(h),F=c!=null,L=nC(c),I=nC(s),P=nC(d),z=b.useCallback(()=>{if(!A.current||!O.current)return;const W={placement:e,strategy:n,middleware:p};I.current&&(W.platform=I.current),Jje(A.current,O.current,W).then(q=>{const X={...q,isPositioned:P.current!==!1};U.current&&!Bw(D.current,X)&&(D.current=X,vD.flushSync(()=>{m(X)}))})},[p,e,n,I,P]);Kv(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(W=>({...W,isPositioned:!1})))},[d]);const U=b.useRef(!1);Kv(()=>(U.current=!0,()=>{U.current=!1}),[]),Kv(()=>{if(M&&(A.current=M),_&&(O.current=_),M&&_){if(L.current)return L.current(M,_,z);z()}},[M,_,z,L,F]);const V=b.useMemo(()=>({reference:A,floating:O,setReference:C,setFloating:S}),[C,S]),$=b.useMemo(()=>({reference:M,floating:_}),[M,_]),R=b.useMemo(()=>{const W={position:n,left:0,top:0};if(!$.floating)return W;const q=I9($.floating,h.x),X=I9($.floating,h.y);return l?{...W,transform:"translate("+q+"px, "+X+"px)",...mJ($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:X}},[n,l,$.floating,h.x,h.y]);return b.useMemo(()=>({...h,update:z,refs:V,elements:$,floatingStyles:R}),[h,z,V,$,R])}const tNe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?L9({element:r.current,padding:s}).fn(n):{}:r?L9({element:r,padding:s}).fn(n):{}}}},nNe=(t,e)=>({...Kje(t),options:[t,e]}),rNe=(t,e)=>({...Xje(t),options:[t,e]}),sNe=(t,e)=>({...tNe(t),options:[t,e]}),aNe={...cw};let F9=!1,iNe=0;const $9=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+iNe++;function oNe(){const[t,e]=b.useState(()=>F9?$9():void 0);return zw(()=>{t==null&&e($9())},[]),b.useEffect(()=>{F9=!0},[]),t}const lNe=aNe.useId,pJ=lNe||oNe,cNe=b.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:h=0,staticOffset:m,stroke:p,d:x,style:{transform:y,...w}={},...v}=e,N=pJ(),[C,S]=b.useState(!1);if(zw(()=>{if(!s)return;Hi(s).direction==="rtl"&&S(!0)},[s]),!s)return null;const[M,_]=r.split("-"),A=M==="top"||M==="bottom";let O=m;(A&&o!=null&&o.x||!A&&o!=null&&o.y)&&(O=null);const D=h*2,F=D/2,L=l/2*(d/-8+1),I=c/2*d/4,P=!!x,z=O&&_==="end"?"bottom":"top";let U=O&&_==="end"?"right":"left";O&&C&&(U=_==="end"?"left":"right");const V=(i==null?void 0:i.x)!=null?O||i.x:"",$=(i==null?void 0:i.y)!=null?O||i.y:"",R=x||"M0,0"+(" H"+l)+(" L"+(l-L)+","+(c-I))+(" Q"+l/2+","+c+" "+L+","+(c-I))+" Z",W={top:P?"rotate(180deg)":"",left:P?"rotate(90deg)":"rotate(-90deg)",bottom:P?"":"rotate(180deg)",right:P?"rotate(-90deg)":"rotate(90deg)"}[M];return a.jsxs("svg",{...v,"aria-hidden":!0,ref:n,width:P?l:l+D,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[U]:V,[z]:$,[M]:A||P?"100%":"calc(100% - "+D/2+"px)",transform:[W,y].filter(q=>!!q).join(" "),...w},children:[D>0&&a.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:p,strokeWidth:D+(x?0:1),d:R}),a.jsx("path",{stroke:D&&!x?v.fill:"none",d:R}),a.jsx("clipPath",{id:N,children:a.jsx("rect",{x:-F,y:F*(P?-1:1),width:l+D,height:l})})]})});function dNe(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(s=>s(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const uNe=b.createContext(null),hNe=b.createContext(null),fNe=()=>{var t;return((t=b.useContext(uNe))==null?void 0:t.id)||null},mNe=()=>b.useContext(hNe);function pNe(t){const{open:e=!1,onOpenChange:n,elements:r}=t,s=pJ(),i=b.useRef({}),[o]=b.useState(()=>dNe()),l=fNe()!=null,[c,d]=b.useState(r.reference),h=kje((x,y,w)=>{i.current.openEvent=x?y:void 0,o.emit("openchange",{open:x,event:y,reason:w,nested:l}),n==null||n(x,y,w)}),m=b.useMemo(()=>({setPositionReference:d}),[]),p=b.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return b.useMemo(()=>({dataRef:i,open:e,onOpenChange:h,elements:p,events:o,floatingId:s,refs:m}),[e,h,p,o,s,m])}function gNe(t){t===void 0&&(t={});const{nodeId:e}=t,n=pNe({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,s=r.elements,[i,o]=b.useState(null),[l,c]=b.useState(null),h=(s==null?void 0:s.domReference)||i,m=b.useRef(null),p=mNe();zw(()=>{h&&(m.current=h)},[h]);const x=eNe({...t,elements:{...s,...l&&{reference:l}}}),y=b.useCallback(S=>{const M=xa(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;c(M),x.refs.setReference(M)},[x.refs]),w=b.useCallback(S=>{(xa(S)||S===null)&&(m.current=S,o(S)),(xa(x.refs.reference.current)||x.refs.reference.current===null||S!==null&&!xa(S))&&x.refs.setReference(S)},[x.refs]),v=b.useMemo(()=>({...x.refs,setReference:w,setPositionReference:y,domReference:m}),[x.refs,w,y]),N=b.useMemo(()=>({...x.elements,domReference:h}),[x.elements,h]),C=b.useMemo(()=>({...x,...r,refs:v,elements:N,nodeId:e}),[x,v,N,e,r]);return zw(()=>{r.dataRef.current.floatingContext=C;const S=p==null?void 0:p.nodesRef.current.find(M=>M.id===e);S&&(S.context=C)}),b.useMemo(()=>({...x,context:C,refs:v,elements:N}),[x,v,N,C])}/*!
  react-datepicker v8.7.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var rO=function(e,n){return rO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},rO(e,n)};function Qs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var wn=function(){return wn=Object.assign||function(n){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},wn.apply(this,arguments)};function Po(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var xNe=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,s=r===void 0?!1:r,i=t.className,o=t.children,l=n?"Choose Time":"Choose Date".concat(s?" and Time":"");return Q.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},bNe=function(t,e){var n=b.useRef(null),r=b.useRef(t);r.current=t;var s=b.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(c){return c instanceof Node})||i.target;n.current&&!n.current.contains(l)&&(e&&l instanceof HTMLElement&&l.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,i))},[e]);return b.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),n},oN=function(t){var e=t.children,n=t.onClickOutside,r=t.className,s=t.containerRef,i=t.style,o=t.ignoreClass,l=bNe(n,o);return Q.createElement("div",{className:r,style:i,ref:function(c){l.current=c,s&&(s.current=c)}},e)},Mt;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Mt||(Mt={}));function gJ(){var t=typeof window<"u"?window:globalThis;return t}var Rx=12;function Yn(t){if(t==null)return new Date;var e=typeof t=="string"?I1e(t):Lt(t);return lN(e)?e:new Date}function rC(t,e,n,r,s){s===void 0&&(s=Yn());for(var i=nm(n)||nm(_P()),o=Array.isArray(e)?e:[e],l=0,c=o;l<c.length;l++){var d=c[l],h=O1e(t,d,s,{locale:i});if(lN(h)&&(!r||t===kr(h,d,n)))return h}return null}function lN(t,e){return Dw(t)&&!Do(t,new Date("1/1/1800"))}function kr(t,e,n){if(n==="en")return C9(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?nm(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||nm(_P()),C9(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Mi(t,e){var n=e.dateFormat,r=e.locale,s=Array.isArray(n)&&n.length>0?n[0]:n;return t&&kr(t,s,r)||""}var xJ=" - ";function yNe(t,e,n){if(!t&&!e)return"";var r=t?Mi(t,n):"",s=e?Mi(e,n):"",i=n.rangeSeparator||xJ;return"".concat(r).concat(i).concat(s)}function vNe(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?Mi(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=Mi(t[1],e);return"".concat(n,", ").concat(r)}var s=t.length-1;return"".concat(n," (+").concat(s,")")}function sC(t,e){var n=e.hour,r=n===void 0?0:n,s=e.minute,i=s===void 0?0:s,o=e.second,l=o===void 0?0:o;return qv(Gv(Yv(t,l),i),r)}function wNe(t){return bP(t)}function jNe(t,e){return kr(t,"ddd",e)}function Xv(t){return Ku(t)}function ud(t,e,n){var r=nm(e||_P());return ic(t,{locale:r,weekStartsOn:n})}function Kl(t){return GX(t)}function C0(t){return tN(t)}function H9(t){return QA(t)}function z9(){return Ku(Yn())}function B9(t){return UX(t)}function NNe(t){return Ive(t)}function SNe(t){return qX(t)}function To(t,e){return t&&e?R1e(t,e):!t&&!e}function pa(t,e){return t&&e?D1e(t,e):!t&&!e}function Vw(t,e){return t&&e?P1e(t,e):!t&&!e}function vn(t,e){return t&&e?Rve(t,e):!t&&!e}function ju(t,e){return t&&e?Lwe(t,e):!t&&!e}function hu(t,e,n){var r,s=Ku(e),i=UX(n);try{r=kg(t,{start:s,end:i})}catch{r=!1}return r}function _P(){var t=gJ();return t.__localeId__}function nm(t){if(typeof t=="string"){var e=gJ();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function kNe(t,e,n){return e(kr(t,"EEEE",n))}function CNe(t,e){return kr(t,"EEEEEE",e)}function _Ne(t,e){return kr(t,"EEE",e)}function TP(t,e){return kr(Ai(Yn(),t),"LLLL",e)}function bJ(t,e){return kr(Ai(Yn(),t),"LLL",e)}function TNe(t,e){return kr(hf(Yn(),t),"QQQ",e)}function Ei(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,i=n.excludeDates,o=n.excludeDateIntervals,l=n.includeDates,c=n.includeDateIntervals,d=n.filterDate;return Lx(t,{minDate:r,maxDate:s})||i&&i.some(function(h){return h instanceof Date?vn(t,h):vn(t,h.date)})||o&&o.some(function(h){var m=h.start,p=h.end;return kg(t,{start:m,end:p})})||l&&!l.some(function(h){return vn(t,h)})||c&&!c.some(function(h){var m=h.start,p=h.end;return kg(t,{start:m,end:p})})||d&&!d(Yn(t))||!1}function MP(t,e){var n=e===void 0?{}:e,r=n.excludeDates,s=n.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,l=i.end;return kg(t,{start:o,end:l})}):r&&r.some(function(i){var o;return i instanceof Date?vn(t,i):vn(t,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function yJ(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,i=n.excludeDates,o=n.includeDates,l=n.filterDate;return Lx(t,{minDate:r?GX(r):void 0,maxDate:s?qX(s):void 0})||(i==null?void 0:i.some(function(c){return pa(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return pa(t,c)})||l&&!l(Yn(t))||!1}function Hy(t,e,n,r){var s=cn(t),i=oa(t),o=cn(e),l=oa(e),c=cn(r);return s===o&&s===c?i<=n&&n<=l:s<o?c===s&&i<=n||c===o&&l>=n||c<o&&c>s:!1}function MNe(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,i=n.excludeDates,o=n.includeDates;return Lx(t,{minDate:r,maxDate:s})||i&&i.some(function(l){return pa(l instanceof Date?l:l.date,t)})||o&&!o.some(function(l){return pa(l,t)})||!1}function zy(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,i=n.excludeDates,o=n.includeDates,l=n.filterDate;return Lx(t,{minDate:r,maxDate:s})||(i==null?void 0:i.some(function(c){return Vw(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Vw(t,c)})||l&&!l(Yn(t))||!1}function By(t,e,n){if(!e||!n||!Dw(e)||!Dw(n))return!1;var r=cn(e),s=cn(n);return r<=t&&s>=t}function Jv(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.maxDate,i=n.excludeDates,o=n.includeDates,l=n.filterDate,c=new Date(t,0,1);return Lx(c,{minDate:r?tN(r):void 0,maxDate:s?YX(s):void 0})||(i==null?void 0:i.some(function(d){return To(c,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return To(c,d)})||l&&!l(Yn(c))||!1}function Vy(t,e,n,r){var s=cn(t),i=Ru(t),o=cn(e),l=Ru(e),c=cn(r);return s===o&&s===c?i<=n&&n<=l:s<o?c===s&&i<=n||c===o&&l>=n||c<o&&c>s:!1}function Lx(t,e){var n,r=e===void 0?{}:e,s=r.minDate,i=r.maxDate;return(n=s&&Jf(t,s)<0||i&&Jf(t,i)>0)!==null&&n!==void 0?n:!1}function V9(t,e){return e.some(function(n){return Gl(n)===Gl(t)&&Yl(n)===Yl(t)&&dd(n)===dd(t)})}function W9(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,s=n.includeTimes,i=n.filterTime;return r&&V9(t,r)||s&&!V9(t,s)||i&&!i(t)||!1}function U9(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var s=Yn();s=qv(s,Gl(t)),s=Gv(s,Yl(t)),s=Yv(s,dd(t));var i=Yn();i=qv(i,Gl(n)),i=Gv(i,Yl(n)),i=Yv(i,dd(n));var o=Yn();o=qv(o,Gl(r)),o=Gv(o,Yl(r)),o=Yv(o,dd(r));var l;try{l=!kg(s,{start:i,end:o})}catch{l=!1}return l}function q9(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.includeDates,i=Lu(t,1);return r&&Pw(r,i)>0||s&&s.every(function(o){return Pw(o,i)>0})||!1}function G9(t,e){var n=e===void 0?{}:e,r=n.maxDate,s=n.includeDates,i=ho(t,1);return r&&Pw(i,r)>0||s&&s.every(function(o){return Pw(i,o)>0})||!1}function ANe(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.includeDates,i=tN(t),o=rJ(i);return r&&Rw(r,o)>0||s&&s.every(function(l){return Rw(l,o)>0})||!1}function ONe(t,e){var n=e===void 0?{}:e,r=n.maxDate,s=n.includeDates,i=YX(t),o=xP(i,1);return r&&Rw(o,r)>0||s&&s.every(function(l){return Rw(o,l)>0})||!1}function Y9(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.includeDates,i=Qf(t,1);return r&&Lw(r,i)>0||s&&s.every(function(o){return Lw(o,i)>0})||!1}function ENe(t,e){var n=e===void 0?{}:e,r=n.minDate,s=n.yearItemNumber,i=s===void 0?Rx:s,o=C0(Qf(t,i)),l=Il(o,i).endPeriod,c=r&&cn(r);return c&&c>l||!1}function K9(t,e){var n=e===void 0?{}:e,r=n.maxDate,s=n.includeDates,i=Ul(t,1);return r&&Lw(i,r)>0||s&&s.every(function(o){return Lw(i,o)>0})||!1}function DNe(t,e){var n=e===void 0?{}:e,r=n.maxDate,s=n.yearItemNumber,i=s===void 0?Rx:s,o=Ul(t,i),l=Il(o,i).startPeriod,c=r&&cn(r);return c&&c<l||!1}function vJ(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(s){return Jf(s,e)>=0});return v9(r)}else return n?v9(n):e}function wJ(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(s){return Jf(s,e)<=0});return y9(r)}else return n?y9(n):e}function X9(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,s=0,i=t.length;s<i;s++){var o=t[s];if(ql(o)){var l=kr(o,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(e)||(c.push(e),r.set(l,c))}else if(typeof o=="object"){var d=Object.keys(o),h=(n=d[0])!==null&&n!==void 0?n:"",m=o[h];if(typeof h=="string"&&Array.isArray(m))for(var p=0,x=m.length;p<x;p++){var y=m[p];if(y){var l=kr(y,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(h)||(c.push(h),r.set(l,c))}}}}return r}function PNe(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function RNe(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var s=r.date,i=r.holidayName;if(ql(s)){var o=kr(s,"MM.dd.yyyy"),l=n.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===e&&PNe(l.holidayNames,[i]))){l.className=e;var c=l.holidayNames;l.holidayNames=c?Po(Po([],c,!0),[i],!1):[i],n.set(o,l)}}}),n}function LNe(t,e,n,r,s){for(var i=s.length,o=[],l=0;l<i;l++){var c=t,d=s[l];d&&(c=Ove(c,Gl(d)),c=JA(c,Yl(d)),c=Pve(c,dd(d)));var h=JA(t,(n+1)*r);jd(c,e)&&Do(c,h)&&d!=null&&o.push(d)}return o}function J9(t){return t<10?"0".concat(t):"".concat(t)}function Il(t,e){e===void 0&&(e=Rx);var n=Math.ceil(cn(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function INe(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function Q9(t){var e=t.getSeconds(),n=t.getMilliseconds();return Lt(t.getTime()-e*1e3-n)}function FNe(t,e){return Q9(t).getTime()===Q9(e).getTime()}function Z9(t){if(!ql(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function aC(t,e){if(!ql(t)||!ql(e))throw new Error("Invalid date received");var n=Z9(t),r=Z9(e);return Do(n,r)}function jJ(t){return t.key===Mt.Space}var $Ne=(function(t){Qs(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=Q.createRef(),r.onTimeChange=function(s){var i,o;r.setState({time:s});var l=r.props.date,c=l instanceof Date&&!isNaN(+l),d=c?l:new Date;if(s!=null&&s.includes(":")){var h=s.split(":"),m=h[0],p=h[1];d.setHours(Number(m)),d.setMinutes(Number(p))}(o=(i=r.props).onChange)===null||o===void 0||o.call(i,d)},r.renderTimeInput=function(){var s=r.state.time,i=r.props,o=i.date,l=i.timeString,c=i.customTimeInput;return c?b.cloneElement(c,{date:o,value:s,onChange:r.onTimeChange}):Q.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:s,onChange:function(d){r.onTimeChange(d.target.value||l)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return Q.createElement("div",{className:"react-datepicker__input-time-container"},Q.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Q.createElement("div",{className:"react-datepicker-time__input-container"},Q.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(b.Component),HNe=(function(t){Qs(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=b.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var s,i,o=r.key;o===Mt.Space&&(r.preventDefault(),r.key=Mt.Enter),(i=(s=n.props).handleOnKeyDown)===null||i===void 0||i.call(s,r)},n.isSameDay=function(r){return vn(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var s=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),i=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!s&&n.isSameDayOrWeek(n.props.preSelection)&&!i},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Ei(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return MP(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return vn(n.props.day,ud(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&vn(r,ud(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,s=r.day,i=r.highlightDates;if(!i)return!1;var o=kr(s,"MM.dd.yyyy");return i.get(o)},n.getHolidaysClass=function(){var r,s=n.props,i=s.day,o=s.holidays;if(!o)return[void 0];var l=kr(i,"MM.dd.yyyy");return o.has(l)?[(r=o.get(l))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:hu(s,i,o)},n.isInSelectingRange=function(){var r,s=n.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.selectsDisabledDaysInRange,h=s.startDate,m=s.swapRange,p=s.endDate,x=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;if(!(o||l||c)||!x||!d&&n.isDisabled())return!1;if(o&&p&&(Do(x,p)||ju(x,p)))return hu(i,x,p);if(l&&h&&(jd(x,h)||ju(x,h)))return hu(i,h,x);if(c&&h&&!p){if(ju(x,h)||jd(x,h))return hu(i,h,x);if(m&&Do(x,h))return hu(i,x,h)}return!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var s=n.props,i=s.day,o=s.startDate,l=s.selectsStart,c=s.swapRange,d=s.selectsRange,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?vn(i,h):d&&c&&o&&h?vn(i,Do(h,o)?h:o):vn(i,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var s=n.props,i=s.day,o=s.endDate,l=s.selectsEnd,c=s.selectsRange,d=s.swapRange,h=s.startDate,m=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?vn(i,m):c&&d&&h&&m?vn(i,Do(m,h)?h:m):c?vn(i,m):vn(i,o)},n.isRangeStart=function(){var r=n.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:vn(i,s)},n.isRangeEnd=function(){var r=n.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:vn(o,s)},n.isWeekend=function(){var r=Ewe(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===oa(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(oa(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Yn())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var s=n.props.dayClassName?n.props.dayClassName(r):void 0;return It("react-datepicker__day",s,"react-datepicker__day--"+jNe(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,s=r.day,i=r.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=r.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,d=n.isDisabled()||n.isExcluded()?c:o;return"".concat(d," ").concat(kr(s,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,s=r.day,i=r.holidays,o=i===void 0?new Map:i,l=r.excludeDates,c=kr(s,"MM.dd.yyyy"),d=[];return o.has(c)&&d.push.apply(d,o.get(c).holidayNames),n.isExcluded()&&d.push(l==null?void 0:l.filter(function(h){return h instanceof Date?vn(h,s):vn(h==null?void 0:h.date,s)}).map(function(h){if(!(h instanceof Date))return h==null?void 0:h.message})),d.join(", ")},n.getTabIndex=function(){var r=n.props.selected,s=n.props.preSelection,i=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&vn(s,r))?0:-1;return i},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(_9(n.props.day),n.props.day):_9(n.props.day)},n.render=function(){return Q.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"gridcell",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&Q.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,s;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(b.Component),zNe=(function(t){Qs(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=b.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var s,i,o=r.key;o===Mt.Space&&(r.preventDefault(),r.key=Mt.Enter),(i=(s=n.props).handleOnKeyDown)===null||i===void 0||i.call(s,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!vn(n.props.date,n.props.selected)&&vn(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||vn(n.props.date,n.props.selected)&&vn(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var s=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&vn(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(s=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,s=n.isWeekDisabled,i=n.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,l=n.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!s,"react-datepicker__week-number--selected":!!l&&vn(this.props.date,this.props.selected)};return Q.createElement("div",{ref:this.weekNumberEl,className:It(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},e})(b.Component),BNe=(function(t){Qs(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Ei(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,s){n.props.onDayClick&&n.props.onDayClick(r,s)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,s,i){for(var o,l,c,d=new Date(r),h=0;h<7;h++){var m=new Date(r);m.setDate(m.getDate()+h);var p=!n.isDisabled(m);if(p){d=m;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(d,s,i),n.props.showWeekPicker&&n.handleDayClick(d,i),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):wNe(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),s=lo(r,6),i=new Date(r);i<=s;){if(!n.isDisabled(i))return!1;i=lo(i,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),s=[],i=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,i):void 0;s.push(Q.createElement(zNe,wn({key:"W"},e.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(l){var c=lo(r,l);return Q.createElement(HNe,wn({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:n.handleDayClick.bind(n,c),onMouseEnter:n.handleDayMouseEnter.bind(n,c)}))}))},n.startOfWeek=function(){return ud(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!vn(n.startOfWeek(),n.props.selected)&&vn(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":vn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return Q.createElement("div",{className:It(n,r),role:"row"},this.renderDays())},e})(b.Component),Zp,VNe=6,Df={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},iC=(Zp={},Zp[Df.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Zp[Df.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Zp[Df.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Zp),Wy=1;function eF(t,e){return t?Df.FOUR_COLUMNS:e?Df.TWO_COLUMNS:Df.THREE_COLUMNS}var WNe=(function(t){Qs(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=Po([],Array(12),!0).map(function(){return b.createRef()}),n.QUARTER_REFS=Po([],Array(4),!0).map(function(){return b.createRef()}),n.isDisabled=function(r){return Ei(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return MP(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,s){var i,o;(o=(i=n.props).onDayClick)===null||o===void 0||o.call(i,r,s,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var s,i;(i=(s=n.props).onDayMouseEnter)===null||i===void 0||i.call(s,r)},n.handleMouseLeave=function(){var r,s;(s=(r=n.props).onMouseLeave)===null||s===void 0||s.call(r)},n.isRangeStartMonth=function(r){var s=n.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:pa(Ai(i,r),o)},n.isRangeStartQuarter=function(r){var s=n.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:Vw(hf(i,r),o)},n.isRangeEndMonth=function(r){var s=n.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:pa(Ai(i,r),l)},n.isRangeEndQuarter=function(r){var s=n.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:Vw(hf(i,r),l)},n.isInSelectingRangeMonth=function(r){var s,i=n.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,h=i.startDate,m=i.endDate,p=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return!(l||c||d)||!p?!1:l&&m?Hy(p,m,r,o):c&&h||d&&h&&!m?Hy(h,p,r,o):!1},n.isSelectingMonthRangeStart=function(r){var s;if(!n.isInSelectingRangeMonth(r))return!1;var i=n.props,o=i.day,l=i.startDate,c=i.selectsStart,d=Ai(o,r),h=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return c?pa(d,h):pa(d,l)},n.isSelectingMonthRangeEnd=function(r){var s;if(!n.isInSelectingRangeMonth(r))return!1;var i=n.props,o=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,h=Ai(o,r),m=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return c||d?pa(h,m):pa(h,l)},n.isInSelectingRangeQuarter=function(r){var s,i=n.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,h=i.startDate,m=i.endDate,p=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return!(l||c||d)||!p?!1:l&&m?Vy(p,m,r,o):c&&h||d&&h&&!m?Vy(h,p,r,o):!1},n.isWeekInMonth=function(r){var s=n.props.day,i=lo(r,6);return pa(r,s)||pa(i,s)},n.isCurrentMonth=function(r,s){return cn(r)===cn(Yn())&&s===oa(Yn())},n.isCurrentQuarter=function(r,s){return cn(r)===cn(Yn())&&s===Ru(Yn())},n.isSelectedMonth=function(r,s,i){return oa(i)===s&&cn(r)===cn(i)},n.isSelectMonthInList=function(r,s,i){return i.some(function(o){return n.isSelectedMonth(r,s,o)})},n.isSelectedQuarter=function(r,s,i){return Ru(r)===s&&cn(r)===cn(i)},n.isMonthSelected=function(){var r=n.props,s=r.day,i=r.selected,o=r.selectedDates,l=r.selectsMultiple,c=oa(s);return l?o==null?void 0:o.some(function(d){return n.isSelectedMonth(s,c,d)}):!!i&&n.isSelectedMonth(s,c,i)},n.renderWeeks=function(){for(var r=[],s=n.props.fixedHeight,i=0,o=!1,l=ud(Kl(n.props.day),n.props.locale,n.props.calendarStartDay),c=function(y){return n.props.showWeekPicker?ud(y,n.props.locale,n.props.calendarStartDay):n.props.preSelection},d=function(y){return n.props.showWeekPicker?ud(y,n.props.locale,n.props.calendarStartDay):n.props.selected},h=n.props.selected?d(n.props.selected):void 0,m=n.props.preSelection?c(n.props.preSelection):void 0;r.push(Q.createElement(BNe,wn({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:i,day:l,month:oa(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:h,preSelection:m,showWeekNumber:n.props.showWeekNumbers}))),!o;){i++,l=Ew(l,1);var p=s&&i>=VNe,x=!s&&!n.isWeekInMonth(l);if(p||x)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,s){var i=n.isMonthDisabledForLabelDate(s),o=i.isDisabled,l=i.labelDate;o||n.handleDayClick(Kl(l),r)},n.onMonthMouseEnter=function(r){var s=n.isMonthDisabledForLabelDate(r),i=s.isDisabled,o=s.labelDate;i||n.handleDayMouseEnter(Kl(o))},n.handleMonthNavigation=function(r,s){var i,o,l,c;(o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,s),(c=(l=n.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},n.handleKeyboardNavigation=function(r,s,i){var o,l=n.props,c=l.selected,d=l.preSelection,h=l.setPreSelection,m=l.minDate,p=l.maxDate,x=l.showFourColumnMonthYearPicker,y=l.showTwoColumnMonthYearPicker;if(d){var w=eF(x,y),v=n.getVerticalOffset(w),N=(o=iC[w])===null||o===void 0?void 0:o.grid,C=function(O,D,F){var L,I,P=D,z=F;switch(O){case Mt.ArrowRight:P=ho(D,Wy),z=F===11?0:F+Wy;break;case Mt.ArrowLeft:P=Lu(D,Wy),z=F===0?11:F-Wy;break;case Mt.ArrowUp:P=Lu(D,v),z=!((L=N==null?void 0:N[0])===null||L===void 0)&&L.includes(F)?F+12-v:F-v;break;case Mt.ArrowDown:P=ho(D,v),z=!((I=N==null?void 0:N[N.length-1])===null||I===void 0)&&I.includes(F)?F-12+v:F+v;break}return{newCalculatedDate:P,newCalculatedMonth:z}},S=function(O,D,F){for(var L=40,I=O,P=!1,z=0,U=C(I,D,F),V=U.newCalculatedDate,$=U.newCalculatedMonth;!P;){if(z>=L){V=D,$=F;break}if(m&&V<m){I=Mt.ArrowRight;var R=C(I,V,$);V=R.newCalculatedDate,$=R.newCalculatedMonth}if(p&&V>p){I=Mt.ArrowLeft;var R=C(I,V,$);V=R.newCalculatedDate,$=R.newCalculatedMonth}if(MNe(V,n.props)){var R=C(I,V,$);V=R.newCalculatedDate,$=R.newCalculatedMonth}else P=!0;z++}return{newCalculatedDate:V,newCalculatedMonth:$}};if(s===Mt.Enter){n.isMonthDisabled(i)||(n.onMonthClick(r,i),h==null||h(c));return}var M=S(s,d,i),_=M.newCalculatedDate,A=M.newCalculatedMonth;switch(s){case Mt.ArrowRight:case Mt.ArrowLeft:case Mt.ArrowUp:case Mt.ArrowDown:n.handleMonthNavigation(A,_);break}}},n.getVerticalOffset=function(r){var s,i;return(i=(s=iC[r])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},n.onMonthKeyDown=function(r,s){var i=n.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,c=r.key;c!==Mt.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,c,s),l&&l(r)},n.onQuarterClick=function(r,s){var i=hf(n.props.day,s);zy(i,n.props)||n.handleDayClick(H9(i),r)},n.onQuarterMouseEnter=function(r){var s=hf(n.props.day,r);zy(s,n.props)||n.handleDayMouseEnter(H9(s))},n.handleQuarterNavigation=function(r,s){var i,o,l,c;n.isDisabled(s)||n.isExcluded(s)||((o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,s),(c=(l=n.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},n.onQuarterKeyDown=function(r,s){var i,o,l=r.key;if(!n.props.disabledKeyboardNavigation)switch(l){case Mt.Enter:n.onQuarterClick(r,s),(o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,n.props.selected);break;case Mt.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(s===4?1:s+1,xP(n.props.preSelection,1));break;case Mt.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(s===1?4:s-1,rJ(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var s,i=n.props,o=i.day,l=i.minDate,c=i.maxDate,d=i.excludeDates,h=i.includeDates,m=Ai(o,r);return{isDisabled:(s=(l||c||d||h)&&yJ(m,n.props))!==null&&s!==void 0?s:!1,labelDate:m}},n.isMonthDisabled=function(r){var s=n.isMonthDisabledForLabelDate(r).isDisabled;return s},n.getMonthClassNames=function(r){var s=n.props,i=s.day,o=s.startDate,l=s.endDate,c=s.preSelection,d=s.monthClassName,h=d?d(Ai(i,r)):void 0,m=n.getSelection();return It("react-datepicker__month-text","react-datepicker__month-".concat(r),h,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":m?n.isSelectMonthInList(i,r,m):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&c&&n.isSelectedMonth(i,r,c)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&l?Hy(o,l,r,i):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(i,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var s=oa(n.props.preSelection),i=n.isMonthDisabledForLabelDate(s).isDisabled,o=r===s&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var s=Ru(n.props.preSelection),i=zy(n.props.day,n.props),o=r===s&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var s=n.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=s.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,d=s.day,h=s.locale,m=Ai(d,r),p=n.isDisabled(m)||n.isExcluded(m)?c:o;return"".concat(p," ").concat(kr(m,"MMMM yyyy",h))},n.getQuarterClassNames=function(r){var s=n.props,i=s.day,o=s.startDate,l=s.endDate,c=s.selected,d=s.minDate,h=s.maxDate,m=s.excludeDates,p=s.includeDates,x=s.filterDate,y=s.preSelection,w=s.disabledKeyboardNavigation,v=(d||h||m||p||x)&&zy(hf(i,r),n.props);return It("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":c?n.isSelectedQuarter(i,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!w&&y&&n.isSelectedQuarter(i,r,y)&&!v,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&l?Vy(o,l,r,i):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(i,r)})},n.getMonthContent=function(r){var s=n.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,l=s.locale,c=s.day,d=bJ(r,l),h=TP(r,l);return o?o(r,d,h,c):i?h:d},n.getQuarterContent=function(r){var s,i=n.props,o=i.renderQuarterContent,l=i.locale,c=TNe(r,l);return(s=o==null?void 0:o(r,c))!==null&&s!==void 0?s:c},n.renderMonths=function(){var r,s=n.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,l=s.day,c=s.selected,d=(r=iC[eF(o,i)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(h,m){return Q.createElement("div",{className:"react-datepicker__month-wrapper",key:m},h.map(function(p,x){return Q.createElement("div",{ref:n.MONTH_REFS[p],key:x,onClick:function(y){n.onMonthClick(y,p)},onKeyDown:function(y){jJ(y)&&(y.preventDefault(),y.key=Mt.Enter),n.onMonthKeyDown(y,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:Number(n.getTabIndex(p)),className:n.getMonthClassNames(p),"aria-disabled":n.isMonthDisabled(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(l,p)?"date":void 0,"aria-selected":c?n.isSelectedMonth(l,p,c):void 0},n.getMonthContent(p))}))})},n.renderQuarters=function(){var r=n.props,s=r.day,i=r.selected,o=[1,2,3,4];return Q.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,c){return Q.createElement("div",{key:c,ref:n.QUARTER_REFS[c],role:"option",onClick:function(d){n.onQuarterClick(d,l)},onKeyDown:function(d){n.onQuarterKeyDown(d,l)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(l)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(l)}:void 0,className:n.getQuarterClassNames(l),"aria-selected":i?n.isSelectedQuarter(s,l,i):void 0,tabIndex:Number(n.getQuarterTabIndex(l)),"aria-current":n.isCurrentQuarter(s,l)?"date":void 0},n.getQuarterContent(l))}))},n.getClassNames=function(){var r=n.props,s=r.selectingDate,i=r.selectsStart,o=r.selectsEnd,l=r.showMonthYearPicker,c=r.showQuarterYearPicker,d=r.showWeekPicker;return It("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,s=n.selectedDates,i=n.selectsMultiple;if(i)return s;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,s=n.showQuarterYearPicker,i=n.day,o=n.ariaLabelPrefix,l=o===void 0?"Month ":o,c=l?l.trim()+" ":"",d=r||s;return d?Q.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(kr(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():this.renderQuarters()):Q.createElement("div",{role:"table"},this.props.dayNamesHeader&&Q.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),Q.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(kr(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e})(b.Component),UNe=(function(t){Qs(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.monthOptionButtonsRef={},n.isSelectedMonth=function(r){return n.props.month===r},n.handleOptionKeyDown=function(r,s){var i;switch(s.key){case"Enter":s.preventDefault(),n.onChange(r);break;case"Escape":s.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(r+(s.key==="ArrowUp"?-1:1)+n.props.monthNames.length)%n.props.monthNames.length;(i=n.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},n.renderOptions=function(){return n.monthOptionButtonsRef={},n.props.monthNames.map(function(r,s){return Q.createElement("div",{ref:function(i){n.monthOptionButtonsRef[s]=i,n.isSelectedMonth(s)&&(i==null||i.focus())},role:"button",tabIndex:0,className:n.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,s),onKeyDown:n.handleOptionKeyDown.bind(n,s),"aria-selected":n.isSelectedMonth(s)?"true":void 0},n.isSelectedMonth(s)?Q.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return Q.createElement(oN,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(b.Component),qNe=(function(t){Qs(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(s,i){return Q.createElement("option",{key:s,value:i},s)})},n.renderSelectMode=function(r){return Q.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(s){return n.onChange(parseInt(s.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,s){return Q.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},Q.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Q.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[n.props.month]))},n.renderDropdown=function(r){return Q.createElement(UNe,wn({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var s=n.state.dropdownVisible,i=[n.renderReadView(!s,r)];return s&&i.unshift(n.renderDropdown(r)),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return bJ(i,n.props.locale)}:function(i){return TP(i,n.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(r);break;case"select":s=this.renderSelectMode(r);break}return Q.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e})(b.Component);function GNe(t,e){for(var n=[],r=Kl(t),s=Kl(e);!jd(r,s);)n.push(Yn(r)),r=ho(r,1);return n}var YNe=(function(t){Qs(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(s){var i=eO(s),o=To(r.props.date,s)&&pa(r.props.date,s);return Q.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:r.onChange.bind(r,i),"aria-selected":o?"true":void 0},o?Q.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",kr(s,r.props.dateFormat,r.props.locale))})},r.onChange=function(s){return r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:GNe(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=It({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Q.createElement(oN,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(b.Component),KNe=(function(t){Qs(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Kl(n.props.minDate),s=Kl(n.props.maxDate),i=[];!jd(r,s);){var o=eO(r);i.push(Q.createElement("option",{key:o,value:o},kr(r,n.props.dateFormat,n.props.locale))),r=ho(r,1)}return i},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return Q.createElement("select",{value:eO(Kl(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var s=kr(n.props.date,n.props.dateFormat,n.props.locale);return Q.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},Q.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Q.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},n.renderDropdown=function(){return Q.createElement(YNe,wn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,s=[n.renderReadView(!r)];return r&&s.unshift(n.renderDropdown()),s},n.onChange=function(r){n.toggleDropdown();var s=Yn(r);To(n.props.date,s)&&pa(n.props.date,s)||n.props.onChange(s)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return Q.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e})(b.Component),XNe=(function(t){Qs(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,s,i;n.list&&(n.list.scrollTop=(i=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((s=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&s!==void 0?s:0):n.list.clientHeight,n.centerLi))!==null&&i!==void 0?i:0)})},n.handleClick=function(r){var s,i;(n.props.minTime||n.props.maxTime)&&U9(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&W9(r,n.props)||(i=(s=n.props).onChange)===null||i===void 0||i.call(s,r)},n.isSelectedTime=function(r){return n.props.selected&&FNe(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&U9(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&W9(r,n.props)},n.liClasses=function(r){var s,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Gl(r)*3600+Yl(r)*60+dd(r))%(((s=n.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(r,s){var i,o;r.key===Mt.Space&&(r.preventDefault(),r.key=Mt.Enter),(r.key===Mt.ArrowUp||r.key===Mt.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Mt.ArrowDown||r.key===Mt.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Mt.Enter&&n.handleClick(s),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.renderTimes=function(){for(var r,s=[],i=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,l=n.props.selected||n.props.openToDate||Yn(),c=Xv(l),d=n.props.injectTimes&&n.props.injectTimes.sort(function(v,N){return v.getTime()-N.getTime()}),h=60*INe(l),m=h/o,p=0;p<m;p++){var x=JA(c,p*o);if(s.push(x),d){var y=LNe(c,x,p,o,d);s=s.concat(y)}}var w=s.reduce(function(v,N){return N.getTime()<=l.getTime()?N:v},s[0]);return s.map(function(v){return Q.createElement("li",{key:v.valueOf(),onClick:n.handleClick.bind(n,v),className:n.liClasses(v),ref:function(N){v===w&&(n.centerLi=N)},onKeyDown:function(N){n.handleOnKeyDown(N,v)},tabIndex:v===w?0:-1,role:"option","aria-selected":n.isSelectedTime(v)?"true":void 0,"aria-disabled":n.isDisabledTime(v)?"true":void 0},kr(v,i,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?Q.createElement(Q.Fragment,null):Q.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},Q.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,s=this.state.height;return Q.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Q.createElement("div",{className:"react-datepicker__time"},Q.createElement("div",{className:"react-datepicker__time-box"},Q.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){n.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e})(b.Component),tF=3,JNe=(function(t){Qs(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=Po([],Array(r.props.yearItemNumber),!0).map(function(){return b.createRef()}),r.isDisabled=function(s){return Ei(s,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(s){return MP(s,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var s;return(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection},r.updateFocusOnPaginate=function(s){var i=function(){var o,l;(l=(o=r.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},r.handleYearClick=function(s,i){r.props.onDayClick&&r.props.onDayClick(s,i)},r.handleYearNavigation=function(s,i){var o,l,c,d,h=r.props,m=h.date,p=h.yearItemNumber;if(!(m===void 0||p===void 0)){var x=Il(m,p).startPeriod;r.isDisabled(i)||r.isExcluded(i)||((l=(o=r.props).setPreSelection)===null||l===void 0||l.call(o,i),s-x<0?r.updateFocusOnPaginate(p-(x-s)):s-x>=p?r.updateFocusOnPaginate(Math.abs(p-(s-x))):(d=(c=r.YEAR_REFS[s-x])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},r.isSameDay=function(s,i){return vn(s,i)},r.isCurrentYear=function(s){return s===cn(Yn())},r.isRangeStart=function(s){return r.props.startDate&&r.props.endDate&&To(_o(Yn(),s),r.props.startDate)},r.isRangeEnd=function(s){return r.props.startDate&&r.props.endDate&&To(_o(Yn(),s),r.props.endDate)},r.isInRange=function(s){return By(s,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(s){var i=r.props,o=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.startDate,h=i.endDate;return!(o||l||c)||!r.selectingDate()?!1:o&&h?By(s,r.selectingDate(),h):l&&d||c&&d&&!h?By(s,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(s){var i;if(!r.isInSelectingRange(s))return!1;var o=r.props,l=o.startDate,c=o.selectsStart,d=_o(Yn(),s);return c?To(d,(i=r.selectingDate())!==null&&i!==void 0?i:null):To(d,l??null)},r.isSelectingRangeEnd=function(s){var i;if(!r.isInSelectingRange(s))return!1;var o=r.props,l=o.endDate,c=o.selectsEnd,d=o.selectsRange,h=_o(Yn(),s);return c||d?To(h,(i=r.selectingDate())!==null&&i!==void 0?i:null):To(h,l??null)},r.isKeyboardSelected=function(s){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var i=r.props,o=i.minDate,l=i.maxDate,c=i.excludeDates,d=i.includeDates,h=i.filterDate,m=i.selected,p=C0(_o(r.props.date,s)),x=(o||l||c||d||h)&&Jv(s,r.props),y=!!m&&vn(p,C0(m)),w=vn(p,C0(r.props.preSelection));return!r.props.inline&&!y&&w&&!x}},r.isSelectedYear=function(s){var i=r.props,o=i.selectsMultiple,l=i.selected,c=i.selectedDates;return o?c==null?void 0:c.some(function(d){return s===cn(d)}):!!l&&s===cn(l)},r.onYearClick=function(s,i){var o=r.props.date;o!==void 0&&r.handleYearClick(C0(_o(o,i)),s)},r.onYearKeyDown=function(s,i){var o,l,c=s.key,d=r.props,h=d.date,m=d.yearItemNumber,p=d.handleOnKeyDown;if(c!==Mt.Tab&&s.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case Mt.Enter:if(r.props.selected==null)break;r.onYearClick(s,i),(l=(o=r.props).setPreSelection)===null||l===void 0||l.call(o,r.props.selected);break;case Mt.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(i+1,Ul(r.props.preSelection,1));break;case Mt.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(i-1,Qf(r.props.preSelection,1));break;case Mt.ArrowUp:{if(h===void 0||m===void 0||r.props.preSelection==null)break;var x=Il(h,m).startPeriod,y=tF,w=i-y;if(w<x){var v=m%y;i>=x&&i<x+v?y=v:y+=v,w=i-y}r.handleYearNavigation(w,Qf(r.props.preSelection,y));break}case Mt.ArrowDown:{if(h===void 0||m===void 0||r.props.preSelection==null)break;var N=Il(h,m).endPeriod,y=tF,w=i+y;if(w>N){var v=m%y;i<=N&&i>N-v?y=v:y+=v,w=i+y}r.handleYearNavigation(w,Ul(r.props.preSelection,y));break}}p&&p(s)},r.getYearClassNames=function(s){var i=r.props,o=i.date,l=i.minDate,c=i.maxDate,d=i.excludeDates,h=i.includeDates,m=i.filterDate,p=i.yearClassName;return It("react-datepicker__year-text","react-datepicker__year-".concat(s),o?p==null?void 0:p(_o(o,s)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(s),"react-datepicker__year-text--disabled":(l||c||d||h||m)&&Jv(s,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(s),"react-datepicker__year-text--range-start":r.isRangeStart(s),"react-datepicker__year-text--range-end":r.isRangeEnd(s),"react-datepicker__year-text--in-range":r.isInRange(s),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(s),"react-datepicker__year-text--today":r.isCurrentYear(s)})},r.getYearTabIndex=function(s){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var i=cn(r.props.preSelection),o=Jv(s,r.props);return s===i&&!o?"0":"-1"},r.getYearContent=function(s){return r.props.renderYearContent?r.props.renderYearContent(s):s},r}return e.prototype.render=function(){var n=this,r=[],s=this.props,i=s.date,o=s.yearItemNumber,l=s.onYearMouseEnter,c=s.onYearMouseLeave;if(i===void 0)return null;for(var d=Il(i,o),h=d.startPeriod,m=d.endPeriod,p=function(w){r.push(Q.createElement("div",{ref:x.YEAR_REFS[w-h],onClick:function(v){n.onYearClick(v,w)},onKeyDown:function(v){jJ(v)&&(v.preventDefault(),v.key=Mt.Enter),n.onYearKeyDown(v,w)},tabIndex:Number(x.getYearTabIndex(w)),className:x.getYearClassNames(w),onMouseEnter:x.props.usePointerEvent?void 0:function(v){return l(v,w)},onPointerEnter:x.props.usePointerEvent?function(v){return l(v,w)}:void 0,onMouseLeave:x.props.usePointerEvent?void 0:function(v){return c(v,w)},onPointerLeave:x.props.usePointerEvent?function(v){return c(v,w)}:void 0,key:w,"aria-current":x.isCurrentYear(w)?"date":void 0},x.getYearContent(w)))},x=this,y=h;y<=m;y++)p(y);return Q.createElement("div",{className:"react-datepicker__year"},Q.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e})(b.Component);function QNe(t,e,n,r){for(var s=[],i=0;i<2*e+1;i++){var o=t+e-i,l=!0;n&&(l=cn(n)<=o),r&&l&&(l=cn(r)>=o),l&&s.push(o)}return s}var ZNe=(function(t){Qs(e,t);function e(n){var r=t.call(this,n)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(l,c){var d;switch(c.key){case"Enter":c.preventDefault(),r.onChange(l);break;case"Escape":c.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var h=l+(c.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[h]&&((d=r.yearOptionButtonsRef[h])===null||d===void 0||d.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var l=r.props.year,c=r.state.yearsList.map(function(m){return Q.createElement("div",{ref:function(p){r.yearOptionButtonsRef[m]=p,m===l&&(p==null||p.focus())},role:"button",tabIndex:0,className:l===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:r.onChange.bind(r,m),onKeyDown:r.handleOptionKeyDown.bind(r,m),"aria-selected":l===m?"true":void 0},l===m?Q.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",m)}),d=r.props.minDate?cn(r.props.minDate):null,h=r.props.maxDate?cn(r.props.maxDate):null;return(!h||!r.state.yearsList.find(function(m){return m===h}))&&c.unshift(Q.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},Q.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(m){return m===d}))&&c.push(Q.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},Q.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var c=r.state.yearsList.map(function(d){return d+l});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var s=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,o=s||(i?10:5);return r.state={yearsList:QNe(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=b.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,s=r?r.find(function(i){return i.ariaSelected}):null;n.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=It({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Q.createElement(oN,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(b.Component),e2e=(function(t){Qs(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?cn(n.props.minDate):1900,s=n.props.maxDate?cn(n.props.maxDate):2100,i=[],o=r;o<=s;o++)i.push(Q.createElement("option",{key:o,value:o},o));return i},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return Q.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return Q.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:n.toggleDropdown},Q.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Q.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return Q.createElement(ZNe,wn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,s=[n.renderReadView(!r)];return r&&s.unshift(n.renderDropdown()),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,s){var i;(i=n.onSelect)===null||i===void 0||i.call(n,r,s),n.setOpen()},n.onSelect=function(r,s){var i,o;(o=(i=n.props).onSelect)===null||o===void 0||o.call(i,r,s)},n.setOpen=function(){var r,s;(s=(r=n.props).setOpen)===null||s===void 0||s.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return Q.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e})(b.Component),t2e=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],NJ="react-datepicker-ignore-onclickoutside",n2e=function(t){var e=(t.className||"").split(/\s+/);return t2e.some(function(n){return e.indexOf(n)>=0})},r2e=(function(t){Qs(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(s){r.props.onClickOutside(s)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(s){var i,o;n2e(s.target)&&((o=(i=r.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},r.getDateInView=function(){var s=r.props,i=s.preSelection,o=s.selected,l=s.openToDate,c=vJ(r.props),d=wJ(r.props),h=Yn(),m=l||o||i;return m||(c&&Do(h,c)?c:d&&jd(h,d)?d:h)},r.increaseMonth=function(){r.setState(function(s){var i=s.date;return{date:ho(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(s){var i=s.date;return{date:Lu(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(s,i,o){r.props.onSelect(s,i,o),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleDayMouseEnter=function(s){r.setState({selectingDate:s}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(s,i){r.setState({selectingDate:_o(Yn(),i)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(s,i)},r.handleYearMouseLeave=function(s,i){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(s,i)},r.handleYearChange=function(s){var i,o,l,c;(o=(i=r.props).onYearChange)===null||o===void 0||o.call(i,s),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(s),(c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.getEnabledPreSelectionDateForMonth=function(s){if(!Ei(s,r.props))return s;for(var i=Kl(s),o=SNe(s),l=Lve(o,i),c=null,d=0;d<=l;d++){var h=lo(i,d);if(!Ei(h,r.props)){c=h;break}}return c},r.handleMonthChange=function(s){var i,o,l,c=(i=r.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(l=(o=r.props).setOpen)===null||l===void 0||l.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(s){var i,o;(o=(i=r.props).onMonthChange)===null||o===void 0||o.call(i,s),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(s){r.handleYearChange(s),r.handleMonthChange(s)},r.changeYear=function(s){r.setState(function(i){var o=i.date;return{date:_o(o,Number(s))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(s){r.setState(function(i){var o=i.date;return{date:Ai(o,Number(s))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(s){r.setState(function(i){var o=i.date;return{date:_o(Ai(o,oa(s)),cn(s))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(s){s===void 0&&(s=r.state.date);var i=ud(s,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(Q.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},Q.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),Q.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),o.concat([0,1,2,3,4,5,6].map(function(l){var c=lo(i,l),d=r.formatWeekday(c,r.props.locale),h=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return Q.createElement("div",{key:l,role:"columnheader",className:It("react-datepicker__day-name",h)},Q.createElement("span",{className:"react-datepicker__sr-only"},kr(c,"EEEE",r.props.locale)),Q.createElement("span",{"aria-hidden":"true"},d))}))},r.formatWeekday=function(s,i){return r.props.formatWeekDay?kNe(s,r.props.formatWeekDay,i):r.props.useWeekdaysShort?_Ne(s,i):CNe(s,i)},r.decreaseYear=function(){r.setState(function(s){var i,o=s.date;return{date:Qf(o,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var s,i,o;if(!r.props.renderCustomHeader){var l=(s=r.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,d=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:c,h=Lu(r.state.date,d),m;switch(!0){case r.props.showMonthYearPicker:m=Y9(r.state.date,r.props);break;case r.props.showYearPicker:m=ENe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:m=ANe(r.state.date,r.props);break;default:m=q9(h,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&m||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],x=["react-datepicker__navigation","react-datepicker__navigation--previous"],y=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(y=r.decreaseYear),m&&r.props.showDisabledMonthNavigation&&(x.push("react-datepicker__navigation--previous--disabled"),y=void 0);var w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,v=r.props,N=v.previousMonthButtonLabel,C=N===void 0?e.defaultProps.previousMonthButtonLabel:N,S=v.previousYearButtonLabel,M=S===void 0?e.defaultProps.previousYearButtonLabel:S,_=r.props,A=_.previousMonthAriaLabel,O=A===void 0?typeof C=="string"?C:"Previous Month":A,D=_.previousYearAriaLabel,F=D===void 0?typeof M=="string"?M:"Previous Year":D;return Q.createElement("button",{type:"button",className:x.join(" "),onClick:y,onKeyDown:r.props.handleOnKeyDown,"aria-label":w?F:O},Q.createElement("span",{className:p.join(" ")},w?M:C))}}},r.increaseYear=function(){r.setState(function(s){var i,o=s.date;return{date:Ul(o,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var s;if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=K9(r.state.date,r.props);break;case r.props.showYearPicker:i=DNe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=ONe(r.state.date,r.props);break;default:i=G9(r.state.date,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,m=h.nextMonthButtonLabel,p=m===void 0?e.defaultProps.nextMonthButtonLabel:m,x=h.nextYearButtonLabel,y=x===void 0?e.defaultProps.nextYearButtonLabel:x,w=r.props,v=w.nextMonthAriaLabel,N=v===void 0?typeof p=="string"?p:"Next Month":v,C=w.nextYearAriaLabel,S=C===void 0?typeof y=="string"?y:"Next Year":C;return Q.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?S:N},Q.createElement("span",{className:l.join(" ")},d?y:p))}}},r.renderCurrentMonth=function(s){s===void 0&&(s=r.state.date);var i=["react-datepicker__current-month"];return r.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),Q.createElement("h2",{className:i.join(" ")},kr(s,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showYearDropdown||s))return Q.createElement(e2e,wn({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:cn(r.state.date)}))},r.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthDropdown||s))return Q.createElement(qNe,wn({},e.defaultProps,r.props,{month:oa(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthYearDropdown||s))return Q.createElement(KNe,wn({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(s){r.props.onSelect(z9(),s),r.props.setPreSelection&&r.props.setPreSelection(z9())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return Q.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(s){return Q.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(s))},r.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return Q.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(i),Q.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)))},r.renderCustomHeader=function(s){var i,o,l=s.monthDate,c=s.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=r.props,h=d.showYearPicker,m=d.yearItemNumber,p;if(h){var x=Il(l,m),y=x.startPeriod,w=x.endPeriod;p={startYear:y,endYear:w}}var v=q9(r.state.date,r.props),N=G9(r.state.date,r.props),C=Y9(r.state.date,r.props),S=K9(r.state.date,r.props);return Q.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(i=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,wn(wn(wn({},r.state),h&&{visibleYearsRange:p}),{customHeaderCount:c,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:v,nextMonthButtonDisabled:N,prevYearButtonDisabled:C,nextYearButtonDisabled:S})))},r.renderYearHeader=function(s){var i=s.monthDate,o=r.props,l=o.showYearPicker,c=o.yearItemNumber,d=c===void 0?e.defaultProps.yearItemNumber:c,h=Il(i,d),m=h.startPeriod,p=h.endPeriod;return Q.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(m," - ").concat(p):cn(i))},r.renderHeader=function(s){var i=s.monthDate,o=s.i,l=o===void 0?0:o,c={monthDate:i,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var s,i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],l=(s=r.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ul(r.state.date,c):Lu(r.state.date,c),h=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:c,m=0;m<l;++m){var p=m-h+c,x=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ul(d,p):ho(d,p),y="month-".concat(m),w=m<l-1,v=m>0;o.push(Q.createElement("div",{key:y,ref:function(N){r.monthContainer=N??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:x,i:m}),Q.createElement(WNe,wn({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:x,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:m,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:v,dayNamesHeader:r.renderDayNamesHeader(x)}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return Q.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),Q.createElement(JNe,wn({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return Q.createElement(XNe,wn({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var s=r.props.selected?new Date(r.props.selected):void 0,i=s&&lN(s)&&!!r.props.selected,o=i?"".concat(J9(s.getHours()),":").concat(J9(s.getMinutes())):"";if(r.props.showTimeInput)return Q.createElement($Ne,wn({},e.defaultProps,r.props,{date:s,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var s,i=Il(r.state.date,(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,c;return r.props.showYearPicker?c="".concat(o," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=cn(r.state.date):c="".concat(TP(oa(r.state.date),r.props.locale)," ").concat(cn(r.state.date)),Q.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return Q.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=b.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:NJ,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Rx}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){n.setState({monthContainer:n.monthContainer})})())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!vn(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var s=!pa(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!vn(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||xNe;return Q.createElement(oN,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Q.createElement("div",{style:{display:"contents"},ref:this.containerRef},Q.createElement(n,{className:It("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(b.Component),s2e=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,s=t.onClick,i="react-datepicker__calendar-icon";if(typeof e=="string")return Q.createElement("i",{className:"".concat(i," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:s});if(Q.isValidElement(e)){var o=e;return Q.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(r),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof s=="function"&&s(l)}})}return Q.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},Q.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},SJ=(function(t){Qs(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return YG.createPortal(this.props.children,this.el)},e})(b.Component),a2e="[tabindex], a, button, input, select, textarea",i2e=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},kJ=(function(t){Qs(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var s;return Array.prototype.slice.call((s=r.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(a2e),1,-1).filter(i2e)},r.handleFocusStart=function(){var s=r.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},r.handleFocusEnd=function(){var s=r.getTabChildren();s&&s.length>1&&s[0].focus()},r.tabLoopRef=b.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?Q.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Q.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Q.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(b.Component);function o2e(t){function e(n){var r,s=typeof n.hidePopper=="boolean"?n.hidePopper:!0,i=b.useRef(null),o=gNe(wn({open:!s,whileElementsMounted:fJ,placement:n.popperPlacement,middleware:Po([rNe({padding:15}),nNe(10),sNe({element:i})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),l=wn(wn({},n),{hidePopper:s,popperProps:wn(wn({},o),{arrowRef:i})});return Q.createElement(t,wn({},l))}return e.displayName="withFloating(".concat(t.displayName||t.name||"Component",")"),e}var l2e=function(t){var e=t.className,n=t.wrapperClassName,r=t.hidePopper,s=r===void 0?!0:r,i=t.popperComponent,o=t.targetComponent,l=t.enableTabLoop,c=t.popperOnKeyDown,d=t.portalId,h=t.portalHost,m=t.popperProps,p=t.showArrow,x=void 0;if(!s){var y=It("react-datepicker-popper",e);x=Q.createElement(kJ,{enableTabLoop:l},Q.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:y,"data-placement":m.placement,onKeyDown:c},i,p&&Q.createElement(cNe,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}t.popperContainer&&(x=b.createElement(t.popperContainer,{},x)),d&&!s&&(x=Q.createElement(SJ,{portalId:d,portalHost:h},x));var w=It("react-datepicker-wrapper",n);return Q.createElement(Q.Fragment,null,Q.createElement("div",{ref:m.refs.setReference,className:w},o),x)},c2e=o2e(l2e);function d2e(t,e){return t&&e?oa(t)!==oa(e)||cn(t)!==cn(e):t!==e}var oC="Date input not valid.",rm=(function(t){Qs(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Yn()},r.modifyHolidays=function(){var s;return(s=r.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var l=new Date(o.date);return lN(l)?Po(Po([],i,!0),[wn(wn({},o),{date:l})],!1):i},[])},r.calcInitialState=function(){var s,i=r.getPreSelection(),o=vJ(r.props),l=wJ(r.props),c=o&&Do(i,Xv(o))?o:l&&jd(i,B9(l))?l:i;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&s!==void 0?s:c,highlightDates:X9(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var s,i=r.props,o=i.locale,l=i.startDate,c=i.endDate,d=i.rangeSeparator,h=i.selected,m=i.selectedDates,p=i.selectsMultiple,x=i.selectsRange,y=i.value,w=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,v=r.state.inputValue;return typeof y=="string"?y:typeof v=="string"?v:x?yNe(l,c,{dateFormat:w,locale:o,rangeSeparator:d}):p?vNe(m??[],{dateFormat:w,locale:o}):Mi(h,{dateFormat:w,locale:o})},r.resetHiddenStatus=function(){r.setState(wn(wn({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(wn(wn({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var s,i;(i=(s=r.input)===null||s===void 0?void 0:s.focus)===null||i===void 0||i.call(s,{preventScroll:!0})},r.setBlur=function(){var s,i;(i=(s=r.input)===null||s===void 0?void 0:s.blur)===null||i===void 0||i.call(s),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(s,i){i===void 0&&(i=!1),r.setState({open:s,preSelection:s&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:lC},function(){s||r.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return ql(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(s){var i,o,l=r.state.wasHidden,c=l?r.state.open:!0;l&&r.resetHiddenStatus(),r.state.preventFocus||((o=(i=r.props).onFocus)===null||o===void 0||o.call(i,s),c&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(wn(wn({},r.state),{inputValue:null}))},r.handleBlur=function(s){var i,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(i=r.props).onBlur)===null||o===void 0||o.call(i,s)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(s){var i,o;r.props.inline||r.setOpen(!1),(o=(i=r.props).onClickOutside)===null||o===void 0||o.call(i,s),r.props.withPortal&&s.preventDefault()},r.handleChange=function(){for(var s,i,o,l,c,d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var m=d[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,d),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){r.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:u2e});var p=r.props,x=p.selectsRange,y=p.startDate,w=p.endDate,v=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,N=(i=r.props.strictParsing)!==null&&i!==void 0?i:e.defaultProps.strictParsing,C=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(x){var S=r.props.rangeSeparator,M=S.trim(),_=C.split(v.includes(M)?S:M,2).map(function(z){return z.trim()}),A=_[0],O=_[1],D=rC(A??"",v,r.props.locale,N),F=D?rC(O??"",v,r.props.locale,N):null,L=(y==null?void 0:y.getTime())!==(D==null?void 0:D.getTime()),I=(w==null?void 0:w.getTime())!==(F==null?void 0:F.getTime());if(!L&&!I||D&&Ei(D,r.props)||F&&Ei(F,r.props))return;(l=(o=r.props).onChange)===null||l===void 0||l.call(o,[D,F],m)}else{var P=rC(C,v,r.props.locale,N,(c=r.props.selected)!==null&&c!==void 0?c:void 0);(P||!C)&&r.setSelected(P,m,!0)}}},r.handleSelect=function(s,i,o){if(!r.props.readOnly){var l=r.props,c=l.selectsRange,d=l.startDate,h=l.endDate,m=l.swapRange,p=!c||d&&!h&&(m||!aC(s,d));r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&p&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(i),r.setSelected(s,i,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(s):p&&r.setOpen(!1)}},r.setSelected=function(s,i,o,l){var c,d,h=s;if(r.props.showYearPicker){if(h!==null&&Jv(cn(h),r.props))return}else if(r.props.showMonthYearPicker){if(h!==null&&yJ(h,r.props))return}else if(h!==null&&Ei(h,r.props))return;var m=r.props,p=m.onChange,x=m.selectsRange,y=m.startDate,w=m.endDate,v=m.selectsMultiple,N=m.selectedDates,C=m.minTime,S=m.swapRange;if(!ju(r.props.selected,h)||r.props.allowSameDay||x||v)if(h!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(h=sC(h,{hour:Gl(r.props.selected),minute:Yl(r.props.selected),second:dd(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(h=sC(h,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:h}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),x){var M=!y&&!w,_=y&&!w,A=!y&&!!w,O=y&&w;M?p==null||p([h,null],i):_?h===null?p==null||p([null,null],i):aC(h,y)?S?p==null||p([h,y],i):p==null||p([h,null],i):p==null||p([y,h],i):A&&(h&&aC(h,w)?p==null||p([h,w],i):p==null||p([h,null],i)),O&&(p==null||p([h,null],i))}else if(v){if(h!==null)if(!(N!=null&&N.length))p==null||p([h],i);else{var D=N.some(function(L){return vn(L,h)});if(D){var F=N.filter(function(L){return!vn(L,h)});p==null||p(F,i)}else p==null||p(Po(Po([],N,!0),[h],!1),i)}}else p==null||p(h,i);o||((d=(c=r.props).onSelect)===null||d===void 0||d.call(c,h,i),r.setState({inputValue:null}))},r.setPreSelection=function(s){if(!r.props.readOnly){var i=ql(r.props.minDate),o=ql(r.props.maxDate),l=!0;if(s){var c=Xv(s);if(i&&o)l=hu(s,r.props.minDate,r.props.maxDate);else if(i){var d=Xv(r.props.minDate);l=jd(s,d)||ju(c,d)}else if(o){var h=B9(r.props.maxDate);l=Do(s,h)||ju(c,h)}}l&&r.setState({preSelection:s})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(s){var i,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?s:sC(l,{hour:Gl(s),minute:Yl(s)});r.setState({preSelection:c}),(o=(i=r.props).onChange)===null||o===void 0||o.call(i,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var s,i;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(i=(s=r.props).onInputClick)===null||i===void 0||i.call(s)},r.onInputKeyDown=function(s){var i,o,l,c,d,h;(o=(i=r.props).onKeyDown)===null||o===void 0||o.call(i,s);var m=s.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(m===Mt.ArrowDown||m===Mt.ArrowUp||m===Mt.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(m===Mt.ArrowDown||m===Mt.ArrowUp){s.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',x=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);x instanceof HTMLElement&&x.focus({preventScroll:!0});return}var y=Yn(r.state.preSelection);m===Mt.Enter?(s.preventDefault(),s.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===lC?(r.handleSelect(y,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(y)):r.setOpen(!1)):m===Mt.Escape?(s.preventDefault(),s.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):m===Mt.Tab&&r.setOpen(!1),r.inputOk()||(h=(d=r.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:oC})}},r.onPortalKeyDown=function(s){var i=s.key;i===Mt.Escape&&(s.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(s){var i,o,l,c,d,h,m=r.props,p=m.minDate,x=m.maxDate,y=m.disabledKeyboardNavigation,w=m.showWeekPicker,v=m.shouldCloseOnSelect,N=m.locale,C=m.calendarStartDay,S=m.adjustDateOnChange,M=m.inline;if((o=(i=r.props).onKeyDown)===null||o===void 0||o.call(i,s),!y){var _=s.key,A=s.shiftKey,O=Yn(r.state.preSelection),D=function(V,$){var R=$;switch(V){case Mt.ArrowRight:R=w?Ew($,1):lo($,1);break;case Mt.ArrowLeft:R=w?T9($):L1e($);break;case Mt.ArrowUp:R=T9($);break;case Mt.ArrowDown:R=Ew($,1);break;case Mt.PageUp:R=A?Qf($,1):Lu($,1);break;case Mt.PageDown:R=A?Ul($,1):ho($,1);break;case Mt.Home:R=ud($,N,C);break;case Mt.End:R=NNe($);break}return R},F=function(V,$){for(var R=40,W=V,q=!1,X=0,H=D(V,$);!q;){if(X>=R){H=$;break}p&&H<p&&(W=Mt.ArrowRight,H=Ei(p,r.props)?D(W,H):p),x&&H>x&&(W=Mt.ArrowLeft,H=Ei(x,r.props)?D(W,H):x),Ei(H,r.props)?((W===Mt.PageUp||W===Mt.Home)&&(W=Mt.ArrowRight),(W===Mt.PageDown||W===Mt.End)&&(W=Mt.ArrowLeft),H=D(W,H)):q=!0,X++}return H};if(_===Mt.Enter){s.preventDefault(),r.handleSelect(O,s),!v&&r.setPreSelection(O);return}else if(_===Mt.Escape){s.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(l=r.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:oC});return}var L=null;switch(_){case Mt.ArrowLeft:case Mt.ArrowRight:case Mt.ArrowUp:case Mt.ArrowDown:case Mt.PageUp:case Mt.PageDown:case Mt.Home:case Mt.End:L=F(_,O);break}if(!L){(h=(d=r.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:oC});return}if(s.preventDefault(),r.setState({lastPreSelectChange:lC}),S&&r.setSelected(L),r.setPreSelection(L),M){var I=oa(O),P=oa(L),z=cn(O),U=cn(L);I!==P||z!==U?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(s){var i=s.key;i===Mt.Escape&&(s.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),r.sendFocusBackToInput();var i=r.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],s):l==null||l(null,s),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(s){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(s)&&r.setOpen(!1)},r.renderCalendar=function(){var s,i;return!r.props.inline&&!r.isCalendarOpen()?null:Q.createElement(r2e,wn({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(s=r.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:RNe(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(i=r.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var s,i=r.props.locale,o=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",d;return r.props.selectsRange?d="Selected start date: ".concat(Mi(r.props.startDate,{dateFormat:c,locale:i}),". ").concat(r.props.endDate?"End date: "+Mi(r.props.endDate,{dateFormat:c,locale:i}):""):r.props.showTimeSelectOnly?d="Selected time: ".concat(Mi(r.props.selected,{dateFormat:o,locale:i})):r.props.showYearPicker?d="Selected year: ".concat(Mi(r.props.selected,{dateFormat:"yyyy",locale:i})):r.props.showMonthYearPicker?d="Selected month: ".concat(Mi(r.props.selected,{dateFormat:"MMMM yyyy",locale:i})):r.props.showQuarterYearPicker?d="Selected quarter: ".concat(Mi(r.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):d="Selected date: ".concat(Mi(r.props.selected,{dateFormat:c,locale:i})),Q.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},r.renderDateInput=function(){var s,i,o=It(r.props.className,(s={},s[r.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=r.state.open,s)),l=r.props.customInput||Q.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref";return b.cloneElement(l,(i={},i[c]=function(d){r.input=d},i.value=r.getInputValue(),i.onBlur=r.handleBlur,i.onChange=r.handleChange,i.onClick=r.onInputClick,i.onFocus=r.handleFocus,i.onKeyDown=r.onInputKeyDown,i.id=r.props.id,i.name=r.props.name,i.form=r.props.form,i.autoFocus=r.props.autoFocus,i.placeholder=r.props.placeholderText,i.disabled=r.props.disabled,i.autoComplete=r.props.autoComplete,i.className=It(l.props.className,o),i.title=r.props.title,i.readOnly=r.props.readOnly,i.required=r.props.required,i.tabIndex=r.props.tabIndex,i["aria-describedby"]=r.props.ariaDescribedBy,i["aria-invalid"]=r.props.ariaInvalid,i["aria-labelledby"]=r.props.ariaLabelledBy,i["aria-required"]=r.props.ariaRequired,i))},r.renderClearButton=function(){var s=r.props,i=s.isClearable,o=s.disabled,l=s.selected,c=s.startDate,d=s.endDate,h=s.clearButtonTitle,m=s.clearButtonClassName,p=m===void 0?"":m,x=s.ariaLabelClose,y=x===void 0?"Close":x,w=s.selectedDates,v=s.readOnly;return i&&!v&&(l!=null||c!=null||d!=null||w!=null&&w.length)?Q.createElement("button",{type:"button",className:It("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":y,onClick:r.onClearClick,title:h,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:NJ,readOnly:!1,rangeSeparator:xJ,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Rx,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var s,i,o,l;n.inline&&d2e(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:X9(this.props.highlightDates)}),!r.focused&&!ju(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),r.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,s=n.icon,i=n.calendarIconClassname,o=n.calendarIconClassName,l=n.toggleCalendarOnIconClick,c=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Q.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&Q.createElement(s2e,wn({icon:s,className:It(o,!o&&i,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?Q.createElement(kJ,{enableTabLoop:this.props.enableTabLoop},Q.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=Q.createElement(SJ,wn({portalId:this.props.portalId},this.props),r)),Q.createElement("div",null,this.renderInputContainer(),r)}return Q.createElement(c2e,wn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(b.Component),u2e="input",lC="navigate";/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:CJ,setPrototypeOf:nF,isFrozen:h2e,getPrototypeOf:f2e,getOwnPropertyDescriptor:m2e}=Object;let{freeze:Sa,seal:zi,create:_J}=Object,{apply:sO,construct:aO}=typeof Reflect<"u"&&Reflect;Sa||(Sa=function(e){return e});zi||(zi=function(e){return e});sO||(sO=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];return e.apply(n,s)});aO||(aO=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return new e(...r)});const Uy=ka(Array.prototype.forEach),p2e=ka(Array.prototype.lastIndexOf),rF=ka(Array.prototype.pop),e0=ka(Array.prototype.push),g2e=ka(Array.prototype.splice),Qv=ka(String.prototype.toLowerCase),cC=ka(String.prototype.toString),dC=ka(String.prototype.match),t0=ka(String.prototype.replace),x2e=ka(String.prototype.indexOf),b2e=ka(String.prototype.trim),Zi=ka(Object.prototype.hasOwnProperty),ma=ka(RegExp.prototype.test),n0=y2e(TypeError);function ka(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return sO(t,e,r)}}function y2e(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return aO(t,n)}}function pn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qv;nF&&nF(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const i=n(s);i!==s&&(h2e(e)||(e[r]=i),s=i)}t[s]=!0}return t}function v2e(t){for(let e=0;e<t.length;e++)Zi(t,e)||(t[e]=null);return t}function Ml(t){const e=_J(null);for(const[n,r]of CJ(t))Zi(t,n)&&(Array.isArray(r)?e[n]=v2e(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Ml(r):e[n]=r);return e}function r0(t,e){for(;t!==null;){const r=m2e(t,e);if(r){if(r.get)return ka(r.get);if(typeof r.value=="function")return ka(r.value)}t=f2e(t)}function n(){return null}return n}const sF=Sa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),uC=Sa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),hC=Sa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),w2e=Sa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),fC=Sa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),j2e=Sa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),aF=Sa(["#text"]),iF=Sa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),mC=Sa(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),oF=Sa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qy=Sa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),N2e=zi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),S2e=zi(/<%[\w\W]*|[\w\W]*%>/gm),k2e=zi(/\$\{[\w\W]*/gm),C2e=zi(/^data-[\-\w.\u00B7-\uFFFF]+$/),_2e=zi(/^aria-[\-\w]+$/),TJ=zi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),T2e=zi(/^(?:\w+script|data):/i),M2e=zi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),MJ=zi(/^html$/i),A2e=zi(/^[a-z][.\w]*(-[.\w]+)+$/i);var lF=Object.freeze({__proto__:null,ARIA_ATTR:_2e,ATTR_WHITESPACE:M2e,CUSTOM_ELEMENT:A2e,DATA_ATTR:C2e,DOCTYPE_NAME:MJ,ERB_EXPR:S2e,IS_ALLOWED_URI:TJ,IS_SCRIPT_OR_DATA:T2e,MUSTACHE_EXPR:N2e,TMPLIT_EXPR:k2e});const s0={element:1,text:3,progressingInstruction:7,comment:8,document:9},O2e=function(){return typeof window>"u"?null:window},E2e=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},cF=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function AJ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O2e();const e=it=>AJ(it);if(e.version="3.2.7",e.removed=[],!t||!t.document||t.document.nodeType!==s0.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:p,trustedTypes:x}=t,y=c.prototype,w=r0(y,"cloneNode"),v=r0(y,"remove"),N=r0(y,"nextSibling"),C=r0(y,"childNodes"),S=r0(y,"parentNode");if(typeof o=="function"){const it=n.createElement("template");it.content&&it.content.ownerDocument&&(n=it.content.ownerDocument)}let M,_="";const{implementation:A,createNodeIterator:O,createDocumentFragment:D,getElementsByTagName:F}=n,{importNode:L}=r;let I=cF();e.isSupported=typeof CJ=="function"&&typeof S=="function"&&A&&A.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:P,ERB_EXPR:z,TMPLIT_EXPR:U,DATA_ATTR:V,ARIA_ATTR:$,IS_SCRIPT_OR_DATA:R,ATTR_WHITESPACE:W,CUSTOM_ELEMENT:q}=lF;let{IS_ALLOWED_URI:X}=lF,H=null;const J=pn({},[...sF,...uC,...hC,...fC,...aF]);let ne=null;const fe=pn({},[...iF,...mC,...oF,...qy]);let de=Object.seal(_J(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),we=null,Fe=null,$e=!0,be=!0,Ee=!1,Ge=!0,ae=!1,oe=!0,Y=!1,ce=!1,Ie=!1,We=!1,pe=!1,Ne=!1,st=!0,rt=!1;const Ve="user-content-";let Ue=!0,Ye=!1,kt={},Oe=null;const Xe=pn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Pt=null;const Se=pn({},["audio","video","img","source","image","track"]);let bt=null;const yt=pn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Pe="http://www.w3.org/1998/Math/MathML",mt="http://www.w3.org/2000/svg",ht="http://www.w3.org/1999/xhtml";let vt=ht,ie=!1,ve=null;const je=pn({},[Pe,mt,ht],cC);let He=pn({},["mi","mo","mn","ms","mtext"]),Nt=pn({},["annotation-xml"]);const ge=pn({},["title","style","font","a","script"]);let re=null;const ee=["application/xhtml+xml","text/html"],le="text/html";let xe=null,Me=null;const Z=n.createElement("form"),se=function(he){return he instanceof RegExp||he instanceof Function},ke=function(){let he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Me&&Me===he)){if((!he||typeof he!="object")&&(he={}),he=Ml(he),re=ee.indexOf(he.PARSER_MEDIA_TYPE)===-1?le:he.PARSER_MEDIA_TYPE,xe=re==="application/xhtml+xml"?cC:Qv,H=Zi(he,"ALLOWED_TAGS")?pn({},he.ALLOWED_TAGS,xe):J,ne=Zi(he,"ALLOWED_ATTR")?pn({},he.ALLOWED_ATTR,xe):fe,ve=Zi(he,"ALLOWED_NAMESPACES")?pn({},he.ALLOWED_NAMESPACES,cC):je,bt=Zi(he,"ADD_URI_SAFE_ATTR")?pn(Ml(yt),he.ADD_URI_SAFE_ATTR,xe):yt,Pt=Zi(he,"ADD_DATA_URI_TAGS")?pn(Ml(Se),he.ADD_DATA_URI_TAGS,xe):Se,Oe=Zi(he,"FORBID_CONTENTS")?pn({},he.FORBID_CONTENTS,xe):Xe,we=Zi(he,"FORBID_TAGS")?pn({},he.FORBID_TAGS,xe):Ml({}),Fe=Zi(he,"FORBID_ATTR")?pn({},he.FORBID_ATTR,xe):Ml({}),kt=Zi(he,"USE_PROFILES")?he.USE_PROFILES:!1,$e=he.ALLOW_ARIA_ATTR!==!1,be=he.ALLOW_DATA_ATTR!==!1,Ee=he.ALLOW_UNKNOWN_PROTOCOLS||!1,Ge=he.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ae=he.SAFE_FOR_TEMPLATES||!1,oe=he.SAFE_FOR_XML!==!1,Y=he.WHOLE_DOCUMENT||!1,We=he.RETURN_DOM||!1,pe=he.RETURN_DOM_FRAGMENT||!1,Ne=he.RETURN_TRUSTED_TYPE||!1,Ie=he.FORCE_BODY||!1,st=he.SANITIZE_DOM!==!1,rt=he.SANITIZE_NAMED_PROPS||!1,Ue=he.KEEP_CONTENT!==!1,Ye=he.IN_PLACE||!1,X=he.ALLOWED_URI_REGEXP||TJ,vt=he.NAMESPACE||ht,He=he.MATHML_TEXT_INTEGRATION_POINTS||He,Nt=he.HTML_INTEGRATION_POINTS||Nt,de=he.CUSTOM_ELEMENT_HANDLING||{},he.CUSTOM_ELEMENT_HANDLING&&se(he.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(de.tagNameCheck=he.CUSTOM_ELEMENT_HANDLING.tagNameCheck),he.CUSTOM_ELEMENT_HANDLING&&se(he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(de.attributeNameCheck=he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),he.CUSTOM_ELEMENT_HANDLING&&typeof he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(de.allowCustomizedBuiltInElements=he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ae&&(be=!1),pe&&(We=!0),kt&&(H=pn({},aF),ne=[],kt.html===!0&&(pn(H,sF),pn(ne,iF)),kt.svg===!0&&(pn(H,uC),pn(ne,mC),pn(ne,qy)),kt.svgFilters===!0&&(pn(H,hC),pn(ne,mC),pn(ne,qy)),kt.mathMl===!0&&(pn(H,fC),pn(ne,oF),pn(ne,qy))),he.ADD_TAGS&&(H===J&&(H=Ml(H)),pn(H,he.ADD_TAGS,xe)),he.ADD_ATTR&&(ne===fe&&(ne=Ml(ne)),pn(ne,he.ADD_ATTR,xe)),he.ADD_URI_SAFE_ATTR&&pn(bt,he.ADD_URI_SAFE_ATTR,xe),he.FORBID_CONTENTS&&(Oe===Xe&&(Oe=Ml(Oe)),pn(Oe,he.FORBID_CONTENTS,xe)),Ue&&(H["#text"]=!0),Y&&pn(H,["html","head","body"]),H.table&&(pn(H,["tbody"]),delete we.tbody),he.TRUSTED_TYPES_POLICY){if(typeof he.TRUSTED_TYPES_POLICY.createHTML!="function")throw n0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof he.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw n0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');M=he.TRUSTED_TYPES_POLICY,_=M.createHTML("")}else M===void 0&&(M=E2e(x,s)),M!==null&&typeof _=="string"&&(_=M.createHTML(""));Sa&&Sa(he),Me=he}},Ze=pn({},[...uC,...hC,...w2e]),dt=pn({},[...fC,...j2e]),Qe=function(he){let ot=S(he);(!ot||!ot.tagName)&&(ot={namespaceURI:vt,tagName:"template"});const wt=Qv(he.tagName),xn=Qv(ot.tagName);return ve[he.namespaceURI]?he.namespaceURI===mt?ot.namespaceURI===ht?wt==="svg":ot.namespaceURI===Pe?wt==="svg"&&(xn==="annotation-xml"||He[xn]):!!Ze[wt]:he.namespaceURI===Pe?ot.namespaceURI===ht?wt==="math":ot.namespaceURI===mt?wt==="math"&&Nt[xn]:!!dt[wt]:he.namespaceURI===ht?ot.namespaceURI===mt&&!Nt[xn]||ot.namespaceURI===Pe&&!He[xn]?!1:!dt[wt]&&(ge[wt]||!Ze[wt]):!!(re==="application/xhtml+xml"&&ve[he.namespaceURI]):!1},Re=function(he){e0(e.removed,{element:he});try{S(he).removeChild(he)}catch{v(he)}},at=function(he,ot){try{e0(e.removed,{attribute:ot.getAttributeNode(he),from:ot})}catch{e0(e.removed,{attribute:null,from:ot})}if(ot.removeAttribute(he),he==="is")if(We||pe)try{Re(ot)}catch{}else try{ot.setAttribute(he,"")}catch{}},gt=function(he){let ot=null,wt=null;if(Ie)he="<remove></remove>"+he;else{const An=dC(he,/^[\r\n\t ]+/);wt=An&&An[0]}re==="application/xhtml+xml"&&vt===ht&&(he='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+he+"</body></html>");const xn=M?M.createHTML(he):he;if(vt===ht)try{ot=new p().parseFromString(xn,re)}catch{}if(!ot||!ot.documentElement){ot=A.createDocument(vt,"template",null);try{ot.documentElement.innerHTML=ie?_:xn}catch{}}const ur=ot.body||ot.documentElement;return he&&wt&&ur.insertBefore(n.createTextNode(wt),ur.childNodes[0]||null),vt===ht?F.call(ot,Y?"html":"body")[0]:Y?ot.documentElement:ur},Jt=function(he){return O.call(he.ownerDocument||he,he,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Fn=function(he){return he instanceof m&&(typeof he.nodeName!="string"||typeof he.textContent!="string"||typeof he.removeChild!="function"||!(he.attributes instanceof h)||typeof he.removeAttribute!="function"||typeof he.setAttribute!="function"||typeof he.namespaceURI!="string"||typeof he.insertBefore!="function"||typeof he.hasChildNodes!="function")},ar=function(he){return typeof l=="function"&&he instanceof l};function Ct(it,he,ot){Uy(it,wt=>{wt.call(e,he,ot,Me)})}const Bt=function(he){let ot=null;if(Ct(I.beforeSanitizeElements,he,null),Fn(he))return Re(he),!0;const wt=xe(he.nodeName);if(Ct(I.uponSanitizeElement,he,{tagName:wt,allowedTags:H}),oe&&he.hasChildNodes()&&!ar(he.firstElementChild)&&ma(/<[/\w!]/g,he.innerHTML)&&ma(/<[/\w!]/g,he.textContent)||he.nodeType===s0.progressingInstruction||oe&&he.nodeType===s0.comment&&ma(/<[/\w]/g,he.data))return Re(he),!0;if(!H[wt]||we[wt]){if(!we[wt]&&$n(wt)&&(de.tagNameCheck instanceof RegExp&&ma(de.tagNameCheck,wt)||de.tagNameCheck instanceof Function&&de.tagNameCheck(wt)))return!1;if(Ue&&!Oe[wt]){const xn=S(he)||he.parentNode,ur=C(he)||he.childNodes;if(ur&&xn){const An=ur.length;for(let dn=An-1;dn>=0;--dn){const Is=w(ur[dn],!0);Is.__removalCount=(he.__removalCount||0)+1,xn.insertBefore(Is,N(he))}}}return Re(he),!0}return he instanceof c&&!Qe(he)||(wt==="noscript"||wt==="noembed"||wt==="noframes")&&ma(/<\/no(script|embed|frames)/i,he.innerHTML)?(Re(he),!0):(ae&&he.nodeType===s0.text&&(ot=he.textContent,Uy([P,z,U],xn=>{ot=t0(ot,xn," ")}),he.textContent!==ot&&(e0(e.removed,{element:he.cloneNode()}),he.textContent=ot)),Ct(I.afterSanitizeElements,he,null),!1)},Tt=function(he,ot,wt){if(st&&(ot==="id"||ot==="name")&&(wt in n||wt in Z))return!1;if(!(be&&!Fe[ot]&&ma(V,ot))){if(!($e&&ma($,ot))){if(!ne[ot]||Fe[ot]){if(!($n(he)&&(de.tagNameCheck instanceof RegExp&&ma(de.tagNameCheck,he)||de.tagNameCheck instanceof Function&&de.tagNameCheck(he))&&(de.attributeNameCheck instanceof RegExp&&ma(de.attributeNameCheck,ot)||de.attributeNameCheck instanceof Function&&de.attributeNameCheck(ot,he))||ot==="is"&&de.allowCustomizedBuiltInElements&&(de.tagNameCheck instanceof RegExp&&ma(de.tagNameCheck,wt)||de.tagNameCheck instanceof Function&&de.tagNameCheck(wt))))return!1}else if(!bt[ot]){if(!ma(X,t0(wt,W,""))){if(!((ot==="src"||ot==="xlink:href"||ot==="href")&&he!=="script"&&x2e(wt,"data:")===0&&Pt[he])){if(!(Ee&&!ma(R,t0(wt,W,"")))){if(wt)return!1}}}}}}return!0},$n=function(he){return he!=="annotation-xml"&&dC(he,q)},_e=function(he){Ct(I.beforeSanitizeAttributes,he,null);const{attributes:ot}=he;if(!ot||Fn(he))return;const wt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ne,forceKeepAttr:void 0};let xn=ot.length;for(;xn--;){const ur=ot[xn],{name:An,namespaceURI:dn,value:Is}=ur,Ma=xe(An),Zs=Is;let Qn=An==="value"?Zs:b2e(Zs);if(wt.attrName=Ma,wt.attrValue=Qn,wt.keepAttr=!0,wt.forceKeepAttr=void 0,Ct(I.uponSanitizeAttribute,he,wt),Qn=wt.attrValue,rt&&(Ma==="id"||Ma==="name")&&(at(An,he),Qn=Ve+Qn),oe&&ma(/((--!?|])>)|<\/(style|title|textarea)/i,Qn)){at(An,he);continue}if(Ma==="attributename"&&dC(Qn,"href")){at(An,he);continue}if(wt.forceKeepAttr)continue;if(!wt.keepAttr){at(An,he);continue}if(!Ge&&ma(/\/>/i,Qn)){at(An,he);continue}ae&&Uy([P,z,U],Rd=>{Qn=t0(Qn,Rd," ")});const yc=xe(he.nodeName);if(!Tt(yc,Ma,Qn)){at(An,he);continue}if(M&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!dn)switch(x.getAttributeType(yc,Ma)){case"TrustedHTML":{Qn=M.createHTML(Qn);break}case"TrustedScriptURL":{Qn=M.createScriptURL(Qn);break}}if(Qn!==Zs)try{dn?he.setAttributeNS(dn,An,Qn):he.setAttribute(An,Qn),Fn(he)?Re(he):rF(e.removed)}catch{at(An,he)}}Ct(I.afterSanitizeAttributes,he,null)},Be=function it(he){let ot=null;const wt=Jt(he);for(Ct(I.beforeSanitizeShadowDOM,he,null);ot=wt.nextNode();)Ct(I.uponSanitizeShadowNode,ot,null),Bt(ot),_e(ot),ot.content instanceof i&&it(ot.content);Ct(I.afterSanitizeShadowDOM,he,null)};return e.sanitize=function(it){let he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=null,wt=null,xn=null,ur=null;if(ie=!it,ie&&(it="<!-->"),typeof it!="string"&&!ar(it))if(typeof it.toString=="function"){if(it=it.toString(),typeof it!="string")throw n0("dirty is not a string, aborting")}else throw n0("toString is not a function");if(!e.isSupported)return it;if(ce||ke(he),e.removed=[],typeof it=="string"&&(Ye=!1),Ye){if(it.nodeName){const Is=xe(it.nodeName);if(!H[Is]||we[Is])throw n0("root node is forbidden and cannot be sanitized in-place")}}else if(it instanceof l)ot=gt("<!---->"),wt=ot.ownerDocument.importNode(it,!0),wt.nodeType===s0.element&&wt.nodeName==="BODY"||wt.nodeName==="HTML"?ot=wt:ot.appendChild(wt);else{if(!We&&!ae&&!Y&&it.indexOf("<")===-1)return M&&Ne?M.createHTML(it):it;if(ot=gt(it),!ot)return We?null:Ne?_:""}ot&&Ie&&Re(ot.firstChild);const An=Jt(Ye?it:ot);for(;xn=An.nextNode();)Bt(xn),_e(xn),xn.content instanceof i&&Be(xn.content);if(Ye)return it;if(We){if(pe)for(ur=D.call(ot.ownerDocument);ot.firstChild;)ur.appendChild(ot.firstChild);else ur=ot;return(ne.shadowroot||ne.shadowrootmode)&&(ur=L.call(r,ur,!0)),ur}let dn=Y?ot.outerHTML:ot.innerHTML;return Y&&H["!doctype"]&&ot.ownerDocument&&ot.ownerDocument.doctype&&ot.ownerDocument.doctype.name&&ma(MJ,ot.ownerDocument.doctype.name)&&(dn="<!DOCTYPE "+ot.ownerDocument.doctype.name+`>
`+dn),ae&&Uy([P,z,U],Is=>{dn=t0(dn,Is," ")}),M&&Ne?M.createHTML(dn):dn},e.setConfig=function(){let it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ke(it),ce=!0},e.clearConfig=function(){Me=null,ce=!1},e.isValidAttribute=function(it,he,ot){Me||ke({});const wt=xe(it),xn=xe(he);return Tt(wt,xn,ot)},e.addHook=function(it,he){typeof he=="function"&&e0(I[it],he)},e.removeHook=function(it,he){if(he!==void 0){const ot=p2e(I[it],he);return ot===-1?void 0:g2e(I[it],ot,1)[0]}return rF(I[it])},e.removeHooks=function(it){I[it]=[]},e.removeAllHooks=function(){I=cF()},e}var fh=AJ();function D2e(t,e){const[n,r]=b.useState(t);return b.useEffect(()=>{const s=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(s)}},[t,e]),n}const Gy=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},dF=({isOpen:t,onClose:e,title:n,children:r,className:s,maxWidth:i="max-w-xl"})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${s||"w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),iO=(t,e,n,r)=>{if(t==null||e===null||e===void 0||n===null||n===void 0||r===null||r===void 0)return null;const s=t*60+e,i=n*60+r;let o=Math.abs(i-s);return o>720&&(o=1440-o),o},oO=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.floor(t/60),n=t%60;return t===0?"0min":e===0&&n>0?`${n}min`:e>0&&n===0?`${e}h`:`${e}h ${n}min`},P2e=({record:t,onClose:e})=>{const n=(d,h)=>{if(d==null||h===null||h===void 0)return"-";const m=d.toString().padStart(2,"0"),p=h.toString().padStart(2,"0");return`${m}:${p}`},r=d=>d==null?"-":typeof d=="object"?d.name||JSON.stringify(d):typeof d=="string"?d.trim()!==""?d.trim():"-":typeof d=="number"?d.toLocaleString("id-ID"):String(d),s=iO(t.stopJam,t.stopMenit,t.startJam,t.startMenit),i=oO(s),o=({label:d,value:h})=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:d}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:h})]}),l=({label:d,htmlContent:h})=>{if(!h)return a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:d}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:"-"})]});const m=fh.sanitize(h,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:d}),a.jsx("div",{className:"rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px]",dangerouslySetInnerHTML:{__html:m}})]})},c=({title:d})=>a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:d});return a.jsxs("div",{className:"space-y-6",children:[a.jsx(c,{title:"General Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(o,{label:"Date",value:r(t.date)}),a.jsx(o,{label:"Shift",value:r(t.shift)}),a.jsx(o,{label:"Group",value:r(t.group)}),a.jsx(o,{label:"Machine",value:r(t.mesin)}),a.jsx(o,{label:"Unit",value:r(t.unit)}),a.jsx(o,{label:"Stop Time",value:n(t.stopJam,t.stopMenit)}),a.jsx(o,{label:"Start Time",value:n(t.startJam,t.startMenit)}),a.jsx(o,{label:"Durationtime",value:r(i)}),a.jsx(o,{label:"Stop Type",value:r(t.stopTime)}),a.jsx(o,{label:"Running Hour",value:r(t.runningHour)})]}),a.jsx(c,{title:"Issue Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(o,{label:"Item Trouble",value:r(t.itemTrouble)}),a.jsx(o,{label:"Issue Description",value:r(t.jenisGangguan)}),a.jsx(l,{label:"Action Taken",htmlContent:t.bentukTindakan||""}),a.jsx(o,{label:"Root Cause",value:r(t.rootCause)})]}),a.jsx(c,{title:"Maintenance Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(o,{label:"Activity Type",value:r(t.jenisAktivitas)}),a.jsx(o,{label:"Specific Activity",value:r(t.kegiatan)})]}),a.jsx(c,{title:"Spare Parts Used"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsx(o,{label:"Part Code",value:r(t.kodePart)}),a.jsx(o,{label:"Part Name",value:r(t.sparePart)}),a.jsx(o,{label:"ID Part",value:r(t.idPart)}),a.jsx(o,{label:"Quantity",value:r(t.jumlah)}),a.jsx(o,{label:"Unit",value:r(t.unitSparePart)})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(k.button,{type:"button",onClick:e,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close"})})]})},uF=[{id:1,title:"Peringatan Mesin A",description:"Suhu mesin A melebihi batas normal.",date:"Today, 10:00 AM",icon:a.jsx(Zt,{className:"text-red-500"})},{id:2,title:"Jadwal Perawatan Mendatang",description:"Perawatan rutin untuk Mesin B akan dilakukan besok.",date:"Yesterday, 03:00 PM",icon:a.jsx(Go,{className:"text-blue-500"})}],R2e=()=>{const[t,e]=b.useState(()=>{const _e=localStorage.getItem("sidebarOpen");return _e?JSON.parse(_e):!1}),[n,r]=b.useState(""),[s,i]=b.useState(!1),[o,l]=b.useState([]),[c,d]=b.useState([]),[h,m]=b.useState(!1),[p,x]=b.useState(!1),[y,w]=b.useState(null),[v,N]=b.useState(1),[C]=b.useState(10),{user:S,getMachineHistories:M,deleteMachineHistory:_,isAuthenticated:A,isMasterDataLoading:O,hasPermission:D}=_t(),[F,L]=b.useState([]),[I,P]=b.useState([]),[z,U]=b.useState(!0),[V,$]=b.useState(null),[R,W]=b.useState([]),q=St(),[X,H]=b.useState(window.innerWidth<768),[J,ne]=b.useState(!1),[fe,de]=b.useState(null),[we,Fe]=b.useState(null),[$e,be]=b.useState(null),[Ee,Ge]=b.useState([]),[ae,oe]=b.useState(!1),[Y,ce]=b.useState(!1),Ie=b.useRef(null),We=b.useRef(null),[pe,Ne]=b.useState({key:"date",direction:"descending"}),[st,rt]=b.useState(!1),Ve=b.useRef(null),Ue=b.useRef(null),[Ye,kt]=b.useState(!1),[Oe,Xe]=b.useState(!1),[Pt,Se]=b.useState(null),[bt,yt]=b.useState(!1),Pe=b.useRef(null),[mt,ht]=b.useState(!1),vt=b.useRef(null),ie=location.pathname==="/machinehistory",ve=location.pathname==="/machinehistory/reports",je=D2e(n,300),He=b.useMemo(()=>[{id:"machine",name:"Machine Name"},{id:"issue",name:"Issue Description"},{id:"recordId",name:"Record ID"},{id:"itemTrouble",name:"Item Trouble"}],[]),Nt=b.useMemo(()=>[{value:"Perbaikan",label:"Repairs"},{value:"Perawatan",label:"Maintenance"}],[]),ge=b.useMemo(()=>[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],[]),re=b.useCallback(async()=>{try{U(!0);const _e=await M();L(_e||[]),P(_e||[]);const Be=Array.from(new Set(_e.map(it=>it.mesin))).filter(Boolean).map(it=>({id:it,name:it}));W(Be)}catch(_e){console.error("Failed to load data:",_e),L([]),W([])}finally{U(!1)}},[M]),ee=_e=>{const Be=_e.target.value;r(Be)};b.useEffect(()=>{N(1)},[]),b.useEffect(()=>{re()},[re]),b.useEffect(()=>{let _e=[...F];if(je.trim()){const Be=je.toLowerCase().trim();_e=_e.filter(it=>{var Is,Ma,Zs,Qn;const he=Be.split(":");let ot="all",wt=Be;he.length>1&&He.some(yc=>yc.name.toLowerCase()===he[0].trim())&&(ot=he[0].trim(),wt=he.slice(1).join(":").trim());const xn=(Is=it.mesin)==null?void 0:Is.toLowerCase().includes(wt),ur=(Ma=it.jenisGangguan)==null?void 0:Ma.toLowerCase().includes(wt),An=(Zs=it.id)==null?void 0:Zs.toLowerCase().includes(wt),dn=(Qn=it.itemTrouble)==null?void 0:Qn.toLowerCase().includes(wt);return ot==="machine name"?xn:ot==="issue description"?ur:ot==="record id"?An:ot==="item trouble"?dn:xn||ur||An||dn})}if(we){const Be=new Date(we);Be.setHours(0,0,0,0),_e=_e.filter(it=>{const he=new Date(it.date);return he.setHours(0,0,0,0),he>=Be})}if($e){const Be=new Date($e);Be.setHours(23,59,59,999),_e=_e.filter(it=>{const he=new Date(it.date);return he.setHours(0,0,0,0),he<=Be})}o.length>0&&(_e=_e.filter(Be=>o.includes(Be.perbaikanPerawatan))),c.length>0&&(_e=_e.filter(Be=>c.includes(Be.mesin))),Ee.length>0&&(_e=_e.filter(Be=>Ee.includes(Be.shift))),pe!==null&&_e.sort((Be,it)=>{const he=Z(Be[pe.key]),ot=Z(it[pe.key]);return he<ot?pe.direction==="ascending"?-1:1:he>ot?pe.direction==="ascending"?1:-1:0}),P(_e)},[F,je,we,$e,o,c,Ee,pe,He,Nt,ge]),b.useEffect(()=>{const _e=()=>{H(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",_e),()=>window.removeEventListener("resize",_e)},[]),b.useEffect(()=>{const _e=Be=>{Ie.current&&!Ie.current.contains(Be.target)&&oe(!1),We.current&&!We.current.contains(Be.target)&&ce(!1),Ve.current&&!Ve.current.contains(Be.target)&&!Be.target.closest(".search-suggestions")&&rt(!1),Ue.current&&!Ue.current.contains(Be.target)&&!Be.target.closest(".machine-filter-toggle")&&kt(!1),Pe.current&&!Pe.current.contains(Be.target)&&!Be.target.closest(".status-filter-toggle")&&yt(!1),vt.current&&!vt.current.contains(Be.target)&&!Be.target.closest(".shift-filter-toggle")&&ht(!1)};return document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}},[]);const le=Q.useMemo(()=>{if(!n)return He;const _e=n.toLowerCase();return He.filter(Be=>Be.name.toLowerCase().includes(_e))},[n,He]),xe=_e=>{var Be;r(`${_e}: `),rt(!1),(Be=Ve.current)==null||Be.focus()},Me=_e=>{let Be="ascending";pe&&pe.key===_e&&pe.direction==="ascending"&&(Be="descending"),Ne({key:_e,direction:Be})},Z=_e=>typeof _e=="object"&&_e!==null?_e.name||_e.toString():(_e==null?void 0:_e.toString())||"",se=async _e=>{try{await _(_e),L(F.filter(Be=>Be.id!==_e)),ne(!1),de(null)}catch(Be){console.error("Failed to delete record:",Be),$("Failed to delete record. Please try again.")}},ke=v*C,Ze=ke-C,dt=I.slice(Ze,ke),Qe=Math.ceil(I.length/C),Re=_e=>N(_e),at=(_e,Be)=>{if(_e==null||Be===null||Be===void 0)return"-";const it=_e.toString().padStart(2,"0"),he=Be.toString().padStart(2,"0");return`${it}:${he}`},gt=_e=>{const Be=iO(_e.stopJam,_e.stopMenit,_e.startJam,_e.startMenit);return oO(Be)},Jt=_e=>{switch((_e||"").toLowerCase().trim()){case"pm":return"bg-blue-100 text-blue-800 border border-blue-200";case"harmonisasi":return"bg-green-100 text-green-800 border border-green-200";case"cip":return"bg-purple-100 text-purple-800 border border-purple-200";case"unplanned":return"bg-red-100 text-red-800 border border-red-200";case"standby":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},Fn=(_e,Be)=>{d(Be?it=>[...it,_e]:it=>it.filter(he=>he!==_e))},ar=(_e,Be)=>{l(Be?it=>[...it,_e]:it=>it.filter(he=>he!==_e))},Ct=(_e,Be)=>{Ge(Be?it=>[...it,_e]:it=>it.filter(he=>he!==_e))},Bt=()=>{alert("Import functionality is not yet implemented.")},Tt=_e=>{w(_e),x(!0)},$n=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(_e=>!_e)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[X&&a.jsx(k.button,{onClick:$n,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Ps,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Machine History"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!s),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":s?"Switch to light mode":"Switch to dark mode",children:s?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:Ie,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>oe(!ae),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:ae&&a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),a.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:uF.length>0?uF.map(_e=>a.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[_e.icon&&a.jsx("div",{className:"flex-shrink-0 mr-3",children:_e.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:_e.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_e.description}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:_e.date})]})]},_e.id)):a.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),a.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{oe(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),a.jsxs("div",{className:"relative",ref:We,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>ce(!Y),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(S==null?void 0:S.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:S==null?void 0:S.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:Y&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(S==null?void 0:S.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{q("/profile"),ce(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{q("/settings"),ce(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{q("/logout"),ce(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>q("machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ie?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>q("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ve?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",a.jsx("span",{className:"text-blue-600",children:"Records"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Effortlessly track, analyze, and manage machine downtime and maintenance activities to optimize factory operations."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[D("create_machine_history")&&a.jsxs(k.button,{onClick:()=>q("/machinehistory/addmachinehistory"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Record"})]}),a.jsxs(k.button,{onClick:Bt,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(k.button,{onClick:()=>m(!h),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(k.span,{animate:{rotate:h?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Gy,{title:"Total Records",value:I.length.toLocaleString("id-ID"),change:"+8%",icon:a.jsx(Ps,{})}),a.jsx(Gy,{title:"Avg Durationtime",value:I.length>0?oO(Math.round(I.reduce((_e,Be)=>{const it=iO(Be.stopJam,Be.stopMenit,Be.startJam,Be.startMenit)||0;return _e+it},0)/I.length)):"0min",change:"-5%",icon:a.jsx(Sn,{})}),a.jsx(Gy,{title:"Repairs",value:I.filter(_e=>_e.perbaikanPerawatan==="Perbaikan").length.toLocaleString("id-ID"),change:"+3",icon:a.jsx(Na,{})}),a.jsx(Gy,{title:"Maintenance",value:I.filter(_e=>_e.perbaikanPerawatan==="Perawatan").length.toLocaleString("id-ID"),change:"+2",icon:a.jsx(Et,{})})]}),a.jsxs(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:Ve,type:"text",placeholder:"Search by machine, ID, or issue...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:n,onChange:ee,onFocus:()=>rt(!0),"aria-label":"Search records"}),a.jsx(qe,{children:st&&le.length>0&&a.jsx(k.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:le.map(_e=>a.jsx(k.button,{onClick:()=>xe(_e.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:_e.name})},_e.id))})})]})}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(Go,{className:"text-gray-500 text-base"}),a.jsx(rm,{selected:we,onChange:_e=>Fe(_e),selectsStart:!0,startDate:we,endDate:$e,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(rm,{selected:$e,onChange:_e=>be(_e),selectsEnd:!0,startDate:we,endDate:$e,minDate:we||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(we||$e)&&a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Fe(null),be(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx(nt,{className:"text-base"})})]}),a.jsxs("div",{ref:Pe,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:_e=>{_e.stopPropagation(),yt(!bt)},"aria-expanded":bt,"aria-haspopup":"true","aria-label":"Filter by Type",children:[a.jsx("span",{children:o.length>0?o.length===Nt.length?"All Types":`Selected (${o.length})`:"All Types"}),a.jsx(Ut,{className:`transform transition-transform ${bt?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(qe,{children:bt&&a.jsxs(k.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.length===Nt.length&&Nt.length>0,onChange:_e=>{_e.target.checked?l(Nt.map(Be=>Be.value)):l([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),Nt.map(_e=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.includes(_e.value),onChange:Be=>ar(_e.value,Be.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:_e.label})]},_e.value))]})})]}),a.jsxs("div",{ref:Ue,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:()=>kt(!Ye),"aria-expanded":Ye,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[a.jsx("span",{children:c.length>0?c.length===R.length&&R.length>0?"All Machines":`Selected (${c.length})`:"All Machines"}),a.jsx(Ut,{className:`transform transition-transform ${Ye?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(qe,{children:Ye&&a.jsxs(k.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-20 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.length===R.length&&R.length>0,onChange:_e=>{_e.target.checked?d(R.map(Be=>Be.name)):d([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),R.map(_e=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.includes(_e.name),onChange:Be=>Fn(_e.name,Be.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:_e.name})]},_e.id))]})})]}),a.jsxs("div",{ref:vt,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"shift-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:_e=>{_e.stopPropagation(),ht(!mt)},"aria-expanded":mt,"aria-haspopup":"true","aria-label":"Filter by Shift",children:[a.jsx("span",{children:Ee.length>0?Ee.length===ge.length?"All Shifts":`Selected (${Ee.length})`:"All Shifts"}),a.jsx(Ut,{className:`transform transition-transform ${mt?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(qe,{children:mt&&a.jsxs(k.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Ee.length===ge.length&&ge.length>0,onChange:_e=>{_e.target.checked?Ge(ge.map(Be=>Be.value)):Ge([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),ge.map(_e=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Ee.includes(_e.value),onChange:Be=>Ct(_e.value,Be.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:_e.label})]},_e.value))]})})]})]})})]}),z?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading machine history data..."})]}):I.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Ts,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:je||o.length>0||c.length>0||we||$e||Ee.length>0?"No records found matching your filters.":"No records available."}),(je||o.length>0||c.length>0||we||$e||Ee.length>0)&&a.jsx("button",{onClick:()=>{r(""),l([]),d([]),Fe(null),be(null),Ge([])},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Me("date"),children:["Date",(pe==null?void 0:pe.key)==="date"&&a.jsx("span",{className:"ml-1",children:pe.direction==="ascending"?"":""})]}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Machine"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift/Group"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Durationtime"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Issue"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:dt.map(_e=>a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:_e.date}),a.jsxs("div",{className:"text-xs text-gray-600",children:[at(_e.stopJam,_e.stopMenit)," - ",at(_e.startJam,_e.startMenit)]})]}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:_e.mesin}),a.jsx("div",{className:"text-xs text-gray-600",children:_e.unit})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:["Shift ",_e.shift,", Group ",_e.group]})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:gt(_e)})}),a.jsxs("td",{className:"px-5 py-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:_e.itemTrouble}),a.jsx("div",{className:"text-xs text-gray-600 truncate max-w-xs",children:_e.jenisGangguan})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx(k.span,{whileHover:{scale:1.03},className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${Jt(_e.stopTime)}`,children:_e.stopTime})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(`/machinehistory/edit/${_e.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit record for machine ${_e.mesin} on ${_e.date}`,children:a.jsx(fs,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{de(_e.id),ne(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete record for machine ${_e.mesin} on ${_e.date}`,children:a.jsx(Er,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Tt(_e),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for record for machine ${_e.mesin} on ${_e.date}`,children:a.jsx(ns,{className:"inline text-base"})})]})]},_e.id))})]})})}),I.length>C&&a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Ze+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(ke,I.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:I.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Re(v-1),disabled:v===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Qe},(_e,Be)=>a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Re(Be+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${v===Be+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${Be+1}`,children:Be+1},Be+1)),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Re(v+1),disabled:v===Qe,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),y&&a.jsx(dF,{isOpen:p,onClose:()=>{x(!1),w(null)},title:"Machine History Details",maxWidth:"max-w-4xl",children:a.jsx(P2e,{record:y,onClose:()=>x(!1)})}),a.jsx(dF,{isOpen:J,onClose:()=>ne(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ne(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>fe&&se(fe),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})};function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function L2e(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OJ(t){var e=L2e(t,"string");return Ju(e)=="symbol"?e:e+""}function _0(t,e,n){return(e=OJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(n),!0).forEach(function(r){_0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I2e(t){if(Array.isArray(t))return t}function F2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function lO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function EJ(t,e){if(t){if(typeof t=="string")return lO(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lO(t,e):void 0}}function $2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xl(t,e){return I2e(t)||F2e(t,e)||EJ(t,e)||$2e()}function H2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nl(t,e){if(t==null)return{};var n,r,s=H2e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var z2e=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function DJ(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,s=r===void 0?!1:r,i=t.defaultValue,o=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,d=t.onChange,h=t.onInputChange,m=t.onMenuClose,p=t.onMenuOpen,x=t.value,y=nl(t,z2e),w=b.useState(l!==void 0?l:n),v=Xl(w,2),N=v[0],C=v[1],S=b.useState(c!==void 0?c:s),M=Xl(S,2),_=M[0],A=M[1],O=b.useState(x!==void 0?x:o),D=Xl(O,2),F=D[0],L=D[1],I=b.useCallback(function(W,q){typeof d=="function"&&d(W,q),L(W)},[d]),P=b.useCallback(function(W,q){var X;typeof h=="function"&&(X=h(W,q)),C(X!==void 0?X:W)},[h]),z=b.useCallback(function(){typeof p=="function"&&p(),A(!0)},[p]),U=b.useCallback(function(){typeof m=="function"&&m(),A(!1)},[m]),V=l!==void 0?l:N,$=c!==void 0?c:_,R=x!==void 0?x:F;return Vt(Vt({},y),{},{inputValue:V,menuIsOpen:$,onChange:I,onInputChange:P,onMenuClose:U,onMenuOpen:z,value:R})}function Yt(){return Yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yt.apply(null,arguments)}function B2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OJ(r.key),r)}}function V2e(t,e,n){return e&&fF(t.prototype,e),n&&fF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cO(t,e){return cO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},cO(t,e)}function W2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cO(t,e)}function Ww(t){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ww(t)}function PJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PJ=function(){return!!t})()}function U2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q2e(t,e){if(e&&(Ju(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U2e(t)}function G2e(t){var e=PJ();return function(){var n,r=Ww(t);if(e){var s=Ww(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return q2e(this,n)}}function Y2e(t){if(Array.isArray(t))return lO(t)}function K2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pf(t){return Y2e(t)||K2e(t)||EJ(t)||X2e()}function J2e(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Q2e(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Z2e=(function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Q2e(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=J2e(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t})(),ta="-ms-",Uw="-moz-",zn="-webkit-",RJ="comm",AP="rule",OP="decl",eSe="@import",LJ="@keyframes",tSe="@layer",nSe=Math.abs,cN=String.fromCharCode,rSe=Object.assign;function sSe(t,e){return Us(t,0)^45?(((e<<2^Us(t,0))<<2^Us(t,1))<<2^Us(t,2))<<2^Us(t,3):0}function IJ(t){return t.trim()}function aSe(t,e){return(t=e.exec(t))?t[0]:t}function Bn(t,e,n){return t.replace(e,n)}function dO(t,e){return t.indexOf(e)}function Us(t,e){return t.charCodeAt(e)|0}function _g(t,e,n){return t.slice(e,n)}function Mo(t){return t.length}function EP(t){return t.length}function Yy(t,e){return e.push(t),t}function iSe(t,e){return t.map(e).join("")}var dN=1,sm=1,FJ=0,Wa=0,ds=0,zm="";function uN(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:dN,column:sm,length:o,return:""}}function a0(t,e){return rSe(uN("",null,null,"",null,null,0),t,{length:-t.length},e)}function oSe(){return ds}function lSe(){return ds=Wa>0?Us(zm,--Wa):0,sm--,ds===10&&(sm=1,dN--),ds}function li(){return ds=Wa<FJ?Us(zm,Wa++):0,sm++,ds===10&&(sm=1,dN++),ds}function Ho(){return Us(zm,Wa)}function Zv(){return Wa}function Ix(t,e){return _g(zm,t,e)}function Tg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $J(t){return dN=sm=1,FJ=Mo(zm=t),Wa=0,[]}function HJ(t){return zm="",t}function ew(t){return IJ(Ix(Wa-1,uO(t===91?t+2:t===40?t+1:t)))}function cSe(t){for(;(ds=Ho())&&ds<33;)li();return Tg(t)>2||Tg(ds)>3?"":" "}function dSe(t,e){for(;--e&&li()&&!(ds<48||ds>102||ds>57&&ds<65||ds>70&&ds<97););return Ix(t,Zv()+(e<6&&Ho()==32&&li()==32))}function uO(t){for(;li();)switch(ds){case t:return Wa;case 34:case 39:t!==34&&t!==39&&uO(ds);break;case 40:t===41&&uO(t);break;case 92:li();break}return Wa}function uSe(t,e){for(;li()&&t+ds!==57;)if(t+ds===84&&Ho()===47)break;return"/*"+Ix(e,Wa-1)+"*"+cN(t===47?t:li())}function hSe(t){for(;!Tg(Ho());)li();return Ix(t,Wa)}function fSe(t){return HJ(tw("",null,null,null,[""],t=$J(t),0,[0],t))}function tw(t,e,n,r,s,i,o,l,c){for(var d=0,h=0,m=o,p=0,x=0,y=0,w=1,v=1,N=1,C=0,S="",M=s,_=i,A=r,O=S;v;)switch(y=C,C=li()){case 40:if(y!=108&&Us(O,m-1)==58){dO(O+=Bn(ew(C),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:O+=ew(C);break;case 9:case 10:case 13:case 32:O+=cSe(y);break;case 92:O+=dSe(Zv()-1,7);continue;case 47:switch(Ho()){case 42:case 47:Yy(mSe(uSe(li(),Zv()),e,n),c);break;default:O+="/"}break;case 123*w:l[d++]=Mo(O)*N;case 125*w:case 59:case 0:switch(C){case 0:case 125:v=0;case 59+h:N==-1&&(O=Bn(O,/\f/g,"")),x>0&&Mo(O)-m&&Yy(x>32?pF(O+";",r,n,m-1):pF(Bn(O," ","")+";",r,n,m-2),c);break;case 59:O+=";";default:if(Yy(A=mF(O,e,n,d,h,s,l,S,M=[],_=[],m),i),C===123)if(h===0)tw(O,e,A,A,M,i,m,l,_);else switch(p===99&&Us(O,3)===110?100:p){case 100:case 108:case 109:case 115:tw(t,A,A,r&&Yy(mF(t,A,A,0,0,s,l,S,s,M=[],m),_),s,_,m,l,r?M:_);break;default:tw(O,A,A,A,[""],_,0,l,_)}}d=h=x=0,w=N=1,S=O="",m=o;break;case 58:m=1+Mo(O),x=y;default:if(w<1){if(C==123)--w;else if(C==125&&w++==0&&lSe()==125)continue}switch(O+=cN(C),C*w){case 38:N=h>0?1:(O+="\f",-1);break;case 44:l[d++]=(Mo(O)-1)*N,N=1;break;case 64:Ho()===45&&(O+=ew(li())),p=Ho(),h=m=Mo(S=O+=hSe(Zv())),C++;break;case 45:y===45&&Mo(O)==2&&(w=0)}}return i}function mF(t,e,n,r,s,i,o,l,c,d,h){for(var m=s-1,p=s===0?i:[""],x=EP(p),y=0,w=0,v=0;y<r;++y)for(var N=0,C=_g(t,m+1,m=nSe(w=o[y])),S=t;N<x;++N)(S=IJ(w>0?p[N]+" "+C:Bn(C,/&\f/g,p[N])))&&(c[v++]=S);return uN(t,e,n,s===0?AP:l,c,d,h)}function mSe(t,e,n){return uN(t,e,n,RJ,cN(oSe()),_g(t,2,-2),0)}function pF(t,e,n,r){return uN(t,e,n,OP,_g(t,0,r),_g(t,r+1,-1),r)}function Rf(t,e){for(var n="",r=EP(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function pSe(t,e,n,r){switch(t.type){case tSe:if(t.children.length)break;case eSe:case OP:return t.return=t.return||t.value;case RJ:return"";case LJ:return t.return=t.value+"{"+Rf(t.children,r)+"}";case AP:t.value=t.props.join(",")}return Mo(n=Rf(t.children,r))?t.return=t.value+"{"+n+"}":""}function gSe(t){var e=EP(t);return function(n,r,s,i){for(var o="",l=0;l<e;l++)o+=t[l](n,r,s,i)||"";return o}}function xSe(t){return function(e){e.root||(e=e.return)&&t(e)}}function bSe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var ySe=function(e,n,r){for(var s=0,i=0;s=i,i=Ho(),s===38&&i===12&&(n[r]=1),!Tg(i);)li();return Ix(e,Wa)},vSe=function(e,n){var r=-1,s=44;do switch(Tg(s)){case 0:s===38&&Ho()===12&&(n[r]=1),e[r]+=ySe(Wa-1,n,r);break;case 2:e[r]+=ew(s);break;case 4:if(s===44){e[++r]=Ho()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=cN(s)}while(s=li());return e},wSe=function(e,n){return HJ(vSe($J(e),n))},gF=new WeakMap,jSe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!gF.get(r))&&!s){gF.set(e,!0);for(var i=[],o=wSe(n,i),l=r.props,c=0,d=0;c<o.length;c++)for(var h=0;h<l.length;h++,d++)e.props[d]=i[c]?o[c].replace(/&\f/g,l[h]):l[h]+" "+o[c]}}},NSe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function zJ(t,e){switch(sSe(t,e)){case 5103:return zn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return zn+t+Uw+t+ta+t+t;case 6828:case 4268:return zn+t+ta+t+t;case 6165:return zn+t+ta+"flex-"+t+t;case 5187:return zn+t+Bn(t,/(\w+).+(:[^]+)/,zn+"box-$1$2"+ta+"flex-$1$2")+t;case 5443:return zn+t+ta+"flex-item-"+Bn(t,/flex-|-self/,"")+t;case 4675:return zn+t+ta+"flex-line-pack"+Bn(t,/align-content|flex-|-self/,"")+t;case 5548:return zn+t+ta+Bn(t,"shrink","negative")+t;case 5292:return zn+t+ta+Bn(t,"basis","preferred-size")+t;case 6060:return zn+"box-"+Bn(t,"-grow","")+zn+t+ta+Bn(t,"grow","positive")+t;case 4554:return zn+Bn(t,/([^-])(transform)/g,"$1"+zn+"$2")+t;case 6187:return Bn(Bn(Bn(t,/(zoom-|grab)/,zn+"$1"),/(image-set)/,zn+"$1"),t,"")+t;case 5495:case 3959:return Bn(t,/(image-set\([^]*)/,zn+"$1$`$1");case 4968:return Bn(Bn(t,/(.+:)(flex-)?(.*)/,zn+"box-pack:$3"+ta+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+zn+t+t;case 4095:case 3583:case 4068:case 2532:return Bn(t,/(.+)-inline(.+)/,zn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mo(t)-1-e>6)switch(Us(t,e+1)){case 109:if(Us(t,e+4)!==45)break;case 102:return Bn(t,/(.+:)(.+)-([^]+)/,"$1"+zn+"$2-$3$1"+Uw+(Us(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~dO(t,"stretch")?zJ(Bn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Us(t,e+1)!==115)break;case 6444:switch(Us(t,Mo(t)-3-(~dO(t,"!important")&&10))){case 107:return Bn(t,":",":"+zn)+t;case 101:return Bn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zn+(Us(t,14)===45?"inline-":"")+"box$3$1"+zn+"$2$3$1"+ta+"$2box$3")+t}break;case 5936:switch(Us(t,e+11)){case 114:return zn+t+ta+Bn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return zn+t+ta+Bn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return zn+t+ta+Bn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return zn+t+ta+t+t}return t}var SSe=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case OP:e.return=zJ(e.value,e.length);break;case LJ:return Rf([a0(e,{value:Bn(e.value,"@","@"+zn)})],s);case AP:if(e.length)return iSe(e.props,function(i){switch(aSe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Rf([a0(e,{props:[Bn(i,/:(read-\w+)/,":"+Uw+"$1")]})],s);case"::placeholder":return Rf([a0(e,{props:[Bn(i,/:(plac\w+)/,":"+zn+"input-$1")]}),a0(e,{props:[Bn(i,/:(plac\w+)/,":"+Uw+"$1")]}),a0(e,{props:[Bn(i,/:(plac\w+)/,ta+"input-$1")]})],s)}return""})}},kSe=[SSe],CSe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var v=w.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var s=e.stylisPlugins||kSe,i={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var v=w.getAttribute("data-emotion").split(" "),N=1;N<v.length;N++)i[v[N]]=!0;l.push(w)});var c,d=[jSe,NSe];{var h,m=[pSe,xSe(function(w){h.insert(w)})],p=gSe(d.concat(s,m)),x=function(v){return Rf(fSe(v),p)};c=function(v,N,C,S){h=C,x(v?v+"{"+N.styles+"}":N.styles),S&&(y.inserted[N.name]=!0)}}var y={key:n,sheet:new Z2e({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return y.sheet.hydrate(l),y},pC={exports:{}},Un={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xF;function _Se(){if(xF)return Un;xF=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,x=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,C=t?Symbol.for("react.scope"):60119;function S(_){if(typeof _=="object"&&_!==null){var A=_.$$typeof;switch(A){case e:switch(_=_.type,_){case c:case d:case r:case i:case s:case m:return _;default:switch(_=_&&_.$$typeof,_){case l:case h:case y:case x:case o:return _;default:return A}}case n:return A}}}function M(_){return S(_)===d}return Un.AsyncMode=c,Un.ConcurrentMode=d,Un.ContextConsumer=l,Un.ContextProvider=o,Un.Element=e,Un.ForwardRef=h,Un.Fragment=r,Un.Lazy=y,Un.Memo=x,Un.Portal=n,Un.Profiler=i,Un.StrictMode=s,Un.Suspense=m,Un.isAsyncMode=function(_){return M(_)||S(_)===c},Un.isConcurrentMode=M,Un.isContextConsumer=function(_){return S(_)===l},Un.isContextProvider=function(_){return S(_)===o},Un.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},Un.isForwardRef=function(_){return S(_)===h},Un.isFragment=function(_){return S(_)===r},Un.isLazy=function(_){return S(_)===y},Un.isMemo=function(_){return S(_)===x},Un.isPortal=function(_){return S(_)===n},Un.isProfiler=function(_){return S(_)===i},Un.isStrictMode=function(_){return S(_)===s},Un.isSuspense=function(_){return S(_)===m},Un.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===d||_===i||_===s||_===m||_===p||typeof _=="object"&&_!==null&&(_.$$typeof===y||_.$$typeof===x||_.$$typeof===o||_.$$typeof===l||_.$$typeof===h||_.$$typeof===v||_.$$typeof===N||_.$$typeof===C||_.$$typeof===w)},Un.typeOf=S,Un}var bF;function TSe(){return bF||(bF=1,pC.exports=_Se()),pC.exports}var gC,yF;function MSe(){if(yF)return gC;yF=1;var t=TSe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=s;function o(y){return t.isMemo(y)?s:i[y.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;function x(y,w,v){if(typeof w!="string"){if(p){var N=m(w);N&&N!==p&&x(y,N,v)}var C=c(w);d&&(C=C.concat(d(w)));for(var S=o(y),M=o(w),_=0;_<C.length;++_){var A=C[_];if(!n[A]&&!(v&&v[A])&&!(M&&M[A])&&!(S&&S[A])){var O=h(w,A);try{l(y,A,O)}catch{}}}}return y}return gC=x,gC}MSe();var ASe=!0;function OSe(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var BJ=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||ASe===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},ESe=function(e,n,r){BJ(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function DSe(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var PSe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},RSe=/[A-Z]|^ms/g,LSe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,VJ=function(e){return e.charCodeAt(1)===45},vF=function(e){return e!=null&&typeof e!="boolean"},xC=bSe(function(t){return VJ(t)?t:t.replace(RSe,"-$&").toLowerCase()}),wF=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(LSe,function(r,s,i){return Ao={name:s,styles:i,next:Ao},s})}return PSe[e]!==1&&!VJ(e)&&typeof n=="number"&&n!==0?n+"px":n};function Mg(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Ao={name:s.name,styles:s.styles,next:Ao},s.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Ao={name:o.name,styles:o.styles,next:Ao},o=o.next;var l=i.styles+";";return l}return ISe(t,e,n)}case"function":{if(t!==void 0){var c=Ao,d=n(t);return Ao=c,Mg(t,e,d)}break}}var h=n;return h}function ISe(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Mg(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var l=o;vF(l)&&(r+=xC(i)+":"+wF(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var c=0;c<o.length;c++)vF(o[c])&&(r+=xC(i)+":"+wF(i,o[c])+";");else{var d=Mg(t,e,o);switch(i){case"animation":case"animationName":{r+=xC(i)+":"+d+";";break}default:r+=i+"{"+d+"}"}}}return r}var jF=/label:\s*([^\s;{]+)\s*(;|$)/g,Ao;function WJ(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Ao=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=Mg(n,e,i);else{var o=i;s+=o[0]}for(var l=1;l<t.length;l++)if(s+=Mg(n,e,t[l]),r){var c=i;s+=c[l]}jF.lastIndex=0;for(var d="",h;(h=jF.exec(s))!==null;)d+="-"+h[1];var m=DSe(s)+d;return{name:m,styles:s,next:Ao}}var FSe=function(e){return e()},$Se=cw.useInsertionEffect?cw.useInsertionEffect:!1,HSe=$Se||FSe,UJ=b.createContext(typeof HTMLElement<"u"?CSe({key:"css"}):null);UJ.Provider;var zSe=function(e){return b.forwardRef(function(n,r){var s=b.useContext(UJ);return e(n,s,r)})},BSe=b.createContext({}),DP={}.hasOwnProperty,hO="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",VSe=function(e,n){var r={};for(var s in n)DP.call(n,s)&&(r[s]=n[s]);return r[hO]=e,r},WSe=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return BJ(n,r,s),HSe(function(){return ESe(n,r,s)}),null},USe=zSe(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[hO],i=[r],o="";typeof t.className=="string"?o=OSe(e.registered,i,t.className):t.className!=null&&(o=t.className+" ");var l=WJ(i,void 0,b.useContext(BSe));o+=e.key+"-"+l.name;var c={};for(var d in t)DP.call(t,d)&&d!=="css"&&d!==hO&&(c[d]=t[d]);return c.className=o,n&&(c.ref=n),b.createElement(b.Fragment,null,b.createElement(WSe,{cache:e,serialized:l,isStringTag:typeof s=="string"}),b.createElement(s,c))}),qSe=USe,zt=function(e,n){var r=arguments;if(n==null||!DP.call(n,"css"))return b.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=qSe,i[1]=VSe(e,n);for(var o=2;o<s;o++)i[o]=r[o];return b.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(zt||(zt={}));function PP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return WJ(e)}function GSe(){var t=PP.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function YSe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var fO=b.useLayoutEffect,KSe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],qw=function(){};function XSe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function JSe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&i.push("".concat(XSe(t,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Gw=function(e){return ike(e)?e.filter(Boolean):Ju(e)==="object"&&e!==null?[e]:[]},qJ=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=nl(e,KSe);return Vt({},n)},Ur=function(e,n,r){var s=e.cx,i=e.getStyles,o=e.getClassNames,l=e.className;return{css:i(n,e),className:s(r??{},o(n,e),l)}};function hN(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function QSe(t){return hN(t)?window.innerHeight:t.clientHeight}function GJ(t){return hN(t)?window.pageYOffset:t.scrollTop}function Yw(t,e){if(hN(t)){window.scrollTo(0,e);return}t.scrollTop=e}function ZSe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function eke(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Ky(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:qw,s=GJ(t),i=e-s,o=10,l=0;function c(){l+=o;var d=eke(l,s,i,n);Yw(t,d),l<n?window.requestAnimationFrame(c):r(t)}c()}function NF(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>n.bottom?Yw(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):r.top-s<n.top&&Yw(t,Math.max(e.offsetTop-s,0))}function tke(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function SF(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function nke(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var YJ=!1,rke={get passive(){return YJ=!0}},Xy=typeof window<"u"?window:{};Xy.addEventListener&&Xy.removeEventListener&&(Xy.addEventListener("p",qw,rke),Xy.removeEventListener("p",qw,!1));var ske=YJ;function ake(t){return t!=null}function ike(t){return Array.isArray(t)}function T0(t,e,n){return t?e:n}var oke=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var i=Object.entries(e).filter(function(o){var l=Xl(o,1),c=l[0];return!r.includes(c)});return i.reduce(function(o,l){var c=Xl(l,2),d=c[0],h=c[1];return o[d]=h,o},{})},lke=["children","innerProps"],cke=["children","innerProps"];function dke(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,s=t.placement,i=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,c=ZSe(n),d={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return d;var h=c.getBoundingClientRect(),m=h.height,p=n.getBoundingClientRect(),x=p.bottom,y=p.height,w=p.top,v=n.offsetParent.getBoundingClientRect(),N=v.top,C=o?window.innerHeight:QSe(c),S=GJ(c),M=parseInt(getComputedStyle(n).marginBottom,10),_=parseInt(getComputedStyle(n).marginTop,10),A=N-_,O=C-w,D=A+S,F=m-S-w,L=x-C+S+M,I=S+w-_,P=160;switch(s){case"auto":case"bottom":if(O>=y)return{placement:"bottom",maxHeight:e};if(F>=y&&!o)return i&&Ky(c,L,P),{placement:"bottom",maxHeight:e};if(!o&&F>=r||o&&O>=r){i&&Ky(c,L,P);var z=o?O-M:F-M;return{placement:"bottom",maxHeight:z}}if(s==="auto"||o){var U=e,V=o?A:D;return V>=r&&(U=Math.min(V-M-l,e)),{placement:"top",maxHeight:U}}if(s==="bottom")return i&&Yw(c,L),{placement:"bottom",maxHeight:e};break;case"top":if(A>=y)return{placement:"top",maxHeight:e};if(D>=y&&!o)return i&&Ky(c,I,P),{placement:"top",maxHeight:e};if(!o&&D>=r||o&&A>=r){var $=e;return(!o&&D>=r||o&&A>=r)&&($=o?A-_:D-_),i&&Ky(c,I,P),{placement:"top",maxHeight:$}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return d}function uke(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var KJ=function(e){return e==="auto"?"bottom":e},hke=function(e,n){var r,s=e.placement,i=e.theme,o=i.borderRadius,l=i.spacing,c=i.colors;return Vt((r={label:"menu"},_0(r,uke(s),"100%"),_0(r,"position","absolute"),_0(r,"width","100%"),_0(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},XJ=b.createContext(null),fke=function(e){var n=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,d=b.useContext(XJ)||{},h=d.setPortalPlacement,m=b.useRef(null),p=b.useState(s),x=Xl(p,2),y=x[0],w=x[1],v=b.useState(null),N=Xl(v,2),C=N[0],S=N[1],M=c.spacing.controlHeight;return fO(function(){var _=m.current;if(_){var A=o==="fixed",O=l&&!A,D=dke({maxHeight:s,menuEl:_,minHeight:r,placement:i,shouldScroll:O,isFixedPosition:A,controlHeight:M});w(D.maxHeight),S(D.placement),h==null||h(D.placement)}},[s,i,o,l,r,h,M]),n({ref:m,placerProps:Vt(Vt({},e),{},{placement:C||KJ(i),maxHeight:y})})},mke=function(e){var n=e.children,r=e.innerRef,s=e.innerProps;return zt("div",Yt({},Ur(e,"menu",{menu:!0}),{ref:r},s),n)},pke=mke,gke=function(e,n){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return Vt({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},xke=function(e){var n=e.children,r=e.innerProps,s=e.innerRef,i=e.isMulti;return zt("div",Yt({},Ur(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},r),n)},JJ=function(e,n){var r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Vt({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},bke=JJ,yke=JJ,vke=function(e){var n=e.children,r=n===void 0?"No options":n,s=e.innerProps,i=nl(e,lke);return zt("div",Yt({},Ur(Vt(Vt({},i),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},wke=function(e){var n=e.children,r=n===void 0?"Loading...":n,s=e.innerProps,i=nl(e,cke);return zt("div",Yt({},Ur(Vt(Vt({},i),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},jke=function(e){var n=e.rect,r=e.offset,s=e.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},Nke=function(e){var n=e.appendTo,r=e.children,s=e.controlElement,i=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=b.useRef(null),d=b.useRef(null),h=b.useState(KJ(o)),m=Xl(h,2),p=m[0],x=m[1],y=b.useMemo(function(){return{setPortalPlacement:x}},[]),w=b.useState(null),v=Xl(w,2),N=v[0],C=v[1],S=b.useCallback(function(){if(s){var O=tke(s),D=l==="fixed"?0:window.pageYOffset,F=O[p]+D;(F!==(N==null?void 0:N.offset)||O.left!==(N==null?void 0:N.rect.left)||O.width!==(N==null?void 0:N.rect.width))&&C({offset:F,rect:O})}},[s,l,p,N==null?void 0:N.offset,N==null?void 0:N.rect.left,N==null?void 0:N.rect.width]);fO(function(){S()},[S]);var M=b.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),s&&c.current&&(d.current=fJ(s,c.current,S,{elementResize:"ResizeObserver"in window}))},[s,S]);fO(function(){M()},[M]);var _=b.useCallback(function(O){c.current=O,M()},[M]);if(!n&&l!=="fixed"||!N)return null;var A=zt("div",Yt({ref:_},Ur(Vt(Vt({},e),{},{offset:N.offset,position:l,rect:N.rect}),"menuPortal",{"menu-portal":!0}),i),r);return zt(XJ.Provider,{value:y},n?vD.createPortal(A,n):A)},Ske=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},kke=function(e){var n=e.children,r=e.innerProps,s=e.isDisabled,i=e.isRtl;return zt("div",Yt({},Ur(e,"container",{"--is-disabled":s,"--is-rtl":i}),r),n)},Cke=function(e,n){var r=e.theme.spacing,s=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Vt({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},_ke=function(e){var n=e.children,r=e.innerProps,s=e.isMulti,i=e.hasValue;return zt("div",Yt({},Ur(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),r),n)},Tke=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Mke=function(e){var n=e.children,r=e.innerProps;return zt("div",Yt({},Ur(e,"indicatorsContainer",{indicators:!0}),r),n)},kF,Ake=["size"],Oke=["innerProps","isRtl","size"],Eke={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},QJ=function(e){var n=e.size,r=nl(e,Ake);return zt("svg",Yt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Eke},r))},RP=function(e){return zt(QJ,Yt({size:20},e),zt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ZJ=function(e){return zt(QJ,Yt({size:20},e),zt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},eQ=function(e,n){var r=e.isFocused,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return Vt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:i*2,":hover":{color:r?o.neutral80:o.neutral40}})},Dke=eQ,Pke=function(e){var n=e.children,r=e.innerProps;return zt("div",Yt({},Ur(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||zt(ZJ,null))},Rke=eQ,Lke=function(e){var n=e.children,r=e.innerProps;return zt("div",Yt({},Ur(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||zt(RP,null))},Ike=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return Vt({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},Fke=function(e){var n=e.innerProps;return zt("span",Yt({},n,Ur(e,"indicatorSeparator",{"indicator-separator":!0})))},$ke=GSe(kF||(kF=YSe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Hke=function(e,n){var r=e.isFocused,s=e.size,i=e.theme,o=i.colors,l=i.spacing.baseUnit;return Vt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:l*2})},bC=function(e){var n=e.delay,r=e.offset;return zt("span",{css:PP({animation:"".concat($ke," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},zke=function(e){var n=e.innerProps,r=e.isRtl,s=e.size,i=s===void 0?4:s,o=nl(e,Oke);return zt("div",Yt({},Ur(Vt(Vt({},o),{},{innerProps:n,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),zt(bC,{delay:0,offset:r}),zt(bC,{delay:160,offset:!0}),zt(bC,{delay:320,offset:!r}))},Bke=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.theme,o=i.colors,l=i.borderRadius,c=i.spacing;return Vt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},Vke=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return zt("div",Yt({ref:i},Ur(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":r||void 0}),n)},Wke=Vke,Uke=["data"],qke=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Gke=function(e){var n=e.children,r=e.cx,s=e.getStyles,i=e.getClassNames,o=e.Heading,l=e.headingProps,c=e.innerProps,d=e.label,h=e.theme,m=e.selectProps;return zt("div",Yt({},Ur(e,"group",{group:!0}),c),zt(o,Yt({},l,{selectProps:m,theme:h,getStyles:s,getClassNames:i,cx:r}),d),zt("div",null,n))},Yke=function(e,n){var r=e.theme,s=r.colors,i=r.spacing;return Vt({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},Kke=function(e){var n=qJ(e);n.data;var r=nl(n,Uke);return zt("div",Yt({},Ur(e,"groupHeading",{"group-heading":!0}),r))},Xke=Gke,Jke=["innerRef","isDisabled","isHidden","inputClassName"],Qke=function(e,n){var r=e.isDisabled,s=e.value,i=e.theme,o=i.spacing,l=i.colors;return Vt(Vt({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},Zke),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},tQ={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Zke={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Vt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},tQ)},eCe=function(e){return Vt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},tQ)},tCe=function(e){var n=e.cx,r=e.value,s=qJ(e),i=s.innerRef,o=s.isDisabled,l=s.isHidden,c=s.inputClassName,d=nl(s,Jke);return zt("div",Yt({},Ur(e,"input",{"input-container":!0}),{"data-value":r||""}),zt("input",Yt({className:n({input:!0},c),ref:i,style:eCe(l),disabled:o},d)))},nCe=tCe,rCe=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,o=r.colors;return Vt({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},sCe=function(e,n){var r=e.theme,s=r.borderRadius,i=r.colors,o=e.cropWithEllipsis;return Vt({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},aCe=function(e,n){var r=e.theme,s=r.spacing,i=r.borderRadius,o=r.colors,l=e.isFocused;return Vt({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},nQ=function(e){var n=e.children,r=e.innerProps;return zt("div",r,n)},iCe=nQ,oCe=nQ;function lCe(t){var e=t.children,n=t.innerProps;return zt("div",Yt({role:"button"},n),e||zt(RP,{size:14}))}var cCe=function(e){var n=e.children,r=e.components,s=e.data,i=e.innerProps,o=e.isDisabled,l=e.removeProps,c=e.selectProps,d=r.Container,h=r.Label,m=r.Remove;return zt(d,{data:s,innerProps:Vt(Vt({},Ur(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:c},zt(h,{data:s,innerProps:Vt({},Ur(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),zt(m,{data:s,innerProps:Vt(Vt({},Ur(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:c}))},dCe=cCe,uCe=function(e,n){var r=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.theme,l=o.spacing,c=o.colors;return Vt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?c.primary:s?c.primary25:"transparent",color:r?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?c.primary:c.primary50}})},hCe=function(e){var n=e.children,r=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.innerRef,l=e.innerProps;return zt("div",Yt({},Ur(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":r},l),n)},fCe=hCe,mCe=function(e,n){var r=e.theme,s=r.spacing,i=r.colors;return Vt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},pCe=function(e){var n=e.children,r=e.innerProps;return zt("div",Yt({},Ur(e,"placeholder",{placeholder:!0}),r),n)},gCe=pCe,xCe=function(e,n){var r=e.isDisabled,s=e.theme,i=s.spacing,o=s.colors;return Vt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},bCe=function(e){var n=e.children,r=e.isDisabled,s=e.innerProps;return zt("div",Yt({},Ur(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},yCe=bCe,vCe={ClearIndicator:Lke,Control:Wke,DropdownIndicator:Pke,DownChevron:ZJ,CrossIcon:RP,Group:Xke,GroupHeading:Kke,IndicatorsContainer:Mke,IndicatorSeparator:Fke,Input:nCe,LoadingIndicator:zke,Menu:pke,MenuList:xke,MenuPortal:Nke,LoadingMessage:wke,NoOptionsMessage:vke,MultiValue:dCe,MultiValueContainer:iCe,MultiValueLabel:oCe,MultiValueRemove:lCe,Option:fCe,Placeholder:gCe,SelectContainer:kke,SingleValue:yCe,ValueContainer:_ke},wCe=function(e){return Vt(Vt({},vCe),e.components)},CF=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function jCe(t,e){return!!(t===e||CF(t)&&CF(e))}function NCe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!jCe(t[n],e[n]))return!1;return!0}function SCe(t,e){e===void 0&&(e=NCe);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var o=t.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}var kCe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},CCe=function(e){return zt("span",Yt({css:kCe},e))},_F=CCe,_Ce={guidance:function(e){var n=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,s=r===void 0?"":r,i=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,s=e.options,i=e.label,o=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,d=e.isSelected,h=e.isAppleDevice,m=function(w,v){return w&&w.length?"".concat(w.indexOf(v)+1," of ").concat(w.length):""};if(n==="value"&&l)return"value ".concat(o," focused, ").concat(m(l,r),".");if(n==="menu"&&h){var p=c?" disabled":"",x="".concat(d?" selected":"").concat(p);return"".concat(o).concat(x,", ").concat(m(s,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},TCe=function(e){var n=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,o=e.isFocused,l=e.selectValue,c=e.selectProps,d=e.id,h=e.isAppleDevice,m=c.ariaLiveMessages,p=c.getOptionLabel,x=c.inputValue,y=c.isMulti,w=c.isOptionDisabled,v=c.isSearchable,N=c.menuIsOpen,C=c.options,S=c.screenReaderStatus,M=c.tabSelectsValue,_=c.isLoading,A=c["aria-label"],O=c["aria-live"],D=b.useMemo(function(){return Vt(Vt({},_Ce),m||{})},[m]),F=b.useMemo(function(){var V="";if(n&&D.onChange){var $=n.option,R=n.options,W=n.removedValue,q=n.removedValues,X=n.value,H=function($e){return Array.isArray($e)?null:$e},J=W||$||H(X),ne=J?p(J):"",fe=R||q||void 0,de=fe?fe.map(p):[],we=Vt({isDisabled:J&&w(J,l),label:ne,labels:de},n);V=D.onChange(we)}return V},[n,D,w,l,p]),L=b.useMemo(function(){var V="",$=r||s,R=!!(r&&l&&l.includes(r));if($&&D.onFocus){var W={focused:$,label:p($),isDisabled:w($,l),isSelected:R,options:i,context:$===r?"menu":"value",selectValue:l,isAppleDevice:h};V=D.onFocus(W)}return V},[r,s,p,w,D,i,l,h]),I=b.useMemo(function(){var V="";if(N&&C.length&&!_&&D.onFilter){var $=S({count:i.length});V=D.onFilter({inputValue:x,resultsMessage:$})}return V},[i,x,N,D,C,S,_]),P=(n==null?void 0:n.action)==="initial-input-focus",z=b.useMemo(function(){var V="";if(D.guidance){var $=s?"value":N?"menu":"input";V=D.guidance({"aria-label":A,context:$,isDisabled:r&&w(r,l),isMulti:y,isSearchable:v,tabSelectsValue:M,isInitialFocus:P})}return V},[A,r,s,y,w,v,N,D,l,M,P]),U=zt(b.Fragment,null,zt("span",{id:"aria-selection"},F),zt("span",{id:"aria-focused"},L),zt("span",{id:"aria-results"},I),zt("span",{id:"aria-guidance"},z));return zt(b.Fragment,null,zt(_F,{id:d},P&&U),zt(_F,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!P&&U))},MCe=TCe,mO=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],ACe=new RegExp("["+mO.map(function(t){return t.letters}).join("")+"]","g"),rQ={};for(var yC=0;yC<mO.length;yC++)for(var vC=mO[yC],wC=0;wC<vC.letters.length;wC++)rQ[vC.letters[wC]]=vC.base;var sQ=function(e){return e.replace(ACe,function(n){return rQ[n]})},OCe=SCe(sQ),TF=function(e){return e.replace(/^\s+|\s+$/g,"")},ECe=function(e){return"".concat(e.label," ").concat(e.value)},DCe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var s=Vt({ignoreCase:!0,ignoreAccents:!0,stringify:ECe,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,c=s.trim,d=s.matchFrom,h=c?TF(r):r,m=c?TF(l(n)):l(n);return i&&(h=h.toLowerCase(),m=m.toLowerCase()),o&&(h=OCe(h),m=sQ(m)),d==="start"?m.substr(0,h.length)===h:m.indexOf(h)>-1}},PCe=["innerRef"];function RCe(t){var e=t.innerRef,n=nl(t,PCe),r=oke(n,"onExited","in","enter","exit","appear");return zt("input",Yt({ref:e},r,{css:PP({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var LCe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function ICe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,s=t.onTopArrive,i=t.onTopLeave,o=b.useRef(!1),l=b.useRef(!1),c=b.useRef(0),d=b.useRef(null),h=b.useCallback(function(v,N){if(d.current!==null){var C=d.current,S=C.scrollTop,M=C.scrollHeight,_=C.clientHeight,A=d.current,O=N>0,D=M-_-S,F=!1;D>N&&o.current&&(r&&r(v),o.current=!1),O&&l.current&&(i&&i(v),l.current=!1),O&&N>D?(n&&!o.current&&n(v),A.scrollTop=M,F=!0,o.current=!0):!O&&-N>S&&(s&&!l.current&&s(v),A.scrollTop=0,F=!0,l.current=!0),F&&LCe(v)}},[n,r,s,i]),m=b.useCallback(function(v){h(v,v.deltaY)},[h]),p=b.useCallback(function(v){c.current=v.changedTouches[0].clientY},[]),x=b.useCallback(function(v){var N=c.current-v.changedTouches[0].clientY;h(v,N)},[h]),y=b.useCallback(function(v){if(v){var N=ske?{passive:!1}:!1;v.addEventListener("wheel",m,N),v.addEventListener("touchstart",p,N),v.addEventListener("touchmove",x,N)}},[x,p,m]),w=b.useCallback(function(v){v&&(v.removeEventListener("wheel",m,!1),v.removeEventListener("touchstart",p,!1),v.removeEventListener("touchmove",x,!1))},[x,p,m]);return b.useEffect(function(){if(e){var v=d.current;return y(v),function(){w(v)}}},[e,y,w]),function(v){d.current=v}}var MF=["boxSizing","height","overflow","paddingRight","position"],AF={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function OF(t){t.cancelable&&t.preventDefault()}function EF(t){t.stopPropagation()}function DF(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function PF(){return"ontouchstart"in window||navigator.maxTouchPoints}var RF=!!(typeof window<"u"&&window.document&&window.document.createElement),i0=0,rf={capture:!1,passive:!1};function FCe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,s=b.useRef({}),i=b.useRef(null),o=b.useCallback(function(c){if(RF){var d=document.body,h=d&&d.style;if(r&&MF.forEach(function(y){var w=h&&h[y];s.current[y]=w}),r&&i0<1){var m=parseInt(s.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,x=window.innerWidth-p+m||0;Object.keys(AF).forEach(function(y){var w=AF[y];h&&(h[y]=w)}),h&&(h.paddingRight="".concat(x,"px"))}d&&PF()&&(d.addEventListener("touchmove",OF,rf),c&&(c.addEventListener("touchstart",DF,rf),c.addEventListener("touchmove",EF,rf))),i0+=1}},[r]),l=b.useCallback(function(c){if(RF){var d=document.body,h=d&&d.style;i0=Math.max(i0-1,0),r&&i0<1&&MF.forEach(function(m){var p=s.current[m];h&&(h[m]=p)}),d&&PF()&&(d.removeEventListener("touchmove",OF,rf),c&&(c.removeEventListener("touchstart",DF,rf),c.removeEventListener("touchmove",EF,rf)))}},[r]);return b.useEffect(function(){if(e){var c=i.current;return o(c),function(){l(c)}}},[e,o,l]),function(c){i.current=c}}var $Ce=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},HCe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function zCe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,s=r===void 0?!0:r,i=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,d=ICe({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),h=FCe({isEnabled:n}),m=function(x){d(x),h(x)};return zt(b.Fragment,null,n&&zt("div",{onClick:$Ce,css:HCe}),e(m))}var BCe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},VCe=function(e){var n=e.name,r=e.onFocus;return zt("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:BCe,value:"",onChange:function(){}})},WCe=VCe;function LP(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function UCe(){return LP(/^iPhone/i)}function aQ(){return LP(/^Mac/i)}function qCe(){return LP(/^iPad/i)||aQ()&&navigator.maxTouchPoints>1}function GCe(){return UCe()||qCe()}function YCe(){return aQ()||GCe()}var KCe=function(e){return e.label},iQ=function(e){return e.label},oQ=function(e){return e.value},XCe=function(e){return!!e.isDisabled},JCe={clearIndicator:Rke,container:Ske,control:Bke,dropdownIndicator:Dke,group:qke,groupHeading:Yke,indicatorsContainer:Tke,indicatorSeparator:Ike,input:Qke,loadingIndicator:Hke,loadingMessage:yke,menu:hke,menuList:gke,menuPortal:jke,multiValue:rCe,multiValueLabel:sCe,multiValueRemove:aCe,noOptionsMessage:bke,option:uCe,placeholder:mCe,singleValue:xCe,valueContainer:Cke},QCe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},ZCe=4,lQ=4,e5e=38,t5e=lQ*2,n5e={baseUnit:lQ,controlHeight:e5e,menuGutter:t5e},jC={borderRadius:ZCe,colors:QCe,spacing:n5e},r5e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:SF(),captureMenuScroll:!SF(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:DCe(),formatGroupLabel:KCe,getOptionLabel:iQ,getOptionValue:oQ,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:XCe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!nke(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function LF(t,e,n,r){var s=uQ(t,e,n),i=hQ(t,e,n),o=dQ(t,e),l=Kw(t,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:o,value:l,index:r}}function nw(t,e){return t.options.map(function(n,r){if("options"in n){var s=n.options.map(function(o,l){return LF(t,o,e,l)}).filter(function(o){return FF(t,o)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var i=LF(t,n,e,r);return FF(t,i)?i:void 0}).filter(ake)}function cQ(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Pf(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function IF(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Pf(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function s5e(t,e){return cQ(nw(t,e))}function FF(t,e){var n=t.inputValue,r=n===void 0?"":n,s=e.data,i=e.isSelected,o=e.label,l=e.value;return(!mQ(t)||!i)&&fQ(t,{label:o,value:l,data:s},r)}function a5e(t,e){var n=t.focusedValue,r=t.selectValue,s=r.indexOf(n);if(s>-1){var i=e.indexOf(n);if(i>-1)return n;if(s<e.length)return e[s]}return null}function i5e(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var NC=function(e,n){var r,s=(r=e.find(function(i){return i.data===n}))===null||r===void 0?void 0:r.id;return s||null},dQ=function(e,n){return e.getOptionLabel(n)},Kw=function(e,n){return e.getOptionValue(n)};function uQ(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function hQ(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Kw(t,e);return n.some(function(s){return Kw(t,s)===r})}function fQ(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var mQ=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},o5e=1,IP=(function(t){W2e(n,t);var e=G2e(n);function n(r){var s;if(B2e(this,n),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,d){var h=s.props,m=h.onChange,p=h.name;d.name=p,s.ariaOnChange(c,d),m(c,d)},s.setValue=function(c,d,h){var m=s.props,p=m.closeMenuOnSelect,x=m.isMulti,y=m.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:y}),p&&(s.setState({inputIsHiddenAfterUpdate:!x}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:d,option:h})},s.selectOption=function(c){var d=s.props,h=d.blurInputOnSelect,m=d.isMulti,p=d.name,x=s.state.selectValue,y=m&&s.isOptionSelected(c,x),w=s.isOptionDisabled(c,x);if(y){var v=s.getOptionValue(c);s.setValue(x.filter(function(N){return s.getOptionValue(N)!==v}),"deselect-option",c)}else if(!w)m?s.setValue([].concat(Pf(x),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:p});return}h&&s.blurInput()},s.removeValue=function(c){var d=s.props.isMulti,h=s.state.selectValue,m=s.getOptionValue(c),p=h.filter(function(y){return s.getOptionValue(y)!==m}),x=T0(d,p,p[0]||null);s.onChange(x,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(T0(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,d=s.state.selectValue,h=d[d.length-1],m=d.slice(0,d.length-1),p=T0(c,m,m[0]||null);h&&s.onChange(p,{action:"pop-value",removedValue:h})},s.getFocusedOptionId=function(c){return NC(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return IF(nw(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return JSe.apply(void 0,[s.props.classNamePrefix].concat(d))},s.getOptionLabel=function(c){return dQ(s.props,c)},s.getOptionValue=function(c){return Kw(s.props,c)},s.getStyles=function(c,d){var h=s.props.unstyled,m=JCe[c](d,h);m.boxSizing="border-box";var p=s.props.styles[c];return p?p(m,d):m},s.getClassNames=function(c,d){var h,m;return(h=(m=s.props.classNames)[c])===null||h===void 0?void 0:h.call(m,d)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return wCe(s.props)},s.buildCategorizedOptions=function(){return nw(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return cQ(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,d){s.setState({ariaSelection:Vt({value:c},d)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var d=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():d&&s.openMenu("first"):(d&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var d=s.props,h=d.isMulti,m=d.menuIsOpen;s.focusInput(),m?(s.setState({inputIsHiddenAfterUpdate:!h}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&hN(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var d=c.touches,h=d&&d.item(0);h&&(s.initialTouchX=h.clientX,s.initialTouchY=h.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var d=c.touches,h=d&&d.item(0);if(h){var m=Math.abs(h.clientX-s.initialTouchX),p=Math.abs(h.clientY-s.initialTouchY),x=5;s.userIsDragging=m>x||p>x}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var d=s.props.inputValue,h=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(h,{action:"input-change",prevInputValue:d}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var d=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:d}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var d=s.getFocusableOptions(),h=d.indexOf(c);s.setState({focusedOption:c,focusedOptionId:h>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return mQ(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var d=s.props,h=d.isMulti,m=d.backspaceRemovesValue,p=d.escapeClearsValue,x=d.inputValue,y=d.isClearable,w=d.isDisabled,v=d.menuIsOpen,N=d.onKeyDown,C=d.tabSelectsValue,S=d.openMenuOnFocus,M=s.state,_=M.focusedOption,A=M.focusedValue,O=M.selectValue;if(!w&&!(typeof N=="function"&&(N(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!h||x)return;s.focusValue("previous");break;case"ArrowRight":if(!h||x)return;s.focusValue("next");break;case"Delete":case"Backspace":if(x)return;if(A)s.removeValue(A);else{if(!m)return;h?s.popValue():y&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!v||!C||!_||S&&s.isOptionSelected(_,O))return;s.selectOption(_);break;case"Enter":if(c.keyCode===229)break;if(v){if(!_||s.isComposing)return;s.selectOption(_);break}return;case"Escape":v?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:x}),s.onMenuClose()):y&&p&&s.clearValue();break;case" ":if(x)return;if(!v){s.openMenu("first");break}if(!_)return;s.selectOption(_);break;case"ArrowUp":v?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":v?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!v)return;s.focusOption("pageup");break;case"PageDown":if(!v)return;s.focusOption("pagedown");break;case"Home":if(!v)return;s.focusOption("first");break;case"End":if(!v)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++o5e),s.state.selectValue=Gw(r.value),r.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[l],s.state.focusedOptionId=NC(i,o[l])}return s}return V2e(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&NF(this.menuListRef,this.focusedOptionRef),YCe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!o&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(NF(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,l=o.selectValue,c=o.isFocused,d=this.buildFocusableOptions(),h=s==="first"?0:d.length-1;if(!this.props.isMulti){var m=d.indexOf(l[0]);m>-1&&(h=m)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[h],focusedOptionId:this.getFocusedOptionId(d[h])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var d=o.length-1,h=-1;if(o.length){switch(s){case"previous":c===0?h=0:c===-1?h=d:h=c-1;break;case"next":c>-1&&c<d&&(h=c+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,d=l.indexOf(o);o||(d=-1),s==="up"?c=d>0?d-1:l.length-1:s==="down"?c=(d+1)%l.length:s==="pageup"?(c=d-i,c<0&&(c=0)):s==="pagedown"?(c=d+i,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(jC):Vt(Vt({},jC),this.props.theme):jC})},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,d=this.selectOption,h=this.setValue,m=this.props,p=m.isMulti,x=m.isRtl,y=m.options,w=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:l,getValue:c,hasValue:w,isMulti:p,isRtl:x,options:y,selectOption:d,selectProps:m,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return uQ(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return hQ(this.props,s,i)}},{key:"filterOption",value:function(s,i){return fQ(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,l=s.inputId,c=s.inputValue,d=s.tabIndex,h=s.form,m=s.menuIsOpen,p=s.required,x=this.getComponents(),y=x.Input,w=this.state,v=w.inputIsHidden,N=w.ariaSelection,C=this.commonProps,S=l||this.getElementId("input"),M=Vt(Vt(Vt({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(N==null?void 0:N.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?b.createElement(y,Yt({},C,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:i,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:h,type:"text",value:c},M)):b.createElement(RCe,Yt({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:qw,onFocus:this.onInputFocus,disabled:i,tabIndex:d,inputMode:"none",form:h,value:""},M))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,d=i.MultiValueRemove,h=i.SingleValue,m=i.Placeholder,p=this.commonProps,x=this.props,y=x.controlShouldRenderValue,w=x.isDisabled,v=x.isMulti,N=x.inputValue,C=x.placeholder,S=this.state,M=S.selectValue,_=S.focusedValue,A=S.isFocused;if(!this.hasValue()||!y)return N?null:b.createElement(m,Yt({},p,{key:"placeholder",isDisabled:w,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),C);if(v)return M.map(function(D,F){var L=D===_,I="".concat(s.getOptionLabel(D),"-").concat(s.getOptionValue(D));return b.createElement(o,Yt({},p,{components:{Container:l,Label:c,Remove:d},isFocused:L,isDisabled:w,key:I,index:F,removeProps:{onClick:function(){return s.removeValue(D)},onTouchEnd:function(){return s.removeValue(D)},onMouseDown:function(z){z.preventDefault()}},data:D}),s.formatOptionLabel(D,"value"))});if(N)return null;var O=M[0];return b.createElement(h,Yt({},p,{data:O,isDisabled:w}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,h=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||d)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return b.createElement(i,Yt({},o,{innerProps:m,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,h=this.state.isFocused;if(!i||!d)return null;var m={"aria-hidden":"true"};return b.createElement(i,Yt({},o,{innerProps:m,isDisabled:c,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused;return b.createElement(o,Yt({},l,{isDisabled:c,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return b.createElement(i,Yt({},o,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,c=i.Menu,d=i.MenuList,h=i.MenuPortal,m=i.LoadingMessage,p=i.NoOptionsMessage,x=i.Option,y=this.commonProps,w=this.state.focusedOption,v=this.props,N=v.captureMenuScroll,C=v.inputValue,S=v.isLoading,M=v.loadingMessage,_=v.minMenuHeight,A=v.maxMenuHeight,O=v.menuIsOpen,D=v.menuPlacement,F=v.menuPosition,L=v.menuPortalTarget,I=v.menuShouldBlockScroll,P=v.menuShouldScrollIntoView,z=v.noOptionsMessage,U=v.onMenuScrollToTop,V=v.onMenuScrollToBottom;if(!O)return null;var $=function(ne,fe){var de=ne.type,we=ne.data,Fe=ne.isDisabled,$e=ne.isSelected,be=ne.label,Ee=ne.value,Ge=w===we,ae=Fe?void 0:function(){return s.onOptionHover(we)},oe=Fe?void 0:function(){return s.selectOption(we)},Y="".concat(s.getElementId("option"),"-").concat(fe),ce={id:Y,onClick:oe,onMouseMove:ae,onMouseOver:ae,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:$e};return b.createElement(x,Yt({},y,{innerProps:ce,data:we,isDisabled:Fe,isSelected:$e,key:Y,label:be,type:de,value:Ee,isFocused:Ge,innerRef:Ge?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ne.data,"menu"))},R;if(this.hasOptions())R=this.getCategorizedOptions().map(function(J){if(J.type==="group"){var ne=J.data,fe=J.options,de=J.index,we="".concat(s.getElementId("group"),"-").concat(de),Fe="".concat(we,"-heading");return b.createElement(o,Yt({},y,{key:we,data:ne,options:fe,Heading:l,headingProps:{id:Fe,data:J.data},label:s.formatGroupLabel(J.data)}),J.options.map(function($e){return $($e,"".concat(de,"-").concat($e.index))}))}else if(J.type==="option")return $(J,"".concat(J.index))});else if(S){var W=M({inputValue:C});if(W===null)return null;R=b.createElement(m,y,W)}else{var q=z({inputValue:C});if(q===null)return null;R=b.createElement(p,y,q)}var X={minMenuHeight:_,maxMenuHeight:A,menuPlacement:D,menuPosition:F,menuShouldScrollIntoView:P},H=b.createElement(fke,Yt({},y,X),function(J){var ne=J.ref,fe=J.placerProps,de=fe.placement,we=fe.maxHeight;return b.createElement(c,Yt({},y,X,{innerRef:ne,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:S,placement:de}),b.createElement(zCe,{captureEnabled:N,onTopArrive:U,onBottomArrive:V,lockEnabled:I},function(Fe){return b.createElement(d,Yt({},y,{innerRef:function(be){s.getMenuListRef(be),Fe(be)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:s.getElementId("listbox")},isLoading:S,maxHeight:we,focusedOption:w}),R)}))});return L||F==="fixed"?b.createElement(h,Yt({},y,{appendTo:L,controlElement:this.controlRef,menuPlacement:D,menuPosition:F}),H):H}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,l=i.isDisabled,c=i.isMulti,d=i.name,h=i.required,m=this.state.selectValue;if(h&&!this.hasValue()&&!l)return b.createElement(WCe,{name:d,onFocus:this.onValueInputFocus});if(!(!d||l))if(c)if(o){var p=m.map(function(w){return s.getOptionValue(w)}).join(o);return b.createElement("input",{name:d,type:"hidden",value:p})}else{var x=m.length>0?m.map(function(w,v){return b.createElement("input",{key:"i-".concat(v),name:d,type:"hidden",value:s.getOptionValue(w)})}):b.createElement("input",{name:d,type:"hidden",value:""});return b.createElement("div",null,x)}else{var y=m[0]?this.getOptionValue(m[0]):"";return b.createElement("input",{name:d,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,d=i.isFocused,h=i.selectValue,m=this.getFocusableOptions();return b.createElement(MCe,Yt({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:d,selectValue:h,focusableOptions:m,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,d=this.props,h=d.className,m=d.id,p=d.isDisabled,x=d.menuIsOpen,y=this.state.isFocused,w=this.commonProps=this.getCommonProps();return b.createElement(l,Yt({},w,{className:h,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:y}),this.renderLiveRegion(),b.createElement(i,Yt({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:y,menuIsOpen:x}),b.createElement(c,Yt({},w,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),b.createElement(o,Yt({},w,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,d=i.ariaSelection,h=i.isFocused,m=i.prevWasFocused,p=i.instancePrefix,x=s.options,y=s.value,w=s.menuIsOpen,v=s.inputValue,N=s.isMulti,C=Gw(y),S={};if(o&&(y!==o.value||x!==o.options||w!==o.menuIsOpen||v!==o.inputValue)){var M=w?s5e(s,C):[],_=w?IF(nw(s,C),"".concat(p,"-option")):[],A=l?a5e(i,C):null,O=i5e(i,M),D=NC(_,O);S={selectValue:C,focusedOption:O,focusedOptionId:D,focusableOptionsWithIds:_,focusedValue:A,clearFocusValueOnUpdate:!1}}var F=c!=null&&s!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},L=d,I=h&&m;return h&&!I&&(L={value:T0(N,C,C[0]||null),options:C,action:"initial-input-focus"},I=!m),(d==null?void 0:d.action)==="initial-input-focus"&&(L=null),Vt(Vt(Vt({},S),F),{},{prevProps:s,ariaSelection:L,prevWasFocused:I})}}]),n})(b.Component);IP.defaultProps=r5e;var l5e=b.forwardRef(function(t,e){var n=DJ(t);return b.createElement(IP,Yt({ref:e},n))}),_n=l5e;const $F=[{id:1,title:"Machine A Warning",description:"Machine A temperature exceeds normal limits.",date:"Today, 10:00 AM",icon:a.jsx(Zt,{className:"text-red-500"})},{id:2,title:"Upcoming Maintenance Schedule",description:"Routine maintenance for Machine B will be performed tomorrow.",date:"Yesterday, 03:00 PM",icon:a.jsx(Go,{className:"text-blue-500"})}],HF={"/dashboard":"Dashboard","/assets":"Assets","/assets/assetsdata":"Assets Data","/assets/assetsdata/addasset":"Add Asset","/assets/assetsdata/editasset":"Edit Asset","/machinehistory":"Machine History","/machinehistory/reports":"Machine History Reports","/machinehistory/addmachinehistory":"Add Machine History","/machinehistory/edit":"Edit Machine History","/workorders":"Work Orders","/workorders/it":"IT Work Orders","/workorders/it/addworkorder":"Add Work Order","/workorders/it/editworkorder":"Edit Work Order","/workorders/it/receiver":"Receiver","/workorders/it/assignment":"Assignment","/workorders/it/reports":"Reports","/workorders/it/knowledgebase":"Knowledge Base","/inventory":"Inventory","/reports":"Reports","/team":"Team","/settings":"Settings","/settings/change-password":"Change Password","/permissions":"Permissions","/permissions/adduser":"Add User","/audittrail":"Audit Trail","/workflowapproval":"Workflow Approval","/workflowapproval/monitoringapproval":"Approval Monitoring","/vendors":"Vendors","/vendors/addvendor":"Add Vendor","/vendors/editvendor":"Edit Vendor","/services":"Services","/services/servicegroups":"Service Groups","/services/servicegroups/addservicegroup":"Add Service Group","/services/servicegroups/editservicegroup":"Edit Service Group","/services/servicecatalogues":"Service Catalogues","/services/servicecatalogues/addservicecatalogue":"Add Service Catalogue","/services/servicecatalogues/editservicecatalogue":"Edit Service Catalogue","/maintenanceactivity":"Maintenance Activity","/maintenanceactivity/stoptimes":"Stop Times","/maintenanceactivity/stoptimes/addstoptime":"Add Stop Time","/maintenanceactivity/stoptimes/editstoptime":"Edit Stop Time","/maintenanceactivity/activitytypes":"Activity Types","/maintenanceactivity/activitytypes/addactivitytype":"Add Activity Type","/maintenanceactivity/activitytypes/editactivitytype":"Edit Activity Type","/maintenanceactivity/activity":"Activity","/maintenanceactivity/activity/addactivity":"Add Activity","/maintenanceactivity/activity/editactivity":"Edit Activity","/maintenanceactivity/troubleitem":"Trouble Item","/maintenanceactivity/troubleitem/addtroubleitem":"Add Trouble Item","/maintenanceactivity/troubleitem/edittroubleitem":"Edit Trouble Item","/worklocation":"Work Location","/worklocation/department":"Department","/worklocation/department/adddepartment":"Add Department","/worklocation/department/editdepartment":"Edit Department","/worklocation/workunit":"Work Unit","/worklocation/workunit/addworkunit":"Add Work Unit","/worklocation/workunit/editworkunit":"Edit Work Unit","/workarrangement":"Work Arrangement","/workarrangement/workshift":"Work Shift","/workarrangement/workshift/addworkshift":"Add Work Shift","/workarrangement/workshift/editworkshift":"Edit Work Shift","/workarrangement/workgroup":"Work Group","/workarrangement/workgroup/addworkgroup":"Add Work Group","/workarrangement/workgroup/editworkgroup":"Edit Work Group","/sparepart":"Spare Part","/monitoringmaintenance":"Maintenance Monitoring","/monitoringmaintenance/detailmonitoringmaintenance":"Monitoring Details","/monitoringmaintenance/formmonitoringmaintenance":"Monitoring Form"},Mn=({mainTitle:t,mainTitleHighlight:e,description:n,icon:r,isMobile:s,toggleSidebar:i})=>{const{user:o,logout:l}=_t(),c=St(),d=Yr(),[h,m]=b.useState(!1),[p,x]=b.useState(!1),[y,w]=b.useState(!1),v=b.useRef(null),N=b.useRef(null);b.useEffect(()=>{const _=A=>{v.current&&!v.current.contains(A.target)&&m(!1),N.current&&!N.current.contains(A.target)&&x(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]);const S=(()=>{const _=d.pathname.split("/").filter(D=>D!==""),A=[];A.push({label:"Dashboard",path:"/dashboard",isClickable:!0});let O="";for(let D=0;D<_.length;D++){const F=_[D];if(O+=`/${F}`,/^\d+$/.test(F)||/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(F))continue;const L=HF[O]||F.charAt(0).toUpperCase()+F.slice(1).replace(/([A-Z])/g," $1");A.push({label:L,path:O,isClickable:D<_.length-1&&HF[O]!==void 0})}return A})(),M=r.props.className||"";return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[s&&a.jsx(k.button,{onClick:i,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),Q.cloneElement(r,{className:`text-xl text-blue-600 ${M}`}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:t})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>w(!y),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":y?"Switch to light mode":"Switch to dark mode",children:y?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:v,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!h),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),a.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:$F.length>0?$F.map(_=>a.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[_.icon&&a.jsx("div",{className:"flex-shrink-0 mr-3",children:_.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:_.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_.description}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:_.date})]})]},_.id)):a.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),a.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{m(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),a.jsxs("div",{className:"relative",ref:N,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>x(!p),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(o==null?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:o==null?void 0:o.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:p&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(o==null?void 0:o.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{c("/settings"),x(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{l(),c("/login"),x(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsx("div",{className:"bg-gray-50 border-b border-gray-100 px-4 py-3",children:a.jsx("div",{className:"flex items-center space-x-2 text-sm",children:S.map((_,A)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[A===0?a.jsx(Vj,{size:16,className:"text-gray-400"}):a.jsx(Ft,{size:16,className:"text-gray-400"}),_.isClickable?a.jsx("button",{onClick:()=>c(_.path),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200",children:_.label}):a.jsx("span",{className:"text-gray-600 font-medium",children:_.label})]},_.path))})})]})};function Vs(t){this.content=t}Vs.prototype={constructor:Vs,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new Vs(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Vs(n)},addToStart:function(t,e){return new Vs([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Vs(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new Vs(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Vs.from(t),t.size?new Vs(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Vs.from(t),t.size?new Vs(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Vs.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Vs.from=function(t){if(t instanceof Vs)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Vs(e)};function pQ(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)n++;return n}if(s.content.size||i.content.size){let o=pQ(s.content,i.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function gQ(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let o=t.child(--s),l=e.child(--i),c=o.nodeSize;if(o==l){n-=c,r-=c;continue}if(!o.sameMarkup(l))return{a:n,b:r};if(o.isText&&o.text!=l.text){let d=0,h=Math.min(o.text.length,l.text.length);for(;d<h&&o.text[o.text.length-d-1]==l.text[l.text.length-d-1];)d++,n--,r--;return{a:n,b:r}}if(o.content.size||l.content.size){let d=gQ(o.content,l.content,n-1,r-1);if(d)return d}n-=c,r-=c}}class ut{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let o=0,l=0;l<n;o++){let c=this.content[o],d=l+c.nodeSize;if(d>e&&r(c,s+l,i||null,o)!==!1&&c.content.size){let h=l+1;c.nodesBetween(Math.max(0,e-h),Math.min(c.content.size,n-h),r,s+h)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",o=!0;return this.nodesBetween(e,n,(l,c)=>{let d=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&r&&(o?o=!1:i+=r),i+=d},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new ut(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,o=0;o<n;i++){let l=this.content[i],c=o+l.nodeSize;c>e&&((o<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,n-o-1))),r.push(l),s+=l.nodeSize),o=c}return new ut(r,s)}cutByIndex(e,n){return e==n?ut.empty:e==0&&n==this.content.length?this:new ut(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new ut(s,i)}addToStart(e){return new ut([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ut(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return pQ(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return gQ(this,e,n,r)}findIndex(e){if(e==0)return Jy(0,e);if(e==this.size)return Jy(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=e)return i==e?Jy(n+1,i):Jy(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ut.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ut(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ut.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new ut(n||e,r)}static from(e){if(!e)return ut.empty;if(e instanceof ut)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ut([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ut.empty=new ut([],0);const SC={index:0,offset:0};function Jy(t,e){return SC.index=t,SC.offset=e,SC}function Xw(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Xw(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Xw(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let fr=class pO{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Xw(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return pO.none;if(e instanceof pO)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};fr.none=[];class Jw extends Error{}class At{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=bQ(this.content,e+this.openStart,n);return r&&new At(r,this.openStart,this.openEnd)}removeBetween(e,n){return new At(xQ(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return At.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new At(ut.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new At(e,r,s)}}At.empty=new At(ut.empty,0,0);function xQ(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:o,offset:l}=t.findIndex(n);if(s==e||i.isText){if(l!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(xQ(i.content,e-s-1,n-s-1)))}function bQ(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=bQ(o.content,e-i-1,n,o);return l&&t.replaceChild(s,o.copy(l))}function c5e(t,e,n){if(n.openStart>t.depth)throw new Jw("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Jw("Inconsistent open depths");return yQ(t,e,n,0)}function yQ(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let o=yQ(t,e,n,r+1);return i.copy(i.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,l=o.content;return $u(o,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=d5e(n,t);return $u(i,wQ(t,o,l,e,r))}else return $u(i,Qw(t,e,r))}function vQ(t,e){if(!e.type.compatibleContent(t.type))throw new Jw("Cannot join "+e.type.name+" onto "+t.type.name)}function gO(t,e,n){let r=t.node(n);return vQ(r,e.node(n)),r}function Fu(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function G0(t,e,n,r){let s=(e||t).node(n),i=0,o=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Fu(t.nodeAfter,r),i++));for(let l=i;l<o;l++)Fu(s.child(l),r);e&&e.depth==n&&e.textOffset&&Fu(e.nodeBefore,r)}function $u(t,e){return t.type.checkContent(e),t.copy(e)}function wQ(t,e,n,r,s){let i=t.depth>s&&gO(t,e,s+1),o=r.depth>s&&gO(n,r,s+1),l=[];return G0(null,t,s,l),i&&o&&e.index(s)==n.index(s)?(vQ(i,o),Fu($u(i,wQ(t,e,n,r,s+1)),l)):(i&&Fu($u(i,Qw(t,e,s+1)),l),G0(e,n,s,l),o&&Fu($u(o,Qw(n,r,s+1)),l)),G0(r,null,s,l),new ut(l)}function Qw(t,e,n){let r=[];if(G0(null,t,n,r),t.depth>n){let s=gO(t,e,n+1);Fu($u(s,Qw(t,e,n+1)),r)}return G0(e,null,n,r),new ut(r)}function d5e(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(ut.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Ag{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return fr.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let l=r;r=s,s=l}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Zw(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let o=e;;){let{index:l,offset:c}=o.content.findIndex(i),d=i-c;if(r.push(o,l,s+c),!d||(o=o.child(l),o.isText))break;i=d-1,s+=c+1}return new Ag(n,r,i)}static resolveCached(e,n){let r=zF.get(e);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==n)return o}else zF.set(e,r=new u5e);let s=r.elts[r.i]=Ag.resolve(e,n);return r.i=(r.i+1)%h5e,s}}class u5e{constructor(){this.elts=[],this.i=0}}const h5e=12,zF=new WeakMap;class Zw{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const f5e=Object.create(null);let hd=class xO{constructor(e,n,r,s=fr.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||ut.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Xw(this.attrs,n||e.defaultAttrs||f5e)&&fr.sameSet(this.marks,r||fr.none)}copy(e=null){return e==this.content?this:new xO(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new xO(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return At.empty;let s=this.resolve(e),i=this.resolve(n),o=r?0:s.sharedDepth(n),l=s.start(o),d=s.node(o).content.cut(s.pos-l,i.pos-l);return new At(d,s.depth-o,i.depth-o)}replace(e,n,r){return c5e(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Ag.resolveCached(this,e)}resolveNoCache(e){return Ag.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),jQ(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ut.empty,s=0,i=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,s,i),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=s;c<i;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=fr.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!fr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=ut.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};hd.prototype.text=void 0;class e1 extends hd{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):jQ(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new e1(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new e1(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function jQ(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Qu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new m5e(e,n);if(r.next==null)return Qu.empty;let s=NQ(r);r.next&&r.err("Unexpected trailing text");let i=w5e(v5e(s));return j5e(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(o,l){let c=o.matchFragment(e,r);if(c&&(!n||c.validEnd))return ut.from(l.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:h,next:m}=o.next[d];if(!(h.isText||h.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let p=i(m,l.concat(h));if(p)return p}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let l=s;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:c}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!s.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:s}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return i}).join(`
`)}}Qu.empty=new Qu(!0);class m5e{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function NQ(t){let e=[];do e.push(p5e(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function p5e(t){let e=[];do e.push(g5e(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function g5e(t){let e=y5e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=x5e(t,e);else break;return e}function BF(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function x5e(t,e){let n=BF(t),r=n;return t.eat(",")&&(t.next!="}"?r=BF(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function b5e(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let o=n[i];o.isInGroup(e)&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function y5e(t){if(t.eat("(")){let e=NQ(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=b5e(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function v5e(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(o,l,c){let d={term:c,to:l};return e[o].push(d),d}function s(o,l){o.forEach(c=>c.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((c,d)=>c.concat(i(d,l)),[]);if(o.type=="seq")for(let c=0;;c++){let d=i(o.exprs[c],l);if(c==o.exprs.length-1)return d;s(d,l=n())}else if(o.type=="star"){let c=n();return r(l,c),s(i(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=n();return s(i(o.expr,l),c),s(i(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(l)].concat(i(o.expr,l));if(o.type=="range"){let c=l;for(let d=0;d<o.min;d++){let h=n();s(i(o.expr,c),h),c=h}if(o.max==-1)s(i(o.expr,c),c);else for(let d=o.min;d<o.max;d++){let h=n();r(c,h),s(i(o.expr,c),h),c=h}return[r(c)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function SQ(t,e){return e-t}function VF(t,e){let n=[];return r(e),n.sort(SQ);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let o=0;o<i.length;o++){let{term:l,to:c}=i[o];!l&&n.indexOf(c)==-1&&r(c)}}}function w5e(t){let e=Object.create(null);return n(VF(t,0));function n(r){let s=[];r.forEach(o=>{t[o].forEach(({term:l,to:c})=>{if(!l)return;let d;for(let h=0;h<s.length;h++)s[h][0]==l&&(d=s[h][1]);VF(t,c).forEach(h=>{d||s.push([l,d=[]]),d.indexOf(h)==-1&&d.push(h)})})});let i=e[r.join(",")]=new Qu(r.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let l=s[o][1].sort(SQ);i.next.push({type:s[o][0],next:e[l.join(",")]||n(l)})}return i}}function j5e(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,o=[];for(let l=0;l<s.next.length;l++){let{type:c,next:d}=s.next[l];o.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),r.indexOf(d)==-1&&r.push(d)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function kQ(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function CQ(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function _Q(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function TQ(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new S5e(t,r,e[r]);return n}let WF=class MQ{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=TQ(e,r.attrs),this.defaultAttrs=kQ(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Qu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:CQ(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new hd(this,this.computeAttrs(e),ut.from(n),fr.setFrom(r))}createChecked(e=null,n,r){return n=ut.from(n),this.checkContent(n),new hd(this,this.computeAttrs(e),n,fr.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ut.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(ut.empty,!0);return i?new hd(this,e,n.append(i),fr.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){_Q(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:fr.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,o)=>r[i]=new MQ(i,n,o));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function N5e(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class S5e{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?N5e(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class fN{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=TQ(e,s.attrs),this.excluded=null;let i=kQ(this.attrs);this.instance=i?new fr(this,i):null}create(e=null){return!e&&this.instance?this.instance:new fr(this,CQ(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,o)=>r[i]=new fN(i,s++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){_Q(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class AQ{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Vs.from(e.nodes),n.marks=Vs.from(e.marks||{}),this.nodes=WF.compile(this.spec.nodes,this),this.marks=fN.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=Qu.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?UF(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:UF(this,o.split(" "))}this.nodeFromJSON=s=>hd.fromJSON(this,s),this.markFromJSON=s=>fr.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof WF){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new e1(r,r.defaultAttrs,e,fr.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function UF(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],o=i;if(i)n.push(i);else for(let l in t.marks){let c=t.marks[l];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function k5e(t){return t.tag!=null}function C5e(t){return t.style!=null}class fd{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(k5e(s))this.tags.push(s);else if(C5e(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new GF(this,n,!1);return r.addAll(e,fr.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new GF(this,n,!0);return r.addAll(e,fr.none,n.from,n.to),At.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(M5e(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(o.getAttrs){let c=o.getAttrs(n);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<i)break}n.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=YF(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=YF(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new fd(e,fd.schemaRules(e)))}}const OQ={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},_5e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},EQ={ol:!0,ul:!0},Og=1,bO=2,Y0=4;function qF(t,e,n){return e!=null?(e?Og:0)|(e==="full"?bO:0):t&&t.whitespace=="pre"?Og|bO:n&~Y0}class Qy{constructor(e,n,r,s,i,o){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=o,this.content=[],this.activeMarks=fr.none,this.match=i||(o&Y0?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ut.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Og)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=ut.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ut.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!OQ.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class GF{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,o=qF(null,n.preserveWhitespace,0)|(r?Y0:0);s?i=new Qy(s.type,s.attrs,fr.none,!0,n.topMatch||s.type.contentMatch,o):r?i=new Qy(null,null,fr.none,!0,null,o):i=new Qy(e.schema.topNodeType,null,fr.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&bO?"full":this.localPreserveWS||(s.options&Og)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;EQ.hasOwnProperty(o)&&this.parser.normalizeLists&&T5e(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(c?c.ignore:_5e.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,h=this.needsBlock;if(OQ.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),d=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=c&&c.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),d&&this.sync(i),this.needsBlock=h}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,c,d,c.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=r.getPropertyValue(i);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(i,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(d=>!c.clearMark(d)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,r,s){let i,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(o,n.attrs||null,r,n.preserveWhitespace);c&&(i=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let o=r?e.childNodes[r]:e.firstChild,l=s==null?null:e.childNodes[s];o!=l;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],d=c.findWrapping(e);if(d&&(!s||s.length>d.length+l)&&(s=d,i=c,!d.length))break;if(c.solid){if(r)break;l+=2}}if(!s)return null;this.sync(i);for(let o=0;o<s.length;o++)n=this.enterInner(s[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=fr.none;for(let l of s.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):KF(l.type,e.type))&&(o=l.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=qF(e,i,o.options);o.options&Y0&&o.content.length==0&&(l|=Y0);let c=fr.none;return r=r.filter(d=>(o.type?o.type.allowsMarkType(d.type):KF(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new Qy(e,n,c,s,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Og)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(l,c)=>{for(;l>=0;l--){let d=n[l];if(d==""){if(l==n.length-1||l==0)continue;for(;c>=i;c--)if(o(l-1,c))return!0;return!1}else{let h=c>0||c==0&&s?this.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!h||h.name!=d&&!h.isInGroup(d))return!1;c--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function T5e(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&EQ.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function M5e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function YF(t){let e={};for(let n in t)e[n]=t[n];return e}function KF(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],o=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:d,next:h}=l.edge(c);if(d==e||i.indexOf(h)<0&&o(h))return!0}};if(o(s.contentMatch))return!0}}class mh{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=kC(n).createDocumentFragment());let s=r,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let l=0,c=0;for(;l<i.length&&c<o.marks.length;){let d=o.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(i[l][0])||d.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)s=i.pop()[1];for(;c<o.marks.length;){let d=o.marks[c++],h=this.serializeMark(d,o.isInline,n);h&&(i.push([d,s]),s.appendChild(h.dom),s=h.contentDOM||h.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=rw(kC(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&rw(kC(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return rw(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new mh(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=XF(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return XF(e.marks)}}function XF(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function kC(t){return t.document||window.document}const JF=new WeakMap;function A5e(t){let e=JF.get(t);return e===void 0&&JF.set(t,e=O5e(t)),e}function O5e(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function rw(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=A5e(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(n=s.slice(0,o),s=s.slice(o+1));let l,c=n?t.createElementNS(n,s):t.createElement(s),d=e[1],h=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){h=2;for(let m in d)if(d[m]!=null){let p=m.indexOf(" ");p>0?c.setAttributeNS(m.slice(0,p),m.slice(p+1),d[m]):m=="style"&&c.style?c.style.cssText=d[m]:c.setAttribute(m,d[m])}}for(let m=h;m<e.length;m++){let p=e[m];if(p===0){if(m<e.length-1||m>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:x,contentDOM:y}=rw(t,p,n,r);if(c.appendChild(x),y){if(l)throw new RangeError("Multiple content holes");l=y}}}return{dom:c,contentDOM:l}}const DQ=65535,PQ=Math.pow(2,16);function E5e(t,e){return t+e*PQ}function QF(t){return t&DQ}function D5e(t){return(t-(t&DQ))/PQ}const RQ=1,LQ=2,sw=4,IQ=8;class yO{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&IQ)>0}get deletedBefore(){return(this.delInfo&(RQ|sw))>0}get deletedAfter(){return(this.delInfo&(LQ|sw))>0}get deletedAcross(){return(this.delInfo&sw)>0}}class ai{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ai.empty)return ai.empty}recover(e){let n=0,r=QF(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+D5e(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?s:0);if(c>e)break;let d=this.ranges[l+i],h=this.ranges[l+o],m=c+d;if(e<=m){let p=d?e==c?-1:e==m?1:n:n,x=c+s+(p<0?0:h);if(r)return x;let y=e==(n<0?c:m)?null:E5e(l/3,e-c),w=e==c?LQ:e==m?RQ:sw;return(n<0?e!=c:e!=m)&&(w|=IQ),new yO(x,w,y)}s+=h-d}return r?e+s:new yO(e+s,0,null)}touches(e,n){let r=0,s=QF(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let d=this.ranges[l+i],h=c+d;if(e<=h&&l==s*3)return!0;r+=this.ranges[l+o]-d}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],l=o-(this.inverted?i:0),c=o+(this.inverted?0:i),d=this.ranges[s+n],h=this.ranges[s+r];e(l,l+d,c,c+h),i+=h-d}}invert(){return new ai(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ai.empty:new ai(e<0?[0,-e,0]:[0,0,e])}}ai.empty=new ai([]);class Eg{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Eg(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Eg;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],l=o.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this._maps[c].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return r?e:new yO(e,s,null)}}const CC=Object.create(null);let ha=class{getMap(){return ai.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=CC[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in CC)throw new RangeError("Duplicate use of step JSON ID "+e);return CC[e]=n,n.prototype.jsonID=e,n}};class us{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new us(e,null)}static fail(e){return new us(null,e)}static fromReplace(e,n,r,s){try{return us.ok(e.replace(n,r,s))}catch(i){if(i instanceof Jw)return us.fail(i.message);throw i}}}function FP(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(FP(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return ut.fromArray(r)}class ad extends ha{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new At(FP(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return us.fromReplace(e,this.from,this.to,i)}invert(){return new ao(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ad(n.pos,r.pos,this.mark)}merge(e){return e instanceof ad&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ad(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ad(n.from,n.to,e.markFromJSON(n.mark))}}ha.jsonID("addMark",ad);class ao extends ha{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new At(FP(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return us.fromReplace(e,this.from,this.to,r)}invert(){return new ad(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ao(n.pos,r.pos,this.mark)}merge(e){return e instanceof ao&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ao(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ao(n.from,n.to,e.markFromJSON(n.mark))}}ha.jsonID("removeMark",ao);class id extends ha{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return us.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return us.fromReplace(e,this.pos,this.pos+1,new At(ut.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new id(this.pos,n.marks[s]);return new id(this.pos,this.mark)}}return new Zu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new id(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new id(n.pos,e.markFromJSON(n.mark))}}ha.jsonID("addNodeMark",id);class Zu extends ha{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return us.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return us.fromReplace(e,this.pos,this.pos+1,new At(ut.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new id(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Zu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Zu(n.pos,e.markFromJSON(n.mark))}}ha.jsonID("removeNodeMark",Zu);class Ms extends ha{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&vO(e,this.from,this.to)?us.fail("Structure replace would overwrite content"):us.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ai([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ms(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Ms(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ms)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?At.empty:new At(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ms(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?At.empty:new At(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ms(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ms(n.from,n.to,At.fromJSON(e,n.slice),!!n.structure)}}ha.jsonID("replace",Ms);class Es extends ha{constructor(e,n,r,s,i,o,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(vO(e,this.from,this.gapFrom)||vO(e,this.gapTo,this.to)))return us.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return us.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?us.fromReplace(e,this.from,this.to,r):us.fail("Content does not fit in gap")}getMap(){return new ai([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Es(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Es(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Es(n.from,n.to,n.gapFrom,n.gapTo,At.fromJSON(e,n.slice),n.insert,!!n.structure)}}ha.jsonID("replaceAround",Es);function vO(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function P5e(t,e,n,r){let s=[],i=[],o,l;t.doc.nodesBetween(e,n,(c,d,h)=>{if(!c.isInline)return;let m=c.marks;if(!r.isInSet(m)&&h.type.allowsMarkType(r.type)){let p=Math.max(d,e),x=Math.min(d+c.nodeSize,n),y=r.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(y)||(o&&o.to==p&&o.mark.eq(m[w])?o.to=x:s.push(o=new ao(p,x,m[w])));l&&l.to==p?l.to=x:i.push(l=new ad(p,x,r))}}),s.forEach(c=>t.step(c)),i.forEach(c=>t.step(c))}function R5e(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(o,l)=>{if(!o.isInline)return;i++;let c=null;if(r instanceof fN){let d=o.marks,h;for(;h=r.isInSet(d);)(c||(c=[])).push(h),d=h.removeFromSet(d)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let d=Math.min(l+o.nodeSize,n);for(let h=0;h<c.length;h++){let m=c[h],p;for(let x=0;x<s.length;x++){let y=s[x];y.step==i-1&&m.eq(s[x].style)&&(p=y)}p?(p.to=d,p.step=i):s.push({style:m,from:Math.max(l,e),to:d,step:i})}}}),s.forEach(o=>t.step(new ao(o.from,o.to,o.style)))}function $P(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),o=[],l=e+1;for(let c=0;c<i.childCount;c++){let d=i.child(c),h=l+d.nodeSize,m=r.matchType(d.type);if(!m)o.push(new Ms(l,h,At.empty));else{r=m;for(let p=0;p<d.marks.length;p++)n.allowsMarkType(d.marks[p].type)||t.step(new ao(l,h,d.marks[p]));if(s&&d.isText&&n.whitespace!="pre"){let p,x=/\r?\n|\r/g,y;for(;p=x.exec(d.text);)y||(y=new At(ut.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),o.push(new Ms(l+p.index,l+p.index+p[0].length,y))}}l=h}if(!r.validEnd){let c=r.fillBefore(ut.empty,!0);t.replace(l,l,new At(c,0,0))}for(let c=o.length-1;c>=0;c--)t.step(o[c])}function L5e(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Bm(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,o,n))return r;if(r==0||s.type.spec.isolating||!L5e(s,i,o))break}return null}function I5e(t,e,n){let{$from:r,$to:s,depth:i}=e,o=r.before(i+1),l=s.after(i+1),c=o,d=l,h=ut.empty,m=0;for(let y=i,w=!1;y>n;y--)w||r.index(y)>0?(w=!0,h=ut.from(r.node(y).copy(h)),m++):c--;let p=ut.empty,x=0;for(let y=i,w=!1;y>n;y--)w||s.after(y+1)<s.end(y)?(w=!0,p=ut.from(s.node(y).copy(p)),x++):d++;t.step(new Es(c,d,o,l,new At(h.append(p),m,x),h.size-m,!0))}function HP(t,e,n=null,r=t){let s=F5e(t,e),i=s&&$5e(r,e);return i?s.map(ZF).concat({type:e,attrs:n}).concat(i.map(ZF)):null}function ZF(t){return{type:t,attrs:null}}function F5e(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return n.canReplaceWith(r,s,o)?i:null}function $5e(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let d=r;c&&d<s;d++)c=c.matchType(n.child(d).type);return!c||!c.validEnd?null:o}function H5e(t,e,n){let r=ut.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let l=n[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ut.from(n[o].type.create(n[o].attrs,r))}let s=e.start,i=e.end;t.step(new Es(s,i,s,i,new At(r,0,0),n.length,!0))}function z5e(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(o,l)=>{let c=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(r,c)&&B5e(t.doc,t.mapping.slice(i).map(l),r)){let d=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",y=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!y?d=!1:!x&&y&&(d=!0)}d===!1&&$Q(t,o,l,i),$P(t,t.mapping.slice(i).map(l,1),r,void 0,d===null);let h=t.mapping.slice(i),m=h.map(l,1),p=h.map(l+o.nodeSize,1);return t.step(new Es(m,p,m+1,p-1,new At(ut.from(r.create(c,null,o.marks)),0,0),1,!0)),d===!0&&FQ(t,o,l,i),!1}})}function FQ(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(s.text);){let c=t.mapping.slice(r).map(n+1+i+o.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function $Q(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function B5e(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function V5e(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Es(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new At(ut.from(o),0,0),1,!0))}function Jl(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let d=s.depth-1,h=n-2;d>i;d--,h--){let m=s.node(d),p=s.index(d);if(m.type.spec.isolating)return!1;let x=m.content.cutByIndex(p,m.childCount),y=r&&r[h+1];y&&(x=x.replaceChild(0,y.type.create(y.attrs)));let w=r&&r[h]||m;if(!m.canReplace(p+1,m.childCount)||!w.type.validContent(x))return!1}let l=s.indexAfter(i),c=r&&r[0];return s.node(i).canReplaceWith(l,l,c?c.type:s.node(i+1).type)}function W5e(t,e,n=1,r){let s=t.doc.resolve(e),i=ut.empty,o=ut.empty;for(let l=s.depth,c=s.depth-n,d=n-1;l>c;l--,d--){i=ut.from(s.node(l).copy(i));let h=r&&r[d];o=ut.from(h?h.type.create(h.attrs,o):s.node(l).copy(o))}t.step(new Ms(e,e,new At(i.append(o),n,n),!0))}function Md(t,e){let n=t.resolve(e),r=n.index();return HQ(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function U5e(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),o=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function HQ(t,e){return!!(t&&e&&!t.isLeaf&&U5e(t,e))}function mN(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,o,l=r.index(s);if(s==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(s+1),l++,o=r.node(s).maybeChild(l)):(i=r.node(s).maybeChild(l-1),o=r.node(s+1)),i&&!i.isTextblock&&HQ(i,o)&&r.node(s).canReplace(l,l+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function q5e(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),o=i.node().type;if(s&&o.inlineContent){let h=o.whitespace=="pre",m=!!o.contentMatch.matchType(s);h&&!m?r=!1:!h&&m&&(r=!0)}let l=t.steps.length;if(r===!1){let h=t.doc.resolve(e+n);$Q(t,h.node(),h.before(),l)}o.inlineContent&&$P(t,e+n-1,o,i.node().contentMatchAt(i.index()),r==null);let c=t.mapping.slice(l),d=c.map(e-n);if(t.step(new Ms(d,c.map(e+n,-1),At.empty,!0)),r===!0){let h=t.doc.resolve(d);FQ(t,h.node(),h.before(),t.steps.length)}return t}function G5e(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function zQ(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(l>0?1:0),d=r.node(o),h=!1;if(i==1)h=d.canReplace(c,c,s);else{let m=d.contentMatchAt(c).findWrapping(s.firstChild.type);h=m&&d.canReplaceWith(c,c,m[0])}if(h)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function pN(t,e,n=e,r=At.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return BQ(s,i,r)?new Ms(e,n,r):new Y5e(s,i,r).fit()}function BQ(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Y5e{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ut.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=ut.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,o=r.depth,l=s.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let c=new At(i,o,l);return e>-1?new Es(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Ms(r.pos,s.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=_C(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:d}=this.frontier[l],h,m=null;if(n==1&&(o?d.matchType(o.type)||(m=d.fillBefore(ut.from(o),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:m};if(n==2&&o&&(h=d.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:h};if(i&&d.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=_C(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new At(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=_C(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new At(M0(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new At(M0(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let w=0;w<i.length;w++)this.openFrontierNode(i[w]);let o=this.unplaced,l=r?r.content:o.content,c=o.openStart-e,d=0,h=[],{match:m,type:p}=this.frontier[n];if(s){for(let w=0;w<s.childCount;w++)h.push(s.child(w));m=m.matchFragment(s)}let x=l.size+e-(o.content.size-o.openEnd);for(;d<l.childCount;){let w=l.child(d),v=m.matchType(w.type);if(!v)break;d++,(d>1||c==0||w.content.size)&&(m=v,h.push(VQ(w.mark(p.allowedMarks(w.marks)),d==1?c:0,d==l.childCount?x:-1)))}let y=d==l.childCount;y||(x=-1),this.placed=A0(this.placed,n,ut.from(h)),this.frontier[n].match=m,y&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,v=l;w<x;w++){let N=v.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),v=N.content}this.unplaced=y?e==0?At.empty:new At(M0(o.content,e-1,1),e-1,x<0?o.openEnd:e-1):new At(M0(o.content,e,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!TC(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=TC(e,n,s,r,i);if(o){for(let l=n-1;l>=0;l--){let{match:c,type:d}=this.frontier[l],h=TC(e,l,d,c,!0);if(!h||h.childCount)continue e}return{depth:n,fit:o,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=A0(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=A0(this.placed,this.depth,ut.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ut.empty,!0);n.childCount&&(this.placed=A0(this.placed,this.frontier.length,n))}}function M0(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(M0(t.firstChild.content,e-1,n)))}function A0(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(A0(t.lastChild.content,e-1,n)))}function _C(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function VQ(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,VQ(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ut.empty,!0)))),t.copy(r)}function TC(t,e,n,r,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,o);return l&&!K5e(n,i.content,o)?l:null}function K5e(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function X5e(t){return t.spec.defining||t.spec.definingForContent}function J5e(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(BQ(s,i,r))return t.step(new Ms(e,n,r));let o=UQ(s,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let l=-(s.depth+1);o.unshift(l);for(let p=s.depth,x=s.pos-1;p>0;p--,x--){let y=s.node(p).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;o.indexOf(p)>-1?l=p:s.before(p)==x&&o.splice(1,0,-p)}let c=o.indexOf(l),d=[],h=r.openStart;for(let p=r.content,x=0;;x++){let y=p.firstChild;if(d.push(y),x==r.openStart)break;p=y.content}for(let p=h-1;p>=0;p--){let x=d[p],y=X5e(x.type);if(y&&!x.sameMarkup(s.node(Math.abs(l)-1)))h=p;else if(y||!x.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let x=(p+h+1)%(r.openStart+1),y=d[x];if(y)for(let w=0;w<o.length;w++){let v=o[(w+c)%o.length],N=!0;v<0&&(N=!1,v=-v);let C=s.node(v-1),S=s.index(v-1);if(C.canReplaceWith(S,S,y.type,y.marks))return t.replace(s.before(v),N?i.after(v):n,new At(WQ(r.content,0,r.openStart,x),x,r.openEnd))}}let m=t.steps.length;for(let p=o.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>m));p--){let x=o[p];x<0||(e=s.before(x),n=i.after(x))}}function WQ(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(WQ(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(ut.empty,!0))}return t}function Q5e(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=G5e(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new At(ut.from(r),0,0))}function Z5e(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=UQ(r,s);for(let o=0;o<i.length;o++){let l=i[o],c=o==i.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),s.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),s.indexAfter(l-1))))return t.delete(r.before(l),s.after(l))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o&&r.start(o-1)==s.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),s.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function UQ(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class Lf extends ha{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return us.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return us.fromReplace(e,this.pos,this.pos+1,new At(ut.from(s),0,n.isLeaf?0:1))}getMap(){return ai.empty}invert(e){return new Lf(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Lf(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Lf(n.pos,n.attr,n.value)}}ha.jsonID("attr",Lf);class Dg extends ha{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return us.ok(r)}getMap(){return ai.empty}invert(e){return new Dg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Dg(n.attr,n.value)}}ha.jsonID("docAttr",Dg);let am=class extends Error{};am=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};am.prototype=Object.create(Error.prototype);am.prototype.constructor=am;am.prototype.name="TransformError";class qQ{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Eg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new am(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=At.empty){let s=pN(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new At(ut.from(r),0,0))}delete(e,n){return this.replace(e,n,At.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return J5e(this,e,n,r),this}replaceRangeWith(e,n,r){return Q5e(this,e,n,r),this}deleteRange(e,n){return Z5e(this,e,n),this}lift(e,n){return I5e(this,e,n),this}join(e,n=1){return q5e(this,e,n),this}wrap(e,n){return H5e(this,e,n),this}setBlockType(e,n=e,r,s=null){return z5e(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return V5e(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new Lf(e,n,r)),this}setDocAttribute(e,n){return this.step(new Dg(e,n)),this}addNodeMark(e,n){return this.step(new id(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof fr)n.isInSet(r.marks)&&this.step(new Zu(e,n));else{let s=r.marks,i,o=[];for(;i=n.isInSet(s);)o.push(new Zu(e,i)),s=i.removeFromSet(s);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,n=1,r){return W5e(this,e,n,r),this}addMark(e,n,r){return P5e(this,e,n,r),this}removeMark(e,n,r){return R5e(this,e,n,r),this}clearIncompatible(e,n,r){return $P(this,e,n,r),this}}const MC=Object.create(null);class ln{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new e_e(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=At.empty){let r=n.content.lastChild,s=null;for(let l=0;l<n.openEnd;l++)s=r,r=r.lastChild;let i=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:d}=o[l],h=e.mapping.slice(i);e.replaceRange(h.map(c.pos),h.map(d.pos),l?At.empty:n),l==0&&n$(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:l}=s[i],c=e.mapping.slice(r),d=c.map(o.pos),h=c.map(l.pos);i?e.deleteRange(d,h):(e.replaceRangeWith(d,h,n),n$(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new en(e):ff(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=n<0?ff(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):ff(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new ci(e.node(0))}static atStart(e){return ff(e,e,0,0,1)||new ci(e)}static atEnd(e){return ff(e,e,e.content.size,e.childCount,-1)||new ci(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=MC[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in MC)throw new RangeError("Duplicate use of selection JSON ID "+e);return MC[e]=n,n.prototype.jsonID=e,n}getBookmark(){return en.between(this.$anchor,this.$head).getBookmark()}}ln.prototype.visible=!0;class e_e{constructor(e,n){this.$from=e,this.$to=n}}let e$=!1;function t$(t){!e$&&!t.parent.inlineContent&&(e$=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class en extends ln{constructor(e,n=e){t$(e),t$(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ln.near(r);let s=e.resolve(n.map(this.anchor));return new en(s.parent.inlineContent?s:r,r)}replace(e,n=At.empty){if(super.replace(e,n),n==At.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof en&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new gN(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new en(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=ln.findFrom(n,r,!0)||ln.findFrom(n,-r,!0);if(i)n=i.$head;else return ln.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(ln.findFrom(e,-r,!0)||ln.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new en(e,n)}}ln.jsonID("text",en);class gN{constructor(e,n){this.anchor=e,this.head=n}map(e){return new gN(e.map(this.anchor),e.map(this.head))}resolve(e){return en.between(e.resolve(this.anchor),e.resolve(this.head))}}class Wt extends ln{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?ln.near(i):new Wt(i)}content(){return new At(ut.from(this.node),0,0)}eq(e){return e instanceof Wt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new zP(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Wt(e.resolve(n.anchor))}static create(e,n){return new Wt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Wt.prototype.visible=!1;ln.jsonID("node",Wt);class zP{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new gN(r,r):new zP(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Wt.isSelectable(r)?new Wt(n):ln.near(n)}}class ci extends ln{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=At.empty){if(n==At.empty){e.delete(0,e.doc.content.size);let r=ln.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new ci(e)}map(e){return new ci(e)}eq(e){return e instanceof ci}getBookmark(){return t_e}}ln.jsonID("all",ci);const t_e={map(){return this},resolve(t){return new ci(t)}};function ff(t,e,n,r,s,i=!1){if(e.inlineContent)return en.create(t,n);for(let o=r-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let l=e.child(o);if(l.isAtom){if(!i&&Wt.isSelectable(l))return Wt.create(t,n-(s<0?l.nodeSize:0))}else{let c=ff(t,l,n+s,s<0?l.childCount:0,s,i);if(c)return c}n+=l.nodeSize*s}return null}function n$(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Ms||s instanceof Es))return;let i=t.mapping.maps[r],o;i.forEach((l,c,d,h)=>{o==null&&(o=h)}),t.setSelection(ln.near(t.doc.resolve(o),n))}const r$=1,Zy=2,s$=4;class n_e extends qQ{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|r$)&~Zy,this.storedMarks=null,this}get selectionSet(){return(this.updated&r$)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Zy,this}ensureMarks(e){return fr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Zy)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Zy,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||fr.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(ln.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=s$,this}get scrolledIntoView(){return(this.updated&s$)>0}}function a$(t,e){return!e||!t?t:t.bind(e)}class O0{constructor(e,n,r){this.name=e,this.init=a$(n.init,r),this.apply=a$(n.apply,r)}}const r_e=[new O0("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new O0("selection",{init(t,e){return t.selection||ln.atStart(e.doc)},apply(t){return t.selection}}),new O0("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new O0("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class AC{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=r_e.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new O0(r.key,r.spec.state,r))})}}class jf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=s?s[o].n:0,d=s?s[o].state:this,h=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,d,r);if(h&&r.filterTransaction(h,o)){if(h.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<o?{state:r,n:n.length}:{state:this,n:0})}n.push(h),r=r.applyInner(h),i=!0}s&&(s[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new jf(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new n_e(this)}static create(e){let n=new AC(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new jf(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new AC(this.schema,e.plugins),r=n.fields,s=new jf(n);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new AC(e.schema,e.plugins),i=new jf(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=hd.fromJSON(e.schema,n.doc);else if(o.name=="selection")i.selection=ln.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],d=c.spec.state;if(c.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[o.name]=d.fromJSON.call(c,e,n[l],i);return}}i[o.name]=o.init(e,i)}}),i}}function GQ(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=GQ(s,e,{})),n[r]=s}return n}class Kr{constructor(e){this.spec=e,this.props={},e.props&&GQ(e.props,this,this.props),this.key=e.key?e.key.key:YQ("plugin")}getState(e){return e[this.key]}}const OC=Object.create(null);function YQ(t){return t in OC?t+"$"+ ++OC[t]:(OC[t]=0,t+"$")}class Rs{constructor(e="key"){this.key=YQ(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const qs=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},im=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let wO=null;const Ol=function(t,e,n){let r=wO||(wO=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},s_e=function(){wO=null},eh=function(t,e,n,r){return n&&(i$(t,e,n,r,-1)||i$(t,e,n,r,1))},a_e=/^(img|br|input|textarea|hr)$/i;function i$(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:Di(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Fx(t)||a_e.test(t.nodeName)||t.contentEditable=="false")return!1;e=qs(t)+(s<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(s<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=o,e=s<0?Di(t):0}else return!1}}function Di(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function i_e(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Di(t)}else if(t.parentNode&&!Fx(t))e=qs(t),t=t.parentNode;else return null}}function o_e(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Fx(t))e=qs(t)+1,t=t.parentNode;else return null}}function l_e(t,e,n){for(let r=e==0,s=e==Di(t);r||s;){if(t==n)return!0;let i=qs(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==Di(t)}}function Fx(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const xN=function(t){return t.focusNode&&eh(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function pu(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function c_e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function d_e(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Di(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Di(r.startContainer),r.startOffset)}}}const Xo=typeof navigator<"u"?navigator:null,o$=typeof document<"u"?document:null,Ad=Xo&&Xo.userAgent||"",jO=/Edge\/(\d+)/.exec(Ad),KQ=/MSIE \d/.exec(Ad),NO=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ad),Va=!!(KQ||NO||jO),md=KQ?document.documentMode:NO?+NO[1]:jO?+jO[1]:0,Fi=!Va&&/gecko\/(\d+)/i.test(Ad);Fi&&+(/Firefox\/(\d+)/.exec(Ad)||[0,0])[1];const SO=!Va&&/Chrome\/(\d+)/.exec(Ad),da=!!SO,XQ=SO?+SO[1]:0,Ca=!Va&&!!Xo&&/Apple Computer/.test(Xo.vendor),om=Ca&&(/Mobile\/\w+/.test(Ad)||!!Xo&&Xo.maxTouchPoints>2),Oi=om||(Xo?/Mac/.test(Xo.platform):!1),u_e=Xo?/Win/.test(Xo.platform):!1,Fl=/Android \d/.test(Ad),$x=!!o$&&"webkitFontSmoothing"in o$.documentElement.style,h_e=$x?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function f_e(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Nl(t,e){return typeof t=="number"?t:t[e]}function m_e(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function l$(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=im(o);continue}let l=o,c=l==i.body,d=c?f_e(i):m_e(l),h=0,m=0;if(e.top<d.top+Nl(r,"top")?m=-(d.top-e.top+Nl(s,"top")):e.bottom>d.bottom-Nl(r,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+Nl(s,"top")-d.top:e.bottom-d.bottom+Nl(s,"bottom")),e.left<d.left+Nl(r,"left")?h=-(d.left-e.left+Nl(s,"left")):e.right>d.right-Nl(r,"right")&&(h=e.right-d.right+Nl(s,"right")),h||m)if(c)i.defaultView.scrollBy(h,m);else{let x=l.scrollLeft,y=l.scrollTop;m&&(l.scrollTop+=m),h&&(l.scrollLeft+=h);let w=l.scrollLeft-x,v=l.scrollTop-y;e={left:e.left-w,top:e.top-v,right:e.right-w,bottom:e.bottom-v}}let p=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(p))break;o=p=="absolute"?o.offsetParent:im(o)}}function p_e(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(i,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,s=c.top;break}}return{refDOM:r,refTop:s,stack:JQ(t.dom)}}function JQ(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=im(r));return e}function g_e({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;QQ(n,r==0?0:r-e)}function QQ(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let sf=null;function x_e(t){if(t.setActive)return t.setActive();if(sf)return t.focus(sf);let e=JQ(t);t.focus(sf==null?{get preventScroll(){return sf={preventScroll:!0},!0}}:void 0),sf||(sf=!1,QQ(e,0))}function ZQ(t,e){let n,r=2e8,s,i=0,o=e.top,l=e.top,c,d;for(let h=t.firstChild,m=0;h;h=h.nextSibling,m++){let p;if(h.nodeType==1)p=h.getClientRects();else if(h.nodeType==3)p=Ol(h).getClientRects();else continue;for(let x=0;x<p.length;x++){let y=p[x];if(y.top<=o&&y.bottom>=l){o=Math.max(y.bottom,o),l=Math.min(y.top,l);let w=y.left>e.left?y.left-e.left:y.right<e.left?e.left-y.right:0;if(w<r){n=h,r=w,s=w&&n.nodeType==3?{left:y.right<e.left?y.right:y.left,top:e.top}:e,h.nodeType==1&&w&&(i=m+(e.left>=(y.left+y.right)/2?1:0));continue}}else y.top>e.top&&!c&&y.left<=e.left&&y.right>=e.left&&(c=h,d={left:Math.max(y.left,Math.min(y.right,e.left)),top:y.top});!n&&(e.left>=y.right&&e.top>=y.top||e.left>=y.left&&e.top>=y.bottom)&&(i=m+1)}}return!n&&c&&(n=c,s=d,r=0),n&&n.nodeType==3?b_e(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:ZQ(n,s)}function b_e(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=Gc(r,1);if(i.top!=i.bottom&&BP(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function BP(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function y_e(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function v_e(t,e,n){let{node:r,offset:s}=ZQ(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function w_e(t,e,n,r){let s=-1;for(let i=e,o=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&c.left>r.left||c.top>r.top?s=l.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(s=l.posAfter),o=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function eZ(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(BP(e,d))return eZ(o,e,d)}}if((i=(i+1)%r)==s)break}return t}function j_e(t,e){let n=t.dom.ownerDocument,r,s=0,i=d_e(n,e.left,e.top);i&&({node:r,offset:s}=i);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let d=t.dom.getBoundingClientRect();if(!BP(e,d)||(o=eZ(t.dom,e,d),!o))return null}if(Ca)for(let d=o;r&&d;d=im(d))d.draggable&&(r=void 0);if(o=y_e(o,e),r){if(Fi&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let h=r.childNodes[s],m;h.nodeName=="IMG"&&(m=h.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let d;$x&&s&&r.nodeType==1&&(d=r.childNodes[s-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(l=w_e(t,r,s,e))}l==null&&(l=v_e(t,o,e));let c=t.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function c$(t){return t.top<t.bottom||t.left<t.right}function Gc(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(c$(r))return r}return Array.prototype.find.call(n,c$)||t.getBoundingClientRect()}const N_e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tZ(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),o=$x||Fi;if(r.nodeType==3)if(o&&(N_e.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let c=Gc(Ol(r,s,s),n);if(Fi&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let d=Gc(Ol(r,s-1,s-1),-1);if(d.top==c.top){let h=Gc(Ol(r,s,s+1),-1);if(h.top!=c.top)return o0(h,h.left<d.left)}}return c}else{let c=s,d=s,h=n<0?1:-1;return n<0&&!s?(d++,h=-1):n>=0&&s==r.nodeValue.length?(c--,h=1):n<0?c--:d++,o0(Gc(Ol(r,c,d),h),h<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==Di(r))){let c=r.childNodes[s-1];if(c.nodeType==1)return EC(c.getBoundingClientRect(),!1)}if(i==null&&s<Di(r)){let c=r.childNodes[s];if(c.nodeType==1)return EC(c.getBoundingClientRect(),!0)}return EC(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==Di(r))){let c=r.childNodes[s-1],d=c.nodeType==3?Ol(c,Di(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return o0(Gc(d,1),!1)}if(i==null&&s<Di(r)){let c=r.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?Ol(c,0,o?0:1):c.nodeType==1?c:null:null;if(d)return o0(Gc(d,-1),!0)}return o0(Gc(r.nodeType==3?Ol(r):r,-n),n>=0)}function o0(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function EC(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function nZ(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function S_e(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return nZ(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=tZ(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Ol(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let h=c[d];if(h.bottom>h.top+1&&(n=="up"?o.top-h.top>(h.bottom-o.top)*2:h.bottom-o.bottom>(o.bottom-h.top)*2))return!1}}return!0})}const k_e=/[\u0590-\u08ac]/;function C_e(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,l=t.domSelection();return l?!k_e.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:o:nZ(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:h,anchorOffset:m}=t.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",n,"character");let x=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:y,focusOffset:w}=t.domSelectionRange(),v=y&&!x.contains(y.nodeType==1?y:y.parentNode)||c==y&&d==w;try{l.collapse(h,m),c&&(c!=h||d!=m)&&l.extend&&l.extend(c,d)}catch{}return p!=null&&(l.caretBidiLevel=p),v}):r.pos==r.start()||r.pos==r.end()}let d$=null,u$=null,h$=!1;function __e(t,e,n){return d$==e&&u$==n?h$:(d$=e,u$=n,h$=n=="up"||n=="down"?S_e(t,e,n):C_e(t,e,n))}const $i=0,f$=1,Nu=2,Jo=3;class Hx{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=$i,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,o;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>qs(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let o=0;o<s.children.length;o++){let l=s.children[o];if(l.size){s=l;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],l=i+o.size;if(l>e||o instanceof sZ){s=e-i;break}i=l}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof rZ&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?qs(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?qs(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,l=0;;l++){let c=this.children[l],d=o+c.size;if(s==-1&&e<=d){let h=o+c.border;if(e>=h&&n<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,h);e=o;for(let m=l;m>0;m--){let p=this.children[m-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){s=qs(p.dom)+1;break}e-=p.size}s==-1&&(s=0)}if(s>-1&&(d>n||l==this.children.length-1)){n=d;for(let h=l+1;h<this.children.length;h++){let m=this.children[h];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=qs(m.dom);break}n+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),o=Math.max(e,n);for(let x=0,y=0;x<this.children.length;x++){let w=this.children[x],v=y+w.size;if(i>y&&o<v)return w.setSelection(e-y-w.border,n-y-w.border,r,s);y=v}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),d=r.root.getSelection(),h=r.domSelectionRange(),m=!1;if((Fi||Ca)&&e==n){let{node:x,offset:y}=l;if(x.nodeType==3){if(m=!!(y&&x.nodeValue[y-1]==`
`),m&&y==x.nodeValue.length)for(let w=x,v;w;w=w.parentNode){if(v=w.nextSibling){v.nodeName=="BR"&&(l=c={node:v.parentNode,offset:qs(v)+1});break}let N=w.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let w=x.childNodes[y-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(Fi&&h.focusNode&&h.focusNode!=c.node&&h.focusNode.nodeType==1){let x=h.focusNode.childNodes[h.focusOffset];x&&x.contentEditable=="false"&&(s=!0)}if(!(s||m&&Ca)&&eh(l.node,l.offset,h.anchorNode,h.anchorOffset)&&eh(c.node,c.offset,h.focusNode,h.focusOffset))return;let p=!1;if((d.extend||e==n)&&!(m&&Fi)){d.collapse(l.node,l.offset);try{e!=n&&d.extend(c.node,c.offset),p=!0}catch{}}if(!p){if(e>n){let y=l;l=c,c=y}let x=document.createRange();x.setEnd(c.node,c.offset),x.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let l=r+i.border,c=o-i.border;if(e>=l&&n<=c){this.dirty=e==r||n==o?Nu:f$,e==l&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Jo:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Nu:Jo}r=o}this.dirty=Nu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Nu:f$;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class rZ extends Hx{constructor(e,n,r,s){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==$i&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class T_e extends Hx{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class th extends Hx{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],o=i&&i(n,s,r);return(!o||!o.dom)&&(o=mh.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new th(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Jo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Jo&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=$i){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=$i}}slice(e,n,r){let s=th.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=CO(i,n,o,r)),e>0&&(i=CO(i,0,e,r));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class pd extends Hx{constructor(e,n,r,s,i,o,l,c,d){super(e,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=l}static create(e,n,r,s,i,o){let l=i.nodeViews[n.type.name],c,d=l&&l(n,i,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,s),h=d&&d.dom,m=d&&d.contentDOM;if(n.isText){if(!h)h=document.createTextNode(n.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:m}=mh.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),n.type.spec.draggable&&(h.draggable=!0));let p=h;return h=oZ(h,r,n),d?c=new M_e(e,n,r,s,h,m||null,p,d,i,o+1):n.isText?new bN(e,n,r,s,h,p,i):new pd(e,n,r,s,h,m||null,p,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ut.empty)}return e}matchesNode(e,n,r){return this.dirty==$i&&e.eq(this.node)&&t1(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new O_e(this,o&&o.node,e);P_e(this.node,this.innerDeco,(d,h,m)=>{d.spec.marks?c.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!m&&c.syncToMarks(h==this.node.childCount?fr.none:this.node.child(h).marks,r,e),c.placeWidget(d,e,s)},(d,h,m,p)=>{c.syncToMarks(d.marks,r,e);let x;c.findNodeMatch(d,h,m,p)||l&&e.state.selection.from>s&&e.state.selection.to<s+d.nodeSize&&(x=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(d,h,m,x,e)||c.updateNextNode(d,h,m,e,p,s)||c.addNode(d,h,m,e,s),s+=d.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Nu)&&(o&&this.protectLocalComposition(e,o),aZ(this.contentDOM,this.children,e),om&&R_e(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof en)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,l=L_e(this.node.content,o,r-n,s-n);return l<0?null:{node:i,pos:l,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new T_e(this,i,n,s);e.input.compositionNodes.push(o),this.children=CO(this.children,r,r+s.length,e,o)}update(e,n,r,s){return this.dirty==Jo||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=$i}updateOuterDeco(e){if(t1(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=iZ(this.dom,this.nodeDOM,kO(this.outerDeco,this.node,n),kO(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function m$(t,e,n,r,s){oZ(r,e,t);let i=new pd(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class bN extends pd{constructor(e,n,r,s,i,o,l){super(e,n,r,s,i,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==Jo||this.dirty!=$i&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=$i||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=$i,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new bN(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Jo)}get domAtom(){return!1}isText(e){return this.node.text==e}}class sZ extends Hx{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==$i&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class M_e extends pd{constructor(e,n,r,s,i,o,l,c,d,h){super(e,n,r,s,i,o,l,d,h),this.spec=c}update(e,n,r,s){if(this.dirty==Jo)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function aZ(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],l=o.dom;if(l.parentNode==t){for(;l!=r;)r=p$(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(l,r);if(o instanceof th){let c=r?r.previousSibling:t.lastChild;aZ(o.contentDOM,o.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=p$(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const K0=function(t){t&&(this.nodeName=t)};K0.prototype=Object.create(null);const Su=[new K0];function kO(t,e,n){if(t.length==0)return Su;let r=n?Su[0]:new K0,s=[r];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(r=new K0(o.nodeName));for(let l in o){let c=o[l];c!=null&&(n&&s.length==1&&s.push(r=new K0(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return s}function iZ(t,e,n,r){if(n==Su&&r==Su)return e;let s=e;for(let i=0;i<r.length;i++){let o=r[i],l=n[i];if(i){let c;l&&l.nodeName==o.nodeName&&s!=t&&(c=s.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(s),l=Su[0]),s=c}A_e(s,l||Su[0],o)}return s}function A_e(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function oZ(t,e,n){return iZ(t,t,Su,kO(e,n,t.nodeType!=1))}function t1(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function p$(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class O_e{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=E_e(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=$i,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[i])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=th.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let d=this.top.children[l];if(d.matchesNode(e,n,r)&&!this.preMatch.matched.has(d)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let o=this.top.children[s];return o.dirty==Jo&&o.dom==o.contentDOM&&(o.dirty=Nu),o.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof pd){let d=this.preMatch.matched.get(c);if(d!=null&&d!=i)return!1;let h=c.dom,m,p=this.isLocked(h)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Jo&&t1(n,c.outerDeco));if(!p&&c.update(e,n,r,s))return this.destroyBetween(this.index,l),c.dom!=h&&(this.changed=!0),this.index++,!0;if(!p&&(m=this.recreateWrapper(c,e,n,r,s,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Nu,m.updateChildren(s,o+1),m.dirty=$i),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!t1(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=pd.create(this.top,n,r,s,i,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,r,s,i){let o=pd.create(this.top,e,n,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new rZ(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof th;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof bN)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ca||da)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new sZ(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function E_e(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let l;for(;;)if(r){let d=n.children[r-1];if(d instanceof th)n=d,r=d.children.length;else{l=d,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=t.child(s-1))break;--s,i.set(l,s),o.push(l)}}return{index:s,matched:i,matches:o.reverse()}}function D_e(t,e){return t.type.side-e.type.side}function P_e(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let d=0;d<t.childCount;d++){let h=t.child(d);r(h,s,e.forChild(i,h),d),i+=h.nodeSize}return}let o=0,l=[],c=null;for(let d=0;;){let h,m;for(;o<s.length&&s[o].to==i;){let v=s[o++];v.widget&&(h?(m||(m=[h])).push(v):h=v)}if(h)if(m){m.sort(D_e);for(let v=0;v<m.length;v++)n(m[v],d,!!c)}else n(h,d,!!c);let p,x;if(c)x=-1,p=c,c=null;else if(d<t.childCount)x=d,p=t.child(d++);else break;for(let v=0;v<l.length;v++)l[v].to<=i&&l.splice(v--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)l.push(s[o++]);let y=i+p.nodeSize;if(p.isText){let v=y;o<s.length&&s[o].from<v&&(v=s[o].from);for(let N=0;N<l.length;N++)l[N].to<v&&(v=l[N].to);v<y&&(c=p.cut(v-i),p=p.cut(0,v-i),y=v,x=-1)}else for(;o<s.length&&s[o].to<y;)o++;let w=p.isInline&&!p.isLeaf?l.filter(v=>!v.inline):l.slice();r(p,w,e.forChild(i,p),x),i=y}}function R_e(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function L_e(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let o=t.child(s++),l=i;if(i+=o.nodeSize,!o.isText)continue;let c=o.text;for(;s<t.childCount;){let d=t.child(s++);if(i+=d.nodeSize,!d.isText)break;c+=d.text}if(i>=n){if(i>=r&&c.slice(r-e.length-l,r-l)==e)return r-e.length;let d=l<r?c.lastIndexOf(e,r-l-1):-1;if(d>=0&&d+e.length+l>=n)return l+d;if(n==r&&c.length>=r+e.length-l&&c.slice(r-l,r-l+e.length)==e)return r}}return-1}function CO(t,e,n,r,s){let i=[];for(let o=0,l=0;o<t.length;o++){let c=t[o],d=l,h=l+=c.size;d>=n||h<=e?i.push(c):(d<e&&i.push(c.slice(0,e-d,r)),s&&(i.push(s),s=void 0),h>n&&i.push(c.slice(n-d,c.size,r)))}return i}function VP(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=r.resolve(o),c,d;if(xN(n)){for(c=o;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&Wt.isSelectable(m)&&s.parent&&!(m.isInline&&l_e(n.focusNode,n.focusOffset,s.dom))){let p=s.posBefore;d=new Wt(o==p?l:r.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=o,p=o;for(let x=0;x<n.rangeCount;x++){let y=n.getRangeAt(x);m=Math.min(m,t.docView.posFromDOM(y.startContainer,y.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(m<0)return null;[c,o]=p==t.state.selection.anchor?[p,m]:[m,p],l=r.resolve(o)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let h=r.resolve(c);if(!d){let m=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;d=WP(t,h,l,m)}return d}function lZ(t){return t.editable?t.hasFocus():dZ(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ql(t,e=!1){let n=t.state.selection;if(cZ(t,n),!!lZ(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&da){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&eh(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)F_e(t);else{let{anchor:r,head:s}=n,i,o;g$&&!(n instanceof en)&&(n.$from.parent.inlineContent||(i=x$(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=x$(t,n.to))),t.docView.setSelection(r,s,t,e),g$&&(i&&b$(i),o&&b$(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&I_e(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const g$=Ca||da&&XQ<63;function x$(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Ca&&s&&s.contentEditable=="false")return DC(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return DC(s);if(i)return DC(i)}}function DC(t){return t.contentEditable="true",Ca&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function b$(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function I_e(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!lZ(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function F_e(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,qs(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Va&&md<=11&&(n.disabled=!0,n.disabled=!1)}function cZ(t,e){if(e instanceof Wt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(y$(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else y$(t)}function y$(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function WP(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||en.between(e,n,r)}function v$(t){return t.editable&&!t.hasFocus()?!1:dZ(t)}function dZ(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function $_e(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return eh(e.node,e.offset,n.anchorNode,n.anchorOffset)}function _O(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&ln.findFrom(i,e)}function Yc(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function w$(t,e,n){let r=t.state.selection;if(r instanceof en)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Yc(t,new en(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=_O(t.state,e);return s&&s instanceof Wt?Yc(t,s):!1}else if(!(Oi&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?Wt.isSelectable(i)?Yc(t,new Wt(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):$x?Yc(t,new en(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Wt&&r.node.isInline)return Yc(t,new en(e>0?r.$to:r.$from));{let s=_O(t.state,e);return s?Yc(t,s):!1}}}function n1(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function X0(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function af(t,e){return e<0?H_e(t):z_e(t)}function H_e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,o=!1;for(Fi&&n.nodeType==1&&r<n1(n)&&X0(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(X0(l,-1))s=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(uZ(n))break;{let l=n.previousSibling;for(;l&&X0(l,-1);)s=n.parentNode,i=qs(l),l=l.previousSibling;if(l)n=l,r=n1(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?TO(t,n,r):s&&TO(t,s,i)}function z_e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=n1(n),i,o;for(;;)if(r<s){if(n.nodeType!=1)break;let l=n.childNodes[r];if(X0(l,1))i=n,o=++r;else break}else{if(uZ(n))break;{let l=n.nextSibling;for(;l&&X0(l,1);)i=l.parentNode,o=qs(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=n1(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&TO(t,i,o)}function uZ(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function B_e(t,e){for(;t&&e==t.childNodes.length&&!Fx(t);)e=qs(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function V_e(t,e){for(;t&&!e&&!Fx(t);)e=qs(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function TO(t,e,n){if(e.nodeType!=3){let i,o;(o=B_e(e,n))?(e=o,n=0):(i=V_e(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(xN(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Ql(t)},50)}function j$(t,e){let n=t.state.doc.resolve(e);if(!(da||u_e)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function N$(t,e,n){let r=t.state.selection;if(r instanceof en&&!r.empty||n.indexOf("s")>-1||Oi&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=_O(t.state,e);if(o&&o instanceof Wt)return Yc(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,l=r instanceof ci?ln.near(o,e):ln.findFrom(o,e);return l?Yc(t,l):!1}return!1}function S$(t,e){if(!(t.state.selection instanceof en))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),t.dispatch(o),!0}return!1}function k$(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function W_e(t){if(!Ca||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;k$(t,r,"true"),setTimeout(()=>k$(t,r,"false"),20)}return!1}function U_e(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function q_e(t,e){let n=e.keyCode,r=U_e(e);if(n==8||Oi&&n==72&&r=="c")return S$(t,-1)||af(t,-1);if(n==46&&!e.shiftKey||Oi&&n==68&&r=="c")return S$(t,1)||af(t,1);if(n==13||n==27)return!0;if(n==37||Oi&&n==66&&r=="c"){let s=n==37?j$(t,t.state.selection.from)=="ltr"?-1:1:-1;return w$(t,s,r)||af(t,s)}else if(n==39||Oi&&n==70&&r=="c"){let s=n==39?j$(t,t.state.selection.from)=="ltr"?1:-1:1;return w$(t,s,r)||af(t,s)}else{if(n==38||Oi&&n==80&&r=="c")return N$(t,-1,r)||af(t,-1);if(n==40||Oi&&n==78&&r=="c")return W_e(t)||N$(t,1,r)||af(t,1);if(r==(Oi?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function UP(t,e){t.someProp("transformCopied",x=>{e=x(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let x=r.firstChild;n.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let o=t.someProp("clipboardSerializer")||mh.fromSchema(t.state.schema),l=xZ(),c=l.createElement("div");c.appendChild(o.serializeFragment(r,{document:l}));let d=c.firstChild,h,m=0;for(;d&&d.nodeType==1&&(h=gZ[d.nodeName.toLowerCase()]);){for(let x=h.length-1;x>=0;x--){let y=l.createElement(h[x]);for(;c.firstChild;)y.appendChild(c.firstChild);c.appendChild(y),m++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${s} ${i}${m?` -${m}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",x=>x(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:p,slice:e}}function hZ(t,e,n,r,s){let i=s.parent.type.spec.code,o,l;if(!n&&!e)return null;let c=!!e&&(r||i||!n);if(c){if(t.someProp("transformPastedText",p=>{e=p(e,i||r,t)}),i)return l=new At(ut.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",p=>{l=p(l,t,!0)}),l;let m=t.someProp("clipboardTextParser",p=>p(e,s,r,t));if(m)l=m;else{let p=s.marks(),{schema:x}=t.state,y=mh.fromSchema(x);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let v=o.appendChild(document.createElement("p"));w&&v.appendChild(y.serializeNode(x.text(w,p)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),o=X_e(n),$x&&J_e(o);let d=o&&o.querySelector("[data-pm-slice]"),h=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let m=+h[3];m>0;m--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||fd.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||h),context:s,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!G_e.test(p.parentNode.nodeName)?{ignore:!0}:null}})),h)l=Q_e(C$(l,+h[1],+h[2]),h[4]);else if(l=At.maxOpen(Y_e(l.content,s),!0),l.openStart||l.openEnd){let m=0,p=0;for(let x=l.content.firstChild;m<l.openStart&&!x.type.spec.isolating;m++,x=x.firstChild);for(let x=l.content.lastChild;p<l.openEnd&&!x.type.spec.isolating;p++,x=x.lastChild);l=C$(l,m,p)}return t.someProp("transformPasted",m=>{l=m(l,t,c)}),l}const G_e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Y_e(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,o=[];if(t.forEach(l=>{if(!o)return;let c=s.findWrapping(l.type),d;if(!c)return o=null;if(d=o.length&&i.length&&mZ(c,i,l,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=pZ(o[o.length-1],i.length));let h=fZ(l,c);o.push(h),s=s.matchType(h.type),i=c}}),o)return ut.from(o)}return t}function fZ(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ut.from(t));return t}function mZ(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=mZ(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(ut.from(fZ(n,t,s+1))))}}function pZ(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,pZ(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ut.empty,!0);return t.copy(n.append(r))}function MO(t,e,n,r,s,i){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(i=0),s<r-1&&(l=MO(l,e,n,r,s+1,i)),s>=n&&(l=e<0?o.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(ut.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function C$(t,e,n){return e<t.openStart&&(t=new At(MO(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new At(MO(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const gZ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _$=null;function xZ(){return _$||(_$=document.implementation.createHTMLDocument("title"))}let PC=null;function K_e(t){let e=window.trustedTypes;return e?(PC||(PC=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),PC.createHTML(t)):t}function X_e(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=xZ().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&gZ[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=K_e(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function J_e(t){let e=t.querySelectorAll(da?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Q_e(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;s=ut.from(c.create(r[l+1],s)),i++,o++}return new At(s,i,o)}const _a={},Ta={},Z_e={touchstart:!0,touchmove:!0};class eTe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function tTe(t){for(let e in _a){let n=_a[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{rTe(t,r)&&!qP(t,r)&&(t.editable||!(r.type in Ta))&&n(t,r)},Z_e[e]?{passive:!0}:void 0)}Ca&&t.dom.addEventListener("input",()=>null),AO(t)}function od(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function nTe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function AO(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>qP(t,r))})}function qP(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function rTe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function sTe(t,e){!qP(t,e)&&_a[e.type]&&(t.editable||!(e.type in Ta))&&_a[e.type](t,e)}Ta.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!yZ(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Fl&&da&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),om&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,pu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||q_e(t,n)?n.preventDefault():od(t,"key")};Ta.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ta.keypress=(t,e)=>{let n=e;if(yZ(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Oi&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof en)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function yN(t){return{left:t.clientX,top:t.clientY}}function aTe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function GP(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,l=>o>i.depth?l(t,n,i.nodeAfter,i.before(o),s,!0):l(t,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function If(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function iTe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Wt.isSelectable(r)?(If(t,new Wt(n)),!0):!1}function oTe(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof Wt&&(r=n.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(Wt.isSelectable(l)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(o);break}}return s!=null?(If(t,Wt.create(t.state.doc,s)),!0):!1}function lTe(t,e,n,r,s){return GP(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?oTe(t,n):iTe(t,n))}function cTe(t,e,n,r){return GP(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function dTe(t,e,n,r){return GP(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||uTe(t,n,r)}function uTe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(If(t,en.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(o.inlineContent)If(t,en.create(r,l+1,l+1+o.content.size));else if(Wt.isSelectable(o))If(t,Wt.create(r,l));else continue;return!0}}function YP(t){return r1(t)}const bZ=Oi?"metaKey":"ctrlKey";_a.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=YP(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&aTe(n,t.input.lastClick)&&!n[bZ]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let o=t.posAtCoords(yN(n));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new hTe(t,o,n,!!r)):(i=="doubleClick"?cTe:dTe)(t,o.pos,o.inside,n)?n.preventDefault():od(t,"pointer"))};class hTe{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[bZ],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),o=n.inside;else{let h=e.state.doc.resolve(n.pos);i=h.parent,o=h.depth?h.before():0}const l=s?null:r.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:d}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||d instanceof Wt&&d.from<=o&&d.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Fi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),od(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ql(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(yN(e))),this.updateAllowDefault(e),this.allowDefault||!n?od(this.view,"pointer"):lTe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ca&&this.mightDrag&&!this.mightDrag.node.isAtom||da&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(If(this.view,ln.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):od(this.view,"pointer")}move(e){this.updateAllowDefault(e),od(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}_a.touchstart=t=>{t.input.lastTouch=Date.now(),YP(t),od(t,"pointer")};_a.touchmove=t=>{t.input.lastTouch=Date.now(),od(t,"pointer")};_a.contextmenu=t=>YP(t);function yZ(t,e){return t.composing?!0:Ca&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const fTe=Fl?5e3:-1;Ta.compositionstart=Ta.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof en&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),r1(t,!0),t.markCursor=null;else if(r1(t,!e.selection.empty),Fi&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}vZ(t,fTe)};Ta.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,vZ(t,20))};function vZ(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>r1(t),e))}function wZ(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=pTe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function mTe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=i_e(e.focusNode,e.focusOffset),r=o_e(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function pTe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function r1(t,e=!1){if(!(Fl&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),wZ(t),e||t.docView&&t.docView.dirty){let n=VP(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function gTe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Pg=Va&&md<15||om&&h_e<604;_a.copy=Ta.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=Pg?null:n.clipboardData,o=r.content(),{dom:l,text:c}=UP(t,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):gTe(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function xTe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function bTe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Rg(t,r.value,null,s,e):Rg(t,r.textContent,r.innerHTML,s,e)},50)}function Rg(t,e,n,r,s){let i=hZ(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,s,i||At.empty)))return!0;if(!i)return!1;let o=xTe(i),l=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function jZ(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ta.paste=(t,e)=>{let n=e;if(t.composing&&!Fl)return;let r=Pg?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Rg(t,jZ(r),r.getData("text/html"),s,n)?n.preventDefault():bTe(t,n)};class NZ{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const yTe=Oi?"altKey":"ctrlKey";function SZ(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[yTe]}_a.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(yN(n)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Wt?s.to-1:s.to))){if(r&&r.mightDrag)o=Wt.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(o=Wt.create(t.state.doc,m.posBefore))}}let l=(o||t.state.selection).content(),{dom:c,text:d,slice:h}=UP(t,l);(!n.dataTransfer.files.length||!da||XQ>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Pg?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",Pg||n.dataTransfer.setData("text/plain",d),t.dragging=new NZ(h,SZ(t,n),o)};_a.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ta.dragover=Ta.dragenter=(t,e)=>e.preventDefault();Ta.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(yN(n));if(!s)return;let i=t.state.doc.resolve(s.pos),o=r&&r.slice;o?t.someProp("transformPasted",y=>{o=y(o,t,!1)}):o=hZ(t,jZ(n.dataTransfer),Pg?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(r&&SZ(t,n));if(t.someProp("handleDrop",y=>y(t,n,o||At.empty,l))){n.preventDefault();return}if(!o)return;n.preventDefault();let c=o?zQ(t.state.doc,i.pos,o):i.pos;c==null&&(c=i.pos);let d=t.state.tr;if(l){let{node:y}=r;y?y.replace(d):d.deleteSelection()}let h=d.mapping.map(c),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=d.doc;if(m?d.replaceRangeWith(h,h,o.content.firstChild):d.replaceRange(h,h,o),d.doc.eq(p))return;let x=d.doc.resolve(h);if(m&&Wt.isSelectable(o.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new Wt(x));else{let y=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((w,v,N,C)=>y=C),d.setSelection(WP(t,x,d.doc.resolve(y)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};_a.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ql(t)},20))};_a.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};_a.beforeinput=(t,e)=>{if(da&&Fl&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,pu(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in Ta)_a[t]=Ta[t];function Lg(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class s1{constructor(e,n){this.toDOM=e,this.spec=n||Hu,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:o}=e.mapResult(n.from+s,this.side<0?-1:1);return o?null:new ba(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof s1&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Lg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class gd{constructor(e,n){this.attrs=e,this.spec=n||Hu}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new ba(i,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof gd&&Lg(this.attrs,e.attrs)&&Lg(this.spec,e.spec)}static is(e){return e.type instanceof gd}destroy(){}}class KP{constructor(e,n){this.attrs=e,this.spec=n||Hu}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let o=e.mapResult(n.to+s,-1);return o.deleted||o.pos<=i.pos?null:new ba(i.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof KP&&Lg(this.attrs,e.attrs)&&Lg(this.spec,e.spec)}destroy(){}}class ba{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ba(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ba(e,e,new s1(n,r))}static inline(e,n,r,s){return new ba(e,n,new gd(r,s))}static node(e,n,r,s){return new ba(e,n,new KP(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof gd}get widget(){return this.type instanceof s1}}const mf=[],Hu={};class Dr{constructor(e,n){this.local=e.length?e:mf,this.children=n.length?n:mf}static create(e,n){return n.length?a1(n,e,0,Hu):ra}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&r.push(l.copy(l.from+s,l.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,n-l,r,s+l,i)}}map(e,n,r){return this==ra||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Hu)}mapInner(e,n,r,s,i){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,r,s);c&&c.type.valid(n,c)?(o||(o=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?vTe(this.children,o||[],e,n,r,s,i):o?new Dr(o.sort(zu),mf):ra}add(e,n){return n.length?this==ra?Dr.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((l,c)=>{let d=c+r,h;if(h=CZ(n,l,d)){for(s||(s=this.children.slice());i<s.length&&s[i]<c;)i+=3;s[i]==c?s[i+2]=s[i+2].addInner(l,h,d+1):s.splice(i,0,c,c+l.nodeSize,a1(h,l,d+1,Hu)),i+=3}});let o=kZ(i?_Z(n):n,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new Dr(o.length?this.local.concat(o).sort(zu):this.local,s||this.children)}remove(e){return e.length==0||this==ra?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,l=r[i]+n,c=r[i+1]+n;for(let h=0,m;h<e.length;h++)(m=e[h])&&m.from>l&&m.to<c&&(e[h]=null,(o||(o=[])).push(m));if(!o)continue;r==this.children&&(r=this.children.slice());let d=r[i+2].removeInner(o,l+1);d!=ra?r[i+2]=d:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let l=0;l<s.length;l++)s[l].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Dr(s,r):ra}forChild(e,n){if(this==ra)return this;if(n.isLeaf)return Dr.empty;let r,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let i=e+1,o=i+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>i&&c.type instanceof gd){let d=Math.max(i,c.from)-i,h=Math.min(o,c.to)-i;d<h&&(s||(s=[])).push(c.copy(d,h))}}if(s){let l=new Dr(s.sort(zu),mf);return r?new Qc([l,r]):l}return r||ra}eq(e){if(this==e)return!0;if(!(e instanceof Dr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return XP(this.localsInner(e))}localsInner(e){if(this==ra)return mf;if(e.inlineContent||!this.local.some(gd.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof gd||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Dr.empty=new Dr([],[]);Dr.removeOverlap=XP;const ra=Dr.empty;class Qc{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Hu));return Qc.from(r)}forChild(e,n){if(n.isLeaf)return Dr.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=ra&&(i instanceof Qc?r=r.concat(i.members):r.push(i))}return Qc.from(r)}eq(e){if(!(e instanceof Qc)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?XP(r?n:n.sort(zu)):mf}static from(e){switch(e.length){case 0:return ra;case 1:return e[0];default:return new Qc(e.every(n=>n instanceof Dr)?e:e.reduce((n,r)=>n.concat(r instanceof Dr?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function vTe(t,e,n,r,s,i,o){let l=t.slice();for(let d=0,h=i;d<n.maps.length;d++){let m=0;n.maps[d].forEach((p,x,y,w)=>{let v=w-y-(x-p);for(let N=0;N<l.length;N+=3){let C=l[N+1];if(C<0||p>C+h-m)continue;let S=l[N]+h-m;x>=S?l[N+1]=p<=S?-2:-1:p>=h&&v&&(l[N]+=v,l[N+1]+=v)}m+=v}),h=n.maps[d].map(h,-1)}let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let h=n.map(t[d]+i),m=h-s;if(m<0||m>=r.content.size){c=!0;continue}let p=n.map(t[d+1]+i,-1),x=p-s,{index:y,offset:w}=r.content.findIndex(m),v=r.maybeChild(y);if(v&&w==m&&w+v.nodeSize==x){let N=l[d+2].mapInner(n,v,h+1,t[d]+i+1,o);N!=ra?(l[d]=m,l[d+1]=x,l[d+2]=N):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=wTe(l,t,e,n,s,i,o),h=a1(d,r,0,o);e=h.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,p=0;m<h.children.length;m+=3){let x=h.children[m];for(;p<l.length&&l[p]<x;)p+=3;l.splice(p,0,h.children[m],h.children[m+1],h.children[m+2])}}return new Dr(e.sort(zu),l)}function kZ(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new ba(s.from+e,s.to+e,s.type))}return n}function wTe(t,e,n,r,s,i,o){function l(c,d){for(let h=0;h<c.local.length;h++){let m=c.local[h].map(r,s,d);m?n.push(m):o.onRemove&&o.onRemove(c.local[h].spec)}for(let h=0;h<c.children.length;h+=3)l(c.children[h+2],c.children[h]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+i+1);return n}function CZ(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>n&&o.to<r&&((s||(s=[])).push(o),t[i]=null);return s}function _Z(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function a1(t,e,n,r){let s=[],i=!1;e.forEach((l,c)=>{let d=CZ(t,l,c+n);if(d){i=!0;let h=a1(d,l,n+c+1,r);h!=ra&&s.push(c,c+l.nodeSize,h)}});let o=kZ(i?_Z(t):t,-n).sort(zu);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||s.length?new Dr(o,s):ra}function zu(t,e){return t.from-e.from||t.to-e.to}function XP(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),T$(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),T$(e,s,r.copy(i.from,r.to)));break}}}return e}function T$(t,e,n){for(;e<t.length&&zu(n,t[e])>0;)e++;t.splice(e,0,n)}function RC(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=ra&&e.push(r)}),t.cursorWrapper&&e.push(Dr.create(t.state.doc,[t.cursorWrapper.deco])),Qc.from(e)}const jTe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},NTe=Va&&md<=11;class STe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class kTe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new STe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Va&&md<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),NTe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,jTe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(v$(this.view)){if(this.suppressingSelectionUpdates)return Ql(this.view);if(Va&&md<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&eh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=im(i))n.add(i);for(let i=e.anchorNode;i;i=im(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&v$(e)&&!this.ignoreSelectionChange(r),i=-1,o=-1,l=!1,c=[];if(e.editable)for(let h=0;h<n.length;h++){let m=this.registerMutation(n[h],c);m&&(i=i<0?m.from:Math.min(m.from,i),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(l=!0))}if(Fi&&c.length){let h=c.filter(m=>m.nodeName=="BR");if(h.length==2){let[m,p]=h;m.parentNode&&m.parentNode.parentNode==p.parentNode?p.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let p of h){let x=p.parentNode;x&&x.nodeName=="LI"&&(!m||TTe(e,m)!=x)&&p.remove()}}}let d=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&xN(r)&&(d=VP(e))&&d.eq(ln.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ql(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),CTe(e)),this.handleDOMChange(i,o,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ql(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let m=e.addedNodes[h];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Va&&md<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:m,nextSibling:p}=e.addedNodes[h];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p)}let o=s&&s.parentNode==e.target?qs(s)+1:0,l=r.localPosFromDOM(e.target,o,-1),c=i&&i.parentNode==e.target?qs(i):e.target.childNodes.length,d=r.localPosFromDOM(e.target,c,1);return{from:l,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let M$=new WeakMap,A$=!1;function CTe(t){if(!M$.has(t)&&(M$.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Fi,A$)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),A$=!0}}function O$(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return eh(o.node,o.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function _Te(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return O$(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?O$(t,n):null}function TTe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function MTe(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:o,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),d,h=c.anchorNode;if(h&&t.dom.contains(h.nodeType==1?h:h.parentNode)&&(d=[{node:h,offset:c.anchorOffset}],xN(c)||d.push({node:c.focusNode,offset:c.focusOffset})),da&&t.input.lastKeyCode===8)for(let v=i;v>s;v--){let N=r.childNodes[v-1],C=N.pmViewDesc;if(N.nodeName=="BR"&&!C){i=v;break}if(!C||C.size)break}let m=t.state.doc,p=t.someProp("domParser")||fd.fromSchema(t.state.schema),x=m.resolve(o),y=null,w=p.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:s,to:i,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:ATe,context:x});if(d&&d[0].pos!=null){let v=d[0].pos,N=d[1]&&d[1].pos;N==null&&(N=v),y={anchor:v+o,head:N+o}}return{doc:w,sel:y,from:o,to:l}}function ATe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ca&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Ca&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const OTe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ETe(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,D=VP(t,O);if(D&&!t.state.selection.eq(D)){if(da&&Fl&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",L=>L(t,pu(13,"Enter"))))return;let F=t.state.tr.setSelection(D);O=="pointer"?F.setMeta("pointer",!0):O=="key"&&F.scrollIntoView(),i&&F.setMeta("composition",i),t.dispatch(F)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(n);e=o.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,d=MTe(t,e,n),h=t.state.doc,m=h.slice(d.from,d.to),p,x;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,x="end"):(p=t.state.selection.from,x="start"),t.input.lastKeyCode=null;let y=RTe(m.content,d.doc.content,d.from,p,x);if(y&&t.input.domChangeCount++,(om&&t.input.lastIOSEnter>Date.now()-225||Fl)&&s.some(O=>O.nodeType==1&&!OTe.test(O.nodeName))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",O=>O(t,pu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!y)if(r&&c instanceof en&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))y={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let O=E$(t,t.state.doc,d.sel);if(O&&!O.eq(t.state.selection)){let D=t.state.tr.setSelection(O);i&&D.setMeta("composition",i),t.dispatch(D)}}return}t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof en&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),Va&&md<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>d.from&&d.doc.textBetween(y.start-d.from-1,y.start-d.from+1)==" "&&(y.start--,y.endA--,y.endB--);let w=d.doc.resolveNoCache(y.start-d.from),v=d.doc.resolveNoCache(y.endB-d.from),N=h.resolve(y.start),C=w.sameParent(v)&&w.parent.inlineContent&&N.end()>=y.endA;if((om&&t.input.lastIOSEnter>Date.now()-225&&(!C||s.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!C&&w.pos<d.doc.content.size&&(!w.sameParent(v)||!w.parent.inlineContent)&&w.pos<v.pos&&!/\S/.test(d.doc.textBetween(w.pos,v.pos,"","")))&&t.someProp("handleKeyDown",O=>O(t,pu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>y.start&&PTe(h,y.start,y.endA,w,v)&&t.someProp("handleKeyDown",O=>O(t,pu(8,"Backspace")))){Fl&&da&&t.domObserver.suppressSelectionUpdates();return}da&&y.endB==y.start&&(t.input.lastChromeDelete=Date.now()),Fl&&!C&&w.start()!=v.start()&&v.parentOffset==0&&w.depth==v.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==y.endA&&(y.endB-=2,v=d.doc.resolveNoCache(y.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,pu(13,"Enter"))})},20));let S=y.start,M=y.endA,_=O=>{let D=O||t.state.tr.replace(S,M,d.doc.slice(y.start-d.from,y.endB-d.from));if(d.sel){let F=E$(t,D.doc,d.sel);F&&!(da&&t.composing&&F.empty&&(y.start!=y.endB||t.input.lastChromeDelete<Date.now()-100)&&(F.head==S||F.head==D.mapping.map(M)-1)||Va&&F.empty&&F.head==S)&&D.setSelection(F)}return i&&D.setMeta("composition",i),D.scrollIntoView()},A;if(C){if(w.pos==v.pos){Va&&md<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ql(t),20));let O=_(t.state.tr.delete(S,M)),D=h.resolve(y.start).marksAcross(h.resolve(y.endA));D&&O.ensureMarks(D),t.dispatch(O)}else if(y.endA==y.endB&&(A=DTe(w.parent.content.cut(w.parentOffset,v.parentOffset),N.parent.content.cut(N.parentOffset,y.endA-N.start())))){let O=_(t.state.tr);A.type=="add"?O.addMark(S,M,A.mark):O.removeMark(S,M,A.mark),t.dispatch(O)}else if(w.parent.child(w.index()).isText&&w.index()==v.index()-(v.textOffset?0:1)){let O=w.parent.textBetween(w.parentOffset,v.parentOffset),D=()=>_(t.state.tr.insertText(O,S,M));t.someProp("handleTextInput",F=>F(t,S,M,O,D))||t.dispatch(D())}}else t.dispatch(_())}function E$(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:WP(t,e.resolve(n.anchor),e.resolve(n.head))}function DTe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,o,l,c;for(let h=0;h<r.length;h++)s=r[h].removeFromSet(s);for(let h=0;h<n.length;h++)i=n[h].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],o="add",c=h=>h.mark(l.addToSet(h.marks));else if(s.length==0&&i.length==1)l=i[0],o="remove",c=h=>h.mark(l.removeFromSet(h.marks));else return null;let d=[];for(let h=0;h<e.childCount;h++)d.push(c(e.child(h)));if(ut.from(d).eq(t))return{mark:l,type:o}}function PTe(t,e,n,r,s){if(n-e<=s.pos-r.pos||LC(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(LC(i,!0,!0));return!o.parent.isTextblock||o.pos>n||LC(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function LC(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function RTe(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:o,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let c=Math.max(0,i-Math.min(o,l));r-=o+c-i}if(o<i&&t.size<e.size){let c=r<=i&&r>=o?i-r:0;i-=c,i&&i<e.size&&D$(e.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-o),o=i}else if(l<i){let c=r<=i&&r>=l?i-r:0;i-=c,i&&i<t.size&&D$(t.textBetween(i-1,i+1))&&(i+=c?1:-1),o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}function D$(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class TZ{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new eTe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(F$),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=L$(this),R$(this),this.nodeViews=I$(this),this.docView=m$(this.state.doc,P$(this),RC(this),this.dom,this),this.domObserver=new kTe(this,(r,s,i,o)=>ETe(this,r,s,i,o)),this.domObserver.start(),tTe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&AO(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(F$),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(wZ(this),o=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let x=I$(this);ITe(x,this.nodeViews)&&(this.nodeViews=x,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&AO(this),this.editable=L$(this),R$(this);let c=RC(this),d=P$(this),h=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,d,c);(m||!e.selection.eq(s.selection))&&(o=!0);let p=h=="preserve"&&o&&this.dom.style.overflowAnchor==null&&p_e(this);if(o){this.domObserver.stop();let x=m&&(Va||da)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&LTe(s.selection,e.selection);if(m){let y=da?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=mTe(this)),(i||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=m$(e.doc,d,c,this.dom,this)),y&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&$_e(this))?Ql(this,x):(cZ(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():p&&g_e(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Wt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&l$(this,n.getBoundingClientRect(),e)}else l$(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new NZ(e.slice,e.move,s<0?void 0:Wt.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(s=n?n(l):l))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[e];if(l!=null&&(s=n?n(l):l))return s}}hasFocus(){if(Va){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&x_e(this.dom),Ql(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return j_e(this,e)}coordsAtPos(e,n=1){return tZ(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return __e(this,n||this.state,e)}pasteHTML(e,n){return Rg(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Rg(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return UP(this,e)}destroy(){this.docView&&(nTe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],RC(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,s_e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return sTe(this,e)}domSelectionRange(){let e=this.domSelection();return e?Ca&&this.root.nodeType===11&&c_e(this.dom.ownerDocument)==this.dom&&_Te(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}TZ.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function P$(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ba.node(0,t.state.doc.content.size,e)]}function R$(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ba.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function L$(t){return!t.someProp("editable",e=>e(t.state)===!1)}function LTe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function I$(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function ITe(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function F$(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Sd={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i1={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},FTe=typeof navigator<"u"&&/Mac/.test(navigator.platform),$Te=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Gs=0;Gs<10;Gs++)Sd[48+Gs]=Sd[96+Gs]=String(Gs);for(var Gs=1;Gs<=24;Gs++)Sd[Gs+111]="F"+Gs;for(var Gs=65;Gs<=90;Gs++)Sd[Gs]=String.fromCharCode(Gs+32),i1[Gs]=String.fromCharCode(Gs);for(var IC in Sd)i1.hasOwnProperty(IC)||(i1[IC]=Sd[IC]);function HTe(t){var e=FTe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||$Te&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?i1:Sd)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const zTe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),BTe=typeof navigator<"u"&&/Win/.test(navigator.platform);function VTe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,o;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))zTe?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function WTe(t){let e=Object.create(null);for(let n in t)e[VTe(n)]=t[n];return e}function FC(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function UTe(t){return new Kr({props:{handleKeyDown:MZ(t)}})}function MZ(t){let e=WTe(t);return function(n,r){let s=HTe(r),i,o=e[FC(s,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let l=e[FC(s,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(BTe&&r.ctrlKey&&r.altKey)&&(i=Sd[r.keyCode])&&i!=s){let l=e[FC(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const JP=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function AZ(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const OZ=(t,e,n)=>{let r=AZ(t,n);if(!r)return!1;let s=QP(r);if(!s){let o=r.blockRange(),l=o&&Bm(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(HZ(t,s,e,-1))return!0;if(r.parent.content.size==0&&(lm(i,"end")||Wt.isSelectable(i)))for(let o=r.depth;;o--){let l=pN(t.doc,r.before(o),r.after(o),At.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(lm(i,"end")?ln.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):Wt.create(c.doc,s.pos-i.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},qTe=(t,e,n)=>{let r=AZ(t,n);if(!r)return!1;let s=QP(r);return s?EZ(t,s,e):!1},GTe=(t,e,n)=>{let r=PZ(t,n);if(!r)return!1;let s=ZP(r);return s?EZ(t,s,e):!1};function EZ(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let h=s.lastChild;if(!h)return!1;s=h}let o=e.nodeAfter,l=o,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let h=l.firstChild;if(!h)return!1;l=h}let d=pN(t.doc,i,c,At.empty);if(!d||d.from!=i||d instanceof Ms&&d.slice.size>=c-i)return!1;if(n){let h=t.tr.step(d);h.setSelection(en.create(h.doc,i)),n(h.scrollIntoView())}return!0}function lm(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const DZ=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=QP(r)}let o=i&&i.nodeBefore;return!o||!Wt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Wt.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function QP(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function PZ(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const RZ=(t,e,n)=>{let r=PZ(t,n);if(!r)return!1;let s=ZP(r);if(!s)return!1;let i=s.nodeAfter;if(HZ(t,s,e,1))return!0;if(r.parent.content.size==0&&(lm(i,"start")||Wt.isSelectable(i))){let o=pN(t.doc,r.before(),r.after(),At.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(lm(i,"start")?ln.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):Wt.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},LZ=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=ZP(r)}let o=i&&i.nodeAfter;return!o||!Wt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Wt.create(t.doc,i.pos)).scrollIntoView()),!0)};function ZP(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const YTe=(t,e)=>{let n=t.selection,r=n instanceof Wt,s;if(r){if(n.node.isTextblock||!Md(t.doc,n.from))return!1;s=n.from}else if(s=mN(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(Wt.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},KTe=(t,e)=>{let n=t.selection,r;if(n instanceof Wt){if(n.node.isTextblock||!Md(t.doc,n.to))return!1;r=n.to}else if(r=mN(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},XTe=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&Bm(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},IZ=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function e4(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const JTe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=e4(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let l=n.after(),c=t.tr.replaceWith(l,l,o.createAndFill());c.setSelection(ln.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},FZ=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof ci||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=e4(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,l=t.tr.insert(o,i.createAndFill());l.setSelection(en.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},$Z=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Jl(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Bm(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function QTe(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof Wt&&e.selection.node.isBlock)return!r.parentOffset||!Jl(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],o,l,c=!1,d=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){c=r.end(x)==r.pos+(r.depth-x),d=r.start(x)==r.pos-(r.depth-x),l=e4(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),i.unshift(c&&l?{type:l}:null),o=x;break}else{if(x==1)return!1;i.unshift(null)}let h=e.tr;(e.selection instanceof en||e.selection instanceof ci)&&h.deleteSelection();let m=h.mapping.map(r.pos),p=Jl(h.doc,m,i.length,i);if(p||(i[0]=l?{type:l}:null,p=Jl(h.doc,m,i.length,i)),!p)return!1;if(h.split(m,i.length,i),!c&&d&&r.node(o).type!=l){let x=h.mapping.map(r.before(o)),y=h.doc.resolve(x);l&&r.node(o-1).canReplaceWith(y.index(),y.index()+1,l)&&h.setNodeMarkup(h.mapping.map(r.before(o)),l)}return n&&n(h.scrollIntoView()),!0}}const ZTe=QTe(),eMe=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(Wt.create(t.doc,s))),!0)};function tMe(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Md(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function HZ(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,o,l,c=s.type.spec.isolating||i.type.spec.isolating;if(!c&&tMe(t,e,n))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(o=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(n){let x=e.pos+i.nodeSize,y=ut.empty;for(let N=o.length-1;N>=0;N--)y=ut.from(o[N].create(null,y));y=ut.from(s.copy(y));let w=t.tr.step(new Es(e.pos-1,x,e.pos,x,new At(y,1,0),o.length,!0)),v=w.doc.resolve(x+2*o.length);v.nodeAfter&&v.nodeAfter.type==s.type&&Md(w.doc,v.pos)&&w.join(v.pos),n(w.scrollIntoView())}return!0}let h=i.type.spec.isolating||r>0&&c?null:ln.findFrom(e,1),m=h&&h.$from.blockRange(h.$to),p=m&&Bm(m);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(m,p).scrollIntoView()),!0;if(d&&lm(i,"start",!0)&&lm(s,"end")){let x=s,y=[];for(;y.push(x),!x.isTextblock;)x=x.lastChild;let w=i,v=1;for(;!w.isTextblock;w=w.firstChild)v++;if(x.canReplace(x.childCount,x.childCount,w.content)){if(n){let N=ut.empty;for(let S=y.length-1;S>=0;S--)N=ut.from(y[S].copy(N));let C=t.tr.step(new Es(e.pos-y.length,e.pos+i.nodeSize,e.pos+v,e.pos+i.nodeSize-v,new At(N,y.length,0),0,!0));n(C.scrollIntoView())}return!0}}return!1}function zZ(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(en.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const nMe=zZ(-1),rMe=zZ(1);function sMe(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),l=o&&HP(o,t,e);return l?(r&&r(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function $$(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(o,l,(c,d)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)s=!0;else{let h=n.doc.resolve(d),m=h.index();s=h.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[o];i.setBlockType(l,c,t,e)}r(i.scrollIntoView())}return!0}}function t4(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}t4(JP,OZ,DZ);t4(JP,RZ,LZ);t4(IZ,FZ,$Z,ZTe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function aMe(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i);if(!o)return!1;let l=r?n.tr:null;return iMe(l,o,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function iMe(t,e,n,r=null){let s=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);i=new Zw(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Zw(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=HP(i,n,r,e);return l?(t&&oMe(t,e,l,s,n),!0):!1}function oMe(t,e,n,r,s){let i=ut.empty;for(let h=n.length-1;h>=0;h--)i=ut.from(n[h].type.create(n[h].attrs,i));t.step(new Es(e.start-(r?2:0),e.end,e.start,e.end,new At(i,0,0),n.length,!0));let o=0;for(let h=0;h<n.length;h++)n[h].type==s&&(o=h+1);let l=n.length-o,c=e.start+n.length-(r?2:0),d=e.parent;for(let h=e.startIndex,m=e.endIndex,p=!0;h<m;h++,p=!1)!p&&Jl(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=d.child(h).nodeSize;return t}function lMe(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?cMe(e,n,t,i):dMe(e,n,i):!0:!1}}function cMe(t,e,n,r){let s=t.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(s.step(new Es(i-1,o,i,o,new At(ut.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Zw(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));const l=Bm(r);if(l==null)return!1;s.lift(r,l);let c=s.doc.resolve(s.mapping.map(i,-1)-1);return Md(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),e(s.scrollIntoView()),!0}function dMe(t,e,n){let r=t.tr,s=n.parent;for(let x=n.end,y=n.endIndex-1,w=n.startIndex;y>w;y--)x-=s.child(y).nodeSize,r.delete(x-1,x+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==s.childCount,d=i.node(-1),h=i.index(-1);if(!d.canReplace(h+(l?0:1),h+1,o.content.append(c?ut.empty:ut.from(s))))return!1;let m=i.pos,p=m+o.nodeSize;return r.step(new Es(m-(l?1:0),p+(c?1:0),m+1,p-1,new At((l?ut.empty:ut.from(s.copy(ut.empty))).append(c?ut.empty:ut.from(s.copy(ut.empty))),l?0:1,c?0:1),l?0:1)),e(r.scrollIntoView()),!0}function uMe(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,d=>d.childCount>0&&d.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,c=l.child(o-1);if(c.type!=t)return!1;if(n){let d=c.lastChild&&c.lastChild.type==l.type,h=ut.from(d?t.create():null),m=new At(ut.from(t.create(null,ut.from(l.type.create(null,h)))),d?3:1,0),p=i.start,x=i.end;n(e.tr.step(new Es(p-(d?3:1),x,p,x,m,1,!0)).scrollIntoView())}return!0}}var hMe=Object.defineProperty,BZ=(t,e)=>{for(var n in e)hMe(t,n,{get:e[n],enumerable:!0})};function vN(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var wN=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([o,l])=>[o,(...d)=>{const h=l(...d)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,o=[],l=!!t,c=t||s.tr,d=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),o.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(n).map(([m,p])=>[m,(...y)=>{const w=this.buildProps(c,e),v=p(...y)(w);return o.push(v),h}])),run:d};return h}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,i=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...d)=>c(...d)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,o={tr:t,editor:r,view:i,state:vN({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...d)=>c(...d)(o)]))}};return o}},fMe=class{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(s=>s!==n):delete this.callbacks[e]),this}once(e,n){const r=(...s)=>{this.off(e,r),n.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}};function VZ(t,e){const n=new qQ(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}var WZ=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&WZ(r)}return t};function ev(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return WZ(n)}function Ig(t,e,n){if(t instanceof hd||t instanceof ut)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ut.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Ig("",e,n)}if(s){if(n.errorOnInvalidContent){let o=!1,l="";const c=new AQ({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(o=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?fd.fromSchema(c).parseSlice(ev(t),n.parseOptions):fd.fromSchema(c).parse(ev(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=fd.fromSchema(e);return n.slice?i.parseSlice(ev(t),n.parseOptions).content:i.parse(ev(t),n.parseOptions)}return Ig("",e,n)}function OO(t,e,n={},r={}){return Ig(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function mMe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function pMe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function gMe(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function jN(t){return e=>gMe(e.$from,t)}function Ht(t,e,n){return t.config[e]===void 0&&t.parent?Ht(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Ht(t.parent,e,n):null}):t.config[e]}function n4(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Ht(e,"addExtensions",n);return r?[e,...n4(r())]:e}).flat(10)}function r4(t,e){const n=mh.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function UZ(t){return typeof t=="function"}function tr(t,e=void 0,...n){return UZ(t)?e?t.bind(e)(...n):t(...n):t}function xMe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Fg(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function qZ(t){const e=[],{nodeExtensions:n,markExtensions:r}=Fg(t),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:s},c=Ht(o,"addGlobalAttributes",l);if(!c)return;c().forEach(h=>{h.types.forEach(m=>{Object.entries(h.attributes).forEach(([p,x])=>{e.push({type:m,name:p,attribute:{...i,...x}})})})})}),s.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=Ht(o,"addAttributes",l);if(!c)return;const d=c();Object.entries(d).forEach(([h,m])=>{const p={...i,...m};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:o.name,name:h,attribute:p})})}),e}function Gr(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const l=i?String(i).split(" "):[],c=r[s]?r[s].split(" "):[],d=l.filter(h=>!c.includes(h));r[s]=[...c,...d].join(" ")}else if(s==="style"){const l=i?i.split(";").map(h=>h.trim()).filter(Boolean):[],c=r[s]?r[s].split(";").map(h=>h.trim()).filter(Boolean):[],d=new Map;c.forEach(h=>{const[m,p]=h.split(":").map(x=>x.trim());d.set(m,p)}),l.forEach(h=>{const[m,p]=h.split(":").map(x=>x.trim());d.set(m,p)}),r[s]=Array.from(d.entries()).map(([h,m])=>`${h}: ${m}`).join("; ")}else r[s]=i}),r},{})}function o1(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Gr(n,r),{})}function bMe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function H$(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):bMe(n.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...r,...s}}}}function z$(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&xMe(n)?!1:n!=null))}function yMe(t,e){var n;const r=qZ(t),{nodeExtensions:s,markExtensions:i}=Fg(t),o=(n=s.find(d=>Ht(d,"topNode")))==null?void 0:n.name,l=Object.fromEntries(s.map(d=>{const h=r.filter(N=>N.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},p=t.reduce((N,C)=>{const S=Ht(C,"extendNodeSchema",m);return{...N,...S?S(d):{}}},{}),x=z$({...p,content:tr(Ht(d,"content",m)),marks:tr(Ht(d,"marks",m)),group:tr(Ht(d,"group",m)),inline:tr(Ht(d,"inline",m)),atom:tr(Ht(d,"atom",m)),selectable:tr(Ht(d,"selectable",m)),draggable:tr(Ht(d,"draggable",m)),code:tr(Ht(d,"code",m)),whitespace:tr(Ht(d,"whitespace",m)),linebreakReplacement:tr(Ht(d,"linebreakReplacement",m)),defining:tr(Ht(d,"defining",m)),isolating:tr(Ht(d,"isolating",m)),attrs:Object.fromEntries(h.map(N=>{var C,S;return[N.name,{default:(C=N==null?void 0:N.attribute)==null?void 0:C.default,validate:(S=N==null?void 0:N.attribute)==null?void 0:S.validate}]}))}),y=tr(Ht(d,"parseHTML",m));y&&(x.parseDOM=y.map(N=>H$(N,h)));const w=Ht(d,"renderHTML",m);w&&(x.toDOM=N=>w({node:N,HTMLAttributes:o1(N,h)}));const v=Ht(d,"renderText",m);return v&&(x.toText=v),[d.name,x]})),c=Object.fromEntries(i.map(d=>{const h=r.filter(v=>v.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},p=t.reduce((v,N)=>{const C=Ht(N,"extendMarkSchema",m);return{...v,...C?C(d):{}}},{}),x=z$({...p,inclusive:tr(Ht(d,"inclusive",m)),excludes:tr(Ht(d,"excludes",m)),group:tr(Ht(d,"group",m)),spanning:tr(Ht(d,"spanning",m)),code:tr(Ht(d,"code",m)),attrs:Object.fromEntries(h.map(v=>{var N,C;return[v.name,{default:(N=v==null?void 0:v.attribute)==null?void 0:N.default,validate:(C=v==null?void 0:v.attribute)==null?void 0:C.validate}]}))}),y=tr(Ht(d,"parseHTML",m));y&&(x.parseDOM=y.map(v=>H$(v,h)));const w=Ht(d,"renderHTML",m);return w&&(x.toDOM=v=>w({mark:v,HTMLAttributes:o1(v,h)})),[d.name,x]}));return new AQ({topNode:o,nodes:l,marks:c})}function vMe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function s4(t){return t.sort((n,r)=>{const s=Ht(n,"priority")||100,i=Ht(r,"priority")||100;return s>i?-1:s<i?1:0})}function GZ(t){const e=s4(n4(t)),n=vMe(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function YZ(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let l="";return t.nodesBetween(r,s,(c,d,h,m)=>{var p;c.isBlock&&d>r&&(l+=i);const x=o==null?void 0:o[c.type.name];if(x)return h&&(l+=x({node:c,pos:d,parent:h,index:m,range:e})),!1;c.isText&&(l+=(p=c==null?void 0:c.text)==null?void 0:p.slice(Math.max(r,d)-d,s-d))}),l}function wMe(t,e){const n={from:0,to:t.content.size};return YZ(t,n,e)}function KZ(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function mc(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function XZ(t,e){const n=mc(e,t.schema),{from:r,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function ms(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function jMe(t,e){const n=ms(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function NN(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function JZ(t,e){const n=NN(typeof e=="string"?e:e.name,t.schema);return n==="node"?jMe(t,e):n==="mark"?XZ(t,e):{}}function NMe(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function SMe(t){const e=NMe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,o)=>o!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function QZ(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const o=[];if(s.ranges.length)s.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=n[i];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const d=e.slice(i).map(l,-1),h=e.slice(i).map(c),m=e.invert().map(d,-1),p=e.invert().map(h);r.push({oldRange:{from:m,to:p},newRange:{from:d,to:h}})})}),SMe(r)}function a4(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function l1(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:a4(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function ZZ(t,e,n={}){return t.find(r=>r.type===e&&l1(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function B$(t,e,n={}){return!!ZZ(t,e,n)}function i4(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(h=>h.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(h=>h.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!ZZ([...s.node.marks],e,n)))return;let o=s.index,l=t.start()+s.offset,c=o+1,d=l+s.node.nodeSize;for(;o>0&&B$([...t.parent.child(o-1).marks],e,n);)o-=1,l-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&B$([...t.parent.child(c).marks],e,n);)d+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function o4(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),o=i4(i,s.type);o&&r.push({mark:s,...o})}):n.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),r}var kMe=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let i=r,o=null;for(;i>0&&o===null;){const l=s.node(i);(l==null?void 0:l.type.name)===e?o=l:i-=1}return[o,i]};function $C(t,e){return e.nodes[t]||e.marks[t]||null}function aw(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}var CMe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,o,l)=>{var c,d;const h=((d=(c=s.type.spec).toText)==null?void 0:d.call(c,{node:s,pos:i,parent:o,index:l}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?h:h.slice(0,Math.max(0,r-i))}),n};function EO(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?mc(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>l1(m.attrs,n,{strict:!1}));let o=0;const l=[];if(s.forEach(({$from:m,$to:p})=>{const x=m.pos,y=p.pos;t.doc.nodesBetween(x,y,(w,v)=>{if(!w.isText&&!w.marks.length)return;const N=Math.max(x,v),C=Math.min(y,v+w.nodeSize),S=C-N;o+=S,l.push(...w.marks.map(M=>({mark:M,from:N,to:C})))})}),o===0)return!1;const c=l.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>l1(m.mark.attrs,n,{strict:!1})).reduce((m,p)=>m+p.to-p.from,0),d=l.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,p)=>m+p.to-p.from,0);return(c>0?c+d:c)>=o}function kd(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,o=e?ms(e,t.schema):null,l=[];t.doc.nodesBetween(r,s,(m,p)=>{if(m.isText)return;const x=Math.max(r,p),y=Math.min(s,p+m.nodeSize);l.push({node:m,from:x,to:y})});const c=s-r,d=l.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>l1(m.node.attrs,n,{strict:!1}));return i?!!d.length:d.reduce((m,p)=>m+p.to-p.from,0)>=c}function _Me(t,e,n={}){if(!e)return kd(t,null,n)||EO(t,null,n);const r=NN(e,t.schema);return r==="node"?kd(t,e,n):r==="mark"?EO(t,e,n):!1}var TMe=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const i=jN(l=>l.type.name===e)(t.selection);if(!i)return!1;const o=t.doc.resolve(i.pos+1);return s.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},MMe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function V$(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function W$(t,e){const{nodeExtensions:n}=Fg(e),r=n.find(o=>o.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=tr(Ht(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function SN(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(SN(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function eee(t){return t instanceof Wt}function tee(t){return t instanceof en}function ku(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function nee(t,e=null){if(!e)return null;const n=ln.atStart(t),r=ln.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?en.create(t,ku(0,s,i),ku(t.content.size,s,i)):en.create(t,ku(e,s,i),ku(e,s,i))}function AMe(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Ms||s instanceof Es))return;const i=t.mapping.maps[r];let o=0;i.forEach((l,c,d,h)=>{o===0&&(o=h)}),t.setSelection(ln.near(t.doc.resolve(o),n))}var kN=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},OMe=(t,e)=>{if(a4(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function tv(t){var e;const{editor:n,from:r,to:s,text:i,rules:o,plugin:l}=t,{view:c}=n;if(c.composing)return!1;const d=c.state.doc.resolve(r);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(p=>p.type.spec.code))return!1;let h=!1;const m=CMe(d)+i;return o.forEach(p=>{if(h)return;const x=OMe(m,p.find);if(!x)return;const y=c.state.tr,w=vN({state:c.state,transaction:y}),v={from:r-(x[0].length-i.length),to:s},{commands:N,chain:C,can:S}=new wN({editor:n,state:w});p.handler({state:w,range:v,match:x,commands:N,chain:C,can:S})===null||!y.steps.length||(p.undoable&&y.setMeta(l,{transform:y,from:r,to:s,text:i}),c.dispatch(y),h=!0)}),h}function EMe(t){const{editor:e,rules:n}=t,r=new Kr({state:{init(){return null},apply(s,i,o){const l=s.getMeta(r);if(l)return l;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:h}=c;typeof h=="string"?h=h:h=r4(ut.from(h),o.schema);const{from:m}=c,p=m+h.length;tv({editor:e,from:m,to:p,text:h,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,l){return tv({editor:e,from:i,to:o,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&tv({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?tv({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function DMe(t){return Object.prototype.toString.call(t).slice(8,-1)}function nv(t){return DMe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function ree(t,e){const n={...t};return nv(t)&&nv(e)&&Object.keys(e).forEach(r=>{nv(e[r])&&nv(t[r])?n[r]=ree(t[r],e[r]):n[r]=e[r]}),n}var l4=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...tr(Ht(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...tr(Ht(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>ree(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},pc=class see extends l4{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new see(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(d=>(d==null?void 0:d.type.name)===n.name))return!1;const c=o.find(d=>(d==null?void 0:d.type.name)===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function PMe(t){return typeof t=="number"}var RMe=class{constructor(t){this.find=t.find,this.handler=t.handler}},LMe=(t,e,n)=>{if(a4(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function IMe(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:o,dropEvent:l}=t,{commands:c,chain:d,can:h}=new wN({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,s,(x,y)=>{var w,v,N,C,S;if((v=(w=x.type)==null?void 0:w.spec)!=null&&v.code||!(x.isText||x.isTextblock||x.isInline))return;const M=(S=(C=(N=x.content)==null?void 0:N.size)!=null?C:x.nodeSize)!=null?S:0,_=Math.max(r,y),A=Math.min(s,y+M);if(_>=A)return;const O=x.isText?x.text||"":x.textBetween(_-y,A-y,void 0,"");LMe(O,i.find,o).forEach(F=>{if(F.index===void 0)return;const L=_+F.index+1,I=L+F[0].length,P={from:n.tr.mapping.map(L),to:n.tr.mapping.map(I)},z=i.handler({state:n,range:P,match:F,commands:c,chain:d,can:h,pasteEvent:o,dropEvent:l});m.push(z)})}),m.every(x=>x!==null)}var rv=null,FMe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function $Me(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:h,from:m,to:p,rule:x,pasteEvt:y})=>{const w=h.tr,v=vN({state:h,transaction:w});if(!(!IMe({editor:e,state:v,from:Math.max(m-1,0),to:p.b-1,rule:x,pasteEvent:y,dropEvent:l})||!w.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(h=>new Kr({view(m){const p=y=>{var w;r=(w=m.dom.parentElement)!=null&&w.contains(y.target)?m.dom.parentElement:null,r&&(rv=e)},x=()=>{rv&&(rv=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(m,p)=>{if(i=r===m.dom.parentElement,l=p,!i){const x=rv;x!=null&&x.isEditable&&setTimeout(()=>{const y=x.state.selection;y&&x.commands.deleteRange({from:y.from,to:y.to})},10)}return!1},paste:(m,p)=>{var x;const y=(x=p.clipboardData)==null?void 0:x.getData("text/html");return o=p,s=!!(y!=null&&y.includes("data-pm-slice")),!1}}},appendTransaction:(m,p,x)=>{const y=m[0],w=y.getMeta("uiEvent")==="paste"&&!s,v=y.getMeta("uiEvent")==="drop"&&!i,N=y.getMeta("applyPasteRules"),C=!!N;if(!w&&!v&&!C)return;if(C){let{text:_}=N;typeof _=="string"?_=_:_=r4(ut.from(_),x.schema);const{from:A}=N,O=A+_.length,D=FMe(_);return c({rule:h,state:x,from:A,to:{b:O},pasteEvt:D})}const S=p.doc.content.findDiffStart(x.doc.content),M=p.doc.content.findDiffEnd(x.doc.content);if(!(!PMe(S)||!M||S===M.b))return c({rule:h,state:x,from:S,to:M,pasteEvt:o})}}))}var CN=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=GZ(t),this.schema=yMe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:$C(e.name,this.schema)},r=Ht(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return s4([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:$C(r.name,this.schema)},i=[],o=Ht(r,"addKeyboardShortcuts",s);let l={};if(r.type==="mark"&&Ht(r,"exitable",s)&&(l.ArrowRight=()=>pc.handleExit({editor:t,mark:r})),o){const p=Object.fromEntries(Object.entries(o()).map(([x,y])=>[x,()=>y({editor:t})]));l={...l,...p}}const c=UTe(l);i.push(c);const d=Ht(r,"addInputRules",s);if(V$(r,t.options.enableInputRules)&&d){const p=d();if(p&&p.length){const x=EMe({editor:t,rules:p}),y=Array.isArray(x)?x:[x];i.push(...y)}}const h=Ht(r,"addPasteRules",s);if(V$(r,t.options.enablePasteRules)&&h){const p=h();if(p&&p.length){const x=$Me({editor:t,rules:p});i.push(...x)}}const m=Ht(r,"addProseMirrorPlugins",s);if(m){const p=m();i.push(...p)}return i})}get attributes(){return qZ(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Fg(this.extensions);return Object.fromEntries(e.filter(n=>!!Ht(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ms(n.name,this.schema)},i=Ht(n,"addNodeView",s);if(!i)return[];const o=(l,c,d,h,m)=>{const p=o1(l,r);return i()({node:l,view:c,getPos:d,decorations:h,innerDecorations:m,editor:t,extension:n,HTMLAttributes:p})};return[n.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Fg(this.extensions);return Object.fromEntries(e.filter(n=>!!Ht(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:mc(n.name,this.schema)},i=Ht(n,"addMarkView",s);if(!i)return[];const o=(l,c,d)=>{const h=o1(l,r);return i()({mark:l,view:c,inline:d,editor:t,extension:n,HTMLAttributes:h,updateAttributes:m=>{tOe(l,t,m)}})};return[n.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:$C(e.name,this.schema)};e.type==="mark"&&((n=tr(Ht(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=Ht(e,"onBeforeCreate",r),i=Ht(e,"onCreate",r),o=Ht(e,"onUpdate",r),l=Ht(e,"onSelectionUpdate",r),c=Ht(e,"onTransaction",r),d=Ht(e,"onFocus",r),h=Ht(e,"onBlur",r),m=Ht(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),h&&this.editor.on("blur",h),m&&this.editor.on("destroy",m)})}};CN.resolve=GZ;CN.sort=s4;CN.flatten=n4;var HMe={};BZ(HMe,{ClipboardTextSerializer:()=>iee,Commands:()=>cee,Delete:()=>dee,Drop:()=>uee,Editable:()=>hee,FocusEvents:()=>mee,Keymap:()=>pee,Paste:()=>gee,Tabindex:()=>xee,focusEventsPluginKey:()=>fee});var pr=class aee extends l4{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new aee(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},iee=pr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Kr({key:new Rs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(h=>h.$from.pos)),l=Math.max(...i.map(h=>h.$to.pos)),c=KZ(n);return YZ(r,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),oee={};BZ(oee,{blur:()=>zMe,clearContent:()=>BMe,clearNodes:()=>VMe,command:()=>WMe,createParagraphNear:()=>UMe,cut:()=>qMe,deleteCurrentNode:()=>GMe,deleteNode:()=>YMe,deleteRange:()=>KMe,deleteSelection:()=>XMe,enter:()=>JMe,exitCode:()=>QMe,extendMarkRange:()=>ZMe,first:()=>eAe,focus:()=>nAe,forEach:()=>rAe,insertContent:()=>sAe,insertContentAt:()=>iAe,joinBackward:()=>cAe,joinDown:()=>lAe,joinForward:()=>dAe,joinItemBackward:()=>uAe,joinItemForward:()=>hAe,joinTextblockBackward:()=>fAe,joinTextblockForward:()=>mAe,joinUp:()=>oAe,keyboardShortcut:()=>gAe,lift:()=>xAe,liftEmptyBlock:()=>bAe,liftListItem:()=>yAe,newlineInCode:()=>vAe,resetAttributes:()=>wAe,scrollIntoView:()=>jAe,selectAll:()=>NAe,selectNodeBackward:()=>SAe,selectNodeForward:()=>kAe,selectParentNode:()=>CAe,selectTextblockEnd:()=>_Ae,selectTextblockStart:()=>TAe,setContent:()=>MAe,setMark:()=>OAe,setMeta:()=>EAe,setNode:()=>DAe,setNodeSelection:()=>PAe,setTextSelection:()=>RAe,sinkListItem:()=>LAe,splitBlock:()=>IAe,splitListItem:()=>FAe,toggleList:()=>$Ae,toggleMark:()=>HAe,toggleNode:()=>zAe,toggleWrap:()=>BAe,undoInputRule:()=>VAe,unsetAllMarks:()=>WAe,unsetMark:()=>UAe,updateAttributes:()=>qAe,wrapIn:()=>GAe,wrapInList:()=>YAe});var zMe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),BMe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),VMe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:d,mapping:h}=e,m=d.resolve(h.map(c)),p=d.resolve(h.map(c+l.nodeSize)),x=m.blockRange(p);if(!x)return;const y=Bm(x);if(l.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(x.start,w)}(y||y===0)&&e.lift(x,y)})}),!0},WMe=t=>e=>t(e),UMe=()=>({state:t,dispatch:e})=>FZ(t,e),qMe=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,i.content),r.setSelection(new en(r.doc.resolve(Math.max(o-1,0)))),!0},GMe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const l=s.before(i),c=s.after(i);t.delete(l,c).scrollIntoView()}return!0}return!1},YMe=t=>({tr:e,state:n,dispatch:r})=>{const s=ms(t,n.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(r){const c=i.before(o),d=i.after(o);e.delete(c,d).scrollIntoView()}return!0}return!1},KMe=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},XMe=()=>({state:t,dispatch:e})=>JP(t,e),JMe=()=>({commands:t})=>t.keyboardShortcut("Enter"),QMe=()=>({state:t,dispatch:e})=>JTe(t,e),ZMe=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=mc(t,r.schema),{doc:o,selection:l}=n,{$from:c,from:d,to:h}=l;if(s){const m=i4(c,i,e);if(m&&m.from<=d&&m.to>=h){const p=en.create(o,m.from,m.to);n.setSelection(p)}}return!0},eAe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function tAe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function c4(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var nAe=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{(c4()||tAe())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!tee(n.state.selection))return o(),!0;const l=nee(s.doc,t)||n.state.selection,c=n.state.selection.eq(l);return i&&(c||s.setSelection(l),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},rAe=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),sAe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),aAe=t=>!("type"in t),iAe=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var o;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const c=v=>{i.emit("contentError",{editor:i,error:v,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Ig(e,i.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(v){c(v)}try{l=Ig(e,i.schema,{parseOptions:d,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(v){return c(v),!1}let{from:h,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,x=!0;if((aAe(l)?l:[l]).forEach(v=>{v.check(),p=p?v.isText&&v.marks.length===0:!1,x=x?v.isBlock:!1}),h===m&&x){const{parent:v}=r.doc.resolve(h);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(h-=1,m+=1)}let w;if(p){if(Array.isArray(e))w=e.map(v=>v.text||"").join("");else if(e instanceof ut){let v="";e.forEach(N=>{N.text&&(v+=N.text)}),w=v}else typeof e=="object"&&e&&e.text?w=e.text:w=e;r.insertText(w,h,m)}else{w=l;const v=r.doc.resolve(h),N=v.node(),C=v.parentOffset===0,S=N.isText||N.isTextblock,M=N.content.size>0;C&&S&&M&&(h=Math.max(0,h-1)),r.replaceWith(h,m,w)}n.updateSelection&&AMe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:h,text:w}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:h,text:w})}return!0},oAe=()=>({state:t,dispatch:e})=>YTe(t,e),lAe=()=>({state:t,dispatch:e})=>KTe(t,e),cAe=()=>({state:t,dispatch:e})=>OZ(t,e),dAe=()=>({state:t,dispatch:e})=>RZ(t,e),uAe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=mN(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},hAe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=mN(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},fAe=()=>({state:t,dispatch:e})=>qTe(t,e),mAe=()=>({state:t,dispatch:e})=>GTe(t,e);function lee(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function pAe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,o;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))c4()||lee()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var gAe=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=pAe(t).split(/-(?!$)/),o=i.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,l))});return c==null||c.steps.forEach(d=>{const h=d.map(r.mapping);h&&s&&r.maybeStep(h)}),!0},xAe=(t,e={})=>({state:n,dispatch:r})=>{const s=ms(t,n.schema);return kd(n,s,e)?XTe(n,r):!1},bAe=()=>({state:t,dispatch:e})=>$Z(t,e),yAe=t=>({state:e,dispatch:n})=>{const r=ms(t,e.schema);return lMe(r)(e,n)},vAe=()=>({state:t,dispatch:e})=>IZ(t,e);function U$(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var wAe=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const l=NN(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(i=ms(t,r.schema)),l==="mark"&&(o=mc(t,r.schema)),s&&n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,h)=>{i&&i===d.type&&n.setNodeMarkup(h,void 0,U$(d.attrs,e)),o&&d.marks.length&&d.marks.forEach(m=>{o===m.type&&n.addMark(h,h+d.nodeSize,o.create(U$(m.attrs,e)))})})}),!0):!1},jAe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),NAe=()=>({tr:t,dispatch:e})=>{if(e){const n=new ci(t.doc);t.setSelection(n)}return!0},SAe=()=>({state:t,dispatch:e})=>DZ(t,e),kAe=()=>({state:t,dispatch:e})=>LZ(t,e),CAe=()=>({state:t,dispatch:e})=>eMe(t,e),_Ae=()=>({state:t,dispatch:e})=>rMe(t,e),TAe=()=>({state:t,dispatch:e})=>nMe(t,e),MAe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:o,commands:l})=>{const{doc:c}=i;if(r.preserveWhitespace!=="full"){const d=OO(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return o&&i.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!n),!0}return o&&i.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function AAe(t,e,n){var r;const{selection:s}=e;let i=null;if(tee(s)&&(i=s.$cursor),i){const l=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(d=>d.type.excludes(n)))}const{ranges:o}=s;return o.some(({$from:l,$to:c})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,c.pos,(h,m,p)=>{if(d)return!1;if(h.isInline){const x=!p||p.type.allowsMarkType(n),y=!!n.isInSet(h.marks)||!h.marks.some(w=>w.type.excludes(n));d=x&&y}return!d}),d})}var OAe=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:o,ranges:l}=i,c=mc(t,r.schema);if(s)if(o){const d=XZ(r,c);n.addStoredMark(c.create({...d,...e}))}else l.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;r.doc.nodesBetween(h,m,(p,x)=>{const y=Math.max(x,h),w=Math.min(x+p.nodeSize,m);p.marks.find(N=>N.type===c)?p.marks.forEach(N=>{c===N.type&&n.addMark(y,w,c.create({...N.attrs,...e}))}):n.addMark(y,w,c.create(e))})});return AAe(r,n,c)},EAe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),DAe=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=ms(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:l})=>$$(i,{...o,...e})(n)?!0:l.clearNodes()).command(({state:l})=>$$(i,{...o,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},PAe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=ku(t,0,r.content.size),i=Wt.create(r,s);e.setSelection(i)}return!0},RAe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=en.atStart(r).from,l=en.atEnd(r).to,c=ku(s,o,l),d=ku(i,o,l),h=en.create(r,c,d);e.setSelection(h)}return!0},LAe=t=>({state:e,dispatch:n})=>{const r=ms(t,e.schema);return uMe(r)(e,n)};function q$(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}var IAe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:o}=e,{$from:l,$to:c}=i,d=s.extensionManager.attributes,h=aw(d,l.node().type.name,l.node().attrs);if(i instanceof Wt&&i.node.isBlock)return!l.parentOffset||!Jl(o,l.pos)?!1:(r&&(t&&q$(n,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,p=l.depth===0?void 0:mMe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let x=m&&p?[{type:p,attrs:h}]:void 0,y=Jl(e.doc,e.mapping.map(l.pos),1,x);if(!x&&!y&&Jl(e.doc,e.mapping.map(l.pos),1,p?[{type:p}]:void 0)&&(y=!0,x=p?[{type:p,attrs:h}]:void 0),r){if(y&&(i instanceof en&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,x),p&&!m&&!l.parentOffset&&l.parent.type!==p)){const w=e.mapping.map(l.before()),v=e.doc.resolve(w);l.node(-1).canReplaceWith(v.index(),v.index()+1,p)&&e.setNodeMarkup(e.mapping.map(l.before()),p)}t&&q$(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return y},FAe=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var o;const l=ms(t,r.schema),{$from:c,$to:d}=r.selection,h=r.selection.node;if(h&&h.isBlock||c.depth<2||!c.sameParent(d))return!1;const m=c.node(-1);if(m.type!==l)return!1;const p=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let N=ut.empty;const C=c.index(-1)?1:c.index(-2)?2:3;for(let D=c.depth-C;D>=c.depth-3;D-=1)N=ut.from(c.node(D).copy(N));const S=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,M={...aw(p,c.node().type.name,c.node().attrs),...e},_=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(M))||void 0;N=N.append(ut.from(l.createAndFill(null,_)||void 0));const A=c.before(c.depth-(C-1));n.replace(A,c.after(-S),new At(N,4-C,0));let O=-1;n.doc.nodesBetween(A,n.doc.content.size,(D,F)=>{if(O>-1)return!1;D.isTextblock&&D.content.size===0&&(O=F+1)}),O>-1&&n.setSelection(en.near(n.doc.resolve(O))),n.scrollIntoView()}return!0}const x=d.pos===c.end()?m.contentMatchAt(0).defaultType:null,y={...aw(p,m.type.name,m.attrs),...e},w={...aw(p,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,d.pos);const v=x?[{type:l,attrs:y},{type:x,attrs:w}]:[{type:l,attrs:y}];if(!Jl(n.doc,c.pos,2))return!1;if(s){const{selection:N,storedMarks:C}=r,{splittableMarks:S}=i.extensionManager,M=C||N.$to.parentOffset&&N.$from.marks();if(n.split(c.pos,2,v).scrollIntoView(),!M||!s)return!0;const _=M.filter(A=>S.includes(A.type.name));n.ensureMarks(_)}return!0},HC=(t,e)=>{const n=jN(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Md(t.doc,n.pos)&&t.join(n.pos),!0},zC=(t,e)=>{const n=jN(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Md(t.doc,r)&&t.join(r),!0},$Ae=(t,e,n,r={})=>({editor:s,tr:i,state:o,dispatch:l,chain:c,commands:d,can:h})=>{const{extensions:m,splittableMarks:p}=s.extensionManager,x=ms(t,o.schema),y=ms(e,o.schema),{selection:w,storedMarks:v}=o,{$from:N,$to:C}=w,S=N.blockRange(C),M=v||w.$to.parentOffset&&w.$from.marks();if(!S)return!1;const _=jN(A=>W$(A.type.name,m))(w);if(S.depth>=1&&_&&S.depth-_.depth<=1){if(_.node.type===x)return d.liftListItem(y);if(W$(_.node.type.name,m)&&x.validContent(_.node.content)&&l)return c().command(()=>(i.setNodeMarkup(_.pos,x),!0)).command(()=>HC(i,x)).command(()=>zC(i,x)).run()}return!n||!M||!l?c().command(()=>h().wrapInList(x,r)?!0:d.clearNodes()).wrapInList(x,r).command(()=>HC(i,x)).command(()=>zC(i,x)).run():c().command(()=>{const A=h().wrapInList(x,r),O=M.filter(D=>p.includes(D.type.name));return i.ensureMarks(O),A?!0:d.clearNodes()}).wrapInList(x,r).command(()=>HC(i,x)).command(()=>zC(i,x)).run()},HAe=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,o=mc(t,r.schema);return EO(r,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},zAe=(t,e,n={})=>({state:r,commands:s})=>{const i=ms(t,r.schema),o=ms(e,r.schema),l=kd(r,i,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?s.setNode(o,c):s.setNode(i,{...c,...n})},BAe=(t,e={})=>({state:n,commands:r})=>{const s=ms(t,n.schema);return kd(n,s,e)?r.lift(s):r.wrapIn(s,e)},VAe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else o.delete(i.from,i.to)}return!0}}return!1},WAe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},UAe=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=n,c=mc(t,r.schema),{$from:d,empty:h,ranges:m}=l;if(!s)return!0;if(h&&o){let{from:p,to:x}=l;const y=(i=d.marks().find(v=>v.type===c))==null?void 0:i.attrs,w=i4(d,c,y);w&&(p=w.from,x=w.to),n.removeMark(p,x,c)}else m.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,c)});return n.removeStoredMark(c),!0},qAe=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const l=NN(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(i=ms(t,r.schema)),l==="mark"&&(o=mc(t,r.schema)),s&&n.selection.ranges.forEach(c=>{const d=c.$from.pos,h=c.$to.pos;let m,p,x,y;n.selection.empty?r.doc.nodesBetween(d,h,(w,v)=>{i&&i===w.type&&(x=Math.max(v,d),y=Math.min(v+w.nodeSize,h),m=v,p=w)}):r.doc.nodesBetween(d,h,(w,v)=>{v<d&&i&&i===w.type&&(x=Math.max(v,d),y=Math.min(v+w.nodeSize,h),m=v,p=w),v>=d&&v<=h&&(i&&i===w.type&&n.setNodeMarkup(v,void 0,{...w.attrs,...e}),o&&w.marks.length&&w.marks.forEach(N=>{if(o===N.type){const C=Math.max(v,d),S=Math.min(v+w.nodeSize,h);n.addMark(C,S,o.create({...N.attrs,...e}))}}))}),p&&(m!==void 0&&n.setNodeMarkup(m,void 0,{...p.attrs,...e}),o&&p.marks.length&&p.marks.forEach(w=>{o===w.type&&n.addMark(x,y,o.create({...w.attrs,...e}))}))}),!0):!1},GAe=(t,e={})=>({state:n,dispatch:r})=>{const s=ms(t,n.schema);return sMe(s,e)(n,r)},YAe=(t,e={})=>({state:n,dispatch:r})=>{const s=ms(t,n.schema);return aMe(s,e)(n,r)},cee=pr.create({name:"commands",addCommands(){return{...oee}}}),dee=pr.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const i=()=>{var o,l,c,d;if((d=(c=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?d:t.getMeta("y-sync$"))return;const h=VZ(t.before,[t,...e]);QZ(h).forEach(x=>{h.mapping.mapResult(x.oldRange.from).deletedAfter&&h.mapping.mapResult(x.oldRange.to).deletedBefore&&h.before.nodesBetween(x.oldRange.from,x.oldRange.to,(y,w)=>{const v=w+y.nodeSize-2,N=x.oldRange.from<=w&&v<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:y,from:w,to:v,newFrom:h.mapping.map(w),newTo:h.mapping.map(v),deletedRange:x.oldRange,newRange:x.newRange,partial:!N,editor:this.editor,transaction:t,combinedTransform:h})})});const p=h.mapping;h.steps.forEach((x,y)=>{var w,v;if(x instanceof ao){const N=p.slice(y).map(x.from,-1),C=p.slice(y).map(x.to),S=p.invert().map(N,-1),M=p.invert().map(C),_=(w=h.doc.nodeAt(N-1))==null?void 0:w.marks.some(O=>O.eq(x.mark)),A=(v=h.doc.nodeAt(C))==null?void 0:v.marks.some(O=>O.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:S,to:M},newRange:{from:N,to:C},partial:!!(A||_),editor:this.editor,transaction:t,combinedTransform:h})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(i,0):i()}}),uee=pr.create({name:"drop",addProseMirrorPlugins(){return[new Kr({key:new Rs("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),hee=pr.create({name:"editable",addProseMirrorPlugins(){return[new Kr({key:new Rs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),fee=new Rs("focusEvents"),mee=pr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Kr({key:fee,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),pee=pr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:d}=l,{empty:h,$anchor:m}=c,{pos:p,parent:x}=m,y=m.parent.isTextblock&&p>0?l.doc.resolve(p-1):m,w=y.parent.type.spec.isolating,v=m.pos-m.parentOffset,N=w&&y.parent.childCount===1?v===m.pos:ln.atStart(d).from===p;return!h||!x.type.isTextblock||x.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return c4()||lee()?i:s},addProseMirrorPlugins(){return[new Kr({key:new Rs("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(w=>w.getMeta("composition")))return;const r=t.some(w=>w.docChanged)&&!e.doc.eq(n.doc),s=t.some(w=>w.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:o,to:l}=e.selection,c=ln.atStart(e.doc).from,d=ln.atEnd(e.doc).to;if(i||!(o===c&&l===d)||!SN(n.doc))return;const p=n.tr,x=vN({state:n,transaction:p}),{commands:y}=new wN({editor:this.editor,state:x});if(y.clearNodes(),!!p.steps.length)return p}})]}}),gee=pr.create({name:"paste",addProseMirrorPlugins(){return[new Kr({key:new Rs("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),xee=pr.create({name:"tabindex",addProseMirrorPlugins(){return[new Kr({key:new Rs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),KAe=class pf{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new pf(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new pf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new pf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,o=this.pos+r+(i?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!s&&l.depth<=this.depth)return;const c=new pf(l,this.editor,s,s?n:null);s&&(c.actualDepth=this.depth+1),e.push(new pf(l,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,o=Object.keys(n);for(let l=0;l<o.length;l+=1){const c=o[l];if(i[c]!==n[c])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(o=>{r&&s.length>0||(o.node.type.name===e&&i.every(c=>n[c]===o.node.attrs[c])&&s.push(o),!(r&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},XAe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function JAe(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var QAe=class extends fMe{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:i})=>this.options.onDrop(r,s,i)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=nee(e,this.options.autofocus);this.editorState=jf.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=JAe(XAe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=UZ(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;n=n.filter(o=>!o.key.startsWith(i))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[hee,iee.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),cee,mee,pee,xee,uee,gee,dee].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new CN(r,this)}createCommandManager(){this.commandManager=new wN({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=OO(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=OO(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new TZ(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var h;return(h=this.capturedTransaction)==null?void 0:h.step(d)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=n.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=o==null?void 0:o.getMeta("focus"),c=o==null?void 0:o.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(t.getMeta("preventUpdate")||!n.some(d=>d.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return JZ(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return _Me(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return r4(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return wMe(this.state.doc,{blockSeparator:e,textSerializers:{...KZ(this.schema),...n}})}get isEmpty(){return SN(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new KAe(e,this)}get $doc(){return this.$pos(0)}};function nh(t){return new kN({find:t.find,handler:({state:e,range:n,match:r})=>{const s=tr(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,o=r[r.length-1],l=r[0];if(o){const c=l.search(/\S/),d=n.from+l.indexOf(o),h=d+o.length;if(o4(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(w=>w===t.type&&w!==x.mark.type)).filter(x=>x.to>d).length)return null;h<n.to&&i.delete(h,n.to),d>n.from&&i.delete(n.from+c,d);const p=n.from+c+o.length;i.addMark(n.from+c,p,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function ZAe(t){return new kN({find:t.find,handler:({state:e,range:n,match:r})=>{const s=tr(t.getAttributes,void 0,r)||{},{tr:i}=e,o=n.from;let l=n.to;const c=t.type.create(s);if(r[1]){const d=r[0].lastIndexOf(r[1]);let h=o+d;h>l?h=l:l=h+r[1].length;const m=r[0][r[0].length-1];i.insertText(m,o+r[0].length-1),i.replaceWith(h,l,c)}else if(r[0]){const d=t.type.isInline?o:o-1;i.insert(d,t.type.create(s)).delete(i.mapping.map(o),i.mapping.map(l))}i.scrollIntoView()},undoable:t.undoable})}function DO(t){return new kN({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=tr(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function cm(t){return new kN({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=tr(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),c=o.doc.resolve(n.from).blockRange(),d=c&&HP(c,t.type,i);if(!d)return null;if(o.wrap(c,d),t.keepMarks&&t.editor){const{selection:m,storedMarks:p}=e,{splittableMarks:x}=t.editor.extensionManager,y=p||m.$to.parentOffset&&m.$from.marks();if(y){const w=y.filter(v=>x.includes(v.type.name));o.ensureMarks(w)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,i).run()}const h=o.doc.resolve(n.from-1).nodeBefore;h&&h.type===t.type&&Md(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,h))&&o.join(n.from-1)},undoable:t.undoable})}function eOe(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Wt){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}function tOe(t,e,n={}){const{state:r}=e,{doc:s,tr:i}=r,o=t;s.descendants((l,c)=>{const d=i.mapping.map(c),h=i.mapping.map(c)+l.nodeSize;let m=null;if(l.marks.forEach(x=>{if(x!==o)return!1;m=x}),!m)return;let p=!1;if(Object.keys(n).forEach(x=>{n[x]!==m.attrs[x]&&(p=!0)}),p){const x=t.type.create({...t.attrs,...n});i.removeMark(d,h,t.type),i.addMark(d,h,x)}}),i.docChanged&&e.view.dispatch(i)}var hi=class bee extends l4{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new bee(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Cd(t){return new RMe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=tr(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:o}=e,l=r[r.length-1],c=r[0];let d=n.to;if(l){const h=c.search(/\S/),m=n.from+c.indexOf(l),p=m+l.length;if(o4(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(v=>v===t.type&&v!==y.mark.type)).filter(y=>y.to>m).length)return null;p<n.to&&o.delete(p,n.to),m>n.from&&o.delete(n.from+h,m),d=n.from+h+l.length,o.addMark(n.from+h,d,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}var nOe=20,yee=(t,e=0)=>{const n=[];return!t.children.length||e>nOe||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...yee(r,e+1))}),n},rOe=t=>{if(!t.children.length)return;const e=yee(t);e&&e.forEach(n=>{var r,s;const i=n.getAttribute("style"),o=(s=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${o};${i}`)})},sOe=pc.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&rOe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(i=>!!i))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),aOe=pr.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),vee=pr.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),wee=pr.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),iOe=pr.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),oOe=pr.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}}),lOe=pr.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(aOe.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(vee.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(wee.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(iOe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(oOe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(sOe.configure(this.options.textStyle)),t}}),cOe=pr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),dOe=cOe,uOe=vee,hOe=wee;const fOe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",mOe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",PO="numeric",RO="ascii",LO="alpha",J0="asciinumeric",E0="alphanumeric",IO="domain",jee="emoji",pOe="scheme",gOe="slashscheme",BC="whitespace";function xOe(t,e){return t in e||(e[t]=[]),e[t]}function Cu(t,e,n){e[PO]&&(e[J0]=!0,e[E0]=!0),e[RO]&&(e[J0]=!0,e[LO]=!0),e[J0]&&(e[E0]=!0),e[LO]&&(e[E0]=!0),e[E0]&&(e[IO]=!0),e[jee]&&(e[IO]=!0);for(const r in e){const s=xOe(r,n);s.indexOf(t)<0&&s.push(t)}}function bOe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function $a(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}$a.groups={};$a.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||$a.groups;let s;return e&&e.j?s=e:(s=new $a(e),n&&r&&Cu(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(t[o]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||$a.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let o,l=s.go(t);if(l?(o=new $a,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new $a,i){if(r)if(o.t&&typeof o.t=="string"){const c=Object.assign(bOe(o.t,r),n);Cu(i,c,r)}else n&&Cu(i,n,r);o.t=i}return s.j[t]=o,o}};const on=(t,e,n,r,s)=>t.ta(e,n,r,s),Hr=(t,e,n,r,s)=>t.tr(e,n,r,s),G$=(t,e,n,r,s)=>t.ts(e,n,r,s),ft=(t,e,n,r,s)=>t.tt(e,n,r,s),Al="WORD",FO="UWORD",Nee="ASCIINUMERICAL",See="ALPHANUMERICAL",$g="LOCALHOST",$O="TLD",HO="UTLD",iw="SCHEME",gf="SLASH_SCHEME",d4="NUM",zO="WS",u4="NL",Q0="OPENBRACE",Z0="CLOSEBRACE",c1="OPENBRACKET",d1="CLOSEBRACKET",u1="OPENPAREN",h1="CLOSEPAREN",f1="OPENANGLEBRACKET",m1="CLOSEANGLEBRACKET",p1="FULLWIDTHLEFTPAREN",g1="FULLWIDTHRIGHTPAREN",x1="LEFTCORNERBRACKET",b1="RIGHTCORNERBRACKET",y1="LEFTWHITECORNERBRACKET",v1="RIGHTWHITECORNERBRACKET",w1="FULLWIDTHLESSTHAN",j1="FULLWIDTHGREATERTHAN",N1="AMPERSAND",S1="APOSTROPHE",k1="ASTERISK",Kc="AT",C1="BACKSLASH",_1="BACKTICK",T1="CARET",Zc="COLON",h4="COMMA",M1="DOLLAR",So="DOT",A1="EQUALS",f4="EXCLAMATION",Ti="HYPHEN",eg="PERCENT",O1="PIPE",E1="PLUS",D1="POUND",tg="QUERY",m4="QUOTE",kee="FULLWIDTHMIDDLEDOT",p4="SEMI",ko="SLASH",ng="TILDE",P1="UNDERSCORE",Cee="EMOJI",R1="SYM";var _ee=Object.freeze({__proto__:null,ALPHANUMERICAL:See,AMPERSAND:N1,APOSTROPHE:S1,ASCIINUMERICAL:Nee,ASTERISK:k1,AT:Kc,BACKSLASH:C1,BACKTICK:_1,CARET:T1,CLOSEANGLEBRACKET:m1,CLOSEBRACE:Z0,CLOSEBRACKET:d1,CLOSEPAREN:h1,COLON:Zc,COMMA:h4,DOLLAR:M1,DOT:So,EMOJI:Cee,EQUALS:A1,EXCLAMATION:f4,FULLWIDTHGREATERTHAN:j1,FULLWIDTHLEFTPAREN:p1,FULLWIDTHLESSTHAN:w1,FULLWIDTHMIDDLEDOT:kee,FULLWIDTHRIGHTPAREN:g1,HYPHEN:Ti,LEFTCORNERBRACKET:x1,LEFTWHITECORNERBRACKET:y1,LOCALHOST:$g,NL:u4,NUM:d4,OPENANGLEBRACKET:f1,OPENBRACE:Q0,OPENBRACKET:c1,OPENPAREN:u1,PERCENT:eg,PIPE:O1,PLUS:E1,POUND:D1,QUERY:tg,QUOTE:m4,RIGHTCORNERBRACKET:b1,RIGHTWHITECORNERBRACKET:v1,SCHEME:iw,SEMI:p4,SLASH:ko,SLASH_SCHEME:gf,SYM:R1,TILDE:ng,TLD:$O,UNDERSCORE:P1,UTLD:HO,UWORD:FO,WORD:Al,WS:zO});const Sl=/[a-z]/,l0=new RegExp("\\p{L}","u"),VC=new RegExp("\\p{Emoji}","u"),kl=/\d/,WC=/\s/,Y$="\r",UC=`
`,yOe="",vOe="",qC="";let sv=null,av=null;function wOe(t=[]){const e={};$a.groups=e;const n=new $a;sv==null&&(sv=K$(fOe)),av==null&&(av=K$(mOe)),ft(n,"'",S1),ft(n,"{",Q0),ft(n,"}",Z0),ft(n,"[",c1),ft(n,"]",d1),ft(n,"(",u1),ft(n,")",h1),ft(n,"<",f1),ft(n,">",m1),ft(n,"",p1),ft(n,"",g1),ft(n,"",x1),ft(n,"",b1),ft(n,"",y1),ft(n,"",v1),ft(n,"",w1),ft(n,"",j1),ft(n,"&",N1),ft(n,"*",k1),ft(n,"@",Kc),ft(n,"`",_1),ft(n,"^",T1),ft(n,":",Zc),ft(n,",",h4),ft(n,"$",M1),ft(n,".",So),ft(n,"=",A1),ft(n,"!",f4),ft(n,"-",Ti),ft(n,"%",eg),ft(n,"|",O1),ft(n,"+",E1),ft(n,"#",D1),ft(n,"?",tg),ft(n,'"',m4),ft(n,"/",ko),ft(n,";",p4),ft(n,"~",ng),ft(n,"_",P1),ft(n,"\\",C1),ft(n,"",kee);const r=Hr(n,kl,d4,{[PO]:!0});Hr(r,kl,r);const s=Hr(r,Sl,Nee,{[J0]:!0}),i=Hr(r,l0,See,{[E0]:!0}),o=Hr(n,Sl,Al,{[RO]:!0});Hr(o,kl,s),Hr(o,Sl,o),Hr(s,kl,s),Hr(s,Sl,s);const l=Hr(n,l0,FO,{[LO]:!0});Hr(l,Sl),Hr(l,kl,i),Hr(l,l0,l),Hr(i,kl,i),Hr(i,Sl),Hr(i,l0,i);const c=ft(n,UC,u4,{[BC]:!0}),d=ft(n,Y$,zO,{[BC]:!0}),h=Hr(n,WC,zO,{[BC]:!0});ft(n,qC,h),ft(d,UC,c),ft(d,qC,h),Hr(d,WC,h),ft(h,Y$),ft(h,UC),Hr(h,WC,h),ft(h,qC,h);const m=Hr(n,VC,Cee,{[jee]:!0});ft(m,"#"),Hr(m,VC,m),ft(m,yOe,m);const p=ft(m,vOe);ft(p,"#"),Hr(p,VC,m);const x=[[Sl,o],[kl,s]],y=[[Sl,null],[l0,l],[kl,i]];for(let w=0;w<sv.length;w++)Wc(n,sv[w],$O,Al,x);for(let w=0;w<av.length;w++)Wc(n,av[w],HO,FO,y);Cu($O,{tld:!0,ascii:!0},e),Cu(HO,{utld:!0,alpha:!0},e),Wc(n,"file",iw,Al,x),Wc(n,"mailto",iw,Al,x),Wc(n,"http",gf,Al,x),Wc(n,"https",gf,Al,x),Wc(n,"ftp",gf,Al,x),Wc(n,"ftps",gf,Al,x),Cu(iw,{scheme:!0,ascii:!0},e),Cu(gf,{slashscheme:!0,ascii:!0},e),t=t.sort((w,v)=>w[0]>v[0]?1:-1);for(let w=0;w<t.length;w++){const v=t[w][0],C=t[w][1]?{[pOe]:!0}:{[gOe]:!0};v.indexOf("-")>=0?C[IO]=!0:Sl.test(v)?kl.test(v)?C[J0]=!0:C[RO]=!0:C[PO]=!0,G$(n,v,v,C)}return G$(n,"localhost",$g,{ascii:!0}),n.jd=new $a(R1),{start:n,tokens:Object.assign({groups:e},_ee)}}function Tee(t,e){const n=jOe(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,s=[];let i=0,o=0;for(;o<r;){let l=t,c=null,d=0,h=null,m=-1,p=-1;for(;o<r&&(c=l.go(n[o]));)l=c,l.accepts()?(m=0,p=0,h=l):m>=0&&(m+=n[o].length,p++),d+=n[o].length,i+=n[o].length,o++;i-=m,o-=p,d-=m,s.push({t:h.t,v:e.slice(i-d,i),s:i-d,e:i})}return s}function jOe(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,o=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Wc(t,e,n,r,s){let i;const o=e.length;for(let l=0;l<o-1;l++){const c=e[l];t.j[c]?i=t.j[c]:(i=new $a(r),i.jr=s.slice(),t.j[c]=i),t=i}return i=new $a(n),i.jr=s.slice(),t.j[e[o-1]]=i,i}function K$(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(t[r]),r++}return e}const Hg={defaultProtocol:"http",events:null,format:X$,formatHref:X$,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function g4(t,e=null){let n=Object.assign({},Hg);t&&(n=Object.assign(n,t instanceof g4?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}g4.prototype={o:Hg,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Hg[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function X$(t){return t}function Mee(t,e){this.t="token",this.v=t,this.tk=e}Mee.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Hg.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),o={},l=t.get("className",n,e),c=t.get("target",n,e),d=t.get("rel",n,e),h=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return o.href=r,l&&(o.class=l),c&&(o.target=c),d&&(o.rel=d),h&&Object.assign(o,h),{tagName:s,attributes:o,content:i,eventListeners:m}}};function _N(t,e){class n extends Mee{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const J$=_N("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Q$=_N("text"),NOe=_N("nl"),iv=_N("url",{isLink:!0,toHref(t=Hg.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==$g&&t[1].t===Zc}}),Ni=t=>new $a(t);function SOe({groups:t}){const e=t.domain.concat([N1,k1,Kc,C1,_1,T1,M1,A1,Ti,d4,eg,O1,E1,D1,ko,R1,ng,P1]),n=[S1,Zc,h4,So,f4,eg,tg,m4,p4,f1,m1,Q0,Z0,d1,c1,u1,h1,p1,g1,x1,b1,y1,v1,w1,j1],r=[N1,S1,k1,C1,_1,T1,M1,A1,Ti,Q0,Z0,eg,O1,E1,D1,tg,ko,R1,ng,P1],s=Ni(),i=ft(s,ng);on(i,r,i),on(i,t.domain,i);const o=Ni(),l=Ni(),c=Ni();on(s,t.domain,o),on(s,t.scheme,l),on(s,t.slashscheme,c),on(o,r,i),on(o,t.domain,o);const d=ft(o,Kc);ft(i,Kc,d),ft(l,Kc,d),ft(c,Kc,d);const h=ft(i,So);on(h,r,i),on(h,t.domain,i);const m=Ni();on(d,t.domain,m),on(m,t.domain,m);const p=ft(m,So);on(p,t.domain,m);const x=Ni(J$);on(p,t.tld,x),on(p,t.utld,x),ft(d,$g,x);const y=ft(m,Ti);ft(y,Ti,y),on(y,t.domain,m),on(x,t.domain,m),ft(x,So,p),ft(x,Ti,y);const w=ft(x,Zc);on(w,t.numeric,J$);const v=ft(o,Ti),N=ft(o,So);ft(v,Ti,v),on(v,t.domain,o),on(N,r,i),on(N,t.domain,o);const C=Ni(iv);on(N,t.tld,C),on(N,t.utld,C),on(C,t.domain,o),on(C,r,i),ft(C,So,N),ft(C,Ti,v),ft(C,Kc,d);const S=ft(C,Zc),M=Ni(iv);on(S,t.numeric,M);const _=Ni(iv),A=Ni();on(_,e,_),on(_,n,A),on(A,e,_),on(A,n,A),ft(C,ko,_),ft(M,ko,_);const O=ft(l,Zc),D=ft(c,Zc),F=ft(D,ko),L=ft(F,ko);on(l,t.domain,o),ft(l,So,N),ft(l,Ti,v),on(c,t.domain,o),ft(c,So,N),ft(c,Ti,v),on(O,t.domain,_),ft(O,ko,_),ft(O,tg,_),on(L,t.domain,_),on(L,e,_),ft(L,ko,_);const I=[[Q0,Z0],[c1,d1],[u1,h1],[f1,m1],[p1,g1],[x1,b1],[y1,v1],[w1,j1]];for(let P=0;P<I.length;P++){const[z,U]=I[P],V=ft(_,z);ft(A,z,V),ft(V,U,_);const $=Ni(iv);on(V,e,$);const R=Ni();on(V,n),on($,e,$),on($,n,R),on(R,e,$),on(R,n,R),ft($,U,_),ft(R,U,_)}return ft(s,$g,C),ft(s,u4,NOe),{start:s,tokens:_ee}}function kOe(t,e,n){let r=n.length,s=0,i=[],o=[];for(;s<r;){let l=t,c=null,d=null,h=0,m=null,p=-1;for(;s<r&&!(c=l.go(n[s].t));)o.push(n[s++]);for(;s<r&&(d=c||l.go(n[s].t));)c=null,l=d,l.accepts()?(p=0,m=l):p>=0&&p++,s++,h++;if(p<0)s-=h,s<r&&(o.push(n[s]),s++);else{o.length>0&&(i.push(GC(Q$,e,o)),o=[]),s-=p,h-=p;const x=m.t,y=n.slice(s-h,s);i.push(GC(x,e,y))}}return o.length>0&&i.push(GC(Q$,e,o)),i}function GC(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const COe=typeof console<"u"&&console&&console.warn||(()=>{}),_Oe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",jr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function TOe(){return $a.groups={},jr.scanner=null,jr.parser=null,jr.tokenQueue=[],jr.pluginQueue=[],jr.customSchemes=[],jr.initialized=!1,jr}function Z$(t,e=!1){if(jr.initialized&&COe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${_Oe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);jr.customSchemes.push([t,e])}function MOe(){jr.scanner=wOe(jr.customSchemes);for(let t=0;t<jr.tokenQueue.length;t++)jr.tokenQueue[t][1]({scanner:jr.scanner});jr.parser=SOe(jr.scanner.tokens);for(let t=0;t<jr.pluginQueue.length;t++)jr.pluginQueue[t][1]({scanner:jr.scanner,parser:jr.parser});return jr.initialized=!0,jr}function x4(t){return jr.initialized||MOe(),kOe(jr.parser.start,t,Tee(jr.scanner.start,t))}x4.scan=Tee;function Aee(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new g4(n),s=x4(t),i=[];for(let o=0;o<s.length;o++){const l=s[o];l.isLink&&(!e||l.t===e)&&r.check(l)&&i.push(l.toFormattedObject(r))}return i}var b4="[\0- -\u2029]",AOe=new RegExp(b4),OOe=new RegExp(`${b4}$`),EOe=new RegExp(b4,"g");function DOe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function POe(t){return new Kr({key:new Rs("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(d=>d.docChanged)&&!n.doc.eq(r.doc),i=e.some(d=>d.getMeta("preventAutolink"));if(!s||i)return;const{tr:o}=r,l=VZ(n.doc,[...e]);if(QZ(l).forEach(({newRange:d})=>{const h=pMe(r.doc,d,x=>x.isTextblock);let m,p;if(h.length>1)m=h[0],p=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(h.length){const x=r.doc.textBetween(d.from,d.to," "," ");if(!OOe.test(x))return;m=h[0],p=r.doc.textBetween(m.pos,d.to,void 0," ")}if(m&&p){const x=p.split(AOe).filter(Boolean);if(x.length<=0)return!1;const y=x[x.length-1],w=m.pos+p.lastIndexOf(y);if(!y)return!1;const v=x4(y).map(N=>N.toObject(t.defaultProtocol));if(!DOe(v))return!1;v.filter(N=>N.isLink).map(N=>({...N,from:w+N.start+1,to:w+N.end+1})).filter(N=>r.schema.marks.code?!r.doc.rangeHasMark(N.from,N.to,r.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{o4(N.from,N.to,r.doc).some(C=>C.mark.type===t.type)||o.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!o.steps.length)return o}})}function ROe(t){return new Kr({key:new Rs("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let h=r.target;const m=[];for(;h.nodeName!=="DIV";)m.push(h),h=h.parentNode;o=m.find(p=>p.nodeName==="A")}if(!o)return!1;const l=JZ(e.state,t.type.name),c=(s=o==null?void 0:o.href)!=null?s:l.href,d=(i=o==null?void 0:o.target)!=null?i:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&c?(window.open(c,d),!0):!1}}})}function LOe(t){return new Kr({key:new Rs("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:s}=e,{selection:i}=s,{empty:o}=i;if(o)return!1;let l="";r.content.forEach(d=>{l+=d.textContent});const c=Aee(l,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function su(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(EOe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Oee=pc.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Z$(t);return}Z$(t.scheme,t.optionalSlashes)})},onDestroy(){TOe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!su(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!su(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!su(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Gr(this.options.HTMLAttributes,t),0]:["a",Gr(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!su(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!su(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Cd({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=Aee(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!su(o,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(POe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!su(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(ROe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(LOe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),IOe=Oee,YC={exports:{}},KC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eH;function FOe(){if(eH)return KC;eH=1;var t=jx();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(m,p){var x=p(),y=r({inst:{value:x,getSnapshot:p}}),w=y[0].inst,v=y[1];return i(function(){w.value=x,w.getSnapshot=p,c(w)&&v({inst:w})},[m,x,p]),s(function(){return c(w)&&v({inst:w}),m(function(){c(w)&&v({inst:w})})},[m]),o(x),x}function c(m){var p=m.getSnapshot;m=m.value;try{var x=p();return!n(m,x)}catch{return!0}}function d(m,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return KC.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,KC}var tH;function Eee(){return tH||(tH=1,YC.exports=FOe()),YC.exports}var Dee=Eee(),XC,nH;function $Oe(){return nH||(nH=1,XC=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),XC}var HOe=$Oe();const zOe=In(HOe);var JC={exports:{}},QC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rH;function BOe(){if(rH)return QC;rH=1;var t=jx(),e=Eee();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return QC.useSyncExternalStoreWithSelector=function(d,h,m,p,x){var y=i(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=l(function(){function N(A){if(!C){if(C=!0,S=A,A=p(A),x!==void 0&&w.hasValue){var O=w.value;if(x(O,A))return M=O}return M=A}if(O=M,r(S,A))return O;var D=p(A);return x!==void 0&&x(O,D)?(S=A,O):(S=A,M=D)}var C=!1,S,M,_=m===void 0?null:m;return[function(){return N(h())},_===null?void 0:function(){return N(_())}]},[h,m,p,x]);var v=s(d,y[0],y[1]);return o(function(){w.hasValue=!0,w.value=v},[v]),c(v),v},QC}var sH;function VOe(){return sH||(sH=1,JC.exports=BOe()),JC.exports}var WOe=VOe(),UOe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},qOe=({contentComponent:t})=>{const e=Dee.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return a.jsx(a.Fragment,{children:Object.values(e)})};function GOe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:YG.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var YOe=class extends Q.Component{constructor(t){var e;super(t),this.editorContentRef=Q.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=GOe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:UOe(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&a.jsx(qOe,{contentComponent:t.contentComponent})]})}},KOe=b.forwardRef((t,e)=>{const n=Q.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Q.createElement(YOe,{key:n,innerRef:e,...t})}),XOe=Q.memo(KOe),JOe=typeof window<"u"?b.useLayoutEffect:b.useEffect,QOe=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function Pee(t){var e;const[n]=b.useState(()=>new QOe(t.editor)),r=WOe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:zOe);return JOe(()=>n.watch(t.editor),[t.editor,n]),b.useDebugValue(r),r}var ZOe=!1,BO=typeof window>"u",eEe=BO||!!(typeof window<"u"&&window.next),tEe=class Ree{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?BO||eEe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...r)},onDelete:(...r)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...r)}};return new QAe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var o;return s===((o=n.extensions)==null?void 0:o[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Ree.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function nEe(t={},e=[]){const n=b.useRef(t);n.current=t;const[r]=b.useState(()=>new tEe(n)),s=Dee.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return b.useDebugValue(s),b.useEffect(r.onRender(e)),Pee({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var rEe=b.createContext({editor:null});rEe.Consumer;var sEe=b.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),aEe=()=>b.useContext(sEe);Q.forwardRef((t,e)=>{const{onDragStart:n}=aEe(),r=t.as||"div";return a.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Q.createContext({markViewContentRef:()=>{}});var L1=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},iEe=/^\s*>\s$/,oEe=hi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return L1("blockquote",{...Gr(this.options.HTMLAttributes,t),children:L1("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[cm({find:iEe,type:this.type})]}}),lEe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,cEe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,dEe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,uEe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,hEe=pc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return L1("strong",{...Gr(this.options.HTMLAttributes,t),children:L1("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[nh({find:lEe,type:this.type}),nh({find:dEe,type:this.type})]},addPasteRules(){return[Cd({find:cEe,type:this.type}),Cd({find:uEe,type:this.type})]}}),fEe=/(^|[^`])`([^`]+)`(?!`)$/,mEe=/(^|[^`])`([^`]+)`(?!`)/g,pEe=pc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[nh({find:fEe,type:this.type})]},addPasteRules(){return[Cd({find:mEe,type:this.type})]}}),ZC=4,gEe=/^```([a-z]+)?[\s\n]$/,xEe=/^~~~([a-z]+)?[\s\n]$/,bEe=hi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:ZC,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Gr(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:ZC,{state:r}=t,{selection:s}=r,{$from:i,empty:o}=s;if(i.parent.type!==this.type)return!1;const l=" ".repeat(n);return o?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:d,to:h}=s,x=r.doc.textBetween(d,h,`
`,`
`).split(`
`).map(y=>l+y).join(`
`);return c.replaceWith(d,h,r.schema.text(x)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:ZC,{state:r}=t,{selection:s}=r,{$from:i,empty:o}=s;return i.parent.type!==this.type?!1:o?t.commands.command(({tr:l})=>{var c;const{pos:d}=i,h=i.start(),m=i.end(),x=r.doc.textBetween(h,m,`
`,`
`).split(`
`);let y=0,w=0;const v=d-h;for(let A=0;A<x.length;A+=1){if(w+x[A].length>=v){y=A;break}w+=x[A].length+1}const C=((c=x[y].match(/^ */))==null?void 0:c[0])||"",S=Math.min(C.length,n);if(S===0)return!0;let M=h;for(let A=0;A<y;A+=1)M+=x[A].length+1;return l.delete(M,M+S),d-M<=S&&l.setSelection(en.create(l.doc,M)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:d}=s,p=r.doc.textBetween(c,d,`
`,`
`).split(`
`).map(x=>{var y;const w=((y=x.match(/^ */))==null?void 0:y[0])||"",v=Math.min(w.length,n);return x.slice(v)}).join(`
`);return l.replaceWith(c,d,r.schema.text(p)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:d})=>(d.setSelection(ln.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[DO({find:gEe,type:this.type,getAttributes:t=>({language:t[1]})}),DO({find:xEe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Kr({key:new Rs("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:o,schema:l}=t.state,c=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(en.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),yEe=hi.create({name:"doc",topNode:!0,content:"block+"}),vEe=hi.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Gr(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,c=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:h})=>{if(h&&c&&o){const m=c.filter(p=>l.includes(p.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),wEe=hi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Gr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>DO({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),jEe=hi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Gr(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!eOe(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return eee(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:o,dispatch:l})=>{if(l){const{$to:c}=o.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(en.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Wt.create(o.doc,c.pos)):o.setSelection(en.create(o.doc,c.pos));else{const h=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=h==null?void 0:h.create();m&&(o.insert(d,m),o.setSelection(en.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[ZAe({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),NEe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,SEe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,kEe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,CEe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,_Ee=pc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[nh({find:NEe,type:this.type}),nh({find:kEe,type:this.type})]},addPasteRules(){return[Cd({find:SEe,type:this.type}),Cd({find:CEe,type:this.type})]}}),TEe=Object.defineProperty,MEe=(t,e)=>{for(var n in e)TEe(t,n,{get:e[n],enumerable:!0})},AEe="listItem",aH="textStyle",iH=/^\s*([-+*])\s$/,Lee=hi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(AEe,this.editor.getAttributes(aH)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=cm({find:iH,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=cm({find:iH,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(aH),editor:this.editor})),[t]}}),Iee=hi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Gr(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),OEe={};MEe(OEe,{findListItemPos:()=>zx,getNextListDepth:()=>y4,handleBackspace:()=>VO,handleDelete:()=>WO,hasListBefore:()=>Fee,hasListItemAfter:()=>EEe,hasListItemBefore:()=>$ee,listItemHasSubList:()=>Hee,nextListIsDeeper:()=>zee,nextListIsHigher:()=>Bee});var zx=(t,e)=>{const{$from:n}=e.selection,r=ms(t,e.schema);let s=null,i=n.depth,o=n.pos,l=null;for(;i>0&&l===null;)s=n.node(i),s.type===r?l=i:(i-=1,o-=1);return l===null?null:{$pos:e.doc.resolve(o),depth:l}},y4=(t,e)=>{const n=zx(t,e);if(!n)return!1;const[,r]=kMe(e,t,n.$pos.pos+4);return r},Fee=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),i=t.doc.resolve(s).node();return!(!i||!n.includes(i.type.name))},$ee=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},Hee=(t,e,n)=>{if(!n)return!1;const r=ms(t,e.schema);let s=!1;return n.descendants(i=>{i.type===r&&(s=!0)}),s},VO=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!kd(t.state,e)&&Fee(t.state,e,n)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),d=[];c.node().descendants((p,x)=>{p.type.name===e&&d.push({node:p,pos:x})});const h=d.at(-1);if(!h)return!1;const m=t.state.doc.resolve(c.start()+h.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},m.end()).joinForward().run()}if(!kd(t.state,e)||!MMe(t.state))return!1;const r=zx(e,t.state);if(!r)return!1;const i=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=Hee(e,t.state,i);return $ee(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},zee=(t,e)=>{const n=y4(t,e),r=zx(t,e);return!r||!n?!1:n>r.depth},Bee=(t,e)=>{const n=y4(t,e),r=zx(t,e);return!r||!n?!1:n<r.depth},WO=(t,e)=>{if(!kd(t.state,e)||!TMe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:zee(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():Bee(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},EEe=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},Vee=pr.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&WO(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&WO(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&VO(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&VO(t,n,r)&&(e=!0)}),e}}}}),DEe="listItem",oH="textStyle",lH=/^(\d+)\.\s$/,Wee=hi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Gr(this.options.HTMLAttributes,n),0]:["ol",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(DEe,this.editor.getAttributes(oH)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=cm({find:lH,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=cm({find:lH,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(oH)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),PEe=/^\s*(\[([( |x])?\])\s$/,REe=hi.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Gr(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),d=h=>{var m,p;l.ariaLabel=((p=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:p.call(m,h,l.checked))||`Task item checkbox for ${h.textContent||"empty task item"}`};return d(t),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",h=>h.preventDefault()),l.addEventListener("change",h=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:m}=h.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const x=n();if(typeof x!="number")return!1;const y=p.doc.nodeAt(x);return p.setNodeMarkup(x,void 0,{...y==null?void 0:y.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,m])=>{s.setAttribute(h,m)}),s.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,i.append(l,o),s.append(i,c),Object.entries(e).forEach(([h,m])=>{s.setAttribute(h,m)}),{dom:s,contentDOM:c,update:h=>h.type!==this.type?!1:(s.dataset.checked=h.attrs.checked,l.checked=h.attrs.checked,d(h),!0)}}},addInputRules(){return[cm({find:PEe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),LEe=hi.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Gr(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});pr.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Lee.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(Iee.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(Vee.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(Wee.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(REe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(LEe.configure(this.options.taskList)),t}});var IEe=hi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),FEe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,$Ee=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,HEe=pc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[nh({find:FEe,type:this.type})]},addPasteRules(){return[Cd({find:$Ee,type:this.type})]}}),zEe=hi.create({name:"text",group:"inline"}),BEe=pc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function VEe(t={}){return new Kr({view(e){return new WEe(e,t)}})}class WEe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),o=i.width/s.offsetWidth,l=i.height/s.offsetHeight;if(n){let m=e.nodeBefore,p=e.nodeAfter;if(m||p){let x=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(x){let y=x.getBoundingClientRect(),w=m?y.bottom:y.top;m&&p&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*l;r={left:y.left,right:y.right,top:w-v,bottom:w+v}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*o;r={left:m.left-p,right:m.left+p,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,h;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,h=-pageYOffset;else{let m=c.getBoundingClientRect(),p=m.width/c.offsetWidth,x=m.height/c.offsetHeight;d=m.left-c.scrollLeft*p,h=m.top-c.scrollTop*x}this.element.style.left=(r.left-d)/o+"px",this.element.style.top=(r.top-h)/l+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=zQ(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Vr extends ln{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Vr.valid(r)?new Vr(r):ln.near(r)}content(){return At.empty}eq(e){return e instanceof Vr&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Vr(e.resolve(n.pos))}getBookmark(){return new v4(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!UEe(e)||!qEe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Vr.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let l=e.node(o);if(n>0?e.indexAfter(o)<l.childCount:e.index(o)>0){i=l.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=n;let c=e.doc.resolve(s);if(Vr.valid(c))return c}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!Wt.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=o,s+=n;let l=e.doc.resolve(s);if(Vr.valid(l))return l}return null}}}Vr.prototype.visible=!1;Vr.findFrom=Vr.findGapCursorFrom;ln.jsonID("gapcursor",Vr);class v4{constructor(e){this.pos=e}map(e){return new v4(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Vr.valid(n)?new Vr(n):ln.near(n)}}function UEe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function qEe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function GEe(){return new Kr({props:{decorations:JEe,createSelectionBetween(t,e,n){return e.pos==n.pos&&Vr.valid(n)?new Vr(n):null},handleClick:KEe,handleKeyDown:YEe,handleDOMEvents:{beforeinput:XEe}}})}const YEe=MZ({ArrowLeft:ov("horiz",-1),ArrowRight:ov("horiz",1),ArrowUp:ov("vert",-1),ArrowDown:ov("vert",1)});function ov(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let o=r.selection,l=e>0?o.$to:o.$from,c=o.empty;if(o instanceof en){if(!i.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(e>0?l.after():l.before())}let d=Vr.findGapCursorFrom(l,e,c);return d?(s&&s(r.tr.setSelection(new Vr(d))),!0):!1}}function KEe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Vr.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Wt.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Vr(r))),!0)}function XEe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Vr))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=ut.empty;for(let o=r.length-1;o>=0;o--)s=ut.from(r[o].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new At(s,0,0));return i.setSelection(en.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function JEe(t){if(!(t.selection instanceof Vr))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Dr.create(t.doc,[ba.widget(t.selection.head,e,{key:"gapcursor"})])}var I1=200,Ds=function(){};Ds.prototype.append=function(e){return e.length?(e=Ds.from(e),!this.length&&e||e.length<I1&&this.leafAppend(e)||this.length<I1&&e.leafPrepend(this)||this.appendInner(e)):this};Ds.prototype.prepend=function(e){return e.length?Ds.from(e).append(this):this};Ds.prototype.appendInner=function(e){return new QEe(this,e)};Ds.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ds.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ds.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ds.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ds.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},n,r),s};Ds.from=function(e){return e instanceof Ds?e:e&&e.length?new Uee(e):Ds.empty};var Uee=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,l){for(var c=i;c<o;c++)if(s(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,l){for(var c=i-1;c>=o;c--)if(s(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=I1)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=I1)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Ds);Ds.empty=new Uee([]);var QEe=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,o){var l=this.left.length;if(s<l&&this.left.forEachInner(r,s,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(r,Math.max(s-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,o){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(r,s-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(s,l),i,o)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Ds);const ZEe=500;class no{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=e.tr,l,c,d=[],h=[];return this.items.forEach((m,p)=>{if(!m.step){s||(s=this.remapping(r,p+1),i=s.maps.length),i--,h.push(m);return}if(s){h.push(new Co(m.map));let x=m.step.map(s.slice(i)),y;x&&o.maybeStep(x).doc&&(y=o.mapping.maps[o.mapping.maps.length-1],d.push(new Co(y,void 0,void 0,d.length+h.length))),i--,y&&s.appendMap(y,i)}else o.maybeStep(m.step);if(m.selection)return l=s?m.selection.map(s.slice(i)):m.selection,c=new no(this.items.slice(0,r).append(h.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(e,n,r,s){let i=[],o=this.eventCount,l=this.items,c=!s&&l.length?l.get(l.length-1):null;for(let h=0;h<e.steps.length;h++){let m=e.steps[h].invert(e.docs[h]),p=new Co(e.mapping.maps[h],m,n),x;(x=c&&c.merge(p))&&(p=x,h?i.pop():l=l.slice(0,l.length-1)),i.push(p),n&&(o++,n=void 0),s||(c=p)}let d=o-r.depth;return d>tDe&&(l=eDe(l,d),o-=d),new no(l.append(i),o)}remapping(e,n){let r=new Eg;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new no(this.items.append(e.map(n=>new Co(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},s);let c=n;this.items.forEach(p=>{let x=i.getMirror(--c);if(x==null)return;o=Math.min(o,x);let y=i.maps[x];if(p.step){let w=e.steps[x].invert(e.docs[x]),v=p.selection&&p.selection.map(i.slice(c+1,x));v&&l++,r.push(new Co(y,w,v))}else r.push(new Co(y))},s);let d=[];for(let p=n;p<o;p++)d.push(new Co(i.maps[p]));let h=this.items.slice(0,s).append(d).append(r),m=new no(h,l);return m.emptyItemCount()>ZEe&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)s.push(o),o.selection&&i++;else if(o.step){let c=o.step.map(n.slice(r)),d=c&&c.getMap();if(r--,d&&n.appendMap(d,r),c){let h=o.selection&&o.selection.map(n.slice(r));h&&i++;let m=new Co(d.invert(),c,h),p,x=s.length-1;(p=s.length&&s[x].merge(m))?s[x]=p:s.push(m)}}else o.map&&r--},this.items.length,0),new no(Ds.from(s.reverse()),i)}}no.empty=new no(Ds.empty,0);function eDe(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Co{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Co(n.getMap().invert(),n,this.selection)}}}class Xc{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const tDe=20;function nDe(t,e,n,r){let s=n.getMeta(Bu),i;if(s)return s.historyState;n.getMeta(aDe)&&(t=new Xc(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Bu))return o.getMeta(Bu).redo?new Xc(t.done.addTransform(n,void 0,r,ow(e)),t.undone,cH(n.mapping.maps),t.prevTime,t.prevComposition):new Xc(t.done,t.undone.addTransform(n,void 0,r,ow(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!rDe(n,t.prevRanges)),d=o?e5(t.prevRanges,n.mapping):cH(n.mapping.maps);return new Xc(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,ow(e)),no.empty,d,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Xc(t.done.rebased(n,i),t.undone.rebased(n,i),e5(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Xc(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),e5(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function rDe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function cH(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,o)=>e.push(i,o));return e}function e5(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function sDe(t,e,n){let r=ow(e),s=Bu.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),c=new Xc(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(Bu,{redo:n,historyState:c})}let t5=!1,dH=null;function ow(t){let e=t.plugins;if(dH!=e){t5=!1,dH=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){t5=!0;break}}return t5}const Bu=new Rs("history"),aDe=new Rs("closeHistory");function iDe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Kr({key:Bu,state:{init(){return new Xc(no.empty,no.empty,null,0,-1)},apply(e,n,r){return nDe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?Gee:r=="historyRedo"?Yee:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function qee(t,e){return(n,r)=>{let s=Bu.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=sDe(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const Gee=qee(!1,!0),Yee=qee(!0,!0);pr.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Kr({key:new Rs("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:r.doc});if(i>s){const o=i-s,l=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const d=r.tr.deleteRange(l,c);return t=!0,d}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=r||s>r&&i>r&&i<=s)return!0;if(s>r&&i>r&&i>s||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=i-r,d=l-c,h=l;return e.deleteRange(d,h),!(this.storage.characters({node:e.doc})>r)}})]}});var oDe=pr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[VEe(this.options)]}});pr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Kr({key:new Rs("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,i=[];if(!n||!r)return Dr.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((c,d)=>{if(c.isText)return;if(!(s>=d&&s<=d+c.nodeSize-1))return!1;o+=1});let l=0;return t.descendants((c,d)=>{if(c.isText||!(s>=d&&s<=d+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(ba.node(d,d+c.nodeSize,{class:this.options.className}))}),Dr.create(t,i)}}})]}});var lDe=pr.create({name:"gapCursor",addProseMirrorPlugins(){return[GEe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=tr(Ht(t,"allowGapCursor",n)))!=null?e:null}}});pr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Kr({key:new Rs("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((o,l)=>{const c=r>=l&&r<=l+o.nodeSize,d=!o.isLeaf&&SN(o);if((c||!this.options.showOnlyCurrent)&&d){const h=[this.options.emptyNodeClass];i&&h.push(this.options.emptyEditorClass);const m=ba.node(l,l+o.nodeSize,{class:h.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:l,hasAnchor:c}):this.options.placeholder});s.push(m)}return this.options.includeChildren}),Dr.create(t,s)}}})]}});pr.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Kr({key:new Rs("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||eee(n.selection)||t.view.dragging?null:Dr.create(n.doc,[ba.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function uH({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var cDe=pr.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Rs(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new Kr({key:t,appendTransaction:(n,r,s)=>{const{doc:i,tr:o,schema:l}=s,c=t.getState(s),d=i.content.size,h=l.nodes[this.options.node];if(c)return o.insert(d,h.create())},state:{init:(n,r)=>{const s=r.tr.doc.lastChild;return!uH({node:s,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const s=n.doc.lastChild;return!uH({node:s,types:e})}}})]}}),dDe=pr.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Gee(t,e),redo:()=>({state:t,dispatch:e})=>Yee(t,e)}},addProseMirrorPlugins(){return[iDe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),uDe=pr.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(hEe.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(oEe.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(Lee.configure(this.options.bulletList)),this.options.code!==!1&&s.push(pEe.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(bEe.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(yEe.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(oDe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(lDe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(vEe.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(wEe.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(dDe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(jEe.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(_Ee.configure(this.options.italic)),this.options.listItem!==!1&&s.push(Iee.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(Vee.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(Oee.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(Wee.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(IEe.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(HEe.configure(this.options.strike)),this.options.text!==!1&&s.push(zEe.configure(this.options.text)),this.options.underline!==!1&&s.push(BEe.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(cDe.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),hDe=uDe,fDe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,mDe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,pDe=pc.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Gr(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[nh({find:fDe,type:this.type})]},addPasteRules(){return[Cd({find:mDe,type:this.type})]}}),gDe=pDe;const xDe=[lOe,hDe.configure({bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},underline:{HTMLAttributes:{class:"underline"}}}),uOe.configure({types:["textStyle"]}),gDe.configure({multicolor:!0}),hOe.configure({types:["textStyle"]}),IOe.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-500 underline hover:text-blue-700 cursor-pointer"}}),dOe.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]})],bDe=({editor:t,onClose:e})=>{const[n,r]=b.useState(()=>t.getAttributes("link").href||""),[s,i]=b.useState(()=>({from:t.state.selection.from,to:t.state.selection.to})),[o,l]=b.useState(()=>{try{const{from:h,to:m}=t.state.selection;return h===m?"":t.state.doc.textBetween(h,m)||""}catch{return""}}),c=()=>{t.chain().focus().setTextSelection(s).run(),n?o?t.chain().focus().extendMarkRange("link").setLink({href:n}).run():t.chain().focus().insertContent({type:"text",text:o||n,marks:[{type:"link",attrs:{href:n}}]}).run():t.chain().focus().unsetLink().run(),e()},d=()=>{t.chain().focus().setTextSelection(s).run(),t.chain().focus().unsetLink().run(),e()};return a.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add/Edit Link"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),a.jsx("input",{type:"url",value:n,onChange:h=>r(h.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Text ",!o&&a.jsx("span",{className:"text-orange-500",children:"(required if no text selected)"})]}),a.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:o||"Enter link text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!o&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No text selected. Enter text above or select text first."})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),t.getAttributes("link").href&&a.jsx("button",{onClick:d,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Link"}),a.jsx("button",{onClick:c,disabled:!n,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Link"})]})]})})},yDe=({editor:t,type:e,onClose:n})=>{const r=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#800000","#008080","#000080","#808080","#FFE4E1","#F0FFF0","#F0F8FF","#FFF8DC","#F5F5F5"],s=e==="color"?t.getAttributes("textStyle").color:t.getAttributes("highlight").color,i=l=>{e==="color"?t.chain().focus().setColor(l).run():t.chain().focus().setHighlight({color:l}).run(),n()},o=()=>{e==="color"?t.chain().focus().unsetColor().run():t.chain().focus().unsetHighlight().run(),n()};return a.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-80",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="color"?"Text Color":"Background Color"}),a.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:r.map(l=>a.jsx("button",{onClick:()=>i(l),className:`w-8 h-8 rounded border border-gray-300 ${s===l?"ring-2 ring-blue-500":""}`,style:{backgroundColor:l},title:l},l))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:o,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Color"}),a.jsx("button",{onClick:n,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})]})]})})};function vDe({editor:t}){const[e,n]=b.useState(!1),[r,s]=b.useState(null),[i,o]=b.useState(!1);if(!t)return null;const l=Pee({editor:t,selector:d=>({isBold:d.editor.isActive("bold")??!1,canBold:d.editor.can().chain().toggleBold().run()??!1,isItalic:d.editor.isActive("italic")??!1,canItalic:d.editor.can().chain().toggleItalic().run()??!1,isStrike:d.editor.isActive("strike")??!1,canStrike:d.editor.can().chain().toggleStrike().run()??!1,isCode:d.editor.isActive("code")??!1,canCode:d.editor.can().chain().toggleCode().run()??!1,isLink:d.editor.isActive("link")??!1,currentColor:d.editor.getAttributes("textStyle").color,currentBackgroundColor:d.editor.getAttributes("highlight").color,currentFontFamily:d.editor.getAttributes("textStyle").fontFamily,isAlignLeft:d.editor.isActive({textAlign:"left"})??!1,isAlignCenter:d.editor.isActive({textAlign:"center"})??!1,isAlignRight:d.editor.isActive({textAlign:"right"})??!1,isAlignJustify:d.editor.isActive({textAlign:"justify"})??!1,canClearMarks:d.editor.can().chain().unsetAllMarks().run()??!1,isParagraph:d.editor.isActive("paragraph")??!1,isHeading1:d.editor.isActive("heading",{level:1})??!1,isHeading2:d.editor.isActive("heading",{level:2})??!1,isHeading3:d.editor.isActive("heading",{level:3})??!1,isBulletList:d.editor.isActive("bulletList")??!1,isOrderedList:d.editor.isActive("orderedList")??!1,canUndo:d.editor.can().chain().undo().run()??!1,canRedo:d.editor.can().chain().redo().run()??!1})}),c=["Arial, sans-serif","Georgia, serif","Times New Roman, serif","Helvetica, sans-serif","Courier New, monospace","Verdana, sans-serif","Trebuchet MS, sans-serif","Comic Sans MS, cursive"];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-2 sm:p-3",children:a.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),disabled:!l.canBold,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBold?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bold",children:a.jsx(_fe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!l.canItalic,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isItalic?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Italic",children:a.jsx(Pme,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!l.canStrike,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isStrike?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Strikethrough",children:a.jsx(Epe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleCode().run(),disabled:!l.canCode,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isCode?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Code",children:a.jsx(Zfe,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("left").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignLeft?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Left",children:a.jsx(xfe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("center").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignCenter?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Center",children:a.jsx(ffe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("right").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignRight?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Right",children:a.jsx(yfe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignJustify?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Justify",children:a.jsx(pfe,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsxs("button",{type:"button",onClick:()=>s("color"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Text Color",children:[a.jsx(ope,{size:18}),l.currentColor&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentColor}})]}),a.jsxs("button",{type:"button",onClick:()=>s("backgroundColor"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Background Color",children:[a.jsx(ape,{size:18}),l.currentBackgroundColor&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentBackgroundColor}})]})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1 relative",children:[a.jsx("button",{type:"button",onClick:()=>o(!i),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Font Family",children:a.jsx(FK,{size:18})}),i&&a.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 w-48",children:[c.map(d=>a.jsx("button",{onClick:()=>{t.chain().focus().setFontFamily(d).run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors",style:{fontFamily:d},children:d.split(",")[0]},d)),a.jsx("button",{type:"button",onClick:()=>{t.chain().focus().unsetFontFamily().run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors text-red-600",children:"Reset Font"})]})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsx("button",{type:"button",onClick:d=>{d.preventDefault(),d.stopPropagation(),n(!0)},className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isLink?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Insert Link",children:a.jsx(Hme,{size:18})}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().unsetAllMarks().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear formatting",children:a.jsx(jpe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().clearNodes().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear nodes",children:a.jsx(Er,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setParagraph().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isParagraph?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Paragraph",children:a.jsx(hpe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading1?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 1",children:a.jsx(Sme,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading2?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 2",children:a.jsx(Cme,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading3?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 3",children:a.jsx(Tme,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBulletList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bullet List",children:a.jsx(RA,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isOrderedList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Ordered List",children:a.jsx(Wme,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().undo().run(),disabled:!l.canUndo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Undo",children:a.jsx(Bpe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().redo().run(),disabled:!l.canRedo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Redo",children:a.jsx(bpe,{size:18})})]})]})}),e&&a.jsx(bDe,{editor:t,onClose:()=>n(!1)}),r&&a.jsx(yDe,{editor:t,type:r,onClose:()=>s(null)})]})}const oc=({value:t,onChange:e})=>{const n=nEe({extensions:xDe,content:t,onUpdate:({editor:r})=>{const s=r.getHTML();e(s)},editorProps:{attributes:{class:"tiptap-editor min-h-[120px] p-4 prose max-w-none focus:outline-none"},transformPastedHTML(r){return r}},parseOptions:{preserveWhitespace:"full"}});return n?a.jsxs("div",{className:"border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white transition-all duration-200",children:[a.jsx(vDe,{editor:n}),a.jsx(XOe,{editor:n,className:"min-h-[120px]"})]}):a.jsx("div",{className:"border border-gray-300 rounded-lg p-4 min-h-[120px] bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-500",children:"Loading editor..."})})},wDe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,jDe=()=>{var Fe,$e,be,Ee,Ge,ae,oe;const{getAllMasterData:t,submitMachineHistory:e}=_t(),n=St(),[r,s]=b.useState(!1),[i,o]=b.useState(null),[l,c]=b.useState(null),[d,h]=b.useState(!1),[m,p]=b.useState(()=>{const Y=localStorage.getItem("sidebarOpen");return Y?JSON.parse(Y):!1}),x=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),p(Y=>!Y)},[y,w]=b.useState(window.innerWidth<768),[v,N]=b.useState([]),[C,S]=b.useState([]),[M,_]=b.useState([]),[A,O]=b.useState([]),[D,F]=b.useState([]),[L,I]=b.useState([]),[P,z]=b.useState([]),[U,V]=b.useState([]),[$,R]=b.useState([]),W={date:new Date().toISOString().split("T")[0],shift:"",group:"",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""},[q,X]=b.useState(W),H=b.useCallback((Y,ce)=>{if(Y&&typeof Y=="object"&&"value"in Y&&ce)X(Ie=>({...Ie,[ce]:Y.value}));else if(Y&&"target"in Y){const{name:Ie,value:We}=Y.target;X(pe=>{if(["stopJam","startJam"].includes(Ie)){const Ne=We.replace(/[^\d]/g,""),st=parseInt(Ne,10);return{...pe,[Ie]:Ne===""?0:Math.max(0,Math.min(23,isNaN(st)?0:st))}}if(["stopMenit","startMenit"].includes(Ie)){const Ne=We.replace(/[^\d]/g,""),st=parseInt(Ne,10);return{...pe,[Ie]:Ne===""?0:Math.max(0,Math.min(59,isNaN(st)?0:st))}}return Ie==="runningHour"||Ie==="jumlah"?{...pe,[Ie]:We.replace(/[^\d.]/g,"")}:{...pe,[Ie]:We}})}},[]),J=b.useCallback(Y=>{if(typeof Y=="string"){const ce=Y.replace(/[^\d]/g,""),Ie=parseInt(ce,10);return isNaN(Ie)?"":Ie.toLocaleString("id-ID").replace(/,/g,".")}return isNaN(Y)||Y===null||Y===void 0?"":Y.toLocaleString("id-ID").replace(/,/g,".")},[]),ne=async Y=>{Y.preventDefault(),s(!0),o(null),c(null);const ce={...q,perbaikanPerawatan:q.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:q.runningHour?parseInt(String(q.runningHour).replace(/\./g,""),10):0,jumlah:q.jumlah?parseInt(String(q.jumlah).replace(/\./g,""),10):0,stopJam:q.stopJam===0&&String(q.stopJam)===""?null:q.stopJam,stopMenit:q.stopMenit===0&&String(q.stopMenit)===""?null:q.stopMenit,startJam:q.startJam===0&&String(q.startJam)===""?null:q.startJam,startMenit:q.startMenit===0&&String(q.startMenit)===""?null:q.startMenit};try{await e(ce),c("Data history mesin berhasil disimpan!"),h(!0),fe()}catch(Ie){o(Ie.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",Ie)}finally{s(!1)}},fe=b.useCallback(()=>{X(W),o(null),c(null)},[]),de=b.useCallback(()=>{h(!1),n("/machinehistory")},[n]);b.useEffect(()=>{(async()=>{var ce,Ie,We,pe,Ne,st,rt,Ve,Ue;try{const Ye=await t();N(((ce=Ye.mesin)==null?void 0:ce.data)||[]),S(((Ie=Ye.shifts)==null?void 0:Ie.data)||[]),_(((We=Ye.groups)==null?void 0:We.data)||[]),O(((pe=Ye.stoptimes)==null?void 0:pe.data)||[]),F(((Ne=Ye.units)==null?void 0:Ne.data)||[]),I(((st=Ye.itemtroubles)==null?void 0:st.data)||[]),z(((rt=Ye.jenisaktivitas)==null?void 0:rt.data)||[]),V(((Ve=Ye.kegiatans)==null?void 0:Ve.data)||[]),R(((Ue=Ye.unitspareparts)==null?void 0:Ue.data)||[])}catch(Ye){console.error("Gagal mengambil semua data master:",Ye),o(Ye.message||"Gagal memuat daftar data master.")}})()},[t]);const we={control:(Y,ce)=>({...Y,minHeight:"42px",borderColor:ce.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ce.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:Y=>({...Y,padding:"0"}),singleValue:Y=>({...Y,color:"#374151"}),placeholder:Y=>({...Y,color:"#6B7280"}),dropdownIndicator:Y=>({...Y,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:Y=>({...Y,display:"none"}),menu:Y=>({...Y,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(Y,ce)=>({...Y,backgroundColor:ce.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Add Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx(Bj,{}),isMobile:y,toggleSidebar:x}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Record New Machine History"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for machine maintenance and issues"})]}),a.jsxs(k.button,{onClick:()=>n("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to History"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[i&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:i}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>o(null)})})]}),a.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Sn,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"date",id:"date",value:q.date,onChange:H,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"shift",id:"shift",options:(C||[]).map(Y=>({value:Y.id,label:Y.name})),value:C.map(Y=>({value:Y.id,label:Y.name})).find(Y=>Y.value===q.shift),onChange:Y=>H(Y,"shift"),placeholder:"Select Shift",styles:we,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"group",id:"group",options:(M||[]).map(Y=>({value:Y.id,label:Y.name})),value:M.map(Y=>({value:Y.id,label:Y.name})).find(Y=>Y.value===q.group),onChange:Y=>H(Y,"group"),placeholder:"Select Group",styles:we,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Sn,{className:"mr-2 text-indigo-500"})," Time Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"startJam",id:"startJam",value:q.startJam===null?"":q.startJam,onChange:H,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:q.startMenit===null?"":q.startMenit,onChange:H,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:q.stopJam===null?"":q.stopJam,onChange:H,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:q.stopMenit===null?"":q.stopMenit,onChange:H,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"stopTime",id:"stopTime",options:(A||[]).map(Y=>({value:Y.id,label:Y.name})),value:A.find(Y=>Y.id===q.stopTime)?{value:q.stopTime,label:((Fe=A.find(Y=>Y.id===q.stopTime))==null?void 0:Fe.name)||""}:null,onChange:Y=>H(Y,"stopTime"),placeholder:"Select Stop Type",styles:we,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(uo,{className:"mr-2 text-green-500"})," Machine Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"mesin",id:"mesin",options:(v||[]).map(Y=>({value:Y.id,label:Y.name})),value:v.find(Y=>Y.id===q.mesin)?{value:q.mesin,label:(($e=v.find(Y=>Y.id===q.mesin))==null?void 0:$e.name)||""}:null,onChange:Y=>H(Y,"mesin"),placeholder:"Select Machine",styles:we,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:J(q.runningHour),onChange:H,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"unit",id:"unit",options:(D||[]).map(Y=>({value:Y.id,label:Y.name})),value:D.find(Y=>Y.id===q.unit)?{value:q.unit,label:((be=D.find(Y=>Y.id===q.unit))==null?void 0:be.name)||""}:null,onChange:Y=>H(Y,"unit"),placeholder:"Select Unit",styles:we,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"itemTrouble",id:"itemTrouble",options:(L||[]).map(Y=>({value:Y.id,label:Y.name})),value:L.find(Y=>Y.id===q.itemTrouble)?{value:q.itemTrouble,label:((Ee=L.find(Y=>Y.id===q.itemTrouble))==null?void 0:Ee.name)||""}:null,onChange:Y=>H(Y,"itemTrouble"),placeholder:"Select Item Trouble",styles:we,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance / Damage ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:q.jenisGangguan,onChange:H,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(oc,{value:q.bentukTindakan,onChange:Y=>{X(ce=>({...ce,bentukTindakan:Y}))}})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"rootCause",id:"rootCause",value:q.rootCause,onChange:H,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(dh,{className:"mr-2 text-purple-500"})," Activity Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"jenisAktivitas",id:"jenisAktivitas",options:(P||[]).map(Y=>({value:Y.id,label:Y.name})),value:P.find(Y=>Y.id===q.jenisAktivitas)?{value:q.jenisAktivitas,label:((Ge=P.find(Y=>Y.id===q.jenisAktivitas))==null?void 0:Ge.name)||""}:null,onChange:Y=>H(Y,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:we,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"kegiatan",id:"kegiatan",options:(U||[]).map(Y=>({value:Y.id,label:Y.name})),value:U.find(Y=>Y.id===q.kegiatan)?{value:q.kegiatan,label:((ae=U.find(Y=>Y.id===q.kegiatan))==null?void 0:ae.name)||""}:null,onChange:Y=>H(Y,"kegiatan"),placeholder:"Select Activity",styles:we,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),a.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:q.kodePart,onChange:H,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),a.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:q.sparePart,onChange:H,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),a.jsx("input",{type:"text",name:"idPart",id:"idPart",value:q.idPart,onChange:H,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:J(q.jumlah),onChange:H,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),a.jsx(_n,{name:"unitSparePart",id:"unitSparePart",options:($||[]).map(Y=>({value:Y.id,label:Y.name})),value:$.find(Y=>Y.id===q.unitSparePart)?{value:q.unitSparePart,label:((oe=$.find(Y=>Y.id===q.unitSparePart))==null?void 0:oe.name)||""}:null,onChange:Y=>H(Y,"unitSparePart"),placeholder:"Select Unit",styles:we})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(k.button,{type:"button",onClick:fe,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(Er,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Record"]})})]})]})]})]})]}),a.jsx(wDe,{isOpen:d,onClose:de,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been added successfully!"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:de,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},NDe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,SDe=()=>{var z,U,V,$,R,W,q,X,H,J,ne,fe,de,we,Fe,$e,be,Ee,Ge,ae,oe,Y,ce,Ie,We,pe,Ne,st,rt,Ve,Ue,Ye,kt,Oe,Xe,Pt;const{id:t}=Ks(),e=St(),[n,r]=b.useState(()=>{const Se=localStorage.getItem("sidebarOpen");return Se?JSON.parse(Se):!1}),s=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!n)),r(Se=>!Se)},[i,o]=b.useState(window.innerWidth<768),{getMachineHistoryById:l,updateMachineHistory:c,masterData:d,isMasterDataLoading:h}=_t(),[m,p]=b.useState({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),[x,y]=b.useState(!0),[w,v]=b.useState(!1),[N,C]=b.useState(null),[S,M]=b.useState(null),[_,A]=b.useState(!1);b.useEffect(()=>{(async()=>{var bt,yt,Pe,mt,ht;try{if(y(!0),h||!d)return;if(t){const ie=(await l(t)).data;ie?p({date:ie.date||"",shift:String(ie.shift_id)||"",group:String(ie.group_id)||"",stopJam:((bt=ie.startstop)==null?void 0:bt.stop_time_hh)??null,stopMenit:((yt=ie.startstop)==null?void 0:yt.stop_time_mm)??null,startJam:((Pe=ie.startstop)==null?void 0:Pe.start_time_hh)??null,startMenit:((mt=ie.startstop)==null?void 0:mt.start_time_mm)??null,stopTime:String(ie.stoptime_id)||"",unit:String(ie.unit_id)||"",mesin:String(ie.mesin_id)||"",runningHour:ie.running_hour??0,itemTrouble:String(ie.itemtrouble_id)||"",jenisGangguan:ie.jenis_gangguan||"",bentukTindakan:ie.bentuk_tindakan||"",perbaikanPerawatan:((ht=ie.jenisaktifitas)==null?void 0:ht.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:ie.root_cause||"",jenisAktivitas:String(ie.jenisaktifitas_id)||"",kegiatan:String(ie.kegiatan_id)||"",kodePart:ie.kode_part||"",sparePart:ie.spare_part||"",idPart:ie.id_part||"",jumlah:ie.jumlah??0,unitSparePart:String(ie.unitsp_id)||""}):C("Data history mesin tidak ditemukan.")}else C("ID history mesin tidak diberikan untuk pengeditan.")}catch(vt){console.error("Error fetching machine history:",vt),C(vt.message||"Terjadi kesalahan saat memuat data.")}finally{y(!1)}})()},[t,d,h,l]);const O=b.useCallback((Se,bt)=>{if(Se&&typeof Se=="object"&&"value"in Se&&bt)p(yt=>({...yt,[bt]:Se.value}));else if(Se&&"target"in Se){const{name:yt,value:Pe,type:mt}=Se.target;p(ht=>{if(["stopJam","startJam"].includes(yt)){const vt=Pe.replace(/[^\d]/g,""),ie=parseInt(vt,10);return{...ht,[yt]:vt===""?null:Math.max(0,Math.min(23,isNaN(ie)?0:ie))}}if(["stopMenit","startMenit"].includes(yt)){const vt=Pe.replace(/[^\d]/g,""),ie=parseInt(vt,10);return{...ht,[yt]:vt===""?null:Math.max(0,Math.min(59,isNaN(ie)?0:ie))}}return yt==="runningHour"||yt==="jumlah"?{...ht,[yt]:Pe.replace(/[^\d.]/g,"")}:{...ht,[yt]:Pe}})}},[]),D=b.useCallback(Se=>{if(Se===null||isNaN(Number(Se)))return"";if(typeof Se=="string"){const bt=Se.replace(/[^\d]/g,""),yt=parseInt(bt,10);return isNaN(yt)?"":yt.toLocaleString("id-ID").replace(/,/g,".")}return Se.toLocaleString("id-ID").replace(/,/g,".")},[]),F=async Se=>{Se.preventDefault(),v(!0),C(null),M(null);const bt={...m,perbaikanPerawatan:m.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:m.runningHour?parseInt(String(m.runningHour).replace(/\./g,""),10):0,jumlah:m.jumlah?parseInt(String(m.jumlah).replace(/\./g,""),10):0};try{const yt=await c(t,bt);M(yt.message||"Machine history updated successfully!"),A(!0)}catch(yt){console.error("Error updating machine history:",yt),C(yt.message||"Failed to update machine history.")}finally{v(!1)}},L=b.useCallback(()=>{p({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),C(null),M(null)},[]),I=b.useCallback(()=>{A(!1),e("/machinehistory")},[e]),P={control:(Se,bt)=>({...Se,minHeight:"42px",borderColor:bt.isFocused?"#3B82F6":"#D1D5DB",boxShadow:bt.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:Se=>({...Se,padding:"0"}),singleValue:Se=>({...Se,color:"#374151"}),placeholder:Se=>({...Se,color:"#6B7280"}),dropdownIndicator:Se=>({...Se,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:Se=>({...Se,display:"none"}),menu:Se=>({...Se,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(Se,bt)=>({...Se,backgroundColor:bt.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return h||x?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[a.jsx(Cn,{className:"animate-spin mr-3 text-2xl"}),a.jsx("span",{className:"font-semibold text-lg",children:"Loading Data... Please wait."})]})}):!d&&!h?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[a.jsx(nt,{className:"mr-3 text-2xl"}),a.jsx("span",{className:"font-semibold text-lg",children:"Error: Master data failed to load. Please refresh the page."})]})}):N&&!m.date?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[a.jsx(nt,{className:"mr-3 text-2xl"}),a.jsxs("span",{className:"font-semibold text-lg",children:["Error: ",N]})]})}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Edit Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx(Bj,{}),isMobile:i,toggleSidebar:s}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Machine History Record ",t&&`(ID: ${t})`]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update maintenance activities and machine issues"})]}),a.jsxs(k.button,{onClick:()=>e("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to History"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[N&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:N}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>C(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Sn,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"date",id:"date",value:m.date,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"shift",id:"shift",options:((U=(z=d==null?void 0:d.shifts)==null?void 0:z.data)==null?void 0:U.map(Se=>({value:Se.id,label:Se.name})))||[],value:(($=(V=d==null?void 0:d.shifts)==null?void 0:V.data)==null?void 0:$.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.shift)))||null,onChange:Se=>O(Se,"shift"),placeholder:"Select Shift",styles:P,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"group",id:"group",options:((W=(R=d==null?void 0:d.groups)==null?void 0:R.data)==null?void 0:W.map(Se=>({value:Se.id,label:Se.name})))||[],value:((X=(q=d==null?void 0:d.groups)==null?void 0:q.data)==null?void 0:X.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.group)))||null,onChange:Se=>O(Se,"group"),placeholder:"Select Group",styles:P,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Sn,{className:"mr-2 text-indigo-500"})," Time Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"startJam",id:"startJam",value:m.startJam===null?"":m.startJam,onChange:O,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:m.startMenit===null?"":m.startMenit,onChange:O,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:m.stopJam===null?"":m.stopJam,onChange:O,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:m.stopMenit===null?"":m.stopMenit,onChange:O,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"stopTime",id:"stopTime",options:((J=(H=d==null?void 0:d.stoptimes)==null?void 0:H.data)==null?void 0:J.map(Se=>({value:Se.id,label:Se.name})))||[],value:((fe=(ne=d==null?void 0:d.stoptimes)==null?void 0:ne.data)==null?void 0:fe.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.stopTime)))||null,onChange:Se=>O(Se,"stopTime"),placeholder:"Select Stop Type",styles:P,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(uo,{className:"mr-2 text-green-500"})," Machine Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"mesin",id:"mesin",options:((we=(de=d==null?void 0:d.mesin)==null?void 0:de.data)==null?void 0:we.map(Se=>({value:Se.id,label:Se.name})))||[],value:(($e=(Fe=d==null?void 0:d.mesin)==null?void 0:Fe.data)==null?void 0:$e.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.mesin)))||null,onChange:Se=>O(Se,"mesin"),placeholder:"Select Machine",styles:P,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:D(m.runningHour),onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"unit",id:"unit",options:((Ee=(be=d==null?void 0:d.units)==null?void 0:be.data)==null?void 0:Ee.map(Se=>({value:Se.id,label:Se.name})))||[],value:((ae=(Ge=d==null?void 0:d.units)==null?void 0:Ge.data)==null?void 0:ae.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.unit)))||null,onChange:Se=>O(Se,"unit"),placeholder:"Select Unit",styles:P,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"itemTrouble",id:"itemTrouble",options:((Y=(oe=d==null?void 0:d.itemtroubles)==null?void 0:oe.data)==null?void 0:Y.map(Se=>({value:Se.id,label:Se.name})))||[],value:((Ie=(ce=d==null?void 0:d.itemtroubles)==null?void 0:ce.data)==null?void 0:Ie.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.itemTrouble)))||null,onChange:Se=>O(Se,"itemTrouble"),placeholder:"Select Item Trouble",styles:P,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:m.jenisGangguan,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(oc,{value:m.bentukTindakan,onChange:Se=>{p(bt=>({...bt,bentukTindakan:Se}))}})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"rootCause",id:"rootCause",value:m.rootCause,onChange:O,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(dh,{className:"mr-2 text-purple-500"})," Activity Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"jenisAktivitas",id:"jenisAktivitas",options:((pe=(We=d==null?void 0:d.jenisaktivitas)==null?void 0:We.data)==null?void 0:pe.map(Se=>({value:Se.id,label:Se.name})))||[],value:((st=(Ne=d==null?void 0:d.jenisaktivitas)==null?void 0:Ne.data)==null?void 0:st.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.jenisAktivitas)))||null,onChange:Se=>O(Se,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:P,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{name:"kegiatan",id:"kegiatan",options:((Ve=(rt=d==null?void 0:d.kegiatans)==null?void 0:rt.data)==null?void 0:Ve.map(Se=>({value:Se.id,label:Se.name})))||[],value:((Ye=(Ue=d==null?void 0:d.kegiatans)==null?void 0:Ue.data)==null?void 0:Ye.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.kegiatan)))||null,onChange:Se=>O(Se,"kegiatan"),placeholder:"Select Activity",styles:P,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),a.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:m.kodePart,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),a.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:m.sparePart,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),a.jsx("input",{type:"text",name:"idPart",id:"idPart",value:m.idPart,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:D(m.jumlah),onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),a.jsx(_n,{name:"unitSparePart",id:"unitSparePart",options:((Oe=(kt=d==null?void 0:d.unitspareparts)==null?void 0:kt.data)==null?void 0:Oe.map(Se=>({value:Se.id,label:Se.name})))||[],value:((Pt=(Xe=d==null?void 0:d.unitspareparts)==null?void 0:Xe.data)==null?void 0:Pt.map(Se=>({value:Se.id,label:Se.name})).find(Se=>String(Se.value)===String(m.unitSparePart)))||null,onChange:Se=>O(Se,"unitSparePart"),placeholder:"Select Unit",styles:P})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(k.button,{type:"button",onClick:L,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(Er,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:w,children:w?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Changes"]})})]})]})]})]})]}),a.jsx(NDe,{isOpen:_,onClose:I,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been updated successfully!"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},hH={dashboard:{view:"1",edit:"2"},assets:{view:"3",create:"4",edit:"5",delete:"6"},workorders:{view:"7",create:"8",assign:"9",complete:"10",edit:"18",delete:"19"},machinehistory:{view:"31",create:"32",edit:"33",delete:"34"},inventory:{view:"23",create:"24",edit:"25",delete:"26"},reports:{view:"11",create:"20",edit:"21",export:"12",delete:"22"},teams:{view:"27",create:"28",edit:"29",delete:"30"},settings:{view:"13",edit:"14"},permissions:{view:"15",edit:"16"},users:{manage:"17"}},kDe=()=>{var Ge;const{user:t,logout:e,fetchWithAuth:n,getUsers:r,hasPermission:s,updateUserPermissions:i,deleteUser:o,createRole:l,updateRole:c}=_t(),d=St();Yr();const[h,m]=b.useState(()=>{const ae=localStorage.getItem("sidebarOpen");return ae?JSON.parse(ae):!1}),[p,x]=b.useState(window.innerWidth<768),[y,w]=b.useState("roles"),[v,N]=b.useState(null),[C,S]=b.useState(null),[M,_]=b.useState(!1),[A,O]=b.useState({}),[D,F]=b.useState("all"),[L,I]=b.useState(""),[P,z]=b.useState([]),[U,V]=b.useState([]),[$,R]=b.useState(!1);b.useRef(null),b.useEffect(()=>{const ae=()=>{x(window.innerWidth<768),window.innerWidth<768&&m(!1)};return window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[]),b.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(h))},[h]),b.useEffect(()=>{const ae=async()=>{try{const[oe,Y]=await Promise.all([r(),n("/roles")]),Ie=oe.map(pe=>({id:String(pe.id),name:pe.name,nik:pe.nik,email:pe.email,roleId:pe.role_id?String(pe.role_id):null,customPermissions:pe.customPermissions||[],department:pe.department||null,department_id:pe.department_id||null,permissions:pe.permissions||pe.allPermissions||[]})),We=Y.map(pe=>({id:String(pe.id),name:pe.name,description:pe.description||`${pe.name} role`,permissions:pe.permissions.map(String),isSuperadmin:pe.name==="superadmin"}));z(Ie),V(We)}catch(oe){console.error("Failed to fetch data:",oe)}};s("view_permissions")&&ae()},[r,n,s]);const W=()=>{m(ae=>!ae)},q=ae=>{O(oe=>({...oe,[ae]:!oe[ae]}))},X=ae=>{!v||v.isSuperadmin||N(oe=>({...oe,permissions:oe.permissions.includes(ae)?oe.permissions.filter(Y=>Y!==ae):[...oe.permissions,ae]}))},H=ae=>{!C||C.roleId==="3"||S(oe=>{if(!oe)return null;const Y=oe.customPermissions.includes(ae)?oe.customPermissions.filter(ce=>ce!==ae):[...oe.customPermissions,ae];return{...oe,customPermissions:Y,permissions:[...new Set([...oe.rolePermissions||[],...Y])]}})},J=ae=>{N(ae),_(!0)},ne=b.useCallback(async()=>{if(!v||!s("edit_permissions")){alert("You don't have permission or role data is incomplete.");return}if(!v.name.trim()){alert("Role name cannot be empty!");return}try{const ae={name:v.name,description:v.description,permissions:v.permissions};v.id?await c(v.id,ae):await l(ae);const Y=(await n("/roles")).map(ce=>({id:String(ce.id),name:ce.name,description:ce.description,permissions:ce.permissions.map(String),isSuperadmin:ce.name==="superadmin"}));V(Y),_(!1),N(null)}catch(ae){console.error("Failed to save role:",ae)}},[v,s,c,l,n]),fe=ae=>{const oe=U.find(Y=>String(Y.id)===String(ae.roleId));S({...ae,rolePermissions:(oe==null?void 0:oe.permissions)||[],customPermissions:ae.customPermissions||[],permissions:ae.permissions||[]})},de=async()=>{if(C)try{const ae=await i(C.id,{roleId:C.roleId||null,customPermissions:C.customPermissions||[]});z(P.map(oe=>{if(oe.id===ae.id){const Y=ae.roleId||null,ce=U.find(Ne=>String(Ne.id)===String(Y)),Ie=(ce==null?void 0:ce.permissions)||[],We=ae.customPermissions||[],pe=[...new Set([...Ie,...We])];return{...ae,roleId:Y,customPermissions:We,rolePermissions:Ie,permissions:pe}}return oe})),S(null)}catch(ae){console.error("Failed to save user:",ae)}},we=async ae=>{if(!(!s("manage_users")||!window.confirm("Are you sure you want to delete this role?")))try{await n(`/roles/${ae}`,{method:"DELETE"});const Y=(await n("/roles")).map(ce=>({id:String(ce.id),name:ce.name,description:ce.description,permissions:ce.permissions.map(String),isSuperadmin:ce.name==="superadmin"}));V(Y)}catch(oe){console.error("Failed to delete role:",oe)}},Fe=b.useCallback(async ae=>{if(window.confirm("Are you sure you want to delete this user?")){R(!0);try{await o(ae);const oe=await r();z(oe)}catch(oe){console.error("Failed to delete user:",oe)}finally{R(!1)}}},[o,r]),$e=ae=>{if(!ae)return"No Role";const oe=U.find(Y=>String(Y.id)===String(ae));return oe?oe.name:"No Role"},be=["all",...new Set(P.map(ae=>{var oe;return((oe=ae.department)==null?void 0:oe.name)||""}).filter(Boolean))],Ee=P.filter(ae=>{var oe;return D==="all"||((oe=ae.department)==null?void 0:oe.name)===D}).filter(ae=>ae.name.toLowerCase().includes(L.toLowerCase())||ae.nik.toLowerCase().includes(L.toLowerCase()));return s("15")?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Permission",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(PA,{}),isMobile:p,toggleSidebar:W}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Permission ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage user roles and permissions to control access and functionality within the system."})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-5 border border-blue-100 mb-6",children:a.jsxs("div",{className:"flex border-b border-gray-100",children:[a.jsxs("button",{onClick:()=>w("roles"),className:`px-6 py-3 font-medium text-sm flex items-center ${y==="roles"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(PA,{className:"mr-2 text-base"}),"Roles & Permissions"]}),a.jsxs("button",{onClick:()=>w("users"),className:`px-6 py-3 font-medium text-sm flex items-center ${y==="users"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(ja,{className:"mr-2 text-base"}),"User Permissions"]})]})}),y==="roles"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Roles"}),s("16")&&a.jsxs(k.button,{onClick:()=>{_(!0),N({id:null,name:"",description:"",permissions:[],isSuperadmin:!1})},whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Role"})]})]}),M&&a.jsxs(k.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:v!=null&&v.id?"Edit Role":"Add New Role"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),a.jsx("input",{type:"text",value:(v==null?void 0:v.name)||"",onChange:ae=>N(oe=>({...oe,name:ae.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Maintenance Manager"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("input",{type:"text",value:(v==null?void 0:v.description)||"",onChange:ae=>N(oe=>({...oe,description:ae.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the role"})]})]}),a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Permissions"}),a.jsx("div",{className:"space-y-4",children:Object.entries(hH).map(([ae,oe])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>q(ae),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("span",{className:"font-medium text-gray-700 capitalize",children:ae.replace(/([A-Z])/g," $1").trim()}),A[ae]?a.jsx(xg,{}):a.jsx(Ut,{})]}),a.jsx(qe,{children:A[ae]&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(oe).map(([Y,ce])=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`perm-${ce}`,checked:(v==null?void 0:v.isSuperadmin)||(v==null?void 0:v.permissions.includes(ce))||!1,onChange:()=>X(ce),disabled:v==null?void 0:v.isSuperadmin,className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),a.jsx("label",{htmlFor:`perm-${ce}`,className:"ml-2 text-sm text-gray-700",children:a.jsxs("div",{className:"font-medium",children:[Y," ",ae.replace(/([A-Z])/g," $1").trim(),(v==null?void 0:v.isSuperadmin)&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]})})]},ce))})})]},ae))}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),N(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ne,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Role"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(ae=>a.jsxs(k.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm p-6 border border-blue-100 h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[ae.name,ae.isSuperadmin&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]}),a.jsxs("div",{className:"flex space-x-2",children:[!ae.isSuperadmin&&s("16")&&a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>J(ae),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:a.jsx(fs,{className:"text-base"})}),!ae.isSuperadmin&&s("17")&&a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>we(ae.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(Er,{className:"text-base"})})]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:ae.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Permissions:"}),a.jsx("span",{className:"font-medium text-gray-900",children:ae.permissions.length})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users with this role:"}),a.jsx("span",{className:"font-medium text-gray-900",children:P.filter(oe=>oe.roleId===ae.id).length})]})]})]},ae.id))})]}),y==="users"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users"}),a.jsxs("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ir,{className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:L,onChange:ae=>I(ae.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]}),a.jsx("select",{value:D,onChange:ae=>F(ae.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:be.map(ae=>a.jsx("option",{value:ae,children:ae==="all"?"All Departments":ae},ae))}),s("17")&&a.jsxs(k.button,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},onClick:()=>d("/permissions/adduser"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Ype,{className:"text-base"}),a.jsx("span",{children:"Add User"})]})]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"NIK"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Permissions"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ee.map(ae=>{var oe,Y;return a.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ae.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ae.nik}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ae.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((oe=ae.department)==null?void 0:oe.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:$e(ae.roleId)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ae.roleId==="3"?a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"All permissions"}):(Y=ae.customPermissions)!=null&&Y.length?a.jsxs("span",{className:"cursor-help border-b border-dashed border-gray-400",title:ae.customPermissions.join(", "),children:[ae.customPermissions.length," custom"]}):a.jsx("span",{className:"italic text-gray-400",children:"None"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:s("edit_permissions")&&a.jsxs(a.Fragment,{children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>fe(ae),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:a.jsx(fs,{className:"text-base"})}),ae.id!==(t==null?void 0:t.id)&&s("manage_users")&&a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Fe(ae.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(Er,{className:"text-base"})})]})})]},ae.id)})})]})})})]})]})]}),a.jsx(qe,{children:C&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4 sticky top-0 bg-white z-10",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit User Permissions"}),a.jsx("button",{onClick:()=>S(null),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsxs("div",{className:"p-6",children:[!C.roleId&&a.jsx("div",{className:"p-3 bg-yellow-50 rounded-md mb-4",children:a.jsx("p",{className:"text-yellow-700",children:" This user has no role assigned. Permissions will come only from custom permissions."})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("div",{className:"font-medium text-gray-900",children:C.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("div",{className:"text-gray-600",children:C.nik})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"text-gray-600",children:C.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"text-gray-600",children:((Ge=C.department)==null?void 0:Ge.name)||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{value:C.roleId||"",onChange:ae=>{const oe=ae.target.value||null,Y=U.find(ce=>String(ce.id)===String(oe));S({...C,roleId:oe,rolePermissions:(Y==null?void 0:Y.permissions)||[]})},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"No Role"}),U.map(ae=>a.jsx("option",{value:String(ae.id),children:ae.name},ae.id))]})]})]}),a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Custom Permissions"}),a.jsx("div",{className:"space-y-4",children:Object.entries(hH).map(([ae,oe])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>q(ae),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("span",{className:"font-medium text-gray-700 capitalize",children:ae.replace(/([A-Z])/g," $1").trim()}),A[ae]?a.jsx(xg,{}):a.jsx(Ut,{})]}),a.jsx(qe,{children:A[ae]&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(oe).map(([Y,ce])=>{var st,rt;const Ie=((st=C.rolePermissions)==null?void 0:st.includes(ce))||!1,We=C.roleId==="3",pe=We||Ie||((rt=C.customPermissions)==null?void 0:rt.includes(ce)),Ne=We||Ie;return a.jsxs("div",{className:`flex items-center ${Ne?"opacity-50":""}`,children:[a.jsx("input",{type:"checkbox",id:`user-perm-${ce}`,checked:pe,onChange:()=>!Ne&&H(ce),disabled:Ne,className:`h-4 w-4 rounded focus:ring-blue-500 ${We?"text-blue-600":Ie?"text-purple-600":"text-blue-600"}`}),a.jsx("label",{htmlFor:`user-perm-${ce}`,className:"ml-2 text-sm text-gray-700",children:a.jsxs("div",{className:"font-medium flex items-center",children:[Y," ",ae.replace(/([A-Z])/g," $1").trim(),We&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"}),Ie&&!We&&a.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"from role"})]})})]},ce)})})})]},ae))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100 sticky bottom-0 bg-white",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>S(null),className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:de,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Changes"})]})]})})})]}):a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 font-sans",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center border border-red-200",children:[a.jsx(Zt,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-red-600 font-semibold",children:"You don't have permission to access this page"})]})})},CDe=()=>{const{changePassword:t}=_t(),e=St(),[n,r]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[s,i]=b.useState({currentPassword:"",newPassword:"",confirmPassword:"",general:""}),[o,l]=b.useState(!1),[c,d]=b.useState({current:!1,new:!1,confirm:!1}),[h,m]=b.useState(""),p=v=>{const{name:N,value:C}=v.target;r(S=>({...S,[N]:C})),s[N]&&i(S=>({...S,[N]:"",general:""}))},x=v=>{d(N=>({...N,[v]:!N[v]}))},y=()=>{let v=!0;const N={currentPassword:"",newPassword:"",confirmPassword:"",general:""};return n.currentPassword||(N.currentPassword="Current password is required",v=!1),n.newPassword?n.newPassword.length<8&&(N.newPassword="Password must be at least 8 characters",v=!1):(N.newPassword="New password is required",v=!1),n.newPassword!==n.confirmPassword&&(N.confirmPassword="Passwords do not match",v=!1),i(N),v},w=async v=>{if(v.preventDefault(),!!y()){l(!0),m("");try{await t(n.currentPassword,n.newPassword),m("Your password has been changed successfully!"),r({currentPassword:"",newPassword:"",confirmPassword:""}),i({currentPassword:"",newPassword:"",confirmPassword:"",general:""})}catch(N){console.error("Password change error:",N),i(C=>({...C,general:N.message||"Failed to change password. Please try again."}))}finally{l(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[a.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-gray-100 mr-4",children:a.jsx(fw,{className:"text-xl text-gray-700"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Change Password"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),a.jsxs("main",{className:"flex-1 p-4 md:p-6 max-w-3xl mx-auto w-full",children:[a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:a.jsx(SI,{className:"text-blue-600 text-lg"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Password Update"})]}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Please enter your current password and set a new one."})]}),a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs(qe,{children:[s.general&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-red-50 border-l-4 border-red-500 p-4 rounded flex items-start",children:[a.jsx(hy,{className:"text-red-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-700 font-medium",children:"Error"}),a.jsx("p",{className:"text-red-600 text-sm",children:s.general})]})]}),h&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-50 border-l-4 border-green-500 p-4 rounded flex items-start",children:[a.jsx(gle,{className:"text-green-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-700 font-medium",children:"Success"}),a.jsx("p",{className:"text-green-600 text-sm",children:h})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.current?"text":"password",id:"currentPassword",name:"currentPassword",value:n.currentPassword,onChange:p,className:`w-full border ${s.currentPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"current-password"}),a.jsx("button",{type:"button",onClick:()=>x("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.current?"Hide password":"Show password",children:c.current?a.jsx(Ov,{}):a.jsx(Ev,{})})]}),s.currentPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(hy,{className:"mr-1"})," ",s.currentPassword]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.new?"text":"password",id:"newPassword",name:"newPassword",value:n.newPassword,onChange:p,className:`w-full border ${s.newPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>x("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.new?"Hide password":"Show password",children:c.new?a.jsx(Ov,{}):a.jsx(Ev,{})})]}),a.jsxs("div",{className:"mt-3 bg-blue-50 p-3 rounded-md",children:[a.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(NI,{className:"mr-1 text-blue-500"})," Password requirement:"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Must be at least 8 characters long"})]}),s.newPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(hy,{className:"mr-1"})," ",s.newPassword]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:p,className:`w-full border ${s.confirmPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>x("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.confirm?"Hide password":"Show password",children:c.confirm?a.jsx(Ov,{}):a.jsx(Ev,{})})]}),s.confirmPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(hy,{className:"mr-1"})," ",s.confirmPassword]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(k.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e(-1),disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:o||n.newPassword.length<8||n.newPassword!==n.confirmPassword,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:hover:bg-blue-600 flex items-center ${o?"opacity-75":""}`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(SI,{className:"mr-2"}),"Update Password"]})})]})]})]}),a.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx(NI,{className:"text-blue-500 mr-2"})," Security Tip"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Choose a password that's easy for you to remember but hard for others to guess. Avoid using common words or personal information."})]})]})]})},_De=["Dashboard","Assets","Work Orders","Machine History","Inventory","Reports","Team","Settings","Permissions","Users"],TDe=[{id:"1",name:"View Dashboard",description:"Can view dashboard",category:"Dashboard"},{id:"2",name:"Edit Dashboard",description:"Can edit dashboard",category:"Dashboard"},{id:"3",name:"View Assets",description:"Can view assets",category:"Assets"},{id:"4",name:"Create Assets",description:"Can create assets",category:"Assets"},{id:"5",name:"Edit Assets",description:"Can edit assets",category:"Assets"},{id:"6",name:"Delete Assets",description:"Can delete assets",category:"Assets"},{id:"7",name:"View Work Orders",description:"Can view work orders",category:"Work Orders"},{id:"8",name:"Create Work Orders",description:"Can create work orders",category:"Work Orders"},{id:"9",name:"Assign Work Orders",description:"Can assign work orders",category:"Work Orders"},{id:"10",name:"Complete Work Orders",description:"Can complete work orders",category:"Work Orders"},{id:"18",name:"Edit Work Orders",description:"Can edit work orders",category:"Work Orders"},{id:"19",name:"Delete Work Orders",description:"Can delete work orders",category:"Work Orders"},{id:"31",name:"View Machine History",description:"Can view machine history",category:"Machine History"},{id:"32",name:"Create Machine History",description:"Can create machine history",category:"Machine History"},{id:"33",name:"Edit Machine History",description:"Can edit machine history",category:"Machine History"},{id:"34",name:"Delete Machine History",description:"Can delete machine history",category:"Machine History"},{id:"23",name:"View Inventory",description:"Can view inventory",category:"Inventory"},{id:"24",name:"Create Inventory",description:"Can create inventory",category:"Inventory"},{id:"25",name:"Edit Inventory",description:"Can edit inventory",category:"Inventory"},{id:"26",name:"Delete Inventory",description:"Can delete inventory",category:"Inventory"},{id:"11",name:"View Reports",description:"Can view reports",category:"Reports"},{id:"12",name:"Export Reports",description:"Can export reports",category:"Reports"},{id:"20",name:"Create Reports",description:"Can create reports",category:"Reports"},{id:"21",name:"Edit Reports",description:"Can edit reports",category:"Reports"},{id:"22",name:"Delete Reports",description:"Can delete reports",category:"Reports"},{id:"27",name:"View Team",description:"Can view team",category:"Team"},{id:"28",name:"Create Team",description:"Can create team",category:"Team"},{id:"29",name:"Edit Team",description:"Can edit team",category:"Team"},{id:"30",name:"Delete Team",description:"Can delete team",category:"Team"},{id:"13",name:"View Settings",description:"Can view settings",category:"Settings"},{id:"14",name:"Edit Settings",description:"Can edit settings",category:"Settings"},{id:"15",name:"View Permissions",description:"Can view permissions",category:"Permissions"},{id:"16",name:"Edit Permissions",description:"Can edit permissions",category:"Permissions"},{id:"17",name:"Manage Users",description:"Can manage users",category:"Users"}],MDe=()=>{const t=St(),{user:e,register:n,getRoles:r,hasPermission:s}=_t(),[i,o]=b.useState(!1),[l,c]=b.useState({}),[d,h]=b.useState(!1),[m,p]=b.useState({}),[x,y]=b.useState([]),[w,v]=b.useState([]),[N,C]=b.useState({name:"",nik:"",email:"",roleId:"",customPermissions:[],department:"",position:"",password:"",confirmPassword:""});b.useEffect(()=>{(async()=>{try{const I=await r();y(I),v([{id:"1",name:"IT"},{id:"2",name:"HR"},{id:"3",name:"Finance"},{id:"4",name:"Operations"},{id:"5",name:"Maintenance"}])}catch(I){console.error("Failed to fetch data:",I)}})()},[r,s,t]);const S=_De.reduce((L,I)=>(L[I]=TDe.filter(P=>P.category===I),L),{}),M=L=>{c(I=>({...I,[L]:!I[L]}))},_=L=>{C(I=>({...I,customPermissions:I.customPermissions.includes(L)?I.customPermissions.filter(P=>P!==L):[...I.customPermissions,L]}))},A=L=>{const{name:I,value:P}=L.target;C(z=>({...z,[I]:P})),m[I]&&p(z=>({...z,[I]:""}))},O=()=>{const L={};return N.name.trim()||(L.name="Name is required"),N.nik.trim()?/^\d+$/.test(N.nik)||(L.nik="NIK must be numeric"):L.nik="NIK is required",N.password?N.password.length<6&&(L.password="Password must be at least 6 characters"):L.password="Password is required",N.password!==N.confirmPassword&&(L.confirmPassword="Passwords do not match"),N.department||(L.department="Department is required"),N.roleId||(L.roleId="Role is required"),p(L),Object.keys(L).length===0},D=L=>{const I=x.find(P=>P.id===L);return I?I.permissions:[]},F=async L=>{if(L.preventDefault(),!!O()){h(!0);try{await n(N.name,N.email,N.nik,N.password,N.department,N.position,N.roleId,N.customPermissions),t("/permissions",{state:{success:"User created successfully"}})}catch(I){console.error("Failed to create user:",I),p({form:I.message||"Failed to create user. Please try again."})}finally{h(!1)}}};return s("manage_users")?a.jsxs("div",{className:`flex h-screen font-sans antialiased ${i?"dark bg-gray-900":"bg-blue-50"} text-gray-900`,children:[a.jsx(jt,{})," ",a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:`${i?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} border-b p-4 flex items-center justify-between shadow-sm sticky top-0 z-30`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(k.button,{onClick:()=>t("/permissions"),whileHover:{scale:1.05},whileTap:{scale:.95},className:`${i?"text-gray-300 hover:bg-gray-700":"text-blue-600 hover:text-blue-800"} flex items-center transition-colors duration-200`,children:[a.jsx(fw,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline ml-2",children:"Back to Permissions"})]}),a.jsx("h2",{className:`${i?"text-gray-100":"text-gray-900"} text-lg md:text-xl font-bold ml-4`,children:"Add New User"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!i),className:`p-2 rounded-full ${i?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-blue-50"} transition-colors duration-200`,"aria-label":i?"Switch to light mode":"Switch to dark mode",children:i?a.jsx(jle,{className:"text-yellow-400 text-xl"}):a.jsx(wle,{className:"text-xl"})}),a.jsxs(k.button,{whileHover:{backgroundColor:i?"rgba(55, 65, 81, 0.7)":"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},className:`flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200 ${i?"hover:bg-gray-700":"hover:bg-blue-50"}`,children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:`w-8 h-8 rounded-full ${i?"border-gray-600":"border-blue-200"} border`}),a.jsx("span",{className:`font-medium ${i?"text-gray-100":"text-gray-900"} text-sm hidden sm:inline`,children:e==null?void 0:e.name}),a.jsx(jI,{className:i?"text-gray-400":"text-gray-500"})]})]})]}),a.jsxs("main",{className:`flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar ${i?"bg-gray-900":"bg-gray-50"}`,children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:`${i?"text-gray-100":"text-gray-900"} text-2xl md:text-3xl font-bold`,children:"Add New User"}),a.jsx("p",{className:`${i?"text-gray-400":"text-gray-600"} mt-1`,children:"Fill out the form below to add a new user to the system."})]}),a.jsxs(k.button,{onClick:()=>t("/permissions"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:`${i?"bg-gray-800 border-gray-700 text-gray-200 hover:bg-gray-700":"bg-white border-gray-200 text-gray-800 hover:bg-blue-50"} flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md border`,children:[a.jsx(fw,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Back to Permissions"})]})]}),m.form&&a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`${i?"bg-red-900 border-red-700 text-red-200":"bg-red-100 border-red-400 text-red-700"} px-4 py-3 rounded relative border mb-6`,role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",m.form]})]}),a.jsxs("form",{onSubmit:F,children:[a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${i?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${i?"text-gray-100":"text-gray-900"}`,children:"User Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Full Name*"}),a.jsx("input",{type:"text",name:"name",value:N.name,onChange:A,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter full name"}),m.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"NIK (Employee ID)*"}),a.jsx("input",{type:"text",name:"nik",value:N.nik,onChange:A,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter NIK (numeric only)"}),m.nik&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.nik})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Email*"}),a.jsx("input",{type:"text",name:"email",value:N.email,onChange:A,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter Email"}),m.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Department*"}),a.jsxs("select",{name:"department",value:N.department,onChange:A,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[a.jsx("option",{value:"",children:"Select Department"}),w.map(L=>a.jsx("option",{value:L.name,children:L.name},L.id))]}),m.department&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.department})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Position"}),a.jsx("input",{type:"text",name:"position",value:N.position,onChange:A,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter position"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Password*"}),a.jsx("input",{type:"password",name:"password",value:N.password,onChange:A,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter password (min 6 chars)"}),m.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Confirm Password*"}),a.jsx("input",{type:"password",name:"confirmPassword",value:N.confirmPassword,onChange:A,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Confirm password"}),m.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Role*"}),a.jsxs("select",{name:"roleId",value:N.roleId,onChange:A,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[a.jsx("option",{value:"",children:"Select Role"}),x.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id))]}),m.roleId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.roleId})]})]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${i?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${i?"text-gray-100":"text-gray-900"}`,children:"Custom Permissions"}),a.jsx("p",{className:`text-sm mb-4 ${i?"text-gray-400":"text-gray-600"}`,children:"Select additional permissions beyond the user's role. Permissions already included in the role are disabled."}),a.jsx("div",{className:"space-y-4",children:Object.entries(S).map(([L,I])=>a.jsxs("div",{className:`${i?"border-gray-700":"border-gray-200"} border rounded-lg overflow-hidden`,children:[a.jsxs("button",{type:"button",onClick:()=>M(L),className:`w-full flex justify-between items-center p-3 ${i?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} transition-colors duration-200`,children:[a.jsx("span",{className:`font-medium ${i?"text-gray-200":"text-gray-700"}`,children:L}),l[L]?a.jsx(ble,{className:`${i?"text-gray-400":"text-gray-500"}`}):a.jsx(jI,{className:`${i?"text-gray-400":"text-gray-500"}`})]}),a.jsx(qe,{children:l[L]&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 ${i?"bg-gray-800":"bg-white"}`,children:I.map(P=>{const z=N.roleId?D(N.roleId).includes(P.id):!1,U=N.customPermissions.includes(P.id),V=z;return a.jsxs("div",{className:`flex items-center ${V?"opacity-50":""}`,children:[a.jsx("input",{type:"checkbox",id:`perm-${P.id}`,checked:U||z,onChange:()=>!V&&_(P.id),disabled:V,className:`h-4 w-4 rounded focus:ring-blue-500
                                  ${z?i?"text-purple-400 bg-gray-700 border-gray-600":"text-purple-600":i?"text-blue-400 bg-gray-700 border-gray-600":"text-blue-600"} border-gray-300`}),a.jsxs("label",{htmlFor:`perm-${P.id}`,className:`ml-2 text-sm ${i?"text-gray-300":"text-gray-700"}`,children:[a.jsxs("div",{className:"font-medium flex items-center",children:[P.name,z&&a.jsx("span",{className:`ml-2 text-xs ${i?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-800"} px-2 py-0.5 rounded`,children:"from role"})]}),a.jsx("div",{className:"text-gray-500 text-xs",children:P.description})]})]},P.id)})})})]},L))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(k.button,{type:"button",onClick:()=>t("/permissions"),whileHover:{scale:1.03},whileTap:{scale:.97},className:`${i?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-200 text-gray-700 hover:bg-blue-50"} inline-flex items-center px-5 py-2.5 border text-base font-medium rounded-md shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`,children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:d,className:`inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white ${i?"bg-blue-700 hover:bg-blue-800":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:d?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Nle,{className:"mr-2 h-5 w-5"}),"Create User"]})})]})]})]})]})]}):a.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:a.jsx("div",{className:"text-xl",children:"You don't have permission to access this page"})})},ADe=()=>a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[a.jsx("div",{className:"text-6xl font-bold text-red-500 mb-4",children:"403"}),a.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Unauthorized Access"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page."}),a.jsx(rc,{to:"/dashboard",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Return to Dashboard"})]}),ODe=()=>{const t=St(),{user:e,hasPermission:n,addAsset:r}=_t(),[s,i]=b.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),[o,l]=b.useState(!1),[c,d]=b.useState(window.innerWidth<768),[h,m]=b.useState(!1),[p,x]=b.useState(!1),y=b.useRef(null),w=b.useRef(null),[v,N]=b.useState({id:0,name:"",category:"",location:"",purchase_date:"",description:"",type:null,make:null,model:null,status:null,last_maintenance:null,next_maintenance:null,work_orders:null,health:null,created_at:"",update_at:""}),[C,S]=b.useState(!1),[M,_]=b.useState(null),[A,O]=b.useState(null);b.useEffect(()=>{const P=()=>{d(window.innerWidth<768),window.innerWidth<768&&i(!1)};return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),b.useEffect(()=>{const P=z=>{y.current&&!y.current.contains(z.target)&&m(!1),w.current&&!w.current.contains(z.target)&&x(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",o),localStorage.setItem("sidebarOpen",JSON.stringify(s))},[s,o]);const D=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),i(P=>!P)},F=P=>{const{name:z,value:U}=P.target;N(V=>({...V,[z]:U}))},L=async P=>{P.preventDefault(),S(!0),_(null),O(null);try{const z=await r(v);console.log("Asset added successfully:",z),O("Asset berhasil ditambahkan!"),t("/assets")}catch(z){console.error("Error adding asset:",z),_(z.message||"Gagal menambahkan aset. Silakan coba lagi.")}finally{S(!1)}},I=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:a.jsx(Et,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:a.jsx(Zt,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:a.jsx(Et,{className:"text-blue-500"}),date:"Jul 28, 2023"}];return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[c&&a.jsx(k.button,{onClick:D,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsxs(k.button,{onClick:()=>t("/assets"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(Ys,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back to Assets"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Add New Asset"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!o),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":o?"Switch to light mode":"Switch to dark mode",children:o?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:y,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!h),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:[I.slice(0,3).map(P=>a.jsxs("div",{className:"flex items-start px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 last:border-b-0",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:P.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-gray-800",children:P.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:P.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:P.date})]})]},P.id)),I.length===0&&a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})]}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{console.log("View All Notifications clicked"),m(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:w,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>x(!p),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:p&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{t("/profile"),x(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{t("/settings"),x(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{t("/logout"),x(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Add New Asset"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill out the form below to add a new asset to your inventory."})]}),a.jsxs(k.button,{onClick:()=>t("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ys,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Back to Assets"})]})]}),a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Asset Name"}),a.jsx("input",{type:"text",id:"name",name:"name",value:v.name,onChange:F,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Asset Category"}),a.jsx("input",{type:"text",id:"category",name:"category",value:v.category,onChange:F,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),a.jsx("input",{type:"text",id:"location",name:"location",value:v.location,onChange:F,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700",children:"Purchase Date"}),a.jsx("input",{type:"date",id:"purchase_date",name:"purchase_date",value:v.purchase_date,onChange:F,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("textarea",{id:"description",name:"description",value:v.description,onChange:F,required:!0,rows:3,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Type"}),a.jsxs("select",{id:"type",name:"type",value:v.type||"",onChange:F,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700",children:"Make"}),a.jsx("input",{type:"text",id:"make",name:"make",value:v.make||"",onChange:F,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700",children:"Model"}),a.jsx("input",{type:"text",id:"model",name:"model",value:v.model||"",onChange:F,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{id:"status",name:"status",value:v.status||"",onChange:F,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[a.jsx("option",{value:"",children:"Select Status"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700",children:"Last Maintenance Date"}),a.jsx("input",{type:"date",id:"last_maintenance",name:"last_maintenance",value:v.last_maintenance||"",onChange:F,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700",children:"Next Maintenance Date"}),a.jsx("input",{type:"date",id:"next_maintenance",name:"next_maintenance",value:v.next_maintenance||"",onChange:F,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700",children:"Work Orders"}),a.jsx("input",{type:"text",id:"work_orders",name:"work_orders",value:v.work_orders??"",onChange:F,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700",children:"Health (%)"}),a.jsx("input",{type:"text",id:"health",name:"health",value:v.health??"",onChange:F,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),M&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",M]})]}),A&&a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Success!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",A]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(k.button,{type:"button",onClick:()=>t("/assets"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-gray-200 text-base font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:C,className:"inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:C?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(dh,{className:"mr-2 h-5 w-5"}),"Add Asset"]})})]})]})})]})]})]})},EDe=()=>{const t=St(),{id:e}=Ks(),{user:n,hasPermission:r,getERPData:s,editAsset:i}=_t(),[o,l]=b.useState(()=>{const U=localStorage.getItem("sidebarOpen");return U?JSON.parse(U):!1}),[c,d]=b.useState(!1),[h,m]=b.useState(window.innerWidth<768),[p,x]=b.useState(!1),[y,w]=b.useState(!1),v=b.useRef(null),N=b.useRef(null),[C,S]=b.useState({id:0,name:"",category:"",location:"",purchase_date:"",description:"",type:null,make:null,model:null,status:null,last_maintenance:null,next_maintenance:null,work_orders:null,health:null,created_at:"",update_at:""}),[M,_]=b.useState(!0),[A,O]=b.useState(null),[D,F]=b.useState(null);b.useEffect(()=>{(async()=>{if(_(!0),O(null),!e){O("Asset ID not provided."),_(!1);return}try{const V=Number(e);if(isNaN(V)){O("Invalid asset ID format."),_(!1);return}const $=await s();console.log("Fetched assets:",$);const R=$.find(W=>W.id===V||String(W.id)===String(e));if(!R){O(`Asset with ID ${e} not found. Available IDs: ${$.map(W=>W.id).join(", ")}`),_(!1);return}S({id:R.id,name:R.name||"",category:R.category||"",location:R.location||"",purchase_date:R.purchaseDate||"",description:R.description||"",type:R.type||null,make:R.make||null,model:R.model||null,status:R.status||null,last_maintenance:R.lastMaintenance||null,next_maintenance:R.nextMaintenance||null,work_orders:R.workOrders||null,health:R.health||null,created_at:R.createdAt||"",update_at:R.updateAt||""})}catch(V){console.error("Error fetching asset:",V),O("Failed to load asset data. Please try again later.")}finally{_(!1)}})()},[e,s]),b.useEffect(()=>{const U=()=>{m(window.innerWidth<768),window.innerWidth<768&&l(!1)};return window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]),b.useEffect(()=>{const U=V=>{v.current&&!v.current.contains(V.target)&&x(!1),N.current&&!N.current.contains(V.target)&&w(!1)};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",c),localStorage.setItem("sidebarOpen",JSON.stringify(o))},[o,c]);const L=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(U=>!U)},I=U=>{const{name:V,value:$}=U.target;S(R=>({...R,[V]:$}))},P=async U=>{if(U.preventDefault(),_(!0),O(null),F(null),!e){O("Asset ID is missing for update."),_(!1);return}try{const V=await i(C);console.log("Asset updated successfully:",V),F("Asset successfully updated!"),t("/assets")}catch(V){console.error("Error updating asset:",V),O(V.message||"Failed to update asset. Please try again.")}finally{_(!1)}},z=[{id:1,title:"Efisiensi Pemeliharaan Meningkat",description:"Tingkat penyelesaian pemeliharaan preventif meningkat 15% bulan ini",icon:a.jsx(Et,{className:"text-green-500"}),date:"Hari Ini, 09:30 AM"},{id:2,title:"3 Aset Membutuhkan Perhatian",description:"Aset kritis menunjukkan tanda-tanda keausan perlu diperiksa",icon:a.jsx(Zt,{className:"text-yellow-500"}),date:"Kemarin, 02:15 PM"},{id:3,title:"Pemeliharaan Bulanan Selesai",description:"Semua tugas pemeliharaan terjadwal selesai tepat waktu",icon:a.jsx(Et,{className:"text-blue-500"}),date:"28 Jul 2023"}];return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[h&&a.jsx(k.button,{onClick:L,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsxs(k.button,{onClick:()=>t("/assets"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(Ys,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Kembali ke Aset"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Edit Aset"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!c),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":c?"Beralih ke mode terang":"Beralih ke mode gelap",children:c?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:v,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(!p),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifikasi",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:p&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifikasi"}),a.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:[z.slice(0,3).map(U=>a.jsxs("div",{className:"flex items-start px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 last:border-b-0",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:U.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-gray-800",children:U.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:U.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:U.date})]})]},U.id)),z.length===0&&a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"Tidak ada notifikasi baru."})]}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{console.log("Lihat Semua Notifikasi diklik"),x(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"Lihat Semua"})})]})})]}),a.jsxs("div",{className:"relative",ref:N,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>w(!y),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(n==null?void 0:n.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:n==null?void 0:n.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:y&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Logged in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(n==null?void 0:n.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{t("/profile"),w(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{t("/settings"),w(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{t("/logout"),w(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Asset"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update your asset details."})]}),a.jsxs(k.button,{onClick:()=>t("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ys,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Back to Assets"})]})]}),a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:M?a.jsxs("div",{className:"flex items-center justify-center py-10 text-gray-600 text-lg",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-600",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading asset data..."]}):A?a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",A]})]}):a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700",children:"Asset ID"}),a.jsx("input",{type:"text",id:"id",name:"id",value:C.id,readOnly:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-blue-50 cursor-not-allowed transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Asset Name"}),a.jsx("input",{type:"text",id:"name",name:"name",value:C.name,onChange:I,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Asset Category"}),a.jsx("input",{type:"text",id:"category",name:"category",value:C.category,onChange:I,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),a.jsx("input",{type:"text",id:"location",name:"location",value:C.location,onChange:I,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700",children:"Purchase Date"}),a.jsx("input",{type:"date",id:"purchase_date",name:"purchase_date",value:C.purchase_date,onChange:I,required:!0,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("textarea",{id:"description",name:"description",value:C.description,onChange:I,required:!0,rows:3,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Type"}),a.jsxs("select",{id:"type",name:"type",value:C.type||"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700",children:"Make"}),a.jsx("input",{type:"text",id:"make",name:"make",value:C.make||"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700",children:"Model"}),a.jsx("input",{type:"text",id:"model",name:"model",value:C.model||"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsxs("select",{id:"status",name:"status",value:C.status||"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[a.jsx("option",{value:"",children:"Select Status"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700",children:"Last Maintenance Date"}),a.jsx("input",{type:"date",id:"last_maintenance",name:"last_maintenance",value:C.last_maintenance||"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700",children:"Next Maintenance Date"}),a.jsx("input",{type:"date",id:"next_maintenance",name:"next_maintenance",value:C.next_maintenance||"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700",children:"Work Orders"}),a.jsx("input",{type:"text",id:"work_orders",name:"work_orders",value:C.work_orders??"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700",children:"Health (%)"}),a.jsx("input",{type:"text",id:"health",name:"health",value:C.health??"",onChange:I,className:"mt-1 block w-full border border-gray-200 rounded-lg shadow-sm p-2.5 bg-white focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),D&&a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Success!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",D]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(k.button,{type:"button",onClick:()=>t("/assets"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"inline-flex items-center px-5 py-2.5 border border-gray-200 text-base font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:M,className:"inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:M?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"}),"Save Changes"]})})]})]})})]})]})]})},lv=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},DDe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,PDe=({isOpen:t,onClose:e,onAssign:n,workOrder:r,technicians:s})=>{const[i,o]=b.useState(""),l=()=>{r&&i&&(n(r.id,i),e())};return!t||!r?null:a.jsx(DDe,{isOpen:t,onClose:e,title:`Assign Work Order #${r.work_order_no||r.id}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-700",children:["Work Order ",a.jsxs("strong",{children:["#",r.work_order_no||r.id]})," from ",a.jsx("strong",{children:r.requester.name})," needs to be assigned."]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"technician-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Technician"}),a.jsxs("select",{id:"technician-select",value:i,onChange:c=>o(c.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"",children:"Select Technician"}),s.map(c=>{var d;return a.jsxs("option",{value:c.id,children:[c.name," - ",((d=c.department)==null?void 0:d.name)||c.department_name]},c.id)})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:l,disabled:!i,className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors duration-200 ${i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Assign"})]})]})})},RDe=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState(!1),[h,m]=b.useState(!1),[p,x]=b.useState(!1),[y,w]=b.useState(null),[v,N]=b.useState(1),[C]=b.useState(5),[S,M]=b.useState(window.innerWidth<768),[_,A]=b.useState(!1),[O,D]=b.useState(!1),[F,L]=b.useState([]),[I,P]=b.useState(!0),[z,U]=b.useState(null),[V,$]=b.useState(!1),[R,W]=b.useState(null),[q,X]=b.useState(!1),[H,J]=b.useState([]),[ne,fe]=b.useState(!1),de=St(),we=Yr(),Fe=b.useRef(null),$e=b.useRef(null),{user:be,getWorkOrdersIT:Ee,updateWorkOrderIT:Ge,getUsers:ae,hasPermission:oe,getVendor:Y}=_t(),ce=we.pathname==="/workorders/it/assignment",Ie=we.pathname==="/workorders/it/reports",We=we.pathname==="/workorders/it/knowledgebase",pe=we.pathname==="/workorders/it",Ne=we.pathname==="/workorders/it/receiver";we.pathname;const st=b.useCallback(async()=>{P(!0),U(null);try{const ee=(await Ee()).filter(le=>{var Me,Z,se;return(((Z=(Me=le.service)==null?void 0:Me.owner)==null?void 0:Z.id)||((se=le.service)==null?void 0:se.service_owner))===Number(be==null?void 0:be.id)});L(ee)}catch(re){U(re.message||"Failed to load work orders.")}finally{P(!1)}},[Ee,be==null?void 0:be.id]),rt=b.useCallback(async()=>{try{const ee=(await ae()).filter(le=>{var xe,Me,Z,se;return((xe=le.roles)==null?void 0:xe.includes("technician"))||((Z=(Me=le.department)==null?void 0:Me.name)==null?void 0:Z.toLowerCase().includes("it"))||((se=le.position)==null?void 0:se.toLowerCase().includes("technician"))});J(ee)}catch(re){console.error("Failed to fetch technicians:",re)}},[ae]),Ve=b.useCallback(async(re,ee)=>{$(!0),W(null),X(!1);try{const le=await Ge({...ee,id:re});return L(xe=>xe.map(Me=>Me.id===re?le:Me)),X(!0),setTimeout(()=>X(!1),3e3),le}catch(le){throw W(le.message||"Failed to update work order."),le}finally{$(!1)}},[Ge]),Ue=()=>{M(window.innerWidth<768),window.innerWidth<768&&r(!1)},Ye=re=>{Fe.current&&!Fe.current.contains(re.target)&&A(!1),$e.current&&!$e.current.contains(re.target)&&D(!1)};b.useEffect(()=>(window.addEventListener("resize",Ue),document.addEventListener("mousedown",Ye),st(),rt(),()=>{window.removeEventListener("resize",Ue),document.removeEventListener("mousedown",Ye)}),[st,rt]);const kt=re=>{switch(re){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},Oe=re=>{switch(re==null?void 0:re.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},Xe=re=>{switch(re){case"New":return 1;case"Assigned":return 2;case"In Progress":return 3;case"Escalated":return 4;case"Vendor Handled":return 5;case"Resolved":return 6;case"Cancel":return 7;case"Closed":return 8;default:return 9}},Pt=re=>{switch(re==null?void 0:re.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},Se=b.useCallback(re=>{const ee=F.find(le=>le.id===re);ee&&(w(ee),m(!0))},[F]);b.useCallback(re=>{const ee=F.find(le=>le.id===re);ee&&(w(ee),x(!0))},[F]),b.useCallback(async re=>{try{await Ve(re.id,re),x(!1),w(null)}catch{}},[Ve]);const bt=()=>{r(re=>!re)},yt=F.filter(re=>{var xe,Me,Z,se;const ee=((Me=(xe=re.requester)==null?void 0:xe.name)==null?void 0:Me.toLowerCase().includes(s.toLowerCase()))||((Z=re.work_order_no)==null?void 0:Z.toLowerCase().includes(s.toLowerCase()))||((se=re.complaint)==null?void 0:se.toLowerCase().includes(s.toLowerCase()))||String(re.id).includes(s),le=o==="all"||re.handling_status===o;return ee&&le}).sort((re,ee)=>{var se,ke;const le=Xe(re.handling_status),xe=Xe(ee.handling_status);if(le!==xe)return le-xe;const Me=Pt(((se=re.service)==null?void 0:se.priority)||"Medium"),Z=Pt(((ke=ee.service)==null?void 0:ke.priority)||"Medium");return Me!==Z?Me-Z:new Date(ee.created_at).getTime()-new Date(re.created_at).getTime()}),Pe=v*C,mt=Pe-C,ht=yt.slice(mt,Pe),vt=Math.ceil(yt.length/C),ie=re=>N(re),ve=b.useCallback(re=>{w(re),fe(!0)},[]),je=b.useCallback(async(re,ee)=>{try{await Ve(re,{assigned_to_id:parseInt(ee),handling_status:"Assigned",handling_date:new Date().toISOString()}),fe(!1),w(null)}catch(le){console.error("Failed to assign work order:",le)}},[Ve]),He=re=>{var ee;return re.vendor?`${re.vendor.name}`:((ee=re.assigned_to)==null?void 0:ee.name)||"Unassigned"},Nt=re=>re.vendor?"vendor":re.assigned_to?"user":"unassigned",ge=({order:re,onClose:ee})=>{var Ze,dt,Qe,Re,at,gt,Jt,Fn,ar,Ct,Bt;const le=Tt=>Tt==null?"-":typeof Tt=="object"&&Tt!==null?Tt.name?Tt.name:Tt.title?Tt.title:Tt.id?String(Tt.id):"-":typeof Tt=="string"?Tt.trim()!==""?Tt.trim():"-":typeof Tt=="number"?Tt.toString():String(Tt),xe=Tt=>Tt?new Date(Tt).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Me=Tt=>{if(!Tt)return"-";const $n=fh.sanitize(Tt);return a.jsx("div",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",dangerouslySetInnerHTML:{__html:$n}})},Z=({label:Tt,htmlContent:$n})=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:Tt}),Me($n)]}),se=({label:Tt,value:$n})=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:Tt}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:$n})]}),ke=({title:Tt})=>a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:Tt});return a.jsxs("div",{className:"space-y-6",children:[a.jsx(ke,{title:"General Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(se,{label:"Work Order No",value:le(re.work_order_no||re.id)}),a.jsx(se,{label:"Date",value:xe(re.date)}),a.jsx(se,{label:"Reception Method",value:le(re.reception_method)}),a.jsx(se,{label:"Requester",value:le((Ze=re.requester)==null?void 0:Ze.name)}),a.jsx(se,{label:"Department",value:le(re.department_name||((dt=re.department)==null?void 0:dt.name))}),a.jsx(se,{label:"Known By",value:le((Qe=re.known_by)==null?void 0:Qe.name)})]}),a.jsx(ke,{title:"Service Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(se,{label:"Service Type",value:le((Re=re.service_type)==null?void 0:Re.group_name)}),a.jsx(se,{label:"Service",value:le(((gt=(at=re.service)==null?void 0:at.owner)==null?void 0:gt.name)||((Jt=re.service)==null?void 0:Jt.service_name))}),a.jsx(se,{label:"Priority",value:le(((Fn=re.service)==null?void 0:Fn.priority)||((ar=re.service)==null?void 0:ar.priority))}),a.jsx(se,{label:"No Asset",value:le(re.asset_no)})]}),a.jsx(ke,{title:"Device & Complaint"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(se,{label:"Device Information",value:le(re.device_info)}),a.jsx(Z,{label:"Complaint",htmlContent:re.complaint||""})]}),a.jsx(ke,{title:"Handling Information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(se,{label:"Ticket Status",value:le(re.handling_status)}),a.jsx(se,{label:"Handling Date",value:xe(re.handling_date||"-")})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(se,{label:"Assigned To",value:le((Ct=re.assigned_to)==null?void 0:Ct.name)}),a.jsx(se,{label:"Received By",value:le((Bt=re.received_by)==null?void 0:Bt.name)})]}),a.jsx(Z,{label:"Action Taken",htmlContent:re.action_taken||""}),a.jsx(Z,{label:"Remarks",htmlContent:re.remarks||""})]}),a.jsx(ke,{title:"Vendor Details"}),re.vendor?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(se,{label:"Vendor Name",value:le(re.vendor.name)}),a.jsx(se,{label:"Address",value:le(re.vendor.address)}),a.jsx(se,{label:"Contact Person",value:le(re.vendor.contact_person)}),a.jsx(se,{label:"Email",value:le(re.vendor.email)}),a.jsx(se,{label:"No Telp",value:le(re.vendor.telp)}),a.jsx(se,{label:"No HP",value:le(re.vendor.HP)})]}):a.jsx("div",{className:"text-center py-4 text-gray-500",children:"No vendor assigned to this work order."}),re.attachment&&a.jsxs(a.Fragment,{children:[a.jsx(ke,{title:"Attachment"}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("a",{href:re.attachment,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View Attachment"})})})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(k.button,{type:"button",onClick:ee,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close"})})]})};return b.useEffect(()=>{N(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]),I?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):z?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Zt,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:z}),a.jsx("button",{onClick:st,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[S&&a.jsx(k.button,{onClick:bt,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Ps,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"IT Work Order - Receiver"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!t),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:Fe,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>A(!_),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:_&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:[yt.slice(0,3).map(re=>a.jsxs("div",{className:"flex items-start px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 last:border-b-0",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:re.handling_status==="New"?a.jsx(Zt,{className:"text-orange-500"}):a.jsx(Na,{className:"text-blue-500"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-sm text-gray-800",children:["Work Order #",re.id]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:re.complaint}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[new Date(re.date).toLocaleDateString()," at ",new Date(re.date).toLocaleTimeString()]})]})]},re.id)),yt.length===0&&a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})]}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{A(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:$e,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>D(!O),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(be==null?void 0:be.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:be==null?void 0:be.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:O&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(be==null?void 0:be.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{de("/profile"),D(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{de("/settings"),D(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{de("/logout"),D(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>de("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${pe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>de("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ne?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>de("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ce?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>de("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ie?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>de("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${We?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),R&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:R}),a.jsx("button",{onClick:()=>W(null),className:"absolute top-0 right-0 p-3",children:a.jsx(nt,{size:16})})]}),q&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),a.jsx("button",{onClick:()=>X(!1),className:"absolute top-0 right-0 p-3",children:a.jsx(nt,{size:16})})]}),a.jsx(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Receiver"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage IT-related work orders as a service owner"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(lv,{title:"Total IT Assignments",value:yt.length.toString(),change:"+8%",icon:a.jsx(Ps,{})}),a.jsx(lv,{title:"In Progress",value:yt.filter(re=>["In Progress","Escalated","Vendor Handled"].includes(re.handling_status)).length.toString(),change:"-1",icon:a.jsx(Na,{})}),a.jsx(lv,{title:"Resolved",value:yt.filter(re=>["Resolved","Done"].includes(re.handling_status)).length.toString(),change:"+1",icon:a.jsx(Et,{})}),a.jsx(lv,{title:"Assigned",value:yt.filter(re=>re.handling_status==="Assigned").length.toString(),change:"+3",icon:a.jsx(Sn,{})})]}),a.jsx(k.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search IT assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:re=>i(re.target.value)})]}),a.jsx(qe,{children:c&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:re=>l(re.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Done",children:"Done"}),a.jsx("option",{value:"Cancel",children:"Cancel"})]})})})]})}),a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ht.length>0?ht.map(re=>{var se,ke,Ze,dt;const le=!(re.handling_status==="Resolved"||re.handling_status==="Done"||re.handling_status==="Cancel"||re.handling_status==="Closed")&&oe("edit_workorders"),xe=re.handling_status==="New";["In Progress","Escalated","Vendor Handled"].includes(re.handling_status);const Me=He(re),Z=Nt(re);return a.jsxs(k.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>Se(re.id),title:"Click to view details",children:re.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:re.requester.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(re.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:re.handling_date?new Date(re.handling_date).toLocaleDateString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Oe((se=re.service)==null?void 0:se.priority)} shadow-sm`,children:((ke=re.service)==null?void 0:ke.priority)||"Medium"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${kt(re.handling_status)} shadow-sm`,children:re.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:xe?a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ve(re),className:"px-3 py-1.5 text-xs font-semibold rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"Click to Assign"}):a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${Z==="vendor"?"text-purple-600":Z==="user"?"text-blue-600":"text-gray-500"}`,children:Me}),Z==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Se(re.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(ns,{className:"text-lg"})}),le&&(re.handling_status!=="In Progress"||!((Ze=re.assigned_to)!=null&&Ze.name)||((dt=re.assigned_to)==null?void 0:dt.name)==="N/A")&&a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>de(`/workorders/it/receiver/editreceiver/${re.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:a.jsx(fs,{className:"text-lg"})})]})]},re.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work orders for assignment found matching your criteria."})})})]})})}),yt.length>C&&a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:mt+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(Pe,yt.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:yt.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie(v-1),disabled:v===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:vt},(re,ee)=>a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie(ee+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${v===ee+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:ee+1},ee+1)),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie(v+1),disabled:v===vt,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),y&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",y.work_order_no||y.id]}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),w(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(ge,{order:y,onClose:()=>{m(!1),w(null)}})})]})})}),y&&a.jsx(PDe,{isOpen:ne,onClose:()=>{fe(!1),w(null)},onAssign:je,workOrder:y,technicians:H})]})},fH=({content:t,className:e=""})=>{if(!t)return a.jsx("div",{className:`w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center ${e}`,children:"-"});const n=fh.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px] ${e}`,dangerouslySetInnerHTML:{__html:n}})},LDe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100 sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,IDe=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState(!1),[h,m]=b.useState(null),[p,x]=b.useState(null),[y,w]=b.useState(1),[v]=b.useState(5),[N,C]=b.useState(window.innerWidth<768),[S,M]=b.useState(!1),[_,A]=b.useState(!1),[O,D]=b.useState(!0),[F,L]=b.useState(null),{user:I,hasPermission:P,getWorkOrdersIT:z}=_t(),U=St(),V=Yr(),$=b.useRef(null),R=b.useRef(null);V.pathname,V.pathname;const W=V.pathname==="/workorders/it";V.pathname;const q=V.pathname==="/workorders/it/assignment",X=V.pathname==="/workorders/it/receiver",H=V.pathname==="/workorders/it/reports",J=V.pathname==="/workorders/it/knowledgebase",[ne,fe]=b.useState([]),de=b.useCallback(async()=>{try{D(!0),L(null);const Ie=(await z()).filter(We=>We.action_taken&&We.handling_status==="Closed").map(We=>{var st,rt,Ve;const pe=We.complaint.split(" ").slice(0,5).join(" "),Ne=`Solution for: ${pe}${pe.length<We.complaint.length?"...":""}`;return{id:We.id,title:Ne,content:We.action_taken||"No action taken details available.",category:((st=We.service)==null?void 0:st.service_name)||"General",tags:[((rt=We.service_type)==null?void 0:rt.group_name)||"General",We.handling_status||"Completed",...We.asset_no?[`Asset: ${We.asset_no}`]:[]],lastUpdated:We.handling_date||We.updated_at||We.created_at,workOrderNo:We.work_order_no,technician:((Ve=We.assigned_to)==null?void 0:Ve.name)||"Unknown Technician",completionDate:We.handling_date||We.updated_at}});fe(Ie)}catch(ce){L("Failed to load knowledge base articles"),console.error("Error loading work orders:",ce)}finally{D(!1)}},[z]);b.useEffect(()=>{const ce=()=>{C(window.innerWidth<768),window.innerWidth<768&&r(!1)};return window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce)},[]),b.useEffect(()=>{const ce=Ie=>{$.current&&!$.current.contains(Ie.target)&&M(!1),R.current&&!R.current.contains(Ie.target)&&A(!1)};return document.addEventListener("mousedown",ce),()=>{document.removeEventListener("mousedown",ce)}},[]),b.useEffect(()=>{de()},[de]),b.useEffect(()=>{w(1),document.documentElement.classList.toggle("dark",t)},[s,o,n,t]);const we=()=>{r(ce=>!ce)},Fe=b.useCallback(ce=>{x(ce),d(!0)},[]),$e=ne.filter(ce=>{const Ie=ce.title.toLowerCase().includes(s.toLowerCase())||ce.content.toLowerCase().includes(s.toLowerCase())||ce.tags.some(pe=>pe.toLowerCase().includes(s.toLowerCase())),We=o==="all"||ce.category===o;return Ie&&We}),be=Array.from(new Set(ne.map(ce=>ce.category))),Ee=y*v,Ge=Ee-v,ae=$e.slice(Ge,Ee),oe=Math.ceil($e.length/v),Y=ce=>w(ce);return I?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[N&&a.jsx(k.button,{onClick:we,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(EA,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"IT Knowledge Base"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!t),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:$,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>M(!S),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:S&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{M(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:R,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>A(!_),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${I.name||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:I.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:_&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:I.name||"Guest User"}),a.jsxs("button",{onClick:()=>{U("/profile"),A(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{U("/settings"),A(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{U("/logout"),A(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>U("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${W?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>U("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${X?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>U("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${q?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>U("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${H?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>U("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${J?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsx(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Knowledge Base"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Find solutions and information from completed work orders."})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-2/3",children:[a.jsx(Ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search articles by title, content, or tags...",value:s,onChange:ce=>i(ce.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{className:"relative w-full md:w-1/3",children:[a.jsxs("select",{value:o,onChange:ce=>l(ce.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Categories"}),be.map(ce=>a.jsx("option",{value:ce,children:ce},ce))]}),a.jsx(Ut,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Knowledge Articles"}),a.jsxs("div",{className:"text-sm text-gray-500",children:[$e.length," articles found"]})]}),O?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading knowledge base..."})]}):F?a.jsxs("div",{className:"text-center py-10 text-red-500",children:[a.jsx(Ts,{className:"mx-auto h-12 w-12 text-red-400 mb-2"}),a.jsx("p",{className:"text-lg font-medium",children:F}),a.jsx("button",{onClick:de,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]}):ae.length===0?a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(Ts,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("p",{className:"mt-2 text-lg",children:"No articles found matching your criteria."}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(qe,{children:ae.map(ce=>a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all duration-200",onClick:()=>Fe(ce),children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:ce.title}),a.jsx("div",{className:"text-gray-700 text-sm line-clamp-2 mb-3",children:a.jsx(fH,{content:ce.content,className:"line-clamp-2 bg-transparent border-none p-0"})}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:ce.category}),ce.tags.map(Ie=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:Ie},Ie))]}),a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(vw,{size:12,className:"mr-1"}),ce.workOrderNo]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(z8,{size:12,className:"mr-1"}),ce.technician]})]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Go,{size:12,className:"mr-1"}),new Date(ce.lastUpdated).toLocaleDateString()]})]})]},ce.id))})}),$e.length>v&&a.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx(k.button,{onClick:()=>Y(y-1),disabled:y===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsx(k.button,{onClick:()=>Y(y+1),disabled:y===oe,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:Ge+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(Ee,$e.length)})," of"," ",a.jsx("span",{className:"font-medium",children:$e.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a.jsxs(k.button,{onClick:()=>Y(y-1),disabled:y===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(Ys,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(oe)].map((ce,Ie)=>a.jsx(k.button,{onClick:()=>Y(Ie+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${y===Ie+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:Ie+1},Ie)),a.jsxs(k.button,{onClick:()=>Y(y+1),disabled:y===oe,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(Ft,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),p&&a.jsx(LDe,{isOpen:c,onClose:()=>d(!1),title:p.title,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(vw,{size:16,className:"mr-2 text-blue-600"}),a.jsx("span",{className:"font-medium",children:"Work Order:"}),a.jsx("span",{className:"ml-2",children:p.workOrderNo})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(z8,{size:16,className:"mr-2 text-green-600"}),a.jsx("span",{className:"font-medium",children:"Technician:"}),a.jsx("span",{className:"ml-2",children:p.technician})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Go,{size:16,className:"mr-2 text-purple-600"}),a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:new Date(p.completionDate).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(EA,{size:16,className:"mr-2 text-orange-600"}),a.jsx("span",{className:"font-medium",children:"Category:"}),a.jsx("span",{className:"ml-2",children:p.category})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Solution Details"}),a.jsx(fH,{content:p.content})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map(ce=>a.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:ce},ce))})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4 text-xs text-gray-500",children:["Last updated: ",new Date(p.lastUpdated).toLocaleDateString()," at ",new Date(p.lastUpdated).toLocaleTimeString()]})]})})]}):a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})};var FDe=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],mH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,s=String(e).toLowerCase(),i=String(r.getOptionValue(n)).toLowerCase(),o=String(r.getOptionLabel(n)).toLowerCase();return i===s||o===s},n5={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,r,s){return!(!e||n.some(function(i){return mH(e,i,s)})||r.some(function(i){return mH(e,i,s)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}};function $De(t){var e=t.allowCreateWhileLoading,n=e===void 0?!1:e,r=t.createOptionPosition,s=r===void 0?"last":r,i=t.formatCreateLabel,o=i===void 0?n5.formatCreateLabel:i,l=t.isValidNewOption,c=l===void 0?n5.isValidNewOption:l,d=t.getNewOptionData,h=d===void 0?n5.getNewOptionData:d,m=t.onCreateOption,p=t.options,x=p===void 0?[]:p,y=t.onChange,w=nl(t,FDe),v=w.getOptionValue,N=v===void 0?oQ:v,C=w.getOptionLabel,S=C===void 0?iQ:C,M=w.inputValue,_=w.isLoading,A=w.isMulti,O=w.value,D=w.name,F=b.useMemo(function(){return c(M,Gw(O),x,{getOptionValue:N,getOptionLabel:S})?h(M,o(M)):void 0},[o,h,S,N,M,c,x,O]),L=b.useMemo(function(){return(n||!_)&&F?s==="first"?[F].concat(Pf(x)):[].concat(Pf(x),[F]):x},[n,s,_,F,x]),I=b.useCallback(function(P,z){if(z.action!=="select-option")return y(P,z);var U=Array.isArray(P)?P:[P];if(U[U.length-1]===F){if(m)m(M);else{var V=h(M,M),$={action:"create-option",name:D,option:V};y(T0(A,[].concat(Pf(Gw(O)),[V]),V),$)}return}y(P,z)},[h,M,A,D,F,m,y,O]);return Vt(Vt({},w),{},{options:L,onChange:I})}var HDe=b.forwardRef(function(t,e){var n=DJ(t),r=$De(n);return b.createElement(IP,Yt({ref:e},r))}),Kee=HDe;const zDe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,BDe=()=>{var je,He,Nt,ge,re;const{addWorkOrderIT:t,user:e,getUsers:n,getServices:r,getDepartment:s,getServiceGroups:i}=_t(),o=St(),[l,c]=b.useState([]),[d,h]=b.useState([]),[m,p]=b.useState([]),[x,y]=b.useState([]),[w,v]=b.useState(window.innerWidth<768),[N,C]=b.useState(()=>{const ee=localStorage.getItem("sidebarOpen");return ee?JSON.parse(ee):!1}),[S,M]=b.useState(!1),[_,A]=b.useState(!1),[O,D]=b.useState(!1),[F,L]=b.useState(!1),[I,P]=b.useState(null),[z,U]=b.useState(null),[V,$]=b.useState(!1),[R,W]=b.useState(null),q=b.useRef(null),X=b.useRef(null),[H,J]=b.useState([]),[ne,fe]=b.useState([]),[de,we]=b.useState([]),[Fe,$e]=b.useState(!1),[be,Ee]=b.useState(!1),[Ge,ae]=b.useState(null),oe=b.useRef(null),Y=b.useRef(null),ce=()=>{Ee(!0)},Ie=()=>{const ee=document.createElement("input");ee.type="file",ee.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",ee.onchange=le=>{const xe=le.target;if(xe.files&&xe.files.length>0){const Me=xe.files[0];W(Me),Ve(Z=>({...Z,attachment:Me.name})),Ee(!1)}},ee.click()},We=async()=>{try{const ee=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});ae(ee),oe.current&&(oe.current.srcObject=ee)}catch(ee){console.error("Error accessing camera:",ee),alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},pe=()=>{if(oe.current&&Y.current){const ee=Y.current,le=ee.getContext("2d");if(le){ee.width=oe.current.videoWidth,ee.height=oe.current.videoHeight,le.drawImage(oe.current,0,0);const xe=ee.toDataURL("image/jpeg",.8);Ve(Me=>({...Me,attachment:xe})),Ge&&(Ge.getTracks().forEach(Me=>Me.stop()),ae(null)),Ee(!1)}}},Ne=()=>{Ge&&(Ge.getTracks().forEach(ee=>ee.stop()),ae(null)),Ee(!1)},st={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((je=e==null?void 0:e.department)==null?void 0:je.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[rt,Ve]=b.useState(st),Ue=rt.reception_method==="Electronic Work Order System";b.useEffect(()=>{e&&(async()=>{try{const xe=(await i(0)).map(se=>({id:Number(se.id),name:se.group_name??"",description:se.group_description??void 0}));fe(xe);const Me=await s();h(Me);const Z=await n();if(c(Z),e&&e.id){const ke=await r(parseInt(e.id));p(ke),console.log("Services loaded:",ke)}}catch(le){console.error("Failed to fetch master data:",le)}})()},[e,n,r,s,i]),b.useEffect(()=>{if(rt.reception_method==="Electronic Work Order System"&&e&&d.length>0){const ee=d.find(xe=>xe.id===e.department_id),le=(ee==null?void 0:ee.head_id)||null;Ve(xe=>({...xe,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:le}))}},[rt.reception_method,e,d]),b.useEffect(()=>{const ee=()=>{v(window.innerWidth<768),window.innerWidth<768&&C(!1)};return window.addEventListener("resize",ee),()=>window.removeEventListener("resize",ee)},[]),b.useEffect(()=>{const ee=le=>{q.current&&!q.current.contains(le.target)&&A(!1),X.current&&!X.current.contains(le.target)&&D(!1)};return document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[]),b.useEffect(()=>{if(rt.service_type_id&&m.length>0){const ee=m.filter(le=>String(le.id)===rt.service_type_id);J(ee)}else J([])},[rt.service_type_id,m]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",S),localStorage.setItem("sidebarOpen",JSON.stringify(N))},[N,S]);const Ye=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!N)),C(ee=>!ee)},kt=b.useCallback((ee,le)=>{let xe,Me;if(ee&&"target"in ee)xe=ee.target.name,Me=ee.target.value;else if(ee&&typeof ee=="object"&&"value"in ee&&le)xe=le,Me=ee.value;else if(ee===null&&le)xe=le,Me=null;else return;Ve(Z=>({...Z,[xe]:Me}))},[]),Oe=ee=>{const le=(ee==null?void 0:ee.value)||"";Ve(xe=>{var Z,se;const Me={...xe,reception_method:le};return le==="Electronic Work Order System"&&e?{...Me,requester_id:parseInt(e.id),department_id:((Z=e.department)==null?void 0:Z.id)||0,known_by_id:((se=e.department)==null?void 0:se.head_id)||null}:Me})},Xe=ee=>{Ve(le=>({...le,asset_no:ee?ee.value:""}))};b.useCallback(ee=>{const le=("nativeEvent"in ee,ee.target.files);le&&le.length>0?(W(le[0]),Ve(xe=>({...xe,attachment:le[0].name}))):(W(null),Ve(xe=>({...xe,attachment:null})))},[]);const Pt=b.useCallback(()=>{W(null),Ve(ee=>({...ee,attachment:null}))},[]),Se=async ee=>{ee.preventDefault(),L(!0),P(null);const le={...rt,date:rt.date,reception_method:rt.reception_method,requester_id:rt.requester_id,known_by_id:rt.known_by_id,department_id:rt.department_id,service_group_id:Number(rt.service_type_id),service_catalogue_id:Number(rt.service_id),asset_no:rt.asset_no,device_info:rt.device_info,complaint:rt.complaint,attachment:rt.attachment};try{await t(le),$(!0)}catch(xe){P(xe.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",xe)}finally{L(!1)}},bt=ee=>{Ve(le=>({...le,service_type_id:ee?ee.value:"",service_id:""}))},yt=ee=>{Ve(le=>({...le,service_id:ee?ee.value:""}))},Pe=b.useCallback(()=>{$(!1),o("/workorders/it")},[o]),mt={control:(ee,le)=>({...ee,minHeight:"42px",borderColor:le.isFocused?"#3B82F6":"#D1D5DB",boxShadow:le.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ee=>({...ee,padding:"0"}),singleValue:ee=>({...ee,color:"#374151"}),placeholder:ee=>({...ee,color:"#6B7280"}),dropdownIndicator:ee=>({...ee,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ee=>({...ee,display:"none"}),menu:ee=>({...ee,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ee,le)=>({...ee,backgroundColor:le.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},ht=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:a.jsx(Et,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:a.jsx(Zt,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:a.jsx(Et,{className:"text-blue-500"}),date:"Jul 28, 2023"}],vt=b.useCallback(ee=>{if(!ee)return;const le=parseInt(ee.value),xe=l.find(Me=>parseInt(Me.id)===le);if(xe){const Me=d.find(Z=>Z.id===xe.department_id);Ve(Z=>({...Z,requester_id:le,department_id:xe.department_id||0,known_by_id:(Me==null?void 0:Me.head_id)||null}))}},[l,d]),ie=()=>{if(Ue){const le=d.find(xe=>xe.id===(e==null?void 0:e.department_id));return(le==null?void 0:le.name)||"No department assigned"}const ee=d.find(le=>le.id===rt.department_id);return(ee==null?void 0:ee.name)||"No department assigned"},ve=()=>{if(Ue){const le=d.find(xe=>xe.id===(e==null?void 0:e.department_id));if(le&&le.head_id){const xe=l.find(Me=>parseInt(Me.id)===le.head_id);return(xe==null?void 0:xe.name)||"No department head assigned"}return"No department head assigned"}const ee=d.find(le=>le.id===rt.department_id);if(ee&&ee.head_id){const le=l.find(xe=>parseInt(xe.id)===ee.head_id);return(le==null?void 0:le.name)||"No department head assigned"}return"No department head assigned"};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[w&&a.jsx(k.button,{onClick:Ye,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsxs(k.button,{onClick:()=>o("/workorders/it"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(Ys,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back to Work Orders"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Add Work Order"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>M(!S),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":S?"Switch to light mode":"Switch to dark mode",children:S?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:q,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>A(!_),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:_&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:[ht.slice(0,3).map(ee=>a.jsxs("div",{className:"flex items-start px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 last:border-b-0",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:ee.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-gray-800",children:ee.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:ee.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ee.date})]})]},ee.id)),ht.length===0&&a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})]}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{A(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:X,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>D(!O),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:O&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{o("/profile"),D(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{o("/settings"),D(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{o("/logout"),D(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details to create a new maintenance or service request"})]}),a.jsxs(k.button,{onClick:()=>o("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ys,{className:"text-lg"})," Back to Work Orders"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[I&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:I}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>P(null)})})]}),a.jsxs("form",{onSubmit:Se,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Sn,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"date",name:"date",value:rt.date,onChange:kt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:rt.reception_method,label:rt.reception_method},onChange:Oe,placeholder:"Select Reception Method",styles:mt,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",a.jsx("span",{className:"text-red-500",children:"*"})]}),Ue?a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):a.jsx(_n,{id:"requester_id",name:"requester_id",options:l.map(ee=>({value:String(ee.id),label:ee.name})),value:l.find(ee=>parseInt(ee.id)===rt.requester_id)?{value:String(rt.requester_id),label:((He=l.find(ee=>parseInt(ee.id)===rt.requester_id))==null?void 0:He.name)||""}:null,onChange:vt,placeholder:"Select Requester",styles:mt,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:ie()})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:ve()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(uo,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{id:"service_type_id",name:"service_type_id",options:ne.map(ee=>({value:String(ee.id),label:ee.name})),value:rt.service_type_id?{value:rt.service_type_id,label:((Nt=ne.find(ee=>String(ee.id)===rt.service_type_id))==null?void 0:Nt.name)||""}:null,onChange:bt,placeholder:"Select Service Type",styles:mt,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{id:"service_id",name:"service_id",options:H.map(ee=>({value:String(ee.id),label:ee.service_name})),value:rt.service_id?{value:rt.service_id,label:((ge=H.find(ee=>String(ee.id)===rt.service_id))==null?void 0:ge.service_name)||""}:null,onChange:yt,placeholder:"Select Service",styles:mt}),H.length===0&&rt.service_type_id&&a.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:["No. Asset ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Kee,{name:"asset_no",id:"asset_no",options:x,value:rt.asset_no?{value:rt.asset_no,label:rt.asset_no}:null,onChange:Xe,onCreateOption:ee=>{const le={value:ee,label:ee};y(xe=>[...xe,le]),Xe(le)},placeholder:"Type or select Asset No.",styles:mt,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(dh,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"device_info",name:"device_info",value:rt.device_info,onChange:kt,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(oc,{value:rt.complaint,onChange:ee=>{Ve(le=>({...le,complaint:ee}))}})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),a.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",onClick:ce,children:a.jsxs("div",{className:"space-y-1 text-center",children:[a.jsx(qf,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("div",{className:"flex text-sm text-gray-600 justify-center",children:a.jsx("span",{children:"Klik untuk memilih attachment"})}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),a.jsx(qe,{children:be&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pilih Attachment"}),a.jsx("button",{onClick:Ne,className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:24})})]}),Ge?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[a.jsx("video",{ref:oe,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),a.jsx("canvas",{ref:Y,className:"hidden"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:pe,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-medium",children:"Ambil Foto"}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ne,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium",children:"Batal"})]})]}):a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors",children:[a.jsx(hme,{className:"h-8 w-8 text-gray-400 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Pilih File"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Dari perangkat Anda"})]})]}),a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:We,className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors",children:[a.jsx(Ife,{className:"h-8 w-8 text-gray-400 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Ambil Foto"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Gunakan kamera"})]})]})]})]})})}),R&&a.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:a.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[a.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[a.jsx(qf,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),a.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:R.name})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx(k.button,{type:"button",onClick:Pt,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},R.name)})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(k.button,{type:"button",onClick:()=>{Ve(st),W(null),P(null),U(null)},whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(Er,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:F,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:F?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Add Work Order"]})})]})]})]})]})]}),a.jsx(zDe,{isOpen:V,onClose:Pe,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:z==null?void 0:z.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(re=z==null?void 0:z.work_order)==null?void 0:re.work_order_no]}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Pe,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},VDe=()=>{const t=St(),{user:e}=_t(),[n,r]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[h,m]=b.useState(!1),p=b.useRef(null),x=b.useRef(null);b.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),b.useEffect(()=>{const v=N=>{p.current&&!p.current.contains(N.target)&&d(!1),x.current&&!x.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const y=()=>{i(v=>!v)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const w=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[o&&a.jsx(k.button,{onClick:y,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Ps,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Work Orders"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!n),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:p,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!c),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:c&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{d(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:x,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>m(!h),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{t("/profile"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{t("/settings"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{t("/logout"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Order Department"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the department you wish to manage work orders for."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(k.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workorders/it"),children:[a.jsx(rme,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"IT Work Orders"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and track IT-related maintenance and service requests."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to IT Work Orders ",a.jsx(Ft,{size:18,className:"ml-1"})]})]}),a.jsxs(k.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workorders/td"),children:[a.jsx(jme,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"TD Work Orders"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Handle technical department maintenance, repairs, and tasks."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to TD Work Orders ",a.jsx(Ft,{size:18,className:"ml-1"})]})]})]})]})]})]})},WDe=()=>{const t=St(),{user:e}=_t(),[n,r]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[h,m]=b.useState(!1),p=b.useRef(null),x=b.useRef(null);b.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),b.useEffect(()=>{const v=N=>{p.current&&!p.current.contains(N.target)&&d(!1),x.current&&!x.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const y=()=>{i(v=>!v)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const w=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[o&&a.jsx(k.button,{onClick:y,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(LK,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Work Locations"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!n),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:p,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!c),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:c&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{d(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:x,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>m(!h),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{t("/profile"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{t("/settings"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{t("/logout"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Location Type"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of work location you wish to manage."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:[a.jsxs(k.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/workarea"),children:[a.jsx(RK,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Area"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and define specific work areas within your facilities."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Work Area ",a.jsx(Ft,{size:18,className:"ml-1"})]})]}),a.jsxs(k.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/department"),children:[a.jsx(qu,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Departments"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Department ",a.jsx(Ft,{size:18,className:"ml-1"})]})]}),a.jsxs(k.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/workunit"),children:[a.jsx(Af,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Unit"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and track the precise physical locations of individual units."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Work Unit ",a.jsx(Ft,{size:18,className:"ml-1"})]})]})]})]})]})]})},UDe=()=>{const t=St(),{user:e}=_t(),[n,r]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[h,m]=b.useState(!1),p=b.useRef(null),x=b.useRef(null);b.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),b.useEffect(()=>{const v=N=>{p.current&&!p.current.contains(N.target)&&d(!1),x.current&&!x.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const y=()=>{i(v=>!v)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const w=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[o&&a.jsx(k.button,{onClick:y,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Dfe,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Work Arrangement"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!n),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:p,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!c),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:c&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{d(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:x,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>m(!h),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{t("/profile"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{t("/settings"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{t("/logout"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Arrangement Type"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose how you want to manage work groups and shifts."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(k.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workarrangement/workgroup"),children:[a.jsx(ja,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Work Group Management"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage teams or groups for various work arrangements."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Group Management ",a.jsx(Ft,{size:18,className:"ml-1"})]})]}),a.jsxs(k.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workarrangement/workshift"),children:[a.jsx(Sn,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Shift Management"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Plan and manage work shifts and schedules for your workforce."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Shift Management ",a.jsx(Ft,{size:18,className:"ml-1"})]})]})]})]})]})]})},qDe=()=>{const t=St(),{user:e}=_t(),[n,r]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[h,m]=b.useState(!1),p=b.useRef(null),x=b.useRef(null);b.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),b.useEffect(()=>{const v=N=>{p.current&&!p.current.contains(N.target)&&d(!1),x.current&&!x.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const y=()=>{i(v=>!v)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const w=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[o&&a.jsx(k.button,{onClick:y,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Na,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Spare Part Management"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!n),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:p,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!c),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:c&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{d(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:x,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>m(!h),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{t("/profile"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{t("/settings"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{t("/logout"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Spare Part Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your spare parts inventory and settings."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[a.jsxs(k.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/generalsettings"),children:[a.jsx(Xn,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"General Settings"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Configure overall settings for spare part management."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Settings ",a.jsx(Ft,{size:18,className:"ml-1"})]})]}),a.jsxs(k.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/spareparttype"),children:[a.jsx(FK,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Type"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of spare parts."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Types ",a.jsx(Ft,{size:18,className:"ml-1"})]})]}),a.jsxs(k.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/sparepartgroup"),children:[a.jsx(OK,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Categorize spare parts into logical groups."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Groups ",a.jsx(Ft,{size:18,className:"ml-1"})]})]}),a.jsxs(k.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/sparepartmaintenance"),children:[a.jsx(uo,{size:64,className:"text-orange-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Maintenance"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage maintenance records related to spare parts."}),a.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Maintenance ",a.jsx(Ft,{size:18,className:"ml-1"})]})]})]})]})]})]})},GDe=()=>{const t=St(),{user:e}=_t(),[n,r]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[h,m]=b.useState(!1),p=b.useRef(null),x=b.useRef(null);b.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),b.useEffect(()=>{const v=N=>{p.current&&!p.current.contains(N.target)&&d(!1),x.current&&!x.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const y=()=>{i(v=>!v)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const w=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[o&&a.jsx(k.button,{onClick:y,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(io,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Asset Management"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!n),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:p,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!c),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:c&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{d(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:x,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>m(!h),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{t("/profile"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{t("/settings"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{t("/logout"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Asset Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your assets."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(k.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/assets/assetsgroup"),children:[a.jsx(OK,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize your assets into logical groups for better management."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Assets Group ",a.jsx(Ft,{size:18,className:"ml-1"})]})]}),a.jsxs(k.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/assets/assetsdata"),children:[a.jsx(Wf,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Data"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"View and manage detailed information about your individual assets."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Assets Data ",a.jsx(Ft,{size:18,className:"ml-1"})]})]})]})]})]})]})},YDe=()=>{const t=St(),{user:e}=_t(),[n,r]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[h,m]=b.useState(!1),p=b.useRef(null),x=b.useRef(null);b.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),b.useEffect(()=>{const v=N=>{p.current&&!p.current.contains(N.target)&&d(!1),x.current&&!x.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const y=()=>{i(v=>!v)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const w=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[o&&a.jsx(k.button,{onClick:y,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(DK,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Service Management"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!n),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:p,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!c),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:c&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{d(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:x,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>m(!h),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{t("/profile"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{t("/settings"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{t("/logout"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Service Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your services."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(k.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/services/servicegroups"),children:[a.jsx(ja,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage groups of services or service teams."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Service Group ",a.jsx(Ft,{size:18,className:"ml-1"})]})]}),a.jsxs(k.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/services/servicecatalogues"),children:[a.jsx(EA,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Catalogue"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Browse and manage the list of available services."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Service Catalogue ",a.jsx(Ft,{size:18,className:"ml-1"})]})]})]})]})]})]})},KDe=()=>{const t=St(),{user:e}=_t(),[n,r]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[h,m]=b.useState(!1),p=b.useRef(null),x=b.useRef(null);b.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),b.useEffect(()=>{const v=N=>{p.current&&!p.current.contains(N.target)&&d(!1),x.current&&!x.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const y=()=>{i(v=>!v)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const w=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[o&&a.jsx(k.button,{onClick:y,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Na,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Maintenance Activity"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!n),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:p,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!c),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:c&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{d(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:x,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>m(!h),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{t("/profile"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{t("/settings"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{t("/logout"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance Activity Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage maintenance activities."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[a.jsxs(k.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/activitytypes"),children:[a.jsx(Iv,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity Type"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of maintenance activities."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Activity Types ",a.jsx(Ft,{size:18,className:"ml-1"})]})]}),a.jsxs(k.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/activity"),children:[a.jsx(Wl,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage the details of individual maintenance activities."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Activities ",a.jsx(Ft,{size:18,className:"ml-1"})]})]}),a.jsxs(k.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/stoptimes"),children:[a.jsx(Sn,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stop Time"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Record and analyze machine downtime and stop times."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Stop Time ",a.jsx(Ft,{size:18,className:"ml-1"})]})]}),a.jsxs(k.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/troubleitem"),children:[a.jsx(Zt,{size:64,className:"text-orange-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trouble Item"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and categorize common trouble items or issues."}),a.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Trouble Items ",a.jsx(Ft,{size:18,className:"ml-1"})]})]})]})]})]})]})};var r5,pH;function qa(){if(pH)return r5;pH=1;var t=Array.isArray;return r5=t,r5}var s5,gH;function Xee(){if(gH)return s5;gH=1;var t=typeof dy=="object"&&dy&&dy.Object===Object&&dy;return s5=t,s5}var a5,xH;function rl(){if(xH)return a5;xH=1;var t=Xee(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return a5=n,a5}var i5,bH;function Bx(){if(bH)return i5;bH=1;var t=rl(),e=t.Symbol;return i5=e,i5}var o5,yH;function XDe(){if(yH)return o5;yH=1;var t=Bx(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,s=t?t.toStringTag:void 0;function i(o){var l=n.call(o,s),c=o[s];try{o[s]=void 0;var d=!0}catch{}var h=r.call(o);return d&&(l?o[s]=c:delete o[s]),h}return o5=i,o5}var l5,vH;function JDe(){if(vH)return l5;vH=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return l5=n,l5}var c5,wH;function gc(){if(wH)return c5;wH=1;var t=Bx(),e=XDe(),n=JDe(),r="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?s:r:i&&i in Object(l)?e(l):n(l)}return c5=o,c5}var d5,jH;function xc(){if(jH)return d5;jH=1;function t(e){return e!=null&&typeof e=="object"}return d5=t,d5}var u5,NH;function Vm(){if(NH)return u5;NH=1;var t=gc(),e=xc(),n="[object Symbol]";function r(s){return typeof s=="symbol"||e(s)&&t(s)==n}return u5=r,u5}var h5,SH;function w4(){if(SH)return h5;SH=1;var t=qa(),e=Vm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||o!=null&&i in Object(o)}return h5=s,h5}var f5,kH;function Od(){if(kH)return f5;kH=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return f5=t,f5}var m5,CH;function j4(){if(CH)return m5;CH=1;var t=gc(),e=Od(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==r||c==s||c==n||c==i}return m5=o,m5}var p5,_H;function QDe(){if(_H)return p5;_H=1;var t=rl(),e=t["__core-js_shared__"];return p5=e,p5}var g5,TH;function ZDe(){if(TH)return g5;TH=1;var t=QDe(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return g5=n,g5}var x5,MH;function Jee(){if(MH)return x5;MH=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return x5=n,x5}var b5,AH;function ePe(){if(AH)return b5;AH=1;var t=j4(),e=ZDe(),n=Od(),r=Jee(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,h=RegExp("^"+c.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(p){if(!n(p)||e(p))return!1;var x=t(p)?h:i;return x.test(r(p))}return b5=m,b5}var y5,OH;function tPe(){if(OH)return y5;OH=1;function t(e,n){return e==null?void 0:e[n]}return y5=t,y5}var v5,EH;function ph(){if(EH)return v5;EH=1;var t=ePe(),e=tPe();function n(r,s){var i=e(r,s);return t(i)?i:void 0}return v5=n,v5}var w5,DH;function TN(){if(DH)return w5;DH=1;var t=ph(),e=t(Object,"create");return w5=e,w5}var j5,PH;function nPe(){if(PH)return j5;PH=1;var t=TN();function e(){this.__data__=t?t(null):{},this.size=0}return j5=e,j5}var N5,RH;function rPe(){if(RH)return N5;RH=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return N5=t,N5}var S5,LH;function sPe(){if(LH)return S5;LH=1;var t=TN(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return r.call(o,i)?o[i]:void 0}return S5=s,S5}var k5,IH;function aPe(){if(IH)return k5;IH=1;var t=TN(),e=Object.prototype,n=e.hasOwnProperty;function r(s){var i=this.__data__;return t?i[s]!==void 0:n.call(i,s)}return k5=r,k5}var C5,FH;function iPe(){if(FH)return C5;FH=1;var t=TN(),e="__lodash_hash_undefined__";function n(r,s){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&s===void 0?e:s,this}return C5=n,C5}var _5,$H;function oPe(){if($H)return _5;$H=1;var t=nPe(),e=rPe(),n=sPe(),r=aPe(),s=iPe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,_5=i,_5}var T5,HH;function lPe(){if(HH)return T5;HH=1;function t(){this.__data__=[],this.size=0}return T5=t,T5}var M5,zH;function N4(){if(zH)return M5;zH=1;function t(e,n){return e===n||e!==e&&n!==n}return M5=t,M5}var A5,BH;function MN(){if(BH)return A5;BH=1;var t=N4();function e(n,r){for(var s=n.length;s--;)if(t(n[s][0],r))return s;return-1}return A5=e,A5}var O5,VH;function cPe(){if(VH)return O5;VH=1;var t=MN(),e=Array.prototype,n=e.splice;function r(s){var i=this.__data__,o=t(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():n.call(i,o,1),--this.size,!0}return O5=r,O5}var E5,WH;function dPe(){if(WH)return E5;WH=1;var t=MN();function e(n){var r=this.__data__,s=t(r,n);return s<0?void 0:r[s][1]}return E5=e,E5}var D5,UH;function uPe(){if(UH)return D5;UH=1;var t=MN();function e(n){return t(this.__data__,n)>-1}return D5=e,D5}var P5,qH;function hPe(){if(qH)return P5;qH=1;var t=MN();function e(n,r){var s=this.__data__,i=t(s,n);return i<0?(++this.size,s.push([n,r])):s[i][1]=r,this}return P5=e,P5}var R5,GH;function AN(){if(GH)return R5;GH=1;var t=lPe(),e=cPe(),n=dPe(),r=uPe(),s=hPe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,R5=i,R5}var L5,YH;function S4(){if(YH)return L5;YH=1;var t=ph(),e=rl(),n=t(e,"Map");return L5=n,L5}var I5,KH;function fPe(){if(KH)return I5;KH=1;var t=oPe(),e=AN(),n=S4();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return I5=r,I5}var F5,XH;function mPe(){if(XH)return F5;XH=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return F5=t,F5}var $5,JH;function ON(){if(JH)return $5;JH=1;var t=mPe();function e(n,r){var s=n.__data__;return t(r)?s[typeof r=="string"?"string":"hash"]:s.map}return $5=e,$5}var H5,QH;function pPe(){if(QH)return H5;QH=1;var t=ON();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return H5=e,H5}var z5,ZH;function gPe(){if(ZH)return z5;ZH=1;var t=ON();function e(n){return t(this,n).get(n)}return z5=e,z5}var B5,ez;function xPe(){if(ez)return B5;ez=1;var t=ON();function e(n){return t(this,n).has(n)}return B5=e,B5}var V5,tz;function bPe(){if(tz)return V5;tz=1;var t=ON();function e(n,r){var s=t(this,n),i=s.size;return s.set(n,r),this.size+=s.size==i?0:1,this}return V5=e,V5}var W5,nz;function k4(){if(nz)return W5;nz=1;var t=fPe(),e=pPe(),n=gPe(),r=xPe(),s=bPe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,W5=i,W5}var U5,rz;function Qee(){if(rz)return U5;rz=1;var t=k4(),e="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=r.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(n.Cache||t),i}return n.Cache=t,U5=n,U5}var q5,sz;function yPe(){if(sz)return q5;sz=1;var t=Qee(),e=500;function n(r){var s=t(r,function(o){return i.size===e&&i.clear(),o}),i=s.cache;return s}return q5=n,q5}var G5,az;function vPe(){if(az)return G5;az=1;var t=yPe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(e,function(o,l,c,d){i.push(c?d.replace(n,"$1"):l||o)}),i});return G5=r,G5}var Y5,iz;function C4(){if(iz)return Y5;iz=1;function t(e,n){for(var r=-1,s=e==null?0:e.length,i=Array(s);++r<s;)i[r]=n(e[r],r,e);return i}return Y5=t,Y5}var K5,oz;function wPe(){if(oz)return K5;oz=1;var t=Bx(),e=C4(),n=qa(),r=Vm(),s=t?t.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return K5=o,K5}var X5,lz;function Zee(){if(lz)return X5;lz=1;var t=wPe();function e(n){return n==null?"":t(n)}return X5=e,X5}var J5,cz;function ete(){if(cz)return J5;cz=1;var t=qa(),e=w4(),n=vPe(),r=Zee();function s(i,o){return t(i)?i:e(i,o)?[i]:n(r(i))}return J5=s,J5}var Q5,dz;function EN(){if(dz)return Q5;dz=1;var t=Vm();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Q5=e,Q5}var Z5,uz;function _4(){if(uz)return Z5;uz=1;var t=ete(),e=EN();function n(r,s){s=t(s,r);for(var i=0,o=s.length;r!=null&&i<o;)r=r[e(s[i++])];return i&&i==o?r:void 0}return Z5=n,Z5}var e_,hz;function tte(){if(hz)return e_;hz=1;var t=_4();function e(n,r,s){var i=n==null?void 0:t(n,r);return i===void 0?s:i}return e_=e,e_}var jPe=tte();const di=In(jPe);var t_,fz;function NPe(){if(fz)return t_;fz=1;function t(e){return e==null}return t_=t,t_}var SPe=NPe();const rn=In(SPe);var n_,mz;function kPe(){if(mz)return n_;mz=1;var t=gc(),e=qa(),n=xc(),r="[object String]";function s(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return n_=s,n_}var CPe=kPe();const rh=In(CPe);var _Pe=j4();const Qt=In(_Pe);var TPe=Od();const Wm=In(TPe);var r_={exports:{}},qn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pz;function MPe(){if(pz)return qn;pz=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function w(v){if(typeof v=="object"&&v!==null){var N=v.$$typeof;switch(N){case t:switch(v=v.type,v){case n:case s:case r:case d:case h:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case p:case m:case i:return v;default:return N}}case e:return N}}}return qn.ContextConsumer=o,qn.ContextProvider=i,qn.Element=t,qn.ForwardRef=c,qn.Fragment=n,qn.Lazy=p,qn.Memo=m,qn.Portal=e,qn.Profiler=s,qn.StrictMode=r,qn.Suspense=d,qn.SuspenseList=h,qn.isAsyncMode=function(){return!1},qn.isConcurrentMode=function(){return!1},qn.isContextConsumer=function(v){return w(v)===o},qn.isContextProvider=function(v){return w(v)===i},qn.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},qn.isForwardRef=function(v){return w(v)===c},qn.isFragment=function(v){return w(v)===n},qn.isLazy=function(v){return w(v)===p},qn.isMemo=function(v){return w(v)===m},qn.isPortal=function(v){return w(v)===e},qn.isProfiler=function(v){return w(v)===s},qn.isStrictMode=function(v){return w(v)===r},qn.isSuspense=function(v){return w(v)===d},qn.isSuspenseList=function(v){return w(v)===h},qn.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===n||v===s||v===r||v===d||v===h||v===x||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===m||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===y||v.getModuleId!==void 0)},qn.typeOf=w,qn}var gz;function APe(){return gz||(gz=1,r_.exports=MPe()),r_.exports}var OPe=APe(),s_,xz;function nte(){if(xz)return s_;xz=1;var t=gc(),e=xc(),n="[object Number]";function r(s){return typeof s=="number"||e(s)&&t(s)==n}return s_=r,s_}var a_,bz;function EPe(){if(bz)return a_;bz=1;var t=nte();function e(n){return t(n)&&n!=+n}return a_=e,a_}var DPe=EPe();const Vx=In(DPe);var PPe=nte();const RPe=In(PPe);var ya=function(e){return e===0?0:e>0?1:-1},_u=function(e){return rh(e)&&e.indexOf("%")===e.length-1},xt=function(e){return RPe(e)&&!Vx(e)},LPe=function(e){return rn(e)},ws=function(e){return xt(e)||rh(e)},IPe=0,Um=function(e){var n=++IPe;return"".concat(e||"").concat(n)},va=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xt(e)&&!rh(e))return r;var i;if(_u(e)){var o=e.indexOf("%");i=n*parseFloat(e.slice(0,o))/100}else i=+e;return Vx(i)&&(i=r),s&&i>n&&(i=n),i},ed=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},FPe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},s=0;s<n;s++)if(!r[e[s]])r[e[s]]=!0;else return!0;return!1},si=function(e,n){return xt(e)&&xt(n)?function(r){return e+r*(n-e)}:function(){return n}};function F1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):di(r,e))===n})}var $Pe=function(e,n){return xt(e)&&xt(n)?e-n:rh(e)&&rh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ff(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function UO(t){"@babel/helpers - typeof";return UO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UO(t)}var HPe=["viewBox","children"],zPe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yz=["points","pathLength"],i_={svg:HPe,polygon:yz,polyline:yz},T4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),!Wm(r))return null;var s={};return Object.keys(r).forEach(function(i){T4.includes(i)&&(s[i]=n||function(o){return r[i](r,o)})}),s},BPe=function(e,n,r){return function(s){return e(n,r,s),null}},sh=function(e,n,r){if(!Wm(e)||UO(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];T4.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=BPe(o,n,r))}),s},VPe=["children"],WPe=["children"];function vz(t,e){if(t==null)return{};var n=UPe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qO(t){"@babel/helpers - typeof";return qO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qO(t)}var wz={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},jz=null,o_=null,M4=function t(e){if(e===jz&&Array.isArray(o_))return o_;var n=[];return b.Children.forEach(e,function(r){rn(r)||(OPe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),o_=n,jz=e,n};function ui(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(s){return Zl(s)}):r=[Zl(e)],M4(t).forEach(function(s){var i=di(s,"type.displayName")||di(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}function ri(t,e){var n=ui(t,e);return n&&n[0]}var Nz=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,s=n.height;return!(!xt(r)||r<=0||!xt(s)||s<=0)},qPe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],GPe=function(e){return e&&e.type&&rh(e.type)&&qPe.indexOf(e.type)>=0},YPe=function(e){return e&&qO(e)==="object"&&"clipDot"in e},KPe=function(e,n,r,s){var i,o=(i=i_==null?void 0:i_[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Qt(e)&&(s&&o.includes(n)||zPe.includes(n))||r&&T4.includes(n)},qt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(b.isValidElement(e)&&(s=e.props),!Wm(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;KPe((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=s[o])}),i},GO=function t(e,n){if(e===n)return!0;var r=b.Children.count(e);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Sz(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var i=e[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!Sz(i,o))return!1}return!0},Sz=function(e,n){if(rn(e)&&rn(n))return!0;if(!rn(e)&&!rn(n)){var r=e.props||{},s=r.children,i=vz(r,VPe),o=n.props||{},l=o.children,c=vz(o,WPe);return s&&l?Ff(i,c)&&GO(s,l):!s&&!l?Ff(i,c):!1}return!1},kz=function(e,n){var r=[],s={};return M4(e).forEach(function(i,o){if(GPe(i))r.push(i);else if(i){var l=Zl(i.type),c=n[l]||{},d=c.handler,h=c.once;if(d&&(!h||!s[l])){var m=d(i,l,o);r.push(m),s[l]=!0}}}),r},XPe=function(e){var n=e&&e.type;return n&&wz[n]?wz[n]:null},JPe=function(e,n){return M4(n).indexOf(e)},QPe=["children","width","height","viewBox","className","style","title","desc"];function YO(){return YO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YO.apply(this,arguments)}function ZPe(t,e){if(t==null)return{};var n=e4e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KO(t){var e=t.children,n=t.width,r=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=ZPe(t,QPe),h=s||{width:n,height:r,x:0,y:0},m=It("recharts-surface",i);return Q.createElement("svg",YO({},qt(d,!0,"svg"),{className:m,width:n,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Q.createElement("title",null,l),Q.createElement("desc",null,c),e)}var t4e=["children","className"];function XO(){return XO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XO.apply(this,arguments)}function n4e(t,e){if(t==null)return{};var n=r4e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Pn=Q.forwardRef(function(t,e){var n=t.children,r=t.className,s=n4e(t,t4e),i=It("recharts-layer",r);return Q.createElement("g",XO({className:i},qt(s,!0),{ref:e}),n)}),co=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]},l_,Cz;function s4e(){if(Cz)return l_;Cz=1;function t(e,n,r){var s=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(i);++s<i;)o[s]=e[s+n];return o}return l_=t,l_}var c_,_z;function a4e(){if(_z)return c_;_z=1;var t=s4e();function e(n,r,s){var i=n.length;return s=s===void 0?i:s,!r&&s>=i?n:t(n,r,s)}return c_=e,c_}var d_,Tz;function rte(){if(Tz)return d_;Tz=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=e+n+r,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+s+i+"]");function c(d){return l.test(d)}return d_=c,d_}var u_,Mz;function i4e(){if(Mz)return u_;Mz=1;function t(e){return e.split("")}return u_=t,u_}var h_,Az;function o4e(){if(Az)return h_;Az=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=e+n+r,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",y=d+"?",w="["+i+"]?",v="(?:"+x+"(?:"+[h,m,p].join("|")+")"+w+y+")*",N=w+y+v,C="(?:"+[h+l+"?",l,m,p,o].join("|")+")",S=RegExp(c+"(?="+c+")|"+C+N,"g");function M(_){return _.match(S)||[]}return h_=M,h_}var f_,Oz;function l4e(){if(Oz)return f_;Oz=1;var t=i4e(),e=rte(),n=o4e();function r(s){return e(s)?n(s):t(s)}return f_=r,f_}var m_,Ez;function c4e(){if(Ez)return m_;Ez=1;var t=a4e(),e=rte(),n=l4e(),r=Zee();function s(i){return function(o){o=r(o);var l=e(o)?n(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return m_=s,m_}var p_,Dz;function d4e(){if(Dz)return p_;Dz=1;var t=c4e(),e=t("toUpperCase");return p_=e,p_}var u4e=d4e();const DN=In(u4e);function br(t){return function(){return t}}const ste=Math.cos,H1=Math.sin,mo=Math.sqrt,z1=Math.PI,PN=2*z1,JO=Math.PI,QO=2*JO,fu=1e-6,h4e=QO-fu;function ate(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function f4e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ate;const n=10**e;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class m4e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ate:f4e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,s){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,n,r,s,i,o){this._append`C${+e},${+n},${+r},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,s,i){if(e=+e,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-e,d=s-n,h=o-e,m=l-n,p=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>fu)if(!(Math.abs(m*c-d*h)>fu)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-o,y=s-l,w=c*c+d*d,v=x*x+y*y,N=Math.sqrt(w),C=Math.sqrt(p),S=i*Math.tan((JO-Math.acos((w+p-v)/(2*N*C)))/2),M=S/C,_=S/N;Math.abs(M-1)>fu&&this._append`L${e+M*h},${n+M*m}`,this._append`A${i},${i},0,0,${+(m*x>h*y)},${this._x1=e+_*c},${this._y1=n+_*d}`}}arc(e,n,r,s,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),d=e+l,h=n+c,m=1^o,p=o?s-i:i-s;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>fu||Math.abs(this._y1-h)>fu)&&this._append`L${d},${h}`,r&&(p<0&&(p=p%QO+QO),p>h4e?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:p>fu&&this._append`A${r},${r},0,${+(p>=JO)},${m},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function A4(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new m4e(e)}function O4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ite(t){this._context=t}ite.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function RN(t){return new ite(t)}function ote(t){return t[0]}function lte(t){return t[1]}function cte(t,e){var n=br(!0),r=null,s=RN,i=null,o=A4(l);t=typeof t=="function"?t:t===void 0?ote:br(t),e=typeof e=="function"?e:e===void 0?lte:br(e);function l(c){var d,h=(c=O4(c)).length,m,p=!1,x;for(r==null&&(i=s(x=o())),d=0;d<=h;++d)!(d<h&&n(m=c[d],d,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(m,d,c),+e(m,d,c));if(x)return i=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:br(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:br(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:br(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(i=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=i=null:i=s(r=c),l):r},l}function cv(t,e,n){var r=null,s=br(!0),i=null,o=RN,l=null,c=A4(d);t=typeof t=="function"?t:t===void 0?ote:br(+t),e=typeof e=="function"?e:br(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?lte:br(+n);function d(m){var p,x,y,w=(m=O4(m)).length,v,N=!1,C,S=new Array(w),M=new Array(w);for(i==null&&(l=o(C=c())),p=0;p<=w;++p){if(!(p<w&&s(v=m[p],p,m))===N)if(N=!N)x=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=x;--y)l.point(S[y],M[y]);l.lineEnd(),l.areaEnd()}N&&(S[p]=+t(v,p,m),M[p]=+e(v,p,m),l.point(r?+r(v,p,m):S[p],n?+n(v,p,m):M[p]))}if(C)return l=null,C+""||null}function h(){return cte().defined(s).curve(o).context(i)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:br(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:br(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:br(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:br(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:br(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:br(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(m){return arguments.length?(s=typeof m=="function"?m:br(!!m),d):s},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class dte{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function p4e(t){return new dte(t,!0)}function g4e(t){return new dte(t,!1)}const E4={draw(t,e){const n=mo(e/z1);t.moveTo(n,0),t.arc(0,0,n,0,PN)}},x4e={draw(t,e){const n=mo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ute=mo(1/3),b4e=ute*2,y4e={draw(t,e){const n=mo(e/b4e),r=n*ute;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},v4e={draw(t,e){const n=mo(e),r=-n/2;t.rect(r,r,n,n)}},w4e=.8908130915292852,hte=H1(z1/10)/H1(7*z1/10),j4e=H1(PN/10)*hte,N4e=-ste(PN/10)*hte,S4e={draw(t,e){const n=mo(e*w4e),r=j4e*n,s=N4e*n;t.moveTo(0,-n),t.lineTo(r,s);for(let i=1;i<5;++i){const o=PN*i/5,l=ste(o),c=H1(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*s,c*r+l*s)}t.closePath()}},g_=mo(3),k4e={draw(t,e){const n=-mo(e/(g_*3));t.moveTo(0,n*2),t.lineTo(-g_*n,-n),t.lineTo(g_*n,-n),t.closePath()}},Si=-.5,ki=mo(3)/2,ZO=1/mo(12),C4e=(ZO/2+1)*3,_4e={draw(t,e){const n=mo(e/C4e),r=n/2,s=n*ZO,i=r,o=n*ZO+n,l=-i,c=o;t.moveTo(r,s),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(Si*r-ki*s,ki*r+Si*s),t.lineTo(Si*i-ki*o,ki*i+Si*o),t.lineTo(Si*l-ki*c,ki*l+Si*c),t.lineTo(Si*r+ki*s,Si*s-ki*r),t.lineTo(Si*i+ki*o,Si*o-ki*i),t.lineTo(Si*l+ki*c,Si*c-ki*l),t.closePath()}};function T4e(t,e){let n=null,r=A4(s);t=typeof t=="function"?t:br(t||E4),e=typeof e=="function"?e:br(e===void 0?64:+e);function s(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:br(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:br(+i),s):e},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function B1(){}function V1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fte(t){this._context=t}fte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:V1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:V1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M4e(t){return new fte(t)}function mte(t){this._context=t}mte.prototype={areaStart:B1,areaEnd:B1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:V1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function A4e(t){return new mte(t)}function pte(t){this._context=t}pte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:V1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function O4e(t){return new pte(t)}function gte(t){this._context=t}gte.prototype={areaStart:B1,areaEnd:B1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function E4e(t){return new gte(t)}function Pz(t){return t<0?-1:1}function Rz(t,e,n){var r=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(r||s<0&&-0),o=(n-t._y1)/(s||r<0&&-0),l=(i*s+o*r)/(r+s);return(Pz(i)+Pz(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Lz(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function x_(t,e,n){var r=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-r)/3;t._context.bezierCurveTo(r+l,s+l*e,i-l,o-l*n,i,o)}function W1(t){this._context=t}W1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:x_(this,this._t0,Lz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,x_(this,Lz(this,n=Rz(this,t,e)),n);break;default:x_(this,this._t0,n=Rz(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function xte(t){this._context=new bte(t)}(xte.prototype=Object.create(W1.prototype)).point=function(t,e){W1.prototype.point.call(this,e,t)};function bte(t){this._context=t}bte.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,s,i){this._context.bezierCurveTo(e,t,r,n,i,s)}};function D4e(t){return new W1(t)}function P4e(t){return new xte(t)}function yte(t){this._context=t}yte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Iz(t),s=Iz(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Iz(t){var e,n=t.length-1,r,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=s[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(s[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function R4e(t){return new yte(t)}function LN(t,e){this._context=t,this._t=e}LN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function L4e(t){return new LN(t,.5)}function I4e(t){return new LN(t,0)}function F4e(t){return new LN(t,1)}function dm(t,e){if((o=t.length)>1)for(var n=1,r,s,i=t[e[0]],o,l=i.length;n<o;++n)for(s=i,i=t[e[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function eE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $4e(t,e){return t[e]}function H4e(t){const e=[];return e.key=t,e}function z4e(){var t=br([]),e=eE,n=dm,r=$4e;function s(i){var o=Array.from(t.apply(this,arguments),H4e),l,c=o.length,d=-1,h;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+r(m,o[l].key,d,i)]).data=m;for(l=0,h=O4(e(o));l<c;++l)o[h[l]].index=l;return n(o,h),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:br(Array.from(i)),s):t},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:br(+i),s):r},s.order=function(i){return arguments.length?(e=i==null?eE:typeof i=="function"?i:br(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(n=i??dm,s):n},s}function B4e(t,e){if((r=t.length)>0){for(var n,r,s=0,i=t[0].length,o;s<i;++s){for(o=n=0;n<r;++n)o+=t[n][s][1]||0;if(o)for(n=0;n<r;++n)t[n][s][1]/=o}dm(t,e)}}function V4e(t,e){if((s=t.length)>0){for(var n=0,r=t[e[0]],s,i=r.length;n<i;++n){for(var o=0,l=0;o<s;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}dm(t,e)}}function W4e(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var n=0,r=1,s,i,o;r<i;++r){for(var l=0,c=0,d=0;l<o;++l){for(var h=t[e[l]],m=h[r][1]||0,p=h[r-1][1]||0,x=(m-p)/2,y=0;y<l;++y){var w=t[e[y]],v=w[r][1]||0,N=w[r-1][1]||0;x+=v-N}c+=m,d+=x*m}s[r-1][1]+=s[r-1][0]=n,c&&(n-=d/c)}s[r-1][1]+=s[r-1][0]=n,dm(t,e)}}function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}var U4e=["type","size","sizeType"];function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(this,arguments)}function Fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function $z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(n),!0).forEach(function(r){q4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q4e(t,e,n){return e=G4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G4e(t){var e=Y4e(t,"string");return zg(e)=="symbol"?e:e+""}function Y4e(t,e){if(zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K4e(t,e){if(t==null)return{};var n=X4e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vte={symbolCircle:E4,symbolCross:x4e,symbolDiamond:y4e,symbolSquare:v4e,symbolStar:S4e,symbolTriangle:k4e,symbolWye:_4e},J4e=Math.PI/180,Q4e=function(e){var n="symbol".concat(DN(e));return vte[n]||E4},Z4e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*J4e;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},e3e=function(e,n){vte["symbol".concat(DN(e))]=n},D4=function(e){var n=e.type,r=n===void 0?"circle":n,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=K4e(e,U4e),d=$z($z({},c),{},{type:r,size:i,sizeType:l}),h=function(){var v=Q4e(r),N=T4e().type(v).size(Z4e(i,l,r));return N()},m=d.className,p=d.cx,x=d.cy,y=qt(d,!0);return p===+p&&x===+x&&i===+i?Q.createElement("path",tE({},y,{className:It("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(x,")"),d:h()})):null};D4.registerSymbol=e3e;function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function Hz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function t3e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hz(Object(n),!0).forEach(function(r){Bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jte(r.key),r)}}function s3e(t,e,n){return e&&r3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a3e(t,e,n){return e=U1(e),i3e(t,wte()?Reflect.construct(e,n||[],U1(t).constructor):e.apply(t,n))}function i3e(t,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o3e(t)}function o3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wte=function(){return!!t})()}function U1(t){return U1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U1(t)}function l3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},rE(t,e)}function Bg(t,e,n){return e=jte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=c3e(t,"string");return um(e)=="symbol"?e:e+""}function c3e(t,e){if(um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ci=32,P4=(function(t){function e(){return n3e(this,e),a3e(this,e,arguments)}return l3e(e,t),s3e(e,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,i=Ci/2,o=Ci/6,l=Ci/3,c=r.inactive?s:r.color;if(r.type==="plainline")return Q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:Ci,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return Q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ci,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return Q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ci/8,"h").concat(Ci,"v").concat(Ci*3/4,"h").concat(-Ci,"z"),className:"recharts-legend-icon"});if(Q.isValidElement(r.legendIcon)){var d=t3e({},r);return delete d.legendIcon,Q.cloneElement(r.legendIcon,d)}return Q.createElement(D4,{fill:c,cx:i,cy:i,size:Ci,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,h={x:0,y:0,width:Ci,height:Ci},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,y){var w=x.formatter||c,v=It(Bg(Bg({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",x.inactive));if(x.type==="none")return null;var N=Qt(x.value)?null:x.value;co(!Qt(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=x.inactive?d:x.color;return Q.createElement("li",nE({className:v,style:m,key:"legend-item-".concat(y)},sh(r.props,x,y)),Q.createElement(KO,{width:o,height:o,viewBox:h,style:p},r.renderIcon(x)),Q.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},w?w(N,x,y):N))})}},{key:"render",value:function(){var r=this.props,s=r.payload,i=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(b.PureComponent);Bg(P4,"displayName","Legend");Bg(P4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var b_,zz;function d3e(){if(zz)return b_;zz=1;var t=AN();function e(){this.__data__=new t,this.size=0}return b_=e,b_}var y_,Bz;function u3e(){if(Bz)return y_;Bz=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return y_=t,y_}var v_,Vz;function h3e(){if(Vz)return v_;Vz=1;function t(e){return this.__data__.get(e)}return v_=t,v_}var w_,Wz;function f3e(){if(Wz)return w_;Wz=1;function t(e){return this.__data__.has(e)}return w_=t,w_}var j_,Uz;function m3e(){if(Uz)return j_;Uz=1;var t=AN(),e=S4(),n=k4(),r=200;function s(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(i,o),this.size=l.size,this}return j_=s,j_}var N_,qz;function Nte(){if(qz)return N_;qz=1;var t=AN(),e=d3e(),n=u3e(),r=h3e(),s=f3e(),i=m3e();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=s,o.prototype.set=i,N_=o,N_}var S_,Gz;function p3e(){if(Gz)return S_;Gz=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return S_=e,S_}var k_,Yz;function g3e(){if(Yz)return k_;Yz=1;function t(e){return this.__data__.has(e)}return k_=t,k_}var C_,Kz;function Ste(){if(Kz)return C_;Kz=1;var t=k4(),e=p3e(),n=g3e();function r(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new t;++i<o;)this.add(s[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,C_=r,C_}var __,Xz;function kte(){if(Xz)return __;Xz=1;function t(e,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(e[r],r,e))return!0;return!1}return __=t,__}var T_,Jz;function Cte(){if(Jz)return T_;Jz=1;function t(e,n){return e.has(n)}return T_=t,T_}var M_,Qz;function _te(){if(Qz)return M_;Qz=1;var t=Ste(),e=kte(),n=Cte(),r=1,s=2;function i(o,l,c,d,h,m){var p=c&r,x=o.length,y=l.length;if(x!=y&&!(p&&y>x))return!1;var w=m.get(o),v=m.get(l);if(w&&v)return w==l&&v==o;var N=-1,C=!0,S=c&s?new t:void 0;for(m.set(o,l),m.set(l,o);++N<x;){var M=o[N],_=l[N];if(d)var A=p?d(_,M,N,l,o,m):d(M,_,N,o,l,m);if(A!==void 0){if(A)continue;C=!1;break}if(S){if(!e(l,function(O,D){if(!n(S,D)&&(M===O||h(M,O,c,d,m)))return S.push(D)})){C=!1;break}}else if(!(M===_||h(M,_,c,d,m))){C=!1;break}}return m.delete(o),m.delete(l),C}return M_=i,M_}var A_,Zz;function x3e(){if(Zz)return A_;Zz=1;var t=rl(),e=t.Uint8Array;return A_=e,A_}var O_,eB;function b3e(){if(eB)return O_;eB=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(s,i){r[++n]=[i,s]}),r}return O_=t,O_}var E_,tB;function R4(){if(tB)return E_;tB=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(s){r[++n]=s}),r}return E_=t,E_}var D_,nB;function y3e(){if(nB)return D_;nB=1;var t=Bx(),e=x3e(),n=N4(),r=_te(),s=b3e(),i=R4(),o=1,l=2,c="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",p="[object Number]",x="[object RegExp]",y="[object Set]",w="[object String]",v="[object Symbol]",N="[object ArrayBuffer]",C="[object DataView]",S=t?t.prototype:void 0,M=S?S.valueOf:void 0;function _(A,O,D,F,L,I,P){switch(D){case C:if(A.byteLength!=O.byteLength||A.byteOffset!=O.byteOffset)return!1;A=A.buffer,O=O.buffer;case N:return!(A.byteLength!=O.byteLength||!I(new e(A),new e(O)));case c:case d:case p:return n(+A,+O);case h:return A.name==O.name&&A.message==O.message;case x:case w:return A==O+"";case m:var z=s;case y:var U=F&o;if(z||(z=i),A.size!=O.size&&!U)return!1;var V=P.get(A);if(V)return V==O;F|=l,P.set(A,O);var $=r(z(A),z(O),F,L,I,P);return P.delete(A),$;case v:if(M)return M.call(A)==M.call(O)}return!1}return D_=_,D_}var P_,rB;function Tte(){if(rB)return P_;rB=1;function t(e,n){for(var r=-1,s=n.length,i=e.length;++r<s;)e[i+r]=n[r];return e}return P_=t,P_}var R_,sB;function v3e(){if(sB)return R_;sB=1;var t=Tte(),e=qa();function n(r,s,i){var o=s(r);return e(r)?o:t(o,i(r))}return R_=n,R_}var L_,aB;function w3e(){if(aB)return L_;aB=1;function t(e,n){for(var r=-1,s=e==null?0:e.length,i=0,o=[];++r<s;){var l=e[r];n(l,r,e)&&(o[i++]=l)}return o}return L_=t,L_}var I_,iB;function j3e(){if(iB)return I_;iB=1;function t(){return[]}return I_=t,I_}var F_,oB;function N3e(){if(oB)return F_;oB=1;var t=w3e(),e=j3e(),n=Object.prototype,r=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(l){return r.call(o,l)}))}:e;return F_=i,F_}var $_,lB;function S3e(){if(lB)return $_;lB=1;function t(e,n){for(var r=-1,s=Array(e);++r<e;)s[r]=n(r);return s}return $_=t,$_}var H_,cB;function k3e(){if(cB)return H_;cB=1;var t=gc(),e=xc(),n="[object Arguments]";function r(s){return e(s)&&t(s)==n}return H_=r,H_}var z_,dB;function L4(){if(dB)return z_;dB=1;var t=k3e(),e=xc(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!s.call(o,"callee")};return z_=i,z_}var D0={exports:{}},B_,uB;function C3e(){if(uB)return B_;uB=1;function t(){return!1}return B_=t,B_}D0.exports;var hB;function Mte(){return hB||(hB=1,(function(t,e){var n=rl(),r=C3e(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;t.exports=d})(D0,D0.exports)),D0.exports}var V_,fB;function I4(){if(fB)return V_;fB=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,s){var i=typeof r;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<s}return V_=n,V_}var W_,mB;function F4(){if(mB)return W_;mB=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return W_=e,W_}var U_,pB;function _3e(){if(pB)return U_;pB=1;var t=gc(),e=F4(),n=xc(),r="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",m="[object Object]",p="[object RegExp]",x="[object Set]",y="[object String]",w="[object WeakMap]",v="[object ArrayBuffer]",N="[object DataView]",C="[object Float32Array]",S="[object Float64Array]",M="[object Int8Array]",_="[object Int16Array]",A="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",F="[object Uint16Array]",L="[object Uint32Array]",I={};I[C]=I[S]=I[M]=I[_]=I[A]=I[O]=I[D]=I[F]=I[L]=!0,I[r]=I[s]=I[v]=I[i]=I[N]=I[o]=I[l]=I[c]=I[d]=I[h]=I[m]=I[p]=I[x]=I[y]=I[w]=!1;function P(z){return n(z)&&e(z.length)&&!!I[t(z)]}return U_=P,U_}var q_,gB;function Ate(){if(gB)return q_;gB=1;function t(e){return function(n){return e(n)}}return q_=t,q_}var P0={exports:{}};P0.exports;var xB;function T3e(){return xB||(xB=1,(function(t,e){var n=Xee(),r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i&&n.process,l=(function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(P0,P0.exports)),P0.exports}var G_,bB;function Ote(){if(bB)return G_;bB=1;var t=_3e(),e=Ate(),n=T3e(),r=n&&n.isTypedArray,s=r?e(r):t;return G_=s,G_}var Y_,yB;function M3e(){if(yB)return Y_;yB=1;var t=S3e(),e=L4(),n=qa(),r=Mte(),s=I4(),i=Ote(),o=Object.prototype,l=o.hasOwnProperty;function c(d,h){var m=n(d),p=!m&&e(d),x=!m&&!p&&r(d),y=!m&&!p&&!x&&i(d),w=m||p||x||y,v=w?t(d.length,String):[],N=v.length;for(var C in d)(h||l.call(d,C))&&!(w&&(C=="length"||x&&(C=="offset"||C=="parent")||y&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||s(C,N)))&&v.push(C);return v}return Y_=c,Y_}var K_,vB;function A3e(){if(vB)return K_;vB=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||t;return n===s}return K_=e,K_}var X_,wB;function Ete(){if(wB)return X_;wB=1;function t(e,n){return function(r){return e(n(r))}}return X_=t,X_}var J_,jB;function O3e(){if(jB)return J_;jB=1;var t=Ete(),e=t(Object.keys,Object);return J_=e,J_}var Q_,NB;function E3e(){if(NB)return Q_;NB=1;var t=A3e(),e=O3e(),n=Object.prototype,r=n.hasOwnProperty;function s(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))r.call(i,l)&&l!="constructor"&&o.push(l);return o}return Q_=s,Q_}var Z_,SB;function Wx(){if(SB)return Z_;SB=1;var t=j4(),e=F4();function n(r){return r!=null&&e(r.length)&&!t(r)}return Z_=n,Z_}var eT,kB;function IN(){if(kB)return eT;kB=1;var t=M3e(),e=E3e(),n=Wx();function r(s){return n(s)?t(s):e(s)}return eT=r,eT}var tT,CB;function D3e(){if(CB)return tT;CB=1;var t=v3e(),e=N3e(),n=IN();function r(s){return t(s,n,e)}return tT=r,tT}var nT,_B;function P3e(){if(_B)return nT;_B=1;var t=D3e(),e=1,n=Object.prototype,r=n.hasOwnProperty;function s(i,o,l,c,d,h){var m=l&e,p=t(i),x=p.length,y=t(o),w=y.length;if(x!=w&&!m)return!1;for(var v=x;v--;){var N=p[v];if(!(m?N in o:r.call(o,N)))return!1}var C=h.get(i),S=h.get(o);if(C&&S)return C==o&&S==i;var M=!0;h.set(i,o),h.set(o,i);for(var _=m;++v<x;){N=p[v];var A=i[N],O=o[N];if(c)var D=m?c(O,A,N,o,i,h):c(A,O,N,i,o,h);if(!(D===void 0?A===O||d(A,O,l,c,h):D)){M=!1;break}_||(_=N=="constructor")}if(M&&!_){var F=i.constructor,L=o.constructor;F!=L&&"constructor"in i&&"constructor"in o&&!(typeof F=="function"&&F instanceof F&&typeof L=="function"&&L instanceof L)&&(M=!1)}return h.delete(i),h.delete(o),M}return nT=s,nT}var rT,TB;function R3e(){if(TB)return rT;TB=1;var t=ph(),e=rl(),n=t(e,"DataView");return rT=n,rT}var sT,MB;function L3e(){if(MB)return sT;MB=1;var t=ph(),e=rl(),n=t(e,"Promise");return sT=n,sT}var aT,AB;function Dte(){if(AB)return aT;AB=1;var t=ph(),e=rl(),n=t(e,"Set");return aT=n,aT}var iT,OB;function I3e(){if(OB)return iT;OB=1;var t=ph(),e=rl(),n=t(e,"WeakMap");return iT=n,iT}var oT,EB;function F3e(){if(EB)return oT;EB=1;var t=R3e(),e=S4(),n=L3e(),r=Dte(),s=I3e(),i=gc(),o=Jee(),l="[object Map]",c="[object Object]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",p="[object DataView]",x=o(t),y=o(e),w=o(n),v=o(r),N=o(s),C=i;return(t&&C(new t(new ArrayBuffer(1)))!=p||e&&C(new e)!=l||n&&C(n.resolve())!=d||r&&C(new r)!=h||s&&C(new s)!=m)&&(C=function(S){var M=i(S),_=M==c?S.constructor:void 0,A=_?o(_):"";if(A)switch(A){case x:return p;case y:return l;case w:return d;case v:return h;case N:return m}return M}),oT=C,oT}var lT,DB;function $3e(){if(DB)return lT;DB=1;var t=Nte(),e=_te(),n=y3e(),r=P3e(),s=F3e(),i=qa(),o=Mte(),l=Ote(),c=1,d="[object Arguments]",h="[object Array]",m="[object Object]",p=Object.prototype,x=p.hasOwnProperty;function y(w,v,N,C,S,M){var _=i(w),A=i(v),O=_?h:s(w),D=A?h:s(v);O=O==d?m:O,D=D==d?m:D;var F=O==m,L=D==m,I=O==D;if(I&&o(w)){if(!o(v))return!1;_=!0,F=!1}if(I&&!F)return M||(M=new t),_||l(w)?e(w,v,N,C,S,M):n(w,v,O,N,C,S,M);if(!(N&c)){var P=F&&x.call(w,"__wrapped__"),z=L&&x.call(v,"__wrapped__");if(P||z){var U=P?w.value():w,V=z?v.value():v;return M||(M=new t),S(U,V,N,C,M)}}return I?(M||(M=new t),r(w,v,N,C,S,M)):!1}return lT=y,lT}var cT,PB;function $4(){if(PB)return cT;PB=1;var t=$3e(),e=xc();function n(r,s,i,o,l){return r===s?!0:r==null||s==null||!e(r)&&!e(s)?r!==r&&s!==s:t(r,s,i,o,n,l)}return cT=n,cT}var dT,RB;function H3e(){if(RB)return dT;RB=1;var t=Nte(),e=$4(),n=1,r=2;function s(i,o,l,c){var d=l.length,h=d,m=!c;if(i==null)return!h;for(i=Object(i);d--;){var p=l[d];if(m&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++d<h;){p=l[d];var x=p[0],y=i[x],w=p[1];if(m&&p[2]){if(y===void 0&&!(x in i))return!1}else{var v=new t;if(c)var N=c(y,w,x,i,o,v);if(!(N===void 0?e(w,y,n|r,c,v):N))return!1}}return!0}return dT=s,dT}var uT,LB;function Pte(){if(LB)return uT;LB=1;var t=Od();function e(n){return n===n&&!t(n)}return uT=e,uT}var hT,IB;function z3e(){if(IB)return hT;IB=1;var t=Pte(),e=IN();function n(r){for(var s=e(r),i=s.length;i--;){var o=s[i],l=r[o];s[i]=[o,l,t(l)]}return s}return hT=n,hT}var fT,FB;function Rte(){if(FB)return fT;FB=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return fT=t,fT}var mT,$B;function B3e(){if($B)return mT;$B=1;var t=H3e(),e=z3e(),n=Rte();function r(s){var i=e(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===s||t(o,s,i)}}return mT=r,mT}var pT,HB;function V3e(){if(HB)return pT;HB=1;function t(e,n){return e!=null&&n in Object(e)}return pT=t,pT}var gT,zB;function W3e(){if(zB)return gT;zB=1;var t=ete(),e=L4(),n=qa(),r=I4(),s=F4(),i=EN();function o(l,c,d){c=t(c,l);for(var h=-1,m=c.length,p=!1;++h<m;){var x=i(c[h]);if(!(p=l!=null&&d(l,x)))break;l=l[x]}return p||++h!=m?p:(m=l==null?0:l.length,!!m&&s(m)&&r(x,m)&&(n(l)||e(l)))}return gT=o,gT}var xT,BB;function U3e(){if(BB)return xT;BB=1;var t=V3e(),e=W3e();function n(r,s){return r!=null&&e(r,s,t)}return xT=n,xT}var bT,VB;function q3e(){if(VB)return bT;VB=1;var t=$4(),e=tte(),n=U3e(),r=w4(),s=Pte(),i=Rte(),o=EN(),l=1,c=2;function d(h,m){return r(h)&&s(m)?i(o(h),m):function(p){var x=e(p,h);return x===void 0&&x===m?n(p,h):t(m,x,l|c)}}return bT=d,bT}var yT,WB;function qm(){if(WB)return yT;WB=1;function t(e){return e}return yT=t,yT}var vT,UB;function G3e(){if(UB)return vT;UB=1;function t(e){return function(n){return n==null?void 0:n[e]}}return vT=t,vT}var wT,qB;function Y3e(){if(qB)return wT;qB=1;var t=_4();function e(n){return function(r){return t(r,n)}}return wT=e,wT}var jT,GB;function K3e(){if(GB)return jT;GB=1;var t=G3e(),e=Y3e(),n=w4(),r=EN();function s(i){return n(i)?t(r(i)):e(i)}return jT=s,jT}var NT,YB;function sl(){if(YB)return NT;YB=1;var t=B3e(),e=q3e(),n=qm(),r=qa(),s=K3e();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):s(o)}return NT=i,NT}var ST,KB;function Lte(){if(KB)return ST;KB=1;function t(e,n,r,s){for(var i=e.length,o=r+(s?1:-1);s?o--:++o<i;)if(n(e[o],o,e))return o;return-1}return ST=t,ST}var kT,XB;function X3e(){if(XB)return kT;XB=1;function t(e){return e!==e}return kT=t,kT}var CT,JB;function J3e(){if(JB)return CT;JB=1;function t(e,n,r){for(var s=r-1,i=e.length;++s<i;)if(e[s]===n)return s;return-1}return CT=t,CT}var _T,QB;function Q3e(){if(QB)return _T;QB=1;var t=Lte(),e=X3e(),n=J3e();function r(s,i,o){return i===i?n(s,i,o):t(s,e,o)}return _T=r,_T}var TT,ZB;function Z3e(){if(ZB)return TT;ZB=1;var t=Q3e();function e(n,r){var s=n==null?0:n.length;return!!s&&t(n,r,0)>-1}return TT=e,TT}var MT,eV;function e6e(){if(eV)return MT;eV=1;function t(e,n,r){for(var s=-1,i=e==null?0:e.length;++s<i;)if(r(n,e[s]))return!0;return!1}return MT=t,MT}var AT,tV;function t6e(){if(tV)return AT;tV=1;function t(){}return AT=t,AT}var OT,nV;function n6e(){if(nV)return OT;nV=1;var t=Dte(),e=t6e(),n=R4(),r=1/0,s=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return OT=s,OT}var ET,rV;function r6e(){if(rV)return ET;rV=1;var t=Ste(),e=Z3e(),n=e6e(),r=Cte(),s=n6e(),i=R4(),o=200;function l(c,d,h){var m=-1,p=e,x=c.length,y=!0,w=[],v=w;if(h)y=!1,p=n;else if(x>=o){var N=d?null:s(c);if(N)return i(N);y=!1,p=r,v=new t}else v=d?[]:w;e:for(;++m<x;){var C=c[m],S=d?d(C):C;if(C=h||C!==0?C:0,y&&S===S){for(var M=v.length;M--;)if(v[M]===S)continue e;d&&v.push(S),w.push(C)}else p(v,S,h)||(v!==w&&v.push(S),w.push(C))}return w}return ET=l,ET}var DT,sV;function s6e(){if(sV)return DT;sV=1;var t=sl(),e=r6e();function n(r,s){return r&&r.length?e(r,t(s,2)):[]}return DT=n,DT}var a6e=s6e();const aV=In(a6e);function Ite(t,e,n){return e===!0?aV(t,n):Qt(e)?aV(t,e):t}function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}var i6e=["ref"];function iV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Cl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(n),!0).forEach(function(r){FN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$te(r.key),r)}}function l6e(t,e,n){return e&&oV(t.prototype,e),n&&oV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c6e(t,e,n){return e=q1(e),d6e(t,Fte()?Reflect.construct(e,n||[],q1(t).constructor):e.apply(t,n))}function d6e(t,e){if(e&&(hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u6e(t)}function u6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fte=function(){return!!t})()}function q1(t){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q1(t)}function h6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sE(t,e)}function sE(t,e){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},sE(t,e)}function FN(t,e,n){return e=$te(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $te(t){var e=f6e(t,"string");return hm(e)=="symbol"?e:e+""}function f6e(t,e){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function m6e(t,e){if(t==null)return{};var n=p6e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g6e(t){return t.value}function x6e(t,e){if(Q.isValidElement(t))return Q.cloneElement(t,e);if(typeof t=="function")return Q.createElement(t,e);e.ref;var n=m6e(e,i6e);return Q.createElement(P4,n)}var lV=1,zo=(function(t){function e(){var n;o6e(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=c6e(this,e,[].concat(s)),FN(n,"lastBoundingBox",{width:-1,height:-1}),n}return h6e(e,t),l6e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>lV||Math.abs(s.height-this.lastBoundingBox.height)>lV)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Cl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,h=s.chartHeight,m,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();m={left:((d||0)-x.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();p={top:((h||0)-y.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Cl(Cl({},m),p)}},{key:"render",value:function(){var r=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,h=s.payload,m=Cl(Cl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Q.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){r.wrapperNode=x}},x6e(i,Cl(Cl({},this.props),{},{payload:Ite(h,d,g6e)})))}}],[{key:"getWithHeight",value:function(r,s){var i=Cl(Cl({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&xt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||s}:null}}])})(b.PureComponent);FN(zo,"displayName","Legend");FN(zo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var PT,cV;function b6e(){if(cV)return PT;cV=1;var t=Bx(),e=L4(),n=qa(),r=t?t.isConcatSpreadable:void 0;function s(i){return n(i)||e(i)||!!(r&&i&&i[r])}return PT=s,PT}var RT,dV;function Hte(){if(dV)return RT;dV=1;var t=Tte(),e=b6e();function n(r,s,i,o,l){var c=-1,d=r.length;for(i||(i=e),l||(l=[]);++c<d;){var h=r[c];s>0&&i(h)?s>1?n(h,s-1,i,o,l):t(l,h):o||(l[l.length]=h)}return l}return RT=n,RT}var LT,uV;function y6e(){if(uV)return LT;uV=1;function t(e){return function(n,r,s){for(var i=-1,o=Object(n),l=s(n),c=l.length;c--;){var d=l[e?c:++i];if(r(o[d],d,o)===!1)break}return n}}return LT=t,LT}var IT,hV;function v6e(){if(hV)return IT;hV=1;var t=y6e(),e=t();return IT=e,IT}var FT,fV;function zte(){if(fV)return FT;fV=1;var t=v6e(),e=IN();function n(r,s){return r&&t(r,s,e)}return FT=n,FT}var $T,mV;function w6e(){if(mV)return $T;mV=1;var t=Wx();function e(n,r){return function(s,i){if(s==null)return s;if(!t(s))return n(s,i);for(var o=s.length,l=r?o:-1,c=Object(s);(r?l--:++l<o)&&i(c[l],l,c)!==!1;);return s}}return $T=e,$T}var HT,pV;function H4(){if(pV)return HT;pV=1;var t=zte(),e=w6e(),n=e(t);return HT=n,HT}var zT,gV;function Bte(){if(gV)return zT;gV=1;var t=H4(),e=Wx();function n(r,s){var i=-1,o=e(r)?Array(r.length):[];return t(r,function(l,c,d){o[++i]=s(l,c,d)}),o}return zT=n,zT}var BT,xV;function j6e(){if(xV)return BT;xV=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return BT=t,BT}var VT,bV;function N6e(){if(bV)return VT;bV=1;var t=Vm();function e(n,r){if(n!==r){var s=n!==void 0,i=n===null,o=n===n,l=t(n),c=r!==void 0,d=r===null,h=r===r,m=t(r);if(!d&&!m&&!l&&n>r||l&&c&&h&&!d&&!m||i&&c&&h||!s&&h||!o)return 1;if(!i&&!l&&!m&&n<r||m&&s&&o&&!i&&!l||d&&s&&o||!c&&o||!h)return-1}return 0}return VT=e,VT}var WT,yV;function S6e(){if(yV)return WT;yV=1;var t=N6e();function e(n,r,s){for(var i=-1,o=n.criteria,l=r.criteria,c=o.length,d=s.length;++i<c;){var h=t(o[i],l[i]);if(h){if(i>=d)return h;var m=s[i];return h*(m=="desc"?-1:1)}}return n.index-r.index}return WT=e,WT}var UT,vV;function k6e(){if(vV)return UT;vV=1;var t=C4(),e=_4(),n=sl(),r=Bte(),s=j6e(),i=Ate(),o=S6e(),l=qm(),c=qa();function d(h,m,p){m.length?m=t(m,function(w){return c(w)?function(v){return e(v,w.length===1?w[0]:w)}:w}):m=[l];var x=-1;m=t(m,i(n));var y=r(h,function(w,v,N){var C=t(m,function(S){return S(w)});return{criteria:C,index:++x,value:w}});return s(y,function(w,v){return o(w,v,p)})}return UT=d,UT}var qT,wV;function C6e(){if(wV)return qT;wV=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return qT=t,qT}var GT,jV;function _6e(){if(jV)return GT;jV=1;var t=C6e(),e=Math.max;function n(r,s,i){return s=e(s===void 0?r.length-1:s,0),function(){for(var o=arguments,l=-1,c=e(o.length-s,0),d=Array(c);++l<c;)d[l]=o[s+l];l=-1;for(var h=Array(s+1);++l<s;)h[l]=o[l];return h[s]=i(d),t(r,this,h)}}return GT=n,GT}var YT,NV;function T6e(){if(NV)return YT;NV=1;function t(e){return function(){return e}}return YT=t,YT}var KT,SV;function Vte(){if(SV)return KT;SV=1;var t=ph(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return KT=e,KT}var XT,kV;function M6e(){if(kV)return XT;kV=1;var t=T6e(),e=Vte(),n=qm(),r=e?function(s,i){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return XT=r,XT}var JT,CV;function A6e(){if(CV)return JT;CV=1;var t=800,e=16,n=Date.now;function r(s){var i=0,o=0;return function(){var l=n(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return JT=r,JT}var QT,_V;function O6e(){if(_V)return QT;_V=1;var t=M6e(),e=A6e(),n=e(t);return QT=n,QT}var ZT,TV;function E6e(){if(TV)return ZT;TV=1;var t=qm(),e=_6e(),n=O6e();function r(s,i){return n(e(s,i,t),s+"")}return ZT=r,ZT}var eM,MV;function $N(){if(MV)return eM;MV=1;var t=N4(),e=Wx(),n=I4(),r=Od();function s(i,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?e(l)&&n(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return eM=s,eM}var tM,AV;function D6e(){if(AV)return tM;AV=1;var t=Hte(),e=k6e(),n=E6e(),r=$N(),s=n(function(i,o){if(i==null)return[];var l=o.length;return l>1&&r(i,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return tM=s,tM}var P6e=D6e();const z4=In(P6e);function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aE.apply(this,arguments)}function R6e(t,e){return $6e(t)||F6e(t,e)||I6e(t,e)||L6e()}function L6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I6e(t,e){if(t){if(typeof t=="string")return OV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OV(t,e)}}function OV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function $6e(t){if(Array.isArray(t))return t}function EV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function nM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(n),!0).forEach(function(r){H6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H6e(t,e,n){return e=z6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z6e(t){var e=B6e(t,"string");return Vg(e)=="symbol"?e:e+""}function B6e(t,e){if(Vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V6e(t){return Array.isArray(t)&&ws(t[0])&&ws(t[1])?t.join(" ~ "):t}var W6e=function(e){var n=e.separator,r=n===void 0?" : ":n,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,h=e.payload,m=e.formatter,p=e.itemSorter,x=e.wrapperClassName,y=e.labelClassName,w=e.label,v=e.labelFormatter,N=e.accessibilityLayer,C=N===void 0?!1:N,S=function(){if(h&&h.length){var P={padding:0,margin:0},z=(p?z4(h,p):h).map(function(U,V){if(U.type==="none")return null;var $=nM({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),R=U.formatter||m||V6e,W=U.value,q=U.name,X=W,H=q;if(R&&X!=null&&H!=null){var J=R(W,q,U,V,h);if(Array.isArray(J)){var ne=R6e(J,2);X=ne[0],H=ne[1]}else X=J}return Q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:$},ws(H)?Q.createElement("span",{className:"recharts-tooltip-item-name"},H):null,ws(H)?Q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Q.createElement("span",{className:"recharts-tooltip-item-value"},X),Q.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return Q.createElement("ul",{className:"recharts-tooltip-item-list",style:P},z)}return null},M=nM({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=nM({margin:0},d),A=!rn(w),O=A?w:"",D=It("recharts-default-tooltip",x),F=It("recharts-tooltip-label",y);A&&v&&h!==void 0&&h!==null&&(O=v(w,h));var L=C?{role:"status","aria-live":"assertive"}:{};return Q.createElement("div",aE({className:D,style:M},L),Q.createElement("p",{className:F,style:_},Q.isValidElement(O)?O:"".concat(O)),S())};function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function dv(t,e,n){return e=U6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U6e(t){var e=q6e(t,"string");return Wg(e)=="symbol"?e:e+""}function q6e(t,e){if(Wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c0="recharts-tooltip-wrapper",G6e={visibility:"hidden"};function Y6e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return It(c0,dv(dv(dv(dv({},"".concat(c0,"-right"),xt(n)&&e&&xt(e.x)&&n>=e.x),"".concat(c0,"-left"),xt(n)&&e&&xt(e.x)&&n<e.x),"".concat(c0,"-bottom"),xt(r)&&e&&xt(e.y)&&r>=e.y),"".concat(c0,"-top"),xt(r)&&e&&xt(e.y)&&r<e.y))}function DV(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&xt(i[r]))return i[r];var h=n[r]-l-s,m=n[r]+s;if(e[r])return o[r]?h:m;if(o[r]){var p=h,x=c[r];return p<x?Math.max(m,c[r]):Math.max(h,c[r])}var y=m+l,w=c[r]+d;return y>w?Math.max(h,c[r]):Math.max(m,c[r])}function K6e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function X6e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,h,m;return o.height>0&&o.width>0&&n?(h=DV({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=DV({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=K6e({translateX:h,translateY:m,useTranslate3d:l})):d=G6e,{cssProperties:d,cssClasses:Y6e({translateX:h,translateY:m,coordinate:n})}}function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function PV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function RV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(n),!0).forEach(function(r){oE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ute(r.key),r)}}function Z6e(t,e,n){return e&&Q6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eRe(t,e,n){return e=G1(e),tRe(t,Wte()?Reflect.construct(e,n||[],G1(t).constructor):e.apply(t,n))}function tRe(t,e){if(e&&(fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nRe(t)}function nRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wte=function(){return!!t})()}function G1(t){return G1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G1(t)}function rRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},iE(t,e)}function oE(t,e,n){return e=Ute(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=sRe(t,"string");return fm(e)=="symbol"?e:e+""}function sRe(t,e){if(fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LV=1,aRe=(function(t){function e(){var n;J6e(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=eRe(this,e,[].concat(s)),oE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oE(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),n}return rRe(e,t),Z6e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>LV||Math.abs(r.height-this.state.lastBoundingBox.height)>LV)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,h=s.coordinate,m=s.hasPayload,p=s.isAnimationActive,x=s.offset,y=s.position,w=s.reverseDirection,v=s.useTranslate3d,N=s.viewBox,C=s.wrapperStyle,S=X6e({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:x,position:y,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:N}),M=S.cssClasses,_=S.cssProperties,A=RV(RV({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},C);return Q.createElement("div",{tabIndex:-1,className:M,style:A,ref:function(D){r.wrapperNode=D}},d)}}])})(b.PureComponent),iRe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gh={isSsr:iRe()};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function IV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function FV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IV(Object(n),!0).forEach(function(r){B4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gte(r.key),r)}}function cRe(t,e,n){return e&&lRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dRe(t,e,n){return e=Y1(e),uRe(t,qte()?Reflect.construct(e,n||[],Y1(t).constructor):e.apply(t,n))}function uRe(t,e){if(e&&(mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hRe(t)}function hRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qte=function(){return!!t})()}function Y1(t){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y1(t)}function fRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},lE(t,e)}function B4(t,e,n){return e=Gte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gte(t){var e=mRe(t,"string");return mm(e)=="symbol"?e:e+""}function mRe(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pRe(t){return t.dataKey}function gRe(t,e){return Q.isValidElement(t)?Q.cloneElement(t,e):typeof t=="function"?Q.createElement(t,e):Q.createElement(W6e,e)}var _s=(function(t){function e(){return oRe(this,e),dRe(this,e,arguments)}return fRe(e,t),cRe(e,[{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,h=s.coordinate,m=s.filterNull,p=s.isAnimationActive,x=s.offset,y=s.payload,w=s.payloadUniqBy,v=s.position,N=s.reverseDirection,C=s.useTranslate3d,S=s.viewBox,M=s.wrapperStyle,_=y??[];m&&_.length&&(_=Ite(y.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),w,pRe));var A=_.length>0;return Q.createElement(aRe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:h,hasPayload:A,offset:x,position:v,reverseDirection:N,useTranslate3d:C,viewBox:S,wrapperStyle:M},gRe(d,FV(FV({},this.props),{},{payload:_})))}}])})(b.PureComponent);B4(_s,"displayName","Tooltip");B4(_s,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rM,$V;function xRe(){if($V)return rM;$V=1;var t=rl(),e=function(){return t.Date.now()};return rM=e,rM}var sM,HV;function bRe(){if(HV)return sM;HV=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return sM=e,sM}var aM,zV;function yRe(){if(zV)return aM;zV=1;var t=bRe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return aM=n,aM}var iM,BV;function Yte(){if(BV)return iM;BV=1;var t=yRe(),e=Od(),n=Vm(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=e(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=i.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):s.test(d)?r:+d}return iM=c,iM}var oM,VV;function vRe(){if(VV)return oM;VV=1;var t=Od(),e=xRe(),n=Yte(),r="Expected a function",s=Math.max,i=Math.min;function o(l,c,d){var h,m,p,x,y,w,v=0,N=!1,C=!1,S=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(d)&&(N=!!d.leading,C="maxWait"in d,p=C?s(n(d.maxWait)||0,c):p,S="trailing"in d?!!d.trailing:S);function M(z){var U=h,V=m;return h=m=void 0,v=z,x=l.apply(V,U),x}function _(z){return v=z,y=setTimeout(D,c),N?M(z):x}function A(z){var U=z-w,V=z-v,$=c-U;return C?i($,p-V):$}function O(z){var U=z-w,V=z-v;return w===void 0||U>=c||U<0||C&&V>=p}function D(){var z=e();if(O(z))return F(z);y=setTimeout(D,A(z))}function F(z){return y=void 0,S&&h?M(z):(h=m=void 0,x)}function L(){y!==void 0&&clearTimeout(y),v=0,h=w=m=y=void 0}function I(){return y===void 0?x:F(e())}function P(){var z=e(),U=O(z);if(h=arguments,m=this,w=z,U){if(y===void 0)return _(w);if(C)return clearTimeout(y),y=setTimeout(D,c),M(w)}return y===void 0&&(y=setTimeout(D,c)),x}return P.cancel=L,P.flush=I,P}return oM=o,oM}var lM,WV;function wRe(){if(WV)return lM;WV=1;var t=vRe(),e=Od(),n="Expected a function";function r(s,i,o){var l=!0,c=!0;if(typeof s!="function")throw new TypeError(n);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(s,i,{leading:l,maxWait:i,trailing:c})}return lM=r,lM}var jRe=wRe();const Kte=In(jRe);function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function UV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UV(Object(n),!0).forEach(function(r){NRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NRe(t,e,n){return e=SRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SRe(t){var e=kRe(t,"string");return Ug(e)=="symbol"?e:e+""}function kRe(t,e){if(Ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CRe(t,e){return ARe(t)||MRe(t,e)||TRe(t,e)||_Re()}function _Re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TRe(t,e){if(t){if(typeof t=="string")return qV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qV(t,e)}}function qV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ARe(t){if(Array.isArray(t))return t}var $l=b.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,s=r===void 0?{width:-1,height:-1}:r,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,h=d===void 0?0:d,m=t.minHeight,p=t.maxHeight,x=t.children,y=t.debounce,w=y===void 0?0:y,v=t.id,N=t.className,C=t.onResize,S=t.style,M=S===void 0?{}:S,_=b.useRef(null),A=b.useRef();A.current=C,b.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var O=b.useState({containerWidth:s.width,containerHeight:s.height}),D=CRe(O,2),F=D[0],L=D[1],I=b.useCallback(function(z,U){L(function(V){var $=Math.round(z),R=Math.round(U);return V.containerWidth===$&&V.containerHeight===R?V:{containerWidth:$,containerHeight:R}})},[]);b.useEffect(function(){var z=function(q){var X,H=q[0].contentRect,J=H.width,ne=H.height;I(J,ne),(X=A.current)===null||X===void 0||X.call(A,J,ne)};w>0&&(z=Kte(z,w,{trailing:!0,leading:!1}));var U=new ResizeObserver(z),V=_.current.getBoundingClientRect(),$=V.width,R=V.height;return I($,R),U.observe(_.current),function(){U.disconnect()}},[I,w]);var P=b.useMemo(function(){var z=F.containerWidth,U=F.containerHeight;if(z<0||U<0)return null;co(_u(o)||_u(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),co(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=_u(o)?z:o,$=_u(c)?U:c;n&&n>0&&(V?$=V/n:$&&(V=$*n),p&&$>p&&($=p)),co(V>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,$,o,c,h,m,n);var R=!Array.isArray(x)&&Zl(x.type).endsWith("Chart");return Q.Children.map(x,function(W){return Q.isValidElement(W)?b.cloneElement(W,uv({width:V,height:$},R?{style:uv({height:"100%",width:"100%",maxHeight:$,maxWidth:V},W.props.style)}:{})):W})},[n,x,c,p,m,h,F,o]);return Q.createElement("div",{id:v?"".concat(v):void 0,className:It("recharts-responsive-container",N),style:uv(uv({},M),{},{width:o,height:c,minWidth:h,minHeight:m,maxHeight:p}),ref:_},P)}),Gm=function(e){return null};Gm.displayName="Cell";function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function GV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GV(Object(n),!0).forEach(function(r){ORe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ORe(t,e,n){return e=ERe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ERe(t){var e=DRe(t,"string");return qg(e)=="symbol"?e:e+""}function DRe(t,e){if(qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var of={widthCache:{},cacheCount:0},PRe=2e3,RRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YV="recharts_measurement_span";function LRe(t){var e=cE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var rg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gh.isSsr)return{width:0,height:0};var r=LRe(n),s=JSON.stringify({text:e,copyStyle:r});if(of.widthCache[s])return of.widthCache[s];try{var i=document.getElementById(YV);i||(i=document.createElement("span"),i.setAttribute("id",YV),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=cE(cE({},RRe),r);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return of.widthCache[s]=c,++of.cacheCount>PRe&&(of.cacheCount=0,of.widthCache={}),c}catch{return{width:0,height:0}}},IRe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function K1(t,e){return zRe(t)||HRe(t,e)||$Re(t,e)||FRe()}function FRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Re(t,e){if(t){if(typeof t=="string")return KV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KV(t,e)}}function KV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function zRe(t){if(Array.isArray(t))return t}function BRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WRe(r.key),r)}}function VRe(t,e,n){return e&&XV(t.prototype,e),n&&XV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WRe(t){var e=URe(t,"string");return Gg(e)=="symbol"?e:e+""}function URe(t,e){if(Gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Xte={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YRe=Object.keys(Xte),Nf="NaN";function KRe(t,e){return t*Xte[e]}var hv=(function(){function t(e,n){BRe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!qRe.test(n)&&(this.num=NaN,this.unit=""),YRe.includes(n)&&(this.num=KRe(e,n),this.unit="px")}return VRe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=GRe.exec(n))!==null&&r!==void 0?r:[],i=K1(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function Jte(t){if(t.includes(Nf))return Nf;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=JV.exec(e))!==null&&n!==void 0?n:[],s=K1(r,4),i=s[1],o=s[2],l=s[3],c=hv.parse(i??""),d=hv.parse(l??""),h=o==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return Nf;e=e.replace(JV,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,p=(m=QV.exec(e))!==null&&m!==void 0?m:[],x=K1(p,4),y=x[1],w=x[2],v=x[3],N=hv.parse(y??""),C=hv.parse(v??""),S=w==="+"?N.add(C):N.subtract(C);if(S.isNaN())return Nf;e=e.replace(QV,S.toString())}return e}var ZV=/\(([^()]*)\)/;function XRe(t){for(var e=t;e.includes("(");){var n=ZV.exec(e),r=K1(n,2),s=r[1];e=e.replace(ZV,Jte(s))}return e}function JRe(t){var e=t.replace(/\s+/g,"");return e=XRe(e),e=Jte(e),e}function QRe(t){try{return JRe(t)}catch{return Nf}}function cM(t){var e=QRe(t.slice(5,-1));return e===Nf?"":e}var ZRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eLe=["dx","dy","angle","className","breakAll"];function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(this,arguments)}function eW(t,e){if(t==null)return{};var n=tLe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tW(t,e){return aLe(t)||sLe(t,e)||rLe(t,e)||nLe()}function nLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rLe(t,e){if(t){if(typeof t=="string")return nW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nW(t,e)}}function nW(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function aLe(t){if(Array.isArray(t))return t}var Qte=/[ \f\n\r\t\v\u2028\u2029]+/,Zte=function(e){var n=e.children,r=e.breakAll,s=e.style;try{var i=[];rn(n)||(r?i=n.toString().split(""):i=n.toString().split(Qte));var o=i.map(function(c){return{word:c,width:rg(c,s).width}}),l=r?0:rg("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},iLe=function(e,n,r,s,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,h=xt(o),m=l,p=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function($,R){var W=R.word,q=R.width,X=$[$.length-1];if(X&&(s==null||i||X.width+q+r<Number(s)))X.words.push(W),X.width+=q+r;else{var H={words:[W],width:q};$.push(H)}return $},[])},x=p(n),y=function(V){return V.reduce(function($,R){return $.width>R.width?$:R})};if(!h)return x;for(var w="",v=function(V){var $=m.slice(0,V),R=Zte({breakAll:d,style:c,children:$+w}).wordsWithComputedWidth,W=p(R),q=W.length>o||y(W).width>Number(s);return[q,W]},N=0,C=m.length-1,S=0,M;N<=C&&S<=m.length-1;){var _=Math.floor((N+C)/2),A=_-1,O=v(A),D=tW(O,2),F=D[0],L=D[1],I=v(_),P=tW(I,1),z=P[0];if(!F&&!z&&(N=_+1),F&&z&&(C=_-1),!F&&z){M=L;break}S++}return M||x},rW=function(e){var n=rn(e)?[]:e.toString().split(Qte);return[{words:n}]},oLe=function(e){var n=e.width,r=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!gh.isSsr){var c,d,h=Zte({breakAll:o,children:s,style:i});if(h){var m=h.wordsWithComputedWidth,p=h.spaceWidth;c=m,d=p}else return rW(s);return iLe({breakAll:o,children:s,maxLines:l,style:i},c,d,n,r)}return rW(s)},sW="#808080",ah=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,p=e.textAnchor,x=p===void 0?"start":p,y=e.verticalAnchor,w=y===void 0?"end":y,v=e.fill,N=v===void 0?sW:v,C=eW(e,ZRe),S=b.useMemo(function(){return oLe({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:m,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,m,C.style,C.width]),M=C.dx,_=C.dy,A=C.angle,O=C.className,D=C.breakAll,F=eW(C,eLe);if(!ws(r)||!ws(i))return null;var L=r+(xt(M)?M:0),I=i+(xt(_)?_:0),P;switch(w){case"start":P=cM("calc(".concat(d,")"));break;case"middle":P=cM("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:P=cM("calc(".concat(S.length-1," * -").concat(l,")"));break}var z=[];if(m){var U=S[0].width,V=C.width;z.push("scale(".concat((xt(V)?V/U:1)/U,")"))}return A&&z.push("rotate(".concat(A,", ").concat(L,", ").concat(I,")")),z.length&&(F.transform=z.join(" ")),Q.createElement("text",dE({},qt(F,!0),{x:L,y:I,className:It("recharts-text",O),textAnchor:x,fill:N.includes("url")?sW:N}),S.map(function($,R){var W=$.words.join(D?"":" ");return Q.createElement("tspan",{x:L,dy:R===0?P:l,key:"".concat(W,"-").concat(R)},W)}))};function xd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lLe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function V4(t){let e,n,r;t.length!==2?(e=xd,n=(l,c)=>xd(t(l),c),r=(l,c)=>t(l)-c):(e=t===xd||t===lLe?t:cLe,n=t,r=t);function s(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;n(l[m],c)<0?d=m+1:h=m}while(d<h)}return d}function i(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;n(l[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function o(l,c,d=0,h=l.length){const m=s(l,c,d,h-1);return m>d&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:s,center:o,right:i}}function cLe(){return 0}function ene(t){return t===null?NaN:+t}function*dLe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const uLe=V4(xd),Ux=uLe.right;V4(ene).center;class aW extends Map{constructor(e,n=mLe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(iW(this,e))}has(e){return super.has(iW(this,e))}set(e,n){return super.set(hLe(this,e),n)}delete(e){return super.delete(fLe(this,e))}}function iW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function hLe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function fLe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function mLe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function pLe(t=xd){if(t===xd)return tne;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function tne(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const gLe=Math.sqrt(50),xLe=Math.sqrt(10),bLe=Math.sqrt(2);function X1(t,e,n){const r=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=gLe?10:i>=xLe?5:i>=bLe?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?X1(t,e,n*2):[l,c,d]}function uE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[s,i,o]=r?X1(e,t,n):X1(t,e,n);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function hE(t,e,n){return e=+e,t=+t,n=+n,X1(t,e,n)[2]}function fE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,s=r?hE(e,t,n):hE(t,e,n);return(r?-1:1)*(s<0?1/-s:s)}function oW(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function lW(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function nne(t,e,n=0,r=1/0,s){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(s=s===void 0?tne:pLe(s);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),x=Math.max(n,Math.floor(e-d*m/c+p)),y=Math.min(r,Math.floor(e+(c-d)*m/c+p));nne(t,e,x,y,s)}const i=t[e];let o=n,l=r;for(d0(t,n,e),s(t[r],i)>0&&d0(t,n,r);o<l;){for(d0(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[n],i)===0?d0(t,n,l):(++l,d0(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function d0(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yLe(t,e,n){if(t=Float64Array.from(dLe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return lW(t);if(e>=1)return oW(t);var r,s=(r-1)*e,i=Math.floor(s),o=oW(nne(t,i).subarray(0,i+1)),l=lW(t.subarray(i+1));return o+(l-o)*(s-i)}}function vLe(t,e,n=ene){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,s=(r-1)*e,i=Math.floor(s),o=+n(t[i],i,t),l=+n(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function wLe(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(s);++r<s;)i[r]=t+r*n;return i}function Vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mE=Symbol("implicit");function W4(){var t=new aW,e=[],n=[],r=mE;function s(i){let o=t.get(i);if(o===void 0){if(r!==mE)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new aW;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return W4(e,n).unknown(r)},Vi.apply(s,arguments),s}function Yg(){var t=W4().unknown(void 0),e=t.domain,n=t.range,r=0,s=1,i,o,l=!1,c=0,d=0,h=.5;delete t.unknown;function m(){var p=e().length,x=s<r,y=x?s:r,w=x?r:s;i=(w-y)/Math.max(1,p-c+d*2),l&&(i=Math.floor(i)),y+=(w-y-i*(p-c))*h,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=wLe(p).map(function(N){return y+i*N});return n(x?v.reverse():v)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([r,s]=p,r=+r,s=+s,m()):[r,s]},t.rangeRound=function(p){return[r,s]=p,r=+r,s=+s,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(p){return arguments.length?(l=!!p,m()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},t.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},t.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),m()):h},t.copy=function(){return Yg(e(),[r,s]).round(l).paddingInner(c).paddingOuter(d).align(h)},Vi.apply(m(),arguments)}function rne(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return rne(e())},t}function sg(){return rne(Yg.apply(null,arguments).paddingInner(1))}function U4(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function sne(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qx(){}var Kg=.7,J1=1/Kg,$f="\\s*([+-]?\\d+)\\s*",Xg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jLe=/^#([0-9a-f]{3,8})$/,NLe=new RegExp(`^rgb\\(${$f},${$f},${$f}\\)$`),SLe=new RegExp(`^rgb\\(${Bo},${Bo},${Bo}\\)$`),kLe=new RegExp(`^rgba\\(${$f},${$f},${$f},${Xg}\\)$`),CLe=new RegExp(`^rgba\\(${Bo},${Bo},${Bo},${Xg}\\)$`),_Le=new RegExp(`^hsl\\(${Xg},${Bo},${Bo}\\)$`),TLe=new RegExp(`^hsla\\(${Xg},${Bo},${Bo},${Xg}\\)$`),cW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};U4(qx,Jg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dW,formatHex:dW,formatHex8:MLe,formatHsl:ALe,formatRgb:uW,toString:uW});function dW(){return this.rgb().formatHex()}function MLe(){return this.rgb().formatHex8()}function ALe(){return ane(this).formatHsl()}function uW(){return this.rgb().formatRgb()}function Jg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jLe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?hW(e):n===3?new Ba(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=NLe.exec(t))?new Ba(e[1],e[2],e[3],1):(e=SLe.exec(t))?new Ba(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=kLe.exec(t))?fv(e[1],e[2],e[3],e[4]):(e=CLe.exec(t))?fv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_Le.exec(t))?pW(e[1],e[2]/100,e[3]/100,1):(e=TLe.exec(t))?pW(e[1],e[2]/100,e[3]/100,e[4]):cW.hasOwnProperty(t)?hW(cW[t]):t==="transparent"?new Ba(NaN,NaN,NaN,0):null}function hW(t){return new Ba(t>>16&255,t>>8&255,t&255,1)}function fv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ba(t,e,n,r)}function OLe(t){return t instanceof qx||(t=Jg(t)),t?(t=t.rgb(),new Ba(t.r,t.g,t.b,t.opacity)):new Ba}function pE(t,e,n,r){return arguments.length===1?OLe(t):new Ba(t,e,n,r??1)}function Ba(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}U4(Ba,pE,sne(qx,{brighter(t){return t=t==null?J1:Math.pow(J1,t),new Ba(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Kg:Math.pow(Kg,t),new Ba(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ba(Vu(this.r),Vu(this.g),Vu(this.b),Q1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fW,formatHex:fW,formatHex8:ELe,formatRgb:mW,toString:mW}));function fW(){return`#${Tu(this.r)}${Tu(this.g)}${Tu(this.b)}`}function ELe(){return`#${Tu(this.r)}${Tu(this.g)}${Tu(this.b)}${Tu((isNaN(this.opacity)?1:this.opacity)*255)}`}function mW(){const t=Q1(this.opacity);return`${t===1?"rgb(":"rgba("}${Vu(this.r)}, ${Vu(this.g)}, ${Vu(this.b)}${t===1?")":`, ${t})`}`}function Q1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Tu(t){return t=Vu(t),(t<16?"0":"")+t.toString(16)}function pW(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ro(t,e,n,r)}function ane(t){if(t instanceof ro)return new ro(t.h,t.s,t.l,t.opacity);if(t instanceof qx||(t=Jg(t)),!t)return new ro;if(t instanceof ro)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-s,c=(i+s)/2;return l?(e===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new ro(o,l,c,t.opacity)}function DLe(t,e,n,r){return arguments.length===1?ane(t):new ro(t,e,n,r??1)}function ro(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}U4(ro,DLe,sne(qx,{brighter(t){return t=t==null?J1:Math.pow(J1,t),new ro(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Kg:Math.pow(Kg,t),new ro(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new Ba(dM(t>=240?t-240:t+120,s,r),dM(t,s,r),dM(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new ro(gW(this.h),mv(this.s),mv(this.l),Q1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Q1(this.opacity);return`${t===1?"hsl(":"hsla("}${gW(this.h)}, ${mv(this.s)*100}%, ${mv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gW(t){return t=(t||0)%360,t<0?t+360:t}function mv(t){return Math.max(0,Math.min(1,t||0))}function dM(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const q4=t=>()=>t;function PLe(t,e){return function(n){return t+n*e}}function RLe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function LLe(t){return(t=+t)==1?ine:function(e,n){return n-e?RLe(e,n,t):q4(isNaN(e)?n:e)}}function ine(t,e){var n=e-t;return n?PLe(t,n):q4(isNaN(t)?e:t)}const xW=(function t(e){var n=LLe(e);function r(s,i){var o=n((s=pE(s)).r,(i=pE(i)).r),l=n(s.g,i.g),c=n(s.b,i.b),d=ine(s.opacity,i.opacity);return function(h){return s.r=o(h),s.g=l(h),s.b=c(h),s.opacity=d(h),s+""}}return r.gamma=t,r})(1);function ILe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=t[s]*(1-i)+e[s]*i;return r}}function FLe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $Le(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Ym(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function HLe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Z1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function zLe(t,e){var n={},r={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=Ym(t[s],e[s]):r[s]=e[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var gE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uM=new RegExp(gE.source,"g");function BLe(t){return function(){return t}}function VLe(t){return function(e){return t(e)+""}}function WLe(t,e){var n=gE.lastIndex=uM.lastIndex=0,r,s,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=gE.exec(t))&&(s=uM.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Z1(r,s)})),n=uM.lastIndex;return n<e.length&&(i=e.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?VLe(c[0].x):BLe(e):(e=c.length,function(d){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(d);return l.join("")})}function Ym(t,e){var n=typeof e,r;return e==null||n==="boolean"?q4(e):(n==="number"?Z1:n==="string"?(r=Jg(e))?(e=r,xW):WLe:e instanceof Jg?xW:e instanceof Date?HLe:FLe(e)?ILe:Array.isArray(e)?$Le:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zLe:Z1)(t,e)}function G4(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ULe(t,e){e===void 0&&(e=t,t=Ym);for(var n=0,r=e.length-1,s=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(s,s=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function qLe(t){return function(){return t}}function ej(t){return+t}var bW=[0,1];function wa(t){return t}function xE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:qLe(isNaN(e)?NaN:.5)}function GLe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function YLe(t,e,n){var r=t[0],s=t[1],i=e[0],o=e[1];return s<r?(r=xE(s,r),i=n(o,i)):(r=xE(r,s),i=n(i,o)),function(l){return i(r(l))}}function KLe(t,e,n){var r=Math.min(t.length,e.length)-1,s=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)s[o]=xE(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(l){var c=Ux(t,l,1,r)-1;return i[c](s[c](l))}}function Gx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function HN(){var t=bW,e=bW,n=Ym,r,s,i,o=wa,l,c,d;function h(){var p=Math.min(t.length,e.length);return o!==wa&&(o=GLe(t[0],t[p-1])),l=p>2?KLe:YLe,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?i:(c||(c=l(t.map(r),e,n)))(r(o(p)))}return m.invert=function(p){return o(s((d||(d=l(e,t.map(r),Z1)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,ej),h()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),h()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),n=G4,h()},m.clamp=function(p){return arguments.length?(o=p?!0:wa,h()):o!==wa},m.interpolate=function(p){return arguments.length?(n=p,h()):n},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,x){return r=p,s=x,h()}}function Y4(){return HN()(wa,wa)}function XLe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tj(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function pm(t){return t=tj(Math.abs(t)),t?t[1]:NaN}function JLe(t,e){return function(n,r){for(var s=n.length,i=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function QLe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ZLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qg(t){if(!(e=ZLe.exec(t)))throw new Error("invalid format: "+t);var e;return new K4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qg.prototype=K4.prototype;function K4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}K4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eIe(t){e:for(var e=t.length,n=1,r=-1,s;n<e;++n)switch(t[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(s+1):t}var one;function tIe(t,e){var n=tj(t,e);if(!n)return t+"";var r=n[0],s=n[1],i=s-(one=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+tj(t,Math.max(0,e+i-1))[0]}function yW(t,e){var n=tj(t,e);if(!n)return t+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const vW={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:XLe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yW(t*100,e),r:yW,s:tIe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wW(t){return t}var jW=Array.prototype.map,NW=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nIe(t){var e=t.grouping===void 0||t.thousands===void 0?wW:JLe(jW.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?wW:QLe(jW.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=Qg(m);var p=m.fill,x=m.align,y=m.sign,w=m.symbol,v=m.zero,N=m.width,C=m.comma,S=m.precision,M=m.trim,_=m.type;_==="n"?(C=!0,_="g"):vW[_]||(S===void 0&&(S=12),M=!0,_="g"),(v||p==="0"&&x==="=")&&(v=!0,p="0",x="=");var A=w==="$"?n:w==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",O=w==="$"?r:/[%p]/.test(_)?o:"",D=vW[_],F=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function L(I){var P=A,z=O,U,V,$;if(_==="c")z=D(I)+z,I="";else{I=+I;var R=I<0||1/I<0;if(I=isNaN(I)?c:D(Math.abs(I),S),M&&(I=eIe(I)),R&&+I==0&&y!=="+"&&(R=!1),P=(R?y==="("?y:l:y==="-"||y==="("?"":y)+P,z=(_==="s"?NW[8+one/3]:"")+z+(R&&y==="("?")":""),F){for(U=-1,V=I.length;++U<V;)if($=I.charCodeAt(U),48>$||$>57){z=($===46?s+I.slice(U+1):I.slice(U))+z,I=I.slice(0,U);break}}}C&&!v&&(I=e(I,1/0));var W=P.length+I.length+z.length,q=W<N?new Array(N-W+1).join(p):"";switch(C&&v&&(I=e(q+I,q.length?N-z.length:1/0),q=""),x){case"<":I=P+I+z+q;break;case"=":I=P+q+I+z;break;case"^":I=q.slice(0,W=q.length>>1)+P+I+z+q.slice(W);break;default:I=q+P+I+z;break}return i(I)}return L.toString=function(){return m+""},L}function h(m,p){var x=d((m=Qg(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(pm(p)/3)))*3,w=Math.pow(10,-y),v=NW[8+y/3];return function(N){return x(w*N)+v}}return{format:d,formatPrefix:h}}var pv,X4,lne;rIe({thousands:",",grouping:[3],currency:["$",""]});function rIe(t){return pv=nIe(t),X4=pv.format,lne=pv.formatPrefix,pv}function sIe(t){return Math.max(0,-pm(Math.abs(t)))}function aIe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pm(e)/3)))*3-pm(Math.abs(t)))}function iIe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,pm(e)-pm(t))+1}function cne(t,e,n,r){var s=fE(t,e,n),i;switch(r=Qg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=aIe(s,o))&&(r.precision=i),lne(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=iIe(s,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=sIe(s))&&(r.precision=i-(r.type==="%")*2);break}}return X4(r)}function Ed(t){var e=t.domain;return t.ticks=function(n){var r=e();return uE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var s=e();return cne(s[0],s[s.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),s=0,i=r.length-1,o=r[s],l=r[i],c,d,h=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);h-- >0;){if(d=hE(o,l,n),d===c)return r[s]=o,r[i]=l,e(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function nj(){var t=Y4();return t.copy=function(){return Gx(t,nj())},Vi.apply(t,arguments),Ed(t)}function dne(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ej),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return dne(t).unknown(e)},t=arguments.length?Array.from(t,ej):[0,1],Ed(n)}function une(t,e){t=t.slice();var n=0,r=t.length-1,s=t[n],i=t[r],o;return i<s&&(o=n,n=r,r=o,o=s,s=i,i=o),t[n]=e.floor(s),t[r]=e.ceil(i),t}function SW(t){return Math.log(t)}function kW(t){return Math.exp(t)}function oIe(t){return-Math.log(-t)}function lIe(t){return-Math.exp(-t)}function cIe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dIe(t){return t===10?cIe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function uIe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function CW(t){return(e,n)=>-t(-e,n)}function J4(t){const e=t(SW,kW),n=e.domain;let r=10,s,i;function o(){return s=uIe(r),i=dIe(r),n()[0]<0?(s=CW(s),i=CW(i),t(oIe,lIe)):t(SW,kW),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let p=s(d),x=s(h),y,w;const v=l==null?10:+l;let N=[];if(!(r%1)&&x-p<v){if(p=Math.floor(p),x=Math.ceil(x),d>0){for(;p<=x;++p)for(y=1;y<r;++y)if(w=p<0?y/i(-p):y*i(p),!(w<d)){if(w>h)break;N.push(w)}}else for(;p<=x;++p)for(y=r-1;y>=1;--y)if(w=p>0?y/i(-p):y*i(p),!(w<d)){if(w>h)break;N.push(w)}N.length*2<v&&(N=uE(d,h,v))}else N=uE(p,x,Math.min(x-p,v)).map(i);return m?N.reverse():N},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Qg(c)).precision==null&&(c.trim=!0),c=X4(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return h=>{let m=h/i(Math.round(s(h)));return m*r<r-.5&&(m*=r),m<=d?c(h):""}},e.nice=()=>n(une(n(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function hne(){const t=J4(HN()).domain([1,10]);return t.copy=()=>Gx(t,hne()).base(t.base()),Vi.apply(t,arguments),t}function _W(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function TW(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Q4(t){var e=1,n=t(_W(e),TW(e));return n.constant=function(r){return arguments.length?t(_W(e=+r),TW(e)):e},Ed(n)}function fne(){var t=Q4(HN());return t.copy=function(){return Gx(t,fne()).constant(t.constant())},Vi.apply(t,arguments)}function MW(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hIe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function fIe(t){return t<0?-t*t:t*t}function Z4(t){var e=t(wa,wa),n=1;function r(){return n===1?t(wa,wa):n===.5?t(hIe,fIe):t(MW(n),MW(1/n))}return e.exponent=function(s){return arguments.length?(n=+s,r()):n},Ed(e)}function e3(){var t=Z4(HN());return t.copy=function(){return Gx(t,e3()).exponent(t.exponent())},Vi.apply(t,arguments),t}function mIe(){return e3.apply(null,arguments).exponent(.5)}function AW(t){return Math.sign(t)*t*t}function pIe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function mne(){var t=Y4(),e=[0,1],n=!1,r;function s(i){var o=pIe(t(i));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(i){return t.invert(AW(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,ej)).map(AW)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return mne(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Vi.apply(s,arguments),Ed(s)}function pne(){var t=[],e=[],n=[],r;function s(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=vLe(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:e[Ux(n,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(xd),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return pne().domain(t).range(e).unknown(r)},Vi.apply(i,arguments)}function gne(){var t=0,e=1,n=1,r=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Ux(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return gne().domain([t,e]).range(s).unknown(i)},Vi.apply(Ed(o),arguments)}function xne(){var t=[.5],e=[0,1],n,r=1;function s(i){return i!=null&&i<=i?e[Ux(t,i,0,r)]:n}return s.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return xne().domain(t).range(e).unknown(n)},Vi.apply(s,arguments)}const hM=new Date,fM=new Date;function js(t,e,n,r){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},s.filter=i=>js(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),n&&(s.count=(i,o)=>(hM.setTime(+i),fM.setTime(+o),t(hM),t(fM),Math.floor(n(hM,fM))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?o=>r(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const rj=js(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);rj.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?js(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):rj);rj.range;const Hl=1e3,Li=Hl*60,zl=Li*60,lc=zl*24,t3=lc*7,OW=lc*30,mM=lc*365,Mu=js(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Hl)},(t,e)=>(e-t)/Hl,t=>t.getUTCSeconds());Mu.range;const n3=js(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Hl)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getMinutes());n3.range;const r3=js(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCMinutes());r3.range;const s3=js(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Hl-t.getMinutes()*Li)},(t,e)=>{t.setTime(+t+e*zl)},(t,e)=>(e-t)/zl,t=>t.getHours());s3.range;const a3=js(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zl)},(t,e)=>(e-t)/zl,t=>t.getUTCHours());a3.range;const Yx=js(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Li)/lc,t=>t.getDate()-1);Yx.range;const zN=js(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/lc,t=>t.getUTCDate()-1);zN.range;const bne=js(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/lc,t=>Math.floor(t/lc));bne.range;function xh(t){return js(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Li)/t3)}const BN=xh(0),sj=xh(1),gIe=xh(2),xIe=xh(3),gm=xh(4),bIe=xh(5),yIe=xh(6);BN.range;sj.range;gIe.range;xIe.range;gm.range;bIe.range;yIe.range;function bh(t){return js(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/t3)}const VN=bh(0),aj=bh(1),vIe=bh(2),wIe=bh(3),xm=bh(4),jIe=bh(5),NIe=bh(6);VN.range;aj.range;vIe.range;wIe.range;xm.range;jIe.range;NIe.range;const i3=js(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());i3.range;const o3=js(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());o3.range;const cc=js(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());cc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:js(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});cc.range;const dc=js(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());dc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:js(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});dc.range;function yne(t,e,n,r,s,i){const o=[[Mu,1,Hl],[Mu,5,5*Hl],[Mu,15,15*Hl],[Mu,30,30*Hl],[i,1,Li],[i,5,5*Li],[i,15,15*Li],[i,30,30*Li],[s,1,zl],[s,3,3*zl],[s,6,6*zl],[s,12,12*zl],[r,1,lc],[r,2,2*lc],[n,1,t3],[e,1,OW],[e,3,3*OW],[t,1,mM]];function l(d,h,m){const p=h<d;p&&([d,h]=[h,d]);const x=m&&typeof m.range=="function"?m:c(d,h,m),y=x?x.range(d,+h+1):[];return p?y.reverse():y}function c(d,h,m){const p=Math.abs(h-d)/m,x=V4(([,,v])=>v).right(o,p);if(x===o.length)return t.every(fE(d/mM,h/mM,m));if(x===0)return rj.every(Math.max(fE(d,h,m),1));const[y,w]=o[p/o[x-1][2]<o[x][2]/p?x-1:x];return y.every(w)}return[l,c]}const[SIe,kIe]=yne(dc,o3,VN,bne,a3,r3),[CIe,_Ie]=yne(cc,i3,BN,Yx,s3,n3);function pM(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gM(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function u0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function TIe(t){var e=t.dateTime,n=t.date,r=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=h0(s),h=f0(s),m=h0(i),p=f0(i),x=h0(o),y=f0(o),w=h0(l),v=f0(l),N=h0(c),C=f0(c),S={a:R,A:W,b:q,B:X,c:null,d:IW,e:IW,f:JIe,g:o8e,G:c8e,H:YIe,I:KIe,j:XIe,L:vne,m:QIe,M:ZIe,p:H,q:J,Q:HW,s:zW,S:e8e,u:t8e,U:n8e,V:r8e,w:s8e,W:a8e,x:null,X:null,y:i8e,Y:l8e,Z:d8e,"%":$W},M={a:ne,A:fe,b:de,B:we,c:null,d:FW,e:FW,f:m8e,g:S8e,G:C8e,H:u8e,I:h8e,j:f8e,L:jne,m:p8e,M:g8e,p:Fe,q:$e,Q:HW,s:zW,S:x8e,u:b8e,U:y8e,V:v8e,w:w8e,W:j8e,x:null,X:null,y:N8e,Y:k8e,Z:_8e,"%":$W},_={a:L,A:I,b:P,B:z,c:U,d:RW,e:RW,f:WIe,g:PW,G:DW,H:LW,I:LW,j:HIe,L:VIe,m:$Ie,M:zIe,p:F,q:FIe,Q:qIe,s:GIe,S:BIe,u:DIe,U:PIe,V:RIe,w:EIe,W:LIe,x:V,X:$,y:PW,Y:DW,Z:IIe,"%":UIe};S.x=A(n,S),S.X=A(r,S),S.c=A(e,S),M.x=A(n,M),M.X=A(r,M),M.c=A(e,M);function A(be,Ee){return function(Ge){var ae=[],oe=-1,Y=0,ce=be.length,Ie,We,pe;for(Ge instanceof Date||(Ge=new Date(+Ge));++oe<ce;)be.charCodeAt(oe)===37&&(ae.push(be.slice(Y,oe)),(We=EW[Ie=be.charAt(++oe)])!=null?Ie=be.charAt(++oe):We=Ie==="e"?" ":"0",(pe=Ee[Ie])&&(Ie=pe(Ge,We)),ae.push(Ie),Y=oe+1);return ae.push(be.slice(Y,oe)),ae.join("")}}function O(be,Ee){return function(Ge){var ae=u0(1900,void 0,1),oe=D(ae,be,Ge+="",0),Y,ce;if(oe!=Ge.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Ee&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Y=gM(u0(ae.y,0,1)),ce=Y.getUTCDay(),Y=ce>4||ce===0?aj.ceil(Y):aj(Y),Y=zN.offset(Y,(ae.V-1)*7),ae.y=Y.getUTCFullYear(),ae.m=Y.getUTCMonth(),ae.d=Y.getUTCDate()+(ae.w+6)%7):(Y=pM(u0(ae.y,0,1)),ce=Y.getDay(),Y=ce>4||ce===0?sj.ceil(Y):sj(Y),Y=Yx.offset(Y,(ae.V-1)*7),ae.y=Y.getFullYear(),ae.m=Y.getMonth(),ae.d=Y.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),ce="Z"in ae?gM(u0(ae.y,0,1)).getUTCDay():pM(u0(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(ce+5)%7:ae.w+ae.U*7-(ce+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,gM(ae)):pM(ae)}}function D(be,Ee,Ge,ae){for(var oe=0,Y=Ee.length,ce=Ge.length,Ie,We;oe<Y;){if(ae>=ce)return-1;if(Ie=Ee.charCodeAt(oe++),Ie===37){if(Ie=Ee.charAt(oe++),We=_[Ie in EW?Ee.charAt(oe++):Ie],!We||(ae=We(be,Ge,ae))<0)return-1}else if(Ie!=Ge.charCodeAt(ae++))return-1}return ae}function F(be,Ee,Ge){var ae=d.exec(Ee.slice(Ge));return ae?(be.p=h.get(ae[0].toLowerCase()),Ge+ae[0].length):-1}function L(be,Ee,Ge){var ae=x.exec(Ee.slice(Ge));return ae?(be.w=y.get(ae[0].toLowerCase()),Ge+ae[0].length):-1}function I(be,Ee,Ge){var ae=m.exec(Ee.slice(Ge));return ae?(be.w=p.get(ae[0].toLowerCase()),Ge+ae[0].length):-1}function P(be,Ee,Ge){var ae=N.exec(Ee.slice(Ge));return ae?(be.m=C.get(ae[0].toLowerCase()),Ge+ae[0].length):-1}function z(be,Ee,Ge){var ae=w.exec(Ee.slice(Ge));return ae?(be.m=v.get(ae[0].toLowerCase()),Ge+ae[0].length):-1}function U(be,Ee,Ge){return D(be,e,Ee,Ge)}function V(be,Ee,Ge){return D(be,n,Ee,Ge)}function $(be,Ee,Ge){return D(be,r,Ee,Ge)}function R(be){return o[be.getDay()]}function W(be){return i[be.getDay()]}function q(be){return c[be.getMonth()]}function X(be){return l[be.getMonth()]}function H(be){return s[+(be.getHours()>=12)]}function J(be){return 1+~~(be.getMonth()/3)}function ne(be){return o[be.getUTCDay()]}function fe(be){return i[be.getUTCDay()]}function de(be){return c[be.getUTCMonth()]}function we(be){return l[be.getUTCMonth()]}function Fe(be){return s[+(be.getUTCHours()>=12)]}function $e(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Ee=A(be+="",S);return Ee.toString=function(){return be},Ee},parse:function(be){var Ee=O(be+="",!1);return Ee.toString=function(){return be},Ee},utcFormat:function(be){var Ee=A(be+="",M);return Ee.toString=function(){return be},Ee},utcParse:function(be){var Ee=O(be+="",!0);return Ee.toString=function(){return be},Ee}}}var EW={"-":"",_:" ",0:"0"},Ls=/^\s*\d+/,MIe=/^%/,AIe=/[\\^$*+?|[\]().{}]/g;function Ln(t,e,n){var r=t<0?"-":"",s=(r?-t:t)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(e)+s:s)}function OIe(t){return t.replace(AIe,"\\$&")}function h0(t){return new RegExp("^(?:"+t.map(OIe).join("|")+")","i")}function f0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function EIe(t,e,n){var r=Ls.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function DIe(t,e,n){var r=Ls.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function PIe(t,e,n){var r=Ls.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function RIe(t,e,n){var r=Ls.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function LIe(t,e,n){var r=Ls.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function DW(t,e,n){var r=Ls.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function PW(t,e,n){var r=Ls.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function IIe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function FIe(t,e,n){var r=Ls.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function $Ie(t,e,n){var r=Ls.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function RW(t,e,n){var r=Ls.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function HIe(t,e,n){var r=Ls.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function LW(t,e,n){var r=Ls.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function zIe(t,e,n){var r=Ls.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function BIe(t,e,n){var r=Ls.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function VIe(t,e,n){var r=Ls.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function WIe(t,e,n){var r=Ls.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function UIe(t,e,n){var r=MIe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function qIe(t,e,n){var r=Ls.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function GIe(t,e,n){var r=Ls.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function IW(t,e){return Ln(t.getDate(),e,2)}function YIe(t,e){return Ln(t.getHours(),e,2)}function KIe(t,e){return Ln(t.getHours()%12||12,e,2)}function XIe(t,e){return Ln(1+Yx.count(cc(t),t),e,3)}function vne(t,e){return Ln(t.getMilliseconds(),e,3)}function JIe(t,e){return vne(t,e)+"000"}function QIe(t,e){return Ln(t.getMonth()+1,e,2)}function ZIe(t,e){return Ln(t.getMinutes(),e,2)}function e8e(t,e){return Ln(t.getSeconds(),e,2)}function t8e(t){var e=t.getDay();return e===0?7:e}function n8e(t,e){return Ln(BN.count(cc(t)-1,t),e,2)}function wne(t){var e=t.getDay();return e>=4||e===0?gm(t):gm.ceil(t)}function r8e(t,e){return t=wne(t),Ln(gm.count(cc(t),t)+(cc(t).getDay()===4),e,2)}function s8e(t){return t.getDay()}function a8e(t,e){return Ln(sj.count(cc(t)-1,t),e,2)}function i8e(t,e){return Ln(t.getFullYear()%100,e,2)}function o8e(t,e){return t=wne(t),Ln(t.getFullYear()%100,e,2)}function l8e(t,e){return Ln(t.getFullYear()%1e4,e,4)}function c8e(t,e){var n=t.getDay();return t=n>=4||n===0?gm(t):gm.ceil(t),Ln(t.getFullYear()%1e4,e,4)}function d8e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ln(e/60|0,"0",2)+Ln(e%60,"0",2)}function FW(t,e){return Ln(t.getUTCDate(),e,2)}function u8e(t,e){return Ln(t.getUTCHours(),e,2)}function h8e(t,e){return Ln(t.getUTCHours()%12||12,e,2)}function f8e(t,e){return Ln(1+zN.count(dc(t),t),e,3)}function jne(t,e){return Ln(t.getUTCMilliseconds(),e,3)}function m8e(t,e){return jne(t,e)+"000"}function p8e(t,e){return Ln(t.getUTCMonth()+1,e,2)}function g8e(t,e){return Ln(t.getUTCMinutes(),e,2)}function x8e(t,e){return Ln(t.getUTCSeconds(),e,2)}function b8e(t){var e=t.getUTCDay();return e===0?7:e}function y8e(t,e){return Ln(VN.count(dc(t)-1,t),e,2)}function Nne(t){var e=t.getUTCDay();return e>=4||e===0?xm(t):xm.ceil(t)}function v8e(t,e){return t=Nne(t),Ln(xm.count(dc(t),t)+(dc(t).getUTCDay()===4),e,2)}function w8e(t){return t.getUTCDay()}function j8e(t,e){return Ln(aj.count(dc(t)-1,t),e,2)}function N8e(t,e){return Ln(t.getUTCFullYear()%100,e,2)}function S8e(t,e){return t=Nne(t),Ln(t.getUTCFullYear()%100,e,2)}function k8e(t,e){return Ln(t.getUTCFullYear()%1e4,e,4)}function C8e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?xm(t):xm.ceil(t),Ln(t.getUTCFullYear()%1e4,e,4)}function _8e(){return"+0000"}function $W(){return"%"}function HW(t){return+t}function zW(t){return Math.floor(+t/1e3)}var lf,Sne,kne;T8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function T8e(t){return lf=TIe(t),Sne=lf.format,lf.parse,kne=lf.utcFormat,lf.utcParse,lf}function M8e(t){return new Date(t)}function A8e(t){return t instanceof Date?+t:+new Date(+t)}function l3(t,e,n,r,s,i,o,l,c,d){var h=Y4(),m=h.invert,p=h.domain,x=d(".%L"),y=d(":%S"),w=d("%I:%M"),v=d("%I %p"),N=d("%a %d"),C=d("%b %d"),S=d("%B"),M=d("%Y");function _(A){return(c(A)<A?x:l(A)<A?y:o(A)<A?w:i(A)<A?v:r(A)<A?s(A)<A?N:C:n(A)<A?S:M)(A)}return h.invert=function(A){return new Date(m(A))},h.domain=function(A){return arguments.length?p(Array.from(A,A8e)):p().map(M8e)},h.ticks=function(A){var O=p();return t(O[0],O[O.length-1],A??10)},h.tickFormat=function(A,O){return O==null?_:d(O)},h.nice=function(A){var O=p();return(!A||typeof A.range!="function")&&(A=e(O[0],O[O.length-1],A??10)),A?p(une(O,A)):h},h.copy=function(){return Gx(h,l3(t,e,n,r,s,i,o,l,c,d))},h}function O8e(){return Vi.apply(l3(CIe,_Ie,cc,i3,BN,Yx,s3,n3,Mu,Sne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function E8e(){return Vi.apply(l3(SIe,kIe,dc,o3,VN,zN,a3,r3,Mu,kne).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function WN(){var t=0,e=1,n,r,s,i,o=wa,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(s===0?.5:(m=(i(m)-n)*s,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=i(t=+t),r=i(e=+e),s=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function h(m){return function(p){var x,y;return arguments.length?([x,y]=p,o=m(x,y),d):[o(0),o(1)]}}return d.range=h(Ym),d.rangeRound=h(G4),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,n=m(t),r=m(e),s=n===r?0:1/(r-n),d}}function Dd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Cne(){var t=Ed(WN()(wa));return t.copy=function(){return Dd(t,Cne())},bc.apply(t,arguments)}function _ne(){var t=J4(WN()).domain([1,10]);return t.copy=function(){return Dd(t,_ne()).base(t.base())},bc.apply(t,arguments)}function Tne(){var t=Q4(WN());return t.copy=function(){return Dd(t,Tne()).constant(t.constant())},bc.apply(t,arguments)}function c3(){var t=Z4(WN());return t.copy=function(){return Dd(t,c3()).exponent(t.exponent())},bc.apply(t,arguments)}function D8e(){return c3.apply(null,arguments).exponent(.5)}function Mne(){var t=[],e=wa;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ux(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let s of r)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(xd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,s)=>e(s/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>yLe(t,i/r))},n.copy=function(){return Mne(e).domain(t)},bc.apply(n,arguments)}function UN(){var t=0,e=.5,n=1,r=1,s,i,o,l,c,d=wa,h,m=!1,p;function x(w){return isNaN(w=+w)?p:(w=.5+((w=+h(w))-i)*(r*w<r*i?l:c),d(m?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,n]=w,s=h(t=+t),i=h(e=+e),o=h(n=+n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,x):[t,e,n]},x.clamp=function(w){return arguments.length?(m=!!w,x):m},x.interpolator=function(w){return arguments.length?(d=w,x):d};function y(w){return function(v){var N,C,S;return arguments.length?([N,C,S]=v,d=ULe(w,[N,C,S]),x):[d(0),d(.5),d(1)]}}return x.range=y(Ym),x.rangeRound=y(G4),x.unknown=function(w){return arguments.length?(p=w,x):p},function(w){return h=w,s=w(t),i=w(e),o=w(n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,x}}function Ane(){var t=Ed(UN()(wa));return t.copy=function(){return Dd(t,Ane())},bc.apply(t,arguments)}function One(){var t=J4(UN()).domain([.1,1,10]);return t.copy=function(){return Dd(t,One()).base(t.base())},bc.apply(t,arguments)}function Ene(){var t=Q4(UN());return t.copy=function(){return Dd(t,Ene()).constant(t.constant())},bc.apply(t,arguments)}function d3(){var t=Z4(UN());return t.copy=function(){return Dd(t,d3()).exponent(t.exponent())},bc.apply(t,arguments)}function P8e(){return d3.apply(null,arguments).exponent(.5)}const BW=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yg,scaleDiverging:Ane,scaleDivergingLog:One,scaleDivergingPow:d3,scaleDivergingSqrt:P8e,scaleDivergingSymlog:Ene,scaleIdentity:dne,scaleImplicit:mE,scaleLinear:nj,scaleLog:hne,scaleOrdinal:W4,scalePoint:sg,scalePow:e3,scaleQuantile:pne,scaleQuantize:gne,scaleRadial:mne,scaleSequential:Cne,scaleSequentialLog:_ne,scaleSequentialPow:c3,scaleSequentialQuantile:Mne,scaleSequentialSqrt:D8e,scaleSequentialSymlog:Tne,scaleSqrt:mIe,scaleSymlog:fne,scaleThreshold:xne,scaleTime:O8e,scaleUtc:E8e,tickFormat:cne},Symbol.toStringTag,{value:"Module"}));var xM,VW;function qN(){if(VW)return xM;VW=1;var t=Vm();function e(n,r,s){for(var i=-1,o=n.length;++i<o;){var l=n[i],c=r(l);if(c!=null&&(d===void 0?c===c&&!t(c):s(c,d)))var d=c,h=l}return h}return xM=e,xM}var bM,WW;function Dne(){if(WW)return bM;WW=1;function t(e,n){return e>n}return bM=t,bM}var yM,UW;function R8e(){if(UW)return yM;UW=1;var t=qN(),e=Dne(),n=qm();function r(s){return s&&s.length?t(s,n,e):void 0}return yM=r,yM}var L8e=R8e();const GN=In(L8e);var vM,qW;function Pne(){if(qW)return vM;qW=1;function t(e,n){return e<n}return vM=t,vM}var wM,GW;function I8e(){if(GW)return wM;GW=1;var t=qN(),e=Pne(),n=qm();function r(s){return s&&s.length?t(s,n,e):void 0}return wM=r,wM}var F8e=I8e();const YN=In(F8e);var jM,YW;function $8e(){if(YW)return jM;YW=1;var t=C4(),e=sl(),n=Bte(),r=qa();function s(i,o){var l=r(i)?t:n;return l(i,e(o,3))}return jM=s,jM}var NM,KW;function H8e(){if(KW)return NM;KW=1;var t=Hte(),e=$8e();function n(r,s){return t(e(r,s),1)}return NM=n,NM}var z8e=H8e();const B8e=In(z8e);var SM,XW;function V8e(){if(XW)return SM;XW=1;var t=$4();function e(n,r){return t(n,r)}return SM=e,SM}var W8e=V8e();const Kx=In(W8e);var Km=1e9,U8e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},h3,Or=!0,Bi="[DecimalError] ",Wu=Bi+"Invalid argument: ",u3=Bi+"Exponent out of range: ",Xm=Math.floor,mu=Math.pow,q8e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ii,Cs=1e7,Nr=7,Rne=9007199254740991,ij=Xm(Rne/Nr),Ot={};Ot.absoluteValue=Ot.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ot.comparedTo=Ot.cmp=function(t){var e,n,r,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,s=t.d.length,e=0,n=r<s?r:s;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};Ot.decimalPlaces=Ot.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ot.dividedBy=Ot.div=function(t){return ec(this,new this.constructor(t))};Ot.dividedToIntegerBy=Ot.idiv=function(t){var e=this,n=e.constructor;return mr(ec(e,new n(t),0,1),n.precision)};Ot.equals=Ot.eq=function(t){return!this.cmp(t)};Ot.exponent=function(){return hs(this)};Ot.greaterThan=Ot.gt=function(t){return this.cmp(t)>0};Ot.greaterThanOrEqualTo=Ot.gte=function(t){return this.cmp(t)>=0};Ot.isInteger=Ot.isint=function(){return this.e>this.d.length-2};Ot.isNegative=Ot.isneg=function(){return this.s<0};Ot.isPositive=Ot.ispos=function(){return this.s>0};Ot.isZero=function(){return this.s===0};Ot.lessThan=Ot.lt=function(t){return this.cmp(t)<0};Ot.lessThanOrEqualTo=Ot.lte=function(t){return this.cmp(t)<1};Ot.logarithm=Ot.log=function(t){var e,n=this,r=n.constructor,s=r.precision,i=s+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ii))throw Error(Bi+"NaN");if(n.s<1)throw Error(Bi+(n.s?"NaN":"-Infinity"));return n.eq(ii)?new r(0):(Or=!1,e=ec(Zg(n,i),Zg(t,i),i),Or=!0,mr(e,s))};Ot.minus=Ot.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Fne(e,t):Lne(e,(t.s=-t.s,t))};Ot.modulo=Ot.mod=function(t){var e,n=this,r=n.constructor,s=r.precision;if(t=new r(t),!t.s)throw Error(Bi+"NaN");return n.s?(Or=!1,e=ec(n,t,0,1).times(t),Or=!0,n.minus(e)):mr(new r(n),s)};Ot.naturalExponential=Ot.exp=function(){return Ine(this)};Ot.naturalLogarithm=Ot.ln=function(){return Zg(this)};Ot.negated=Ot.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ot.plus=Ot.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Lne(e,t):Fne(e,(t.s=-t.s,t))};Ot.precision=Ot.sd=function(t){var e,n,r,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wu+t);if(e=hs(s)+1,r=s.d.length-1,n=r*Nr+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ot.squareRoot=Ot.sqrt=function(){var t,e,n,r,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Bi+"NaN")}for(t=hs(l),Or=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=Ro(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Xm((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(i=r,r=i.plus(ec(l,i,o+2)).times(.5),Ro(i.d).slice(0,o)===(e=Ro(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(mr(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(e!="9999")break;o+=4}return Or=!0,mr(r,n)};Ot.times=Ot.mul=function(t){var e,n,r,s,i,o,l,c,d,h=this,m=h.constructor,p=h.d,x=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=p.length,d=x.length,c<d&&(i=p,p=x,x=i,o=c,c=d,d=o),i=[],o=c+d,r=o;r--;)i.push(0);for(r=d;--r>=0;){for(e=0,s=c+r;s>r;)l=i[s]+x[r]*p[s-r-1]+e,i[s--]=l%Cs|0,e=l/Cs|0;i[s]=(i[s]+e)%Cs|0}for(;!i[--o];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,Or?mr(t,m.precision):t};Ot.toDecimalPlaces=Ot.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Qo(t,0,Km),e===void 0?e=r.rounding:Qo(e,0,8),mr(n,t+hs(n)+1,e))};Ot.toExponential=function(t,e){var n,r=this,s=r.constructor;return t===void 0?n=ih(r,!0):(Qo(t,0,Km),e===void 0?e=s.rounding:Qo(e,0,8),r=mr(new s(r),t+1,e),n=ih(r,!0,t+1)),n};Ot.toFixed=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?ih(s):(Qo(t,0,Km),e===void 0?e=i.rounding:Qo(e,0,8),r=mr(new i(s),t+hs(s)+1,e),n=ih(r.abs(),!1,t+hs(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Ot.toInteger=Ot.toint=function(){var t=this,e=t.constructor;return mr(new e(t),hs(t)+1,e.rounding)};Ot.toNumber=function(){return+this};Ot.toPower=Ot.pow=function(t){var e,n,r,s,i,o,l=this,c=l.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(ii);if(l=new c(l),!l.s){if(t.s<1)throw Error(Bi+"Infinity");return l}if(l.eq(ii))return l;if(r=c.precision,t.eq(ii))return mr(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,i=l.s,o){if((n=h<0?-h:h)<=Rne){for(s=new c(ii),e=Math.ceil(r/Nr+4),Or=!1;n%2&&(s=s.times(l),QW(s.d,e)),n=Xm(n/2),n!==0;)l=l.times(l),QW(l.d,e);return Or=!0,t.s<0?new c(ii).div(s):mr(s,r)}}else if(i<0)throw Error(Bi+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Or=!1,s=t.times(Zg(l,r+d)),Or=!0,s=Ine(s),s.s=i,s};Ot.toPrecision=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?(n=hs(s),r=ih(s,n<=i.toExpNeg||n>=i.toExpPos)):(Qo(t,1,Km),e===void 0?e=i.rounding:Qo(e,0,8),s=mr(new i(s),t,e),n=hs(s),r=ih(s,t<=n||n<=i.toExpNeg,t)),r};Ot.toSignificantDigits=Ot.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Qo(t,1,Km),e===void 0?e=r.rounding:Qo(e,0,8)),mr(new r(n),t,e)};Ot.toString=Ot.valueOf=Ot.val=Ot.toJSON=Ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=hs(t),n=t.constructor;return ih(t,e<=n.toExpNeg||e>=n.toExpPos)};function Lne(t,e){var n,r,s,i,o,l,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Or?mr(e,m):e;if(c=t.d,d=e.d,o=t.e,s=e.e,c=c.slice(),i=o-s,i){for(i<0?(r=c,i=-i,l=d.length):(r=d,s=o,l=c.length),o=Math.ceil(m/Nr),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,r=d,d=c,c=r),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/Cs|0,c[i]%=Cs;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,Or?mr(e,m):e}function Qo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Wu+t)}function Ro(t){var e,n,r,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)r=t[e]+"",n=Nr-r.length,n&&(i+=Jc(n)),i+=r;o=t[e],r=o+"",n=Nr-r.length,n&&(i+=Jc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ec=(function(){function t(r,s){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*s+o,r[l]=i%Cs|0,o=i/Cs|0;return o&&r.unshift(o),r}function e(r,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,i){for(var o=0;i--;)r[i]-=o,o=r[i]<s[i]?1:0,r[i]=o*Cs+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,o){var l,c,d,h,m,p,x,y,w,v,N,C,S,M,_,A,O,D,F=r.constructor,L=r.s==s.s?1:-1,I=r.d,P=s.d;if(!r.s)return new F(r);if(!s.s)throw Error(Bi+"Division by zero");for(c=r.e-s.e,O=P.length,_=I.length,x=new F(L),y=x.d=[],d=0;P[d]==(I[d]||0);)++d;if(P[d]>(I[d]||0)&&--c,i==null?C=i=F.precision:o?C=i+(hs(r)-hs(s))+1:C=i,C<0)return new F(0);if(C=C/Nr+2|0,d=0,O==1)for(h=0,P=P[0],C++;(d<_||h)&&C--;d++)S=h*Cs+(I[d]||0),y[d]=S/P|0,h=S%P|0;else{for(h=Cs/(P[0]+1)|0,h>1&&(P=t(P,h),I=t(I,h),O=P.length,_=I.length),M=O,w=I.slice(0,O),v=w.length;v<O;)w[v++]=0;D=P.slice(),D.unshift(0),A=P[0],P[1]>=Cs/2&&++A;do h=0,l=e(P,w,O,v),l<0?(N=w[0],O!=v&&(N=N*Cs+(w[1]||0)),h=N/A|0,h>1?(h>=Cs&&(h=Cs-1),m=t(P,h),p=m.length,v=w.length,l=e(m,w,p,v),l==1&&(h--,n(m,O<p?D:P,p))):(h==0&&(l=h=1),m=P.slice()),p=m.length,p<v&&m.unshift(0),n(w,m,v),l==-1&&(v=w.length,l=e(P,w,O,v),l<1&&(h++,n(w,O<v?D:P,v))),v=w.length):l===0&&(h++,w=[0]),y[d++]=h,l&&w[0]?w[v++]=I[M]||0:(w=[I[M]],v=1);while((M++<_||w[0]!==void 0)&&C--)}return y[0]||y.shift(),x.e=c,mr(x,o?i+hs(x)+1:i)}})();function Ine(t,e){var n,r,s,i,o,l,c=0,d=0,h=t.constructor,m=h.precision;if(hs(t)>16)throw Error(u3+hs(t));if(!t.s)return new h(ii);for(Or=!1,l=m,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(mu(2,d))/Math.LN10*2+5|0,l+=r,n=s=i=new h(ii),h.precision=l;;){if(s=mr(s.times(t),l),n=n.times(++c),o=i.plus(ec(s,n,l)),Ro(o.d).slice(0,l)===Ro(i.d).slice(0,l)){for(;d--;)i=mr(i.times(i),l);return h.precision=m,e==null?(Or=!0,mr(i,m)):i}i=o}}function hs(t){for(var e=t.e*Nr,n=t.d[0];n>=10;n/=10)e++;return e}function kM(t,e,n){if(e>t.LN10.sd())throw Or=!0,n&&(t.precision=n),Error(Bi+"LN10 precision limit exceeded");return mr(new t(t.LN10),e)}function Jc(t){for(var e="";t--;)e+="0";return e}function Zg(t,e){var n,r,s,i,o,l,c,d,h,m=1,p=10,x=t,y=x.d,w=x.constructor,v=w.precision;if(x.s<1)throw Error(Bi+(x.s?"NaN":"-Infinity"));if(x.eq(ii))return new w(0);if(e==null?(Or=!1,d=v):d=e,x.eq(10))return e==null&&(Or=!0),kM(w,d);if(d+=p,w.precision=d,n=Ro(y),r=n.charAt(0),i=hs(x),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=Ro(x.d),r=n.charAt(0),m++;i=hs(x),r>1?(x=new w("0."+n),i++):x=new w(r+"."+n.slice(1))}else return c=kM(w,d+2,v).times(i+""),x=Zg(new w(r+"."+n.slice(1)),d-p).plus(c),w.precision=v,e==null?(Or=!0,mr(x,v)):x;for(l=o=x=ec(x.minus(ii),x.plus(ii),d),h=mr(x.times(x),d),s=3;;){if(o=mr(o.times(h),d),c=l.plus(ec(o,new w(s),d)),Ro(c.d).slice(0,d)===Ro(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(kM(w,d+2,v).times(i+""))),l=ec(l,new w(m),d),w.precision=v,e==null?(Or=!0,mr(l,v)):l;l=c,s+=2}}function JW(t,e){var n,r,s;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(r,s),e){if(s-=r,n=n-r-1,t.e=Xm(n/Nr),t.d=[],r=(n+1)%Nr,n<0&&(r+=Nr),r<s){for(r&&t.d.push(+e.slice(0,r)),s-=Nr;r<s;)t.d.push(+e.slice(r,r+=Nr));e=e.slice(r),r=Nr-e.length}else r-=s;for(;r--;)e+="0";if(t.d.push(+e),Or&&(t.e>ij||t.e<-ij))throw Error(u3+n)}else t.s=0,t.e=0,t.d=[0];return t}function mr(t,e,n){var r,s,i,o,l,c,d,h,m=t.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(r=e-o,r<0)r+=Nr,s=e,d=m[h=0];else{if(h=Math.ceil((r+1)/Nr),i=m.length,h>=i)return t;for(d=i=m[h],o=1;i>=10;i/=10)o++;r%=Nr,s=r-Nr+o}if(n!==void 0&&(i=mu(10,o-s-1),l=d/i%10|0,c=e<0||m[h+1]!==void 0||d%i,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?d/mu(10,o-s):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(i=hs(t),m.length=1,e=e-i-1,m[0]=mu(10,(Nr-e%Nr)%Nr),t.e=Xm(-e/Nr)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,i=1,h--):(m.length=h+1,i=mu(10,Nr-r),m[h]=s>0?(d/mu(10,o-s)%mu(10,s)|0)*i:0),c)for(;;)if(h==0){(m[0]+=i)==Cs&&(m[0]=1,++t.e);break}else{if(m[h]+=i,m[h]!=Cs)break;m[h--]=0,i=1}for(r=m.length;m[--r]===0;)m.pop();if(Or&&(t.e>ij||t.e<-ij))throw Error(u3+hs(t));return t}function Fne(t,e){var n,r,s,i,o,l,c,d,h,m,p=t.constructor,x=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Or?mr(e,x):e;if(c=t.d,m=e.d,r=e.e,d=t.e,c=c.slice(),o=d-r,o){for(h=o<0,h?(n=c,o=-o,l=m.length):(n=m,r=d,l=c.length),s=Math.max(Math.ceil(x/Nr),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=m.length,h=s<l,h&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){h=c[s]<m[s];break}o=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>o;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=Cs-1;--c[i],c[s]+=Cs}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Or?mr(e,x):e):new p(0)}function ih(t,e,n){var r,s=hs(t),i=Ro(t.d),o=i.length;return e?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Jc(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Jc(-s-1)+i,n&&(r=n-o)>0&&(i+=Jc(r))):s>=o?(i+=Jc(s+1-o),n&&(r=n-s-1)>0&&(i=i+"."+Jc(r))):((r=s+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(i+="."),i+=Jc(r))),t.s<0?"-"+i:i}function QW(t,e){if(t.length>e)return t.length=e,!0}function $ne(t){var e,n,r;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Wu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return JW(o,i.toString())}else if(typeof i!="string")throw Error(Wu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,q8e.test(i))JW(o,i);else throw Error(Wu+i)}if(s.prototype=Ot,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=$ne,s.config=s.set=G8e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return s.config(t),s}function G8e(t){if(!t||typeof t!="object")throw Error(Bi+"Object expected");var e,n,r,s=["precision",1,Km,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((r=t[n=s[e]])!==void 0)if(Xm(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(Wu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wu+n+": "+r);return this}var h3=$ne(U8e);ii=new h3(1);const cr=h3;function Y8e(t){return Q8e(t)||J8e(t)||X8e(t)||K8e()}function K8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8e(t,e){if(t){if(typeof t=="string")return bE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bE(t,e)}}function J8e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Q8e(t){if(Array.isArray(t))return bE(t)}function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Z8e=function(e){return e},Hne={},zne=function(e){return e===Hne},ZW=function(e){return function n(){return arguments.length===0||arguments.length===1&&zne(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},e7e=function t(e,n){return e===1?n:ZW(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==Hne}).length;return o>=e?n.apply(void 0,s):t(e-o,ZW(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=s.map(function(m){return zne(m)?c.shift():m});return n.apply(void 0,Y8e(h).concat(c))}))})},KN=function(e){return e7e(e.length,e)},yE=function(e,n){for(var r=[],s=e;s<n;++s)r[s-e]=s;return r},t7e=KN(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),n7e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Z8e;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},vE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Bne=function(e){var n=null,r=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=e.apply(void 0,i)),r}};function r7e(t){var e;return t===0?e=1:e=Math.floor(new cr(t).abs().log(10).toNumber())+1,e}function s7e(t,e,n){for(var r=new cr(t),s=0,i=[];r.lt(e)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var a7e=KN(function(t,e,n){var r=+t,s=+e;return r+n*(s-r)}),i7e=KN(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),o7e=KN(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const XN={rangeStep:s7e,getDigitCount:r7e,interpolateNumber:a7e,uninterpolateNumber:i7e,uninterpolateTruncation:o7e};function wE(t){return d7e(t)||c7e(t)||Vne(t)||l7e()}function l7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c7e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function d7e(t){if(Array.isArray(t))return jE(t)}function ex(t,e){return f7e(t)||h7e(t,e)||Vne(t,e)||u7e()}function u7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vne(t,e){if(t){if(typeof t=="string")return jE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jE(t,e)}}function jE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h7e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){s=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function f7e(t){if(Array.isArray(t))return t}function Wne(t){var e=ex(t,2),n=e[0],r=e[1],s=n,i=r;return n>r&&(s=r,i=n),[s,i]}function Une(t,e,n){if(t.lte(0))return new cr(0);var r=XN.getDigitCount(t.toNumber()),s=new cr(10).pow(r),i=t.div(s),o=r!==1?.05:.1,l=new cr(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return e?c:new cr(Math.ceil(c))}function m7e(t,e,n){var r=1,s=new cr(t);if(!s.isint()&&n){var i=Math.abs(t);i<1?(r=new cr(10).pow(XN.getDigitCount(t)-1),s=new cr(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new cr(Math.floor(t)))}else t===0?s=new cr(Math.floor((e-1)/2)):n||(s=new cr(Math.floor(t)));var o=Math.floor((e-1)/2),l=n7e(t7e(function(c){return s.add(new cr(c-o).mul(r)).toNumber()}),yE);return l(0,e)}function qne(t,e,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new cr(0),tickMin:new cr(0),tickMax:new cr(0)};var i=Une(new cr(e).sub(t).div(n-1),r,s),o;t<=0&&e>=0?o=new cr(0):(o=new cr(t).add(e).div(2),o=o.sub(new cr(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new cr(e).sub(o).div(i).toNumber()),d=l+c+1;return d>n?qne(t,e,n,r,s+1):(d<n&&(c=e>0?c+(n-d):c,l=e>0?l:l+(n-d)),{step:i,tickMin:o.sub(new cr(l).mul(i)),tickMax:o.add(new cr(c).mul(i))})}function p7e(t){var e=ex(t,2),n=e[0],r=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=Wne([n,r]),c=ex(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(wE(yE(0,s-1).map(function(){return 1/0}))):[].concat(wE(yE(0,s-1).map(function(){return-1/0})),[h]);return n>r?vE(m):m}if(d===h)return m7e(d,s,i);var p=qne(d,h,o,i),x=p.step,y=p.tickMin,w=p.tickMax,v=XN.rangeStep(y,w.add(new cr(.1).mul(x)),x);return n>r?vE(v):v}function g7e(t,e){var n=ex(t,2),r=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Wne([r,s]),l=ex(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,s];if(c===d)return[c];var h=Math.max(e,2),m=Une(new cr(d).sub(c).div(h-1),i,0),p=[].concat(wE(XN.rangeStep(new cr(c),new cr(d).sub(new cr(.99).mul(m)),m)),[d]);return r>s?vE(p):p}var x7e=Bne(p7e),b7e=Bne(g7e),y7e="Invariant failed";function oh(t,e){throw new Error(y7e)}var v7e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function oj(){return oj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oj.apply(this,arguments)}function w7e(t,e){return k7e(t)||S7e(t,e)||N7e(t,e)||j7e()}function j7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N7e(t,e){if(t){if(typeof t=="string")return eU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eU(t,e)}}function eU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function k7e(t){if(Array.isArray(t))return t}function C7e(t,e){if(t==null)return{};var n=_7e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kne(r.key),r)}}function A7e(t,e,n){return e&&M7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O7e(t,e,n){return e=lj(e),E7e(t,Gne()?Reflect.construct(e,n||[],lj(t).constructor):e.apply(t,n))}function E7e(t,e){if(e&&(bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D7e(t)}function D7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gne=function(){return!!t})()}function lj(t){return lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lj(t)}function P7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},NE(t,e)}function Yne(t,e,n){return e=Kne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=R7e(t,"string");return bm(e)=="symbol"?e:e+""}function R7e(t,e){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xx=(function(t){function e(){return T7e(this,e),O7e(this,e,arguments)}return P7e(e,t),A7e(e,[{key:"render",value:function(){var r=this.props,s=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,p=C7e(r,v7e),x=qt(p,!1);this.props.direction==="x"&&h.type!=="number"&&oh();var y=c.map(function(w){var v=d(w,l),N=v.x,C=v.y,S=v.value,M=v.errorVal;if(!M)return null;var _=[],A,O;if(Array.isArray(M)){var D=w7e(M,2);A=D[0],O=D[1]}else A=O=M;if(i==="vertical"){var F=h.scale,L=C+s,I=L+o,P=L-o,z=F(S-A),U=F(S+O);_.push({x1:U,y1:I,x2:U,y2:P}),_.push({x1:z,y1:L,x2:U,y2:L}),_.push({x1:z,y1:I,x2:z,y2:P})}else if(i==="horizontal"){var V=m.scale,$=N+s,R=$-o,W=$+o,q=V(S-A),X=V(S+O);_.push({x1:R,y1:X,x2:W,y2:X}),_.push({x1:$,y1:q,x2:$,y2:X}),_.push({x1:R,y1:q,x2:W,y2:q})}return Q.createElement(Pn,oj({className:"recharts-errorBar",key:"bar-".concat(_.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},x),_.map(function(H){return Q.createElement("line",oj({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return Q.createElement(Pn,{className:"recharts-errorBars"},y)}}])})(Q.Component);Yne(Xx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Yne(Xx,"displayName","ErrorBar");function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}function tU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(n),!0).forEach(function(r){L7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L7e(t,e,n){return e=I7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I7e(t){var e=F7e(t,"string");return tx(e)=="symbol"?e:e+""}function F7e(t,e){if(tx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xne=function(e){var n=e.children,r=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=ri(n,zo);if(!o)return null;var l=zo.defaultProps,c=l!==void 0?au(au({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(r||[]).reduce(function(h,m){var p=m.item,x=m.props,y=x.sectors||x.data||[];return h.concat(y.map(function(w){return{type:o.props.iconType||p.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):d=(r||[]).map(function(h){var m=h.item,p=m.type.defaultProps,x=p!==void 0?au(au({},p),m.props):{},y=x.dataKey,w=x.name,v=x.legendType,N=x.hide;return{inactive:N,dataKey:y,type:c.iconType||v||"square",color:f3(m),value:w||y,payload:x}}),au(au(au({},c),zo.getWithHeight(o,s)),{},{payload:d,item:o})};function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(t)}function nU(t){return B7e(t)||z7e(t)||H7e(t)||$7e()}function $7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7e(t,e){if(t){if(typeof t=="string")return SE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(t,e)}}function z7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B7e(t){if(Array.isArray(t))return SE(t)}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rU(Object(n),!0).forEach(function(r){Hf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hf(t,e,n){return e=V7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V7e(t){var e=W7e(t,"string");return nx(e)=="symbol"?e:e+""}function W7e(t,e){if(nx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ys(t,e,n){return rn(t)||rn(e)?n:ws(e)?di(t,e,n):Qt(e)?e(t):n}function ag(t,e,n,r){var s=B8e(t,function(l){return ys(l,e)});if(n==="number"){var i=s.filter(function(l){return xt(l)||parseFloat(l)});return i.length?[YN(i),GN(i)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!rn(l)}):s;return o.map(function(l){return ws(l)||l instanceof Date?l:""})}var U7e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var h=d>0?s[d-1].coordinate:s[l-1].coordinate,m=s[d].coordinate,p=d>=l-1?s[0].coordinate:s[d+1].coordinate,x=void 0;if(ya(m-h)!==ya(p-m)){var y=[];if(ya(p-m)===ya(c[1]-c[0])){x=p;var w=m+c[1]-c[0];y[0]=Math.min(w,(w+h)/2),y[1]=Math.max(w,(w+h)/2)}else{x=h;var v=p+c[1]-c[0];y[0]=Math.min(m,(v+m)/2),y[1]=Math.max(m,(v+m)/2)}var N=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>N[0]&&e<=N[1]||e>=y[0]&&e<=y[1]){o=s[d].index;break}}else{var C=Math.min(h,p),S=Math.max(h,p);if(e>(C+m)/2&&e<=(S+m)/2){o=s[d].index;break}}}else for(var M=0;M<l;M++)if(M===0&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M>0&&M<l-1&&e>(r[M].coordinate+r[M-1].coordinate)/2&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M===l-1&&e>(r[M].coordinate+r[M-1].coordinate)/2){o=r[M].index;break}return o},f3=function(e){var n,r=e,s=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Br(Br({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},q7e=function(e){var n=e.barSize,r=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var h=i[l[c]].stackGroups,m=Object.keys(h),p=0,x=m.length;p<x;p++){var y=h[m[p]],w=y.items,v=y.cateAxisId,N=w.filter(function(O){return Zl(O.type).indexOf("Bar")>=0});if(N&&N.length){var C=N[0].type.defaultProps,S=C!==void 0?Br(Br({},C),N[0].props):N[0].props,M=S.barSize,_=S[v];o[_]||(o[_]=[]);var A=rn(M)?n:M;o[_].push({item:N[0],stackList:N.slice(1),barSize:rn(A)?void 0:va(A,r,0)})}}return o},G7e=function(e){var n=e.barGap,r=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=va(n,s,0,!0),h,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,x=s/c,y=o.reduce(function(M,_){return M+_.barSize||0},0);y+=(c-1)*d,y>=s&&(y-=(c-1)*d,d=0),y>=s&&x>0&&(p=!0,x*=.9,y=c*x);var w=(s-y)/2>>0,v={offset:w-d,size:0};h=o.reduce(function(M,_){var A={item:_.item,position:{offset:v.offset+v.size+d,size:p?x:_.barSize}},O=[].concat(nU(M),[A]);return v=O[O.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(D){O.push({item:D,position:v})}),O},m)}else{var N=va(r,s,0,!0);s-2*N-(c-1)*d<=0&&(d=0);var C=(s-2*N-(c-1)*d)/c;C>1&&(C>>=0);var S=l===+l?Math.min(C,l):C;h=o.reduce(function(M,_,A){var O=[].concat(nU(M),[{item:_.item,position:{offset:N+(C+d)*A+(C-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(D){O.push({item:D,position:O[O.length-1].position})}),O},m)}return h},Y7e=function(e,n,r,s){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),d=Xne({children:i,legendWidth:c});if(d){var h=s||{},m=h.width,p=h.height,x=d.align,y=d.verticalAlign,w=d.layout;if((w==="vertical"||w==="horizontal"&&y==="middle")&&x!=="center"&&xt(e[x]))return Br(Br({},e),{},Hf({},x,e[x]+(m||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&y!=="middle"&&xt(e[y]))return Br(Br({},e),{},Hf({},y,e[y]+(p||0)))}return e},K7e=function(e,n,r){return rn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Jne=function(e,n,r,s,i){var o=n.props.children,l=ui(o,Xx).filter(function(d){return K7e(s,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,h){var m=ys(h,r);if(rn(m))return d;var p=Array.isArray(m)?[YN(m),GN(m)]:[m,m],x=c.reduce(function(y,w){var v=ys(h,w,0),N=p[0]-Math.abs(Array.isArray(v)?v[0]:v),C=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(N,y[0]),Math.max(C,y[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},X7e=function(e,n,r,s,i){var o=n.map(function(l){return Jne(e,l,r,i,s)}).filter(function(l){return!rn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Qne=function(e,n,r,s,i){var o=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&Jne(e,c,d,s)||ag(e,d,r,i)});if(r==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var h=0,m=d.length;h<m;h++)l[d[h]]||(l[d[h]]=!0,c.push(d[h]));return c},[])},Zne=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},ere=function(e,n,r,s){if(s)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},Bl=function(e,n,r){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ya(l[0]-l[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var p=i?i.indexOf(m):m;return{coordinate:s(p)+d,value:m,offset:d}});return h.filter(function(m){return!Vx(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,p){return{coordinate:s(m)+d,value:m,index:p,offset:d}}):s.ticks&&!r?s.ticks(e.tickCount).map(function(m){return{coordinate:s(m)+d,value:m,offset:d}}):s.domain().map(function(m,p){return{coordinate:s(m)+d,value:i?i[m]:m,index:p,offset:d}})},CM=new WeakMap,gv=function(e,n){if(typeof n!="function")return e;CM.has(e)||CM.set(e,new WeakMap);var r=CM.get(e);if(r.has(n))return r.get(n);var s=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},tre=function(e,n,r){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Yg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:nj(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:sg(),realScaleType:"point"}:i==="category"?{scale:Yg(),realScaleType:"band"}:{scale:nj(),realScaleType:"linear"};if(rh(s)){var c="scale".concat(DN(s));return{scale:(BW[c]||sg)(),realScaleType:BW[c]?c:"point"}}return Qt(s)?{scale:s}:{scale:sg(),realScaleType:"point"}},sU=1e-4,nre=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,s=e.range(),i=Math.min(s[0],s[1])-sU,o=Math.max(s[0],s[1])+sU,l=e(n[0]),c=e(n[r-1]);(l<i||l>o||c<i||c>o)&&e.domain([n[0],n[r-1]])}},J7e=function(e,n){if(!e)return null;for(var r=0,s=e.length;r<s;r++)if(e[r].item===n)return e[r].position;return null},Q7e=function(e,n){if(!n||n.length!==2||!xt(n[0])||!xt(n[1]))return e;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!xt(e[0])||e[0]<r)&&(i[0]=r),(!xt(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<r&&(i[1]=r),i},Z7e=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Vx(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=i,e[l][r][1]=i+c,i=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},e9e=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var i=0,o=0;o<n;++o){var l=Vx(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},t9e={sign:Z7e,expand:B4e,none:dm,silhouette:V4e,wiggle:W4e,positive:e9e},n9e=function(e,n,r){var s=n.map(function(l){return l.props.dataKey}),i=t9e[r],o=z4e().keys(s).value(function(l,c){return+ys(l,c,0)}).order(eE).offset(i);return o(e)},r9e=function(e,n,r,s,i,o){if(!e)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(m,p){var x,y=(x=p.type)!==null&&x!==void 0&&x.defaultProps?Br(Br({},p.type.defaultProps),p.props):p.props,w=y.stackId,v=y.hide;if(v)return m;var N=y[r],C=m[N]||{hasStack:!1,stackGroups:{}};if(ws(w)){var S=C.stackGroups[w]||{numericAxisId:r,cateAxisId:s,items:[]};S.items.push(p),C.hasStack=!0,C.stackGroups[w]=S}else C.stackGroups[Um("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[p]};return Br(Br({},m),{},Hf({},N,C))},c),h={};return Object.keys(d).reduce(function(m,p){var x=d[p];if(x.hasStack){var y={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,v){var N=x.stackGroups[v];return Br(Br({},w),{},Hf({},v,{numericAxisId:r,cateAxisId:s,items:N.items,stackedData:n9e(e,N.items,i)}))},y)}return Br(Br({},m),{},Hf({},p,x))},h)},rre=function(e,n){var r=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var h=x7e(d,i,l);return e.domain([YN(h),GN(h)]),{niceTicks:h}}if(i&&s==="number"){var m=e.domain(),p=b7e(m,i,l);return{niceTicks:p}}return null};function aU(t){var e=t.axis,n=t.ticks,r=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!rn(s[e.dataKey])){var l=F1(n,"value",s[e.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=ys(s,rn(o)?e.dataKey:o);return rn(c)?null:e.scale(c)}var iU=function(e){var n=e.axis,r=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=ys(o,n.dataKey,n.domain[l]);return rn(c)?null:n.scale(c)-i/2+s},s9e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return s<=0&&i>=0?0:i<0?i:s}return r[0]},a9e=function(e,n){var r,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Br(Br({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(ws(i)){var o=n[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},i9e=function(e){return e.reduce(function(n,r){return[YN(r.concat([n[0]]).filter(xt)),GN(r.concat([n[1]]).filter(xt))]},[1/0,-1/0])},sre=function(e,n,r){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,h){var m=i9e(h.slice(n,r+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},oU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kE=function(e,n,r){if(Qt(e))return e(n,r);if(!Array.isArray(e))return n;var s=[];if(xt(e[0]))s[0]=r?e[0]:Math.min(e[0],n[0]);else if(oU.test(e[0])){var i=+oU.exec(e[0])[1];s[0]=n[0]-i}else Qt(e[0])?s[0]=e[0](n[0]):s[0]=n[0];if(xt(e[1]))s[1]=r?e[1]:Math.max(e[1],n[1]);else if(lU.test(e[1])){var o=+lU.exec(e[1])[1];s[1]=n[1]+o}else Qt(e[1])?s[1]=e[1](n[1]):s[1]=n[1];return s},cj=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!r||s>0)return s}if(e&&n&&n.length>=2){for(var i=z4(n,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],h=i[l-1];o=Math.min((d.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},cU=function(e,n,r){return!e||!e.length||Kx(e,di(r,"type.defaultProps.domain"))?n:e},are=function(e,n){var r=e.type.defaultProps?Br(Br({},e.type.defaultProps),e.props):e.props,s=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,h=r.hide;return Br(Br({},qt(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:f3(e),value:ys(n,s),type:c,payload:n,chartType:d,hide:h})};function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}function dU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function El(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dU(Object(n),!0).forEach(function(r){ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ire(t,e,n){return e=o9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o9e(t){var e=l9e(t,"string");return rx(e)=="symbol"?e:e+""}function l9e(t,e){if(rx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c9e(t,e){return f9e(t)||h9e(t,e)||u9e(t,e)||d9e()}function d9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u9e(t,e){if(t){if(typeof t=="string")return uU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uU(t,e)}}function uU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function f9e(t){if(Array.isArray(t))return t}var dj=Math.PI/180,m9e=function(e){return e*180/Math.PI},yr=function(e,n,r,s){return{x:e+Math.cos(-dj*s)*r,y:n+Math.sin(-dj*s)*r}},ore=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},p9e=function(e,n,r,s,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,h=va(e.cx,o,o/2),m=va(e.cy,l,l/2),p=ore(o,l,r),x=va(e.innerRadius,p,0),y=va(e.outerRadius,p,p*.8),w=Object.keys(n);return w.reduce(function(v,N){var C=n[N],S=C.domain,M=C.reversed,_;if(rn(C.range))s==="angleAxis"?_=[c,d]:s==="radiusAxis"&&(_=[x,y]),M&&(_=[_[1],_[0]]);else{_=C.range;var A=_,O=c9e(A,2);c=O[0],d=O[1]}var D=tre(C,i),F=D.realScaleType,L=D.scale;L.domain(S).range(_),nre(L);var I=rre(L,El(El({},C),{},{realScaleType:F})),P=El(El(El({},C),I),{},{range:_,radius:y,realScaleType:F,scale:L,cx:h,cy:m,innerRadius:x,outerRadius:y,startAngle:c,endAngle:d});return El(El({},v),{},ire({},N,P))},{})},g9e=function(e,n){var r=e.x,s=e.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-o,2))},x9e=function(e,n){var r=e.x,s=e.y,i=n.cx,o=n.cy,l=g9e({x:r,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:m9e(d),angleInRadian:d}},b9e=function(e){var n=e.startAngle,r=e.endAngle,s=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:r-o*360}},y9e=function(e,n){var r=n.startAngle,s=n.endAngle,i=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},hU=function(e,n){var r=e.x,s=e.y,i=x9e({x:r,y:s},n),o=i.radius,l=i.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var h=b9e(n),m=h.startAngle,p=h.endAngle,x=l,y;if(m<=p){for(;x>p;)x-=360;for(;x<m;)x+=360;y=x>=m&&x<=p}else{for(;x>m;)x-=360;for(;x<p;)x+=360;y=x>=p&&x<=m}return y?El(El({},n),{},{radius:o,angle:y9e(x,n)}):null},lre=function(e){return!b.isValidElement(e)&&!Qt(e)&&typeof e!="boolean"?e.className:""};function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}var v9e=["offset"];function w9e(t){return k9e(t)||S9e(t)||N9e(t)||j9e()}function j9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N9e(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function S9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k9e(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C9e(t,e){if(t==null)return{};var n=_9e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fU(Object(n),!0).forEach(function(r){T9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T9e(t,e,n){return e=M9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9e(t){var e=A9e(t,"string");return sx(e)=="symbol"?e:e+""}function A9e(t,e){if(sx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(this,arguments)}var O9e=function(e){var n=e.value,r=e.formatter,s=rn(e.children)?n:e.children;return Qt(r)?r(s):s},E9e=function(e,n){var r=ya(n-e),s=Math.min(Math.abs(n-e),360);return r*s},D9e=function(e,n,r){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,h=c.cy,m=c.innerRadius,p=c.outerRadius,x=c.startAngle,y=c.endAngle,w=c.clockWise,v=(m+p)/2,N=E9e(x,y),C=N>=0?1:-1,S,M;s==="insideStart"?(S=x+C*o,M=w):s==="insideEnd"?(S=y-C*o,M=!w):s==="end"&&(S=y+C*o,M=w),M=N<=0?M:!M;var _=yr(d,h,v,S),A=yr(d,h,v,S+(M?1:-1)*359),O="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(M?0:1,`,
    `).concat(A.x,",").concat(A.y),D=rn(e.id)?Um("recharts-radial-line-"):e.id;return Q.createElement("text",ax({},r,{dominantBaseline:"central",className:It("recharts-radial-bar-label",l)}),Q.createElement("defs",null,Q.createElement("path",{id:D,d:O})),Q.createElement("textPath",{xlinkHref:"#".concat(D)},n))},P9e=function(e){var n=e.viewBox,r=e.offset,s=e.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,h=i.startAngle,m=i.endAngle,p=(h+m)/2;if(s==="outside"){var x=yr(o,l,d+r,p),y=x.x,w=x.y;return{x:y,y:w,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,N=yr(o,l,v,p),C=N.x,S=N.y;return{x:C,y:S,textAnchor:"middle",verticalAnchor:"middle"}},R9e=function(e){var n=e.viewBox,r=e.parentViewBox,s=e.offset,i=e.position,o=n,l=o.x,c=o.y,d=o.width,h=o.height,m=h>=0?1:-1,p=m*s,x=m>0?"end":"start",y=m>0?"start":"end",w=d>=0?1:-1,v=w*s,N=w>0?"end":"start",C=w>0?"start":"end";if(i==="top"){var S={x:l+d/2,y:c-m*s,textAnchor:"middle",verticalAnchor:x};return bs(bs({},S),r?{height:Math.max(c-r.y,0),width:d}:{})}if(i==="bottom"){var M={x:l+d/2,y:c+h+p,textAnchor:"middle",verticalAnchor:y};return bs(bs({},M),r?{height:Math.max(r.y+r.height-(c+h),0),width:d}:{})}if(i==="left"){var _={x:l-v,y:c+h/2,textAnchor:N,verticalAnchor:"middle"};return bs(bs({},_),r?{width:Math.max(_.x-r.x,0),height:h}:{})}if(i==="right"){var A={x:l+d+v,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return bs(bs({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:h}:{})}var O=r?{width:d,height:h}:{};return i==="insideLeft"?bs({x:l+v,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},O):i==="insideRight"?bs({x:l+d-v,y:c+h/2,textAnchor:N,verticalAnchor:"middle"},O):i==="insideTop"?bs({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:y},O):i==="insideBottom"?bs({x:l+d/2,y:c+h-p,textAnchor:"middle",verticalAnchor:x},O):i==="insideTopLeft"?bs({x:l+v,y:c+p,textAnchor:C,verticalAnchor:y},O):i==="insideTopRight"?bs({x:l+d-v,y:c+p,textAnchor:N,verticalAnchor:y},O):i==="insideBottomLeft"?bs({x:l+v,y:c+h-p,textAnchor:C,verticalAnchor:x},O):i==="insideBottomRight"?bs({x:l+d-v,y:c+h-p,textAnchor:N,verticalAnchor:x},O):Wm(i)&&(xt(i.x)||_u(i.x))&&(xt(i.y)||_u(i.y))?bs({x:l+va(i.x,d),y:c+va(i.y,h),textAnchor:"end",verticalAnchor:"end"},O):bs({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},O)},L9e=function(e){return"cx"in e&&xt(e.cx)};function As(t){var e=t.offset,n=e===void 0?5:e,r=C9e(t,v9e),s=bs({offset:n},r),i=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,h=s.className,m=h===void 0?"":h,p=s.textBreakAll;if(!i||rn(l)&&rn(c)&&!b.isValidElement(d)&&!Qt(d))return null;if(b.isValidElement(d))return b.cloneElement(d,s);var x;if(Qt(d)){if(x=b.createElement(d,s),b.isValidElement(x))return x}else x=O9e(s);var y=L9e(i),w=qt(s,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return D9e(s,x,w);var v=y?P9e(s):R9e(s);return Q.createElement(ah,ax({className:It("recharts-label",m)},w,v,{breakAll:p}),x)}As.displayName="Label";var cre=function(e){var n=e.cx,r=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,h=e.outerRadius,m=e.x,p=e.y,x=e.top,y=e.left,w=e.width,v=e.height,N=e.clockWise,C=e.labelViewBox;if(C)return C;if(xt(w)&&xt(v)){if(xt(m)&&xt(p))return{x:m,y:p,width:w,height:v};if(xt(x)&&xt(y))return{x,y,width:w,height:v}}return xt(m)&&xt(p)?{x:m,y:p,width:0,height:0}:xt(n)&&xt(r)?{cx:n,cy:r,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:h||c||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},I9e=function(e,n){return e?e===!0?Q.createElement(As,{key:"label-implicit",viewBox:n}):ws(e)?Q.createElement(As,{key:"label-implicit",viewBox:n,value:e}):b.isValidElement(e)?e.type===As?b.cloneElement(e,{key:"label-implicit",viewBox:n}):Q.createElement(As,{key:"label-implicit",content:e,viewBox:n}):Qt(e)?Q.createElement(As,{key:"label-implicit",content:e,viewBox:n}):Wm(e)?Q.createElement(As,ax({viewBox:n},e,{key:"label-implicit"})):null:null},F9e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,i=cre(e),o=ui(s,As).map(function(c,d){return b.cloneElement(c,{viewBox:n||i,key:"label-".concat(d)})});if(!r)return o;var l=I9e(e.label,n||i);return[l].concat(w9e(o))};As.parseViewBox=cre;As.renderCallByParent=F9e;var _M,mU;function $9e(){if(mU)return _M;mU=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return _M=t,_M}var H9e=$9e();const z9e=In(H9e);function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}var B9e=["valueAccessor"],V9e=["data","dataKey","clockWise","id","textBreakAll"];function W9e(t){return Y9e(t)||G9e(t)||q9e(t)||U9e()}function U9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q9e(t,e){if(t){if(typeof t=="string")return _E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _E(t,e)}}function G9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y9e(t){if(Array.isArray(t))return _E(t)}function _E(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uj(){return uj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uj.apply(this,arguments)}function pU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(n),!0).forEach(function(r){K9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K9e(t,e,n){return e=X9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X9e(t){var e=J9e(t,"string");return ix(e)=="symbol"?e:e+""}function J9e(t,e){if(ix(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ix(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xU(t,e){if(t==null)return{};var n=Q9e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Z9e=function(e){return Array.isArray(e.value)?z9e(e.value):e.value};function tc(t){var e=t.valueAccessor,n=e===void 0?Z9e:e,r=xU(t,B9e),s=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,d=xU(r,V9e);return!s||!s.length?null:Q.createElement(Pn,{className:"recharts-label-list"},s.map(function(h,m){var p=rn(i)?n(h,m):ys(h&&h.payload,i),x=rn(l)?{}:{id:"".concat(l,"-").concat(m)};return Q.createElement(As,uj({},qt(h,!0),d,x,{parentViewBox:h.parentViewBox,value:p,textBreakAll:c,viewBox:As.parseViewBox(rn(o)?h:gU(gU({},h),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}tc.displayName="LabelList";function eFe(t,e){return t?t===!0?Q.createElement(tc,{key:"labelList-implicit",data:e}):Q.isValidElement(t)||Qt(t)?Q.createElement(tc,{key:"labelList-implicit",data:e,content:t}):Wm(t)?Q.createElement(tc,uj({data:e},t,{key:"labelList-implicit"})):null:null}function tFe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,s=ui(r,tc).map(function(o,l){return b.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return s;var i=eFe(t.label,e);return[i].concat(W9e(s))}tc.renderCallByParent=tFe;function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(this,arguments)}function bU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bU(Object(n),!0).forEach(function(r){nFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nFe(t,e,n){return e=rFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rFe(t){var e=sFe(t,"string");return ox(e)=="symbol"?e:e+""}function sFe(t,e){if(ox(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ox(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aFe=function(e,n){var r=ya(n-e),s=Math.min(Math.abs(n-e),359.999);return r*s},xv=function(e){var n=e.cx,r=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,h=c*(l?1:-1)+s,m=Math.asin(c/h)/dj,p=d?i:i+o*m,x=yr(n,r,h,p),y=yr(n,r,s,p),w=d?i-o*m:i,v=yr(n,r,h*Math.cos(m*dj),w);return{center:x,circleTangency:y,lineTangency:v,theta:m}},dre=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=aFe(o,l),d=o+c,h=yr(n,r,i,o),m=yr(n,r,i,d),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var x=yr(n,r,s,o),y=yr(n,r,s,d);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},iFe=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,h=e.endAngle,m=ya(h-d),p=xv({cx:n,cy:r,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),x=p.circleTangency,y=p.lineTangency,w=p.theta,v=xv({cx:n,cy:r,radius:i,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:c}),N=v.circleTangency,C=v.lineTangency,S=v.theta,M=c?Math.abs(d-h):Math.abs(d-h)-w-S;if(M<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):dre({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:d,endAngle:h});var _="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
  `);if(s>0){var A=xv({cx:n,cy:r,radius:s,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=A.circleTangency,D=A.lineTangency,F=A.theta,L=xv({cx:n,cy:r,radius:s,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=L.circleTangency,P=L.lineTangency,z=L.theta,U=c?Math.abs(d-h):Math.abs(d-h)-F-z;if(U<0&&o===0)return"".concat(_,"L").concat(n,",").concat(r,"Z");_+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(U>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,"Z")}else _+="L".concat(n,",").concat(r,"Z");return _},oFe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ure=function(e){var n=yU(yU({},oFe),e),r=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,p=n.className;if(o<i||h===m)return null;var x=It("recharts-sector",p),y=o-i,w=va(l,y,0,!0),v;return w>0&&Math.abs(h-m)<360?v=iFe({cx:r,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,y/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m}):v=dre({cx:r,cy:s,innerRadius:i,outerRadius:o,startAngle:h,endAngle:m}),Q.createElement("path",TE({},qt(n,!0),{className:x,d:v,role:"img"}))};function lx(t){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(t)}function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(this,arguments)}function vU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(n),!0).forEach(function(r){lFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lFe(t,e,n){return e=cFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cFe(t){var e=dFe(t,"string");return lx(e)=="symbol"?e:e+""}function dFe(t,e){if(lx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jU={curveBasisClosed:A4e,curveBasisOpen:O4e,curveBasis:M4e,curveBumpX:p4e,curveBumpY:g4e,curveLinearClosed:E4e,curveLinear:RN,curveMonotoneX:D4e,curveMonotoneY:P4e,curveNatural:R4e,curveStep:L4e,curveStepAfter:F4e,curveStepBefore:I4e},bv=function(e){return e.x===+e.x&&e.y===+e.y},m0=function(e){return e.x},p0=function(e){return e.y},uFe=function(e,n){if(Qt(e))return e;var r="curve".concat(DN(e));return(r==="curveMonotone"||r==="curveBump")&&n?jU["".concat(r).concat(n==="vertical"?"Y":"X")]:jU[r]||RN},hFe=function(e){var n=e.type,r=n===void 0?"linear":n,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,h=uFe(r,l),m=d?i.filter(function(w){return bv(w)}):i,p;if(Array.isArray(o)){var x=d?o.filter(function(w){return bv(w)}):o,y=m.map(function(w,v){return wU(wU({},w),{},{base:x[v]})});return l==="vertical"?p=cv().y(p0).x1(m0).x0(function(w){return w.base.x}):p=cv().x(m0).y1(p0).y0(function(w){return w.base.y}),p.defined(bv).curve(h),p(y)}return l==="vertical"&&xt(o)?p=cv().y(p0).x1(m0).x0(o):xt(o)?p=cv().x(m0).y1(p0).y0(o):p=cte().x(m0).y(p0),p.defined(bv).curve(h),p(m)},hj=function(e){var n=e.className,r=e.points,s=e.path,i=e.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?hFe(e):s;return b.createElement("path",ME({},qt(e,!1),$1(e),{className:It("recharts-curve",n),d:o,ref:i}))},TM={exports:{}},MM,NU;function fFe(){if(NU)return MM;NU=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return MM=t,MM}var AM,SU;function mFe(){if(SU)return AM;SU=1;var t=fFe();function e(){}function n(){}return n.resetWarningCache=e,AM=function(){function r(o,l,c,d,h,m){if(m!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},AM}var kU;function pFe(){return kU||(kU=1,TM.exports=mFe()()),TM.exports}var gFe=pFe();const Gn=In(gFe);var xFe=Object.getOwnPropertyNames,bFe=Object.getOwnPropertySymbols,yFe=Object.prototype.hasOwnProperty;function CU(t,e){return function(r,s,i){return t(r,s,i)&&e(r,s,i)}}function yv(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);var i=s.cache,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);var c=t(n,r,s);return i.delete(n),i.delete(r),c}}function vFe(t){return t!=null?t[Symbol.toStringTag]:void 0}function _U(t){return xFe(t).concat(bFe(t))}var wFe=Object.hasOwn||(function(t,e){return yFe.call(t,e)});function yh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var jFe="__v",NFe="__o",SFe="_owner",TU=Object.getOwnPropertyDescriptor,MU=Object.keys;function kFe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function CFe(t,e){return yh(t.getTime(),e.getTime())}function _Fe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function TFe(t,e){return t===e}function AU(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var s=new Array(r),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),h=!1,m=0;(l=d.next())&&!l.done;){if(s[m]){m++;continue}var p=o.value,x=l.value;if(n.equals(p[0],x[0],c,m,t,e,n)&&n.equals(p[1],x[1],p[0],x[0],t,e,n)){h=s[m]=!0;break}m++}if(!h)return!1;c++}return!0}var MFe=yh;function AFe(t,e,n){var r=MU(t),s=r.length;if(MU(e).length!==s)return!1;for(;s-- >0;)if(!hre(t,e,n,r[s]))return!1;return!0}function g0(t,e,n){var r=_U(t),s=r.length;if(_U(e).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=r[s],!hre(t,e,n,i)||(o=TU(t,i),l=TU(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function OFe(t,e){return yh(t.valueOf(),e.valueOf())}function EFe(t,e){return t.source===e.source&&t.flags===e.flags}function OU(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var s=new Array(r),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,h=0;(l=c.next())&&!l.done;){if(!s[h]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){d=s[h]=!0;break}h++}if(!d)return!1}return!0}function DFe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function PFe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function hre(t,e,n,r){return(r===SFe||r===NFe||r===jFe)&&(t.$$typeof||e.$$typeof)?!0:wFe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var RFe="[object Arguments]",LFe="[object Boolean]",IFe="[object Date]",FFe="[object Error]",$Fe="[object Map]",HFe="[object Number]",zFe="[object Object]",BFe="[object RegExp]",VFe="[object Set]",WFe="[object String]",UFe="[object URL]",qFe=Array.isArray,EU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,DU=Object.assign,GFe=Object.prototype.toString.call.bind(Object.prototype.toString);function YFe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,s=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,p=t.areUrlsEqual,x=t.unknownTagComparators;return function(w,v,N){if(w===v)return!0;if(w==null||v==null)return!1;var C=typeof w;if(C!==typeof v)return!1;if(C!=="object")return C==="number"?o(w,v,N):C==="function"?s(w,v,N):!1;var S=w.constructor;if(S!==v.constructor)return!1;if(S===Object)return l(w,v,N);if(qFe(w))return e(w,v,N);if(EU!=null&&EU(w))return m(w,v,N);if(S===Date)return n(w,v,N);if(S===RegExp)return d(w,v,N);if(S===Map)return i(w,v,N);if(S===Set)return h(w,v,N);var M=GFe(w);if(M===IFe)return n(w,v,N);if(M===BFe)return d(w,v,N);if(M===$Fe)return i(w,v,N);if(M===VFe)return h(w,v,N);if(M===zFe)return typeof w.then!="function"&&typeof v.then!="function"&&l(w,v,N);if(M===UFe)return p(w,v,N);if(M===FFe)return r(w,v,N);if(M===RFe)return l(w,v,N);if(M===LFe||M===HFe||M===WFe)return c(w,v,N);if(x){var _=x[M];if(!_){var A=vFe(w);A&&(_=x[A])}if(_)return _(w,v,N)}return!1}}function KFe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,s={areArraysEqual:r?g0:kFe,areDatesEqual:CFe,areErrorsEqual:_Fe,areFunctionsEqual:TFe,areMapsEqual:r?CU(AU,g0):AU,areNumbersEqual:MFe,areObjectsEqual:r?g0:AFe,arePrimitiveWrappersEqual:OFe,areRegExpsEqual:EFe,areSetsEqual:r?CU(OU,g0):OU,areTypedArraysEqual:r?g0:DFe,areUrlsEqual:PFe,unknownTagComparators:void 0};if(n&&(s=DU({},s,n(s))),e){var i=yv(s.areArraysEqual),o=yv(s.areMapsEqual),l=yv(s.areObjectsEqual),c=yv(s.areSetsEqual);s=DU({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function XFe(t){return function(e,n,r,s,i,o,l){return t(e,n,l)}}function JFe(t){var e=t.circular,n=t.comparator,r=t.createState,s=t.equals,i=t.strict;if(r)return function(c,d){var h=r(),m=h.cache,p=m===void 0?e?new WeakMap:void 0:m,x=h.meta;return n(c,d,{cache:p,equals:s,meta:x,strict:i})};if(e)return function(c,d){return n(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,d){return n(c,d,o)}}var QFe=Pd();Pd({strict:!0});Pd({circular:!0});Pd({circular:!0,strict:!0});Pd({createInternalComparator:function(){return yh}});Pd({strict:!0,createInternalComparator:function(){return yh}});Pd({circular:!0,createInternalComparator:function(){return yh}});Pd({circular:!0,createInternalComparator:function(){return yh},strict:!0});function Pd(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,s=t.createState,i=t.strict,o=i===void 0?!1:i,l=KFe(t),c=YFe(l),d=r?r(c):XFe(c);return JFe({circular:n,comparator:c,createState:s,equals:d,strict:o})}function ZFe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function PU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(i){n<0&&(n=i),i-n>e?(t(i),n=-1):ZFe(s)};requestAnimationFrame(r)}function AE(t){"@babel/helpers - typeof";return AE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AE(t)}function e$e(t){return s$e(t)||r$e(t)||n$e(t)||t$e()}function t$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n$e(t,e){if(t){if(typeof t=="string")return RU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RU(t,e)}}function RU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s$e(t){if(Array.isArray(t))return t}function a$e(){var t={},e=function(){return null},n=!1,r=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=e$e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){PU(s.bind(null,d),c);return}s(c),PU(s.bind(null,d));return}AE(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function cx(t){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(t)}function LU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function IU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LU(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return e=i$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i$e(t){var e=o$e(t,"string");return cx(e)==="symbol"?e:String(e)}function o$e(t,e){if(cx(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l$e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,s){return r.filter(function(i){return s.includes(i)})})},c$e=function(e){return e},d$e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ig=function(e,n){return Object.keys(n).reduce(function(r,s){return IU(IU({},r),{},fre({},s,e(s,n[s])))},{})},FU=function(e,n,r){return e.map(function(s){return"".concat(d$e(s)," ").concat(n,"ms ").concat(r)}).join(",")};function u$e(t,e){return m$e(t)||f$e(t,e)||mre(t,e)||h$e()}function h$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function m$e(t){if(Array.isArray(t))return t}function p$e(t){return b$e(t)||x$e(t)||mre(t)||g$e()}function g$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mre(t,e){if(t){if(typeof t=="string")return OE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(t,e)}}function x$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b$e(t){if(Array.isArray(t))return OE(t)}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fj=1e-4,pre=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},gre=function(e,n){return e.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},$U=function(e,n){return function(r){var s=pre(e,n);return gre(s,r)}},y$e=function(e,n){return function(r){var s=pre(e,n),i=[].concat(p$e(s.map(function(o,l){return o*l}).slice(1)),[0]);return gre(i,r)}},HU=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),h=u$e(d,4);s=h[0],i=h[1],o=h[2],l=h[3]}}}var m=$U(s,o),p=$U(i,l),x=y$e(s,o),y=function(N){return N>1?1:N<0?0:N},w=function(N){for(var C=N>1?1:N,S=C,M=0;M<8;++M){var _=m(S)-C,A=x(S);if(Math.abs(_-C)<fj||A<fj)return p(S);S=y(S-_/A)}return p(S)};return w.isStepper=!1,w},v$e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(h,m,p){var x=-(h-m)*r,y=p*i,w=p+(x-y)*l/1e3,v=p*l/1e3+h;return Math.abs(v-m)<fj&&Math.abs(w)<fj?[m,0]:[v,w]};return c.isStepper=!0,c.dt=l,c},w$e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HU(s);case"spring":return v$e();default:if(s.split("(")[0]==="cubic-bezier")return HU(s)}return typeof s=="function"?s:null};function dx(t){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(t)}function zU(t){return S$e(t)||N$e(t)||xre(t)||j$e()}function j$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S$e(t){if(Array.isArray(t))return DE(t)}function BU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(n),!0).forEach(function(r){EE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EE(t,e,n){return e=k$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k$e(t){var e=C$e(t,"string");return dx(e)==="symbol"?e:String(e)}function C$e(t,e){if(dx(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _$e(t,e){return A$e(t)||M$e(t,e)||xre(t,e)||T$e()}function T$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xre(t,e){if(t){if(typeof t=="string")return DE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DE(t,e)}}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function A$e(t){if(Array.isArray(t))return t}var mj=function(e,n,r){return e+(n-e)*r},PE=function(e){var n=e.from,r=e.to;return n!==r},O$e=function t(e,n,r){var s=ig(function(i,o){if(PE(o)){var l=e(o.from,o.to,o.velocity),c=_$e(l,2),d=c[0],h=c[1];return Bs(Bs({},o),{},{from:d,velocity:h})}return o},n);return r<1?ig(function(i,o){return PE(o)?Bs(Bs({},o),{},{velocity:mj(o.velocity,s[i].velocity,r),from:mj(o.from,s[i].from,r)}):o},n):t(e,s,r-1)};const E$e=(function(t,e,n,r,s){var i=l$e(t,e),o=i.reduce(function(v,N){return Bs(Bs({},v),{},EE({},N,[t[N],e[N]]))},{}),l=i.reduce(function(v,N){return Bs(Bs({},v),{},EE({},N,{from:t[N],velocity:0,to:e[N]}))},{}),c=-1,d,h,m=function(){return null},p=function(){return ig(function(N,C){return C.from},l)},x=function(){return!Object.values(l).filter(PE).length},y=function(N){d||(d=N);var C=N-d,S=C/n.dt;l=O$e(n,l,S),s(Bs(Bs(Bs({},t),e),p())),d=N,x()||(c=requestAnimationFrame(m))},w=function(N){h||(h=N);var C=(N-h)/r,S=ig(function(_,A){return mj.apply(void 0,zU(A).concat([n(C)]))},o);if(s(Bs(Bs(Bs({},t),e),S)),C<1)c=requestAnimationFrame(m);else{var M=ig(function(_,A){return mj.apply(void 0,zU(A).concat([n(1)]))},o);s(Bs(Bs(Bs({},t),e),M))}};return m=n.isStepper?y:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}var D$e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function P$e(t,e){if(t==null)return{};var n=R$e(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R$e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function OM(t){return $$e(t)||F$e(t)||I$e(t)||L$e()}function L$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I$e(t,e){if(t){if(typeof t=="string")return RE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RE(t,e)}}function F$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $$e(t){if(Array.isArray(t))return RE(t)}function RE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VU(Object(n),!0).forEach(function(r){R0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R0(t,e,n){return e=bre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z$e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bre(r.key),r)}}function B$e(t,e,n){return e&&z$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bre(t){var e=V$e(t,"string");return ym(e)==="symbol"?e:String(e)}function V$e(t,e){if(ym(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ym(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LE(t,e)}function LE(t,e){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},LE(t,e)}function U$e(t){var e=q$e();return function(){var r=pj(t),s;if(e){var i=pj(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return IE(this,s)}}function IE(t,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FE(t)}function FE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pj(t){return pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pj(t)}var Zo=(function(t){W$e(n,t);var e=U$e(n);function n(r,s){var i;H$e(this,n),i=e.call(this,r,s);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,h=o.to,m=o.steps,p=o.children,x=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(FE(i)),i.changeStyle=i.changeStyle.bind(FE(i)),!l||x<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:h}),IE(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof p=="function")return i.state={style:d},IE(i);i.state={style:c?R0({},c,d):d}}else i.state={style:{}};return i}return B$e(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,h=i.to,m=i.from,p=this.state.style;if(l){if(!o){var x={style:c?R0({},c,h):h};this.state&&p&&(c&&p[c]!==h||!c&&p!==h)&&this.setState(x);return}if(!(QFe(s.to,h)&&s.canBegin&&s.isActive)){var y=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=y||d?m:s.to;if(this.state&&p){var v={style:c?R0({},c,w):w};(c&&p[c]!==w||!c&&p!==w)&&this.setState(v)}this.runAnimation(Ki(Ki({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,d=s.easing,h=s.begin,m=s.onAnimationEnd,p=s.onAnimationStart,x=E$e(o,l,w$e(d),c,this.changeStyle),y=function(){i.stopJSAnimation=x()};this.manager.start([p,h,y,c,m])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],h=d.style,m=d.duration,p=m===void 0?0:m,x=function(w,v,N){if(N===0)return w;var C=v.duration,S=v.easing,M=S===void 0?"ease":S,_=v.style,A=v.properties,O=v.onAnimationEnd,D=N>0?o[N-1]:v,F=A||Object.keys(_);if(typeof M=="function"||M==="spring")return[].concat(OM(w),[i.runJSAnimation.bind(i,{from:D.style,to:_,duration:C,easing:M}),C]);var L=FU(F,C,M),I=Ki(Ki(Ki({},D.style),_),{},{transition:L});return[].concat(OM(w),[I,C,O]).filter(c$e)};return this.manager.start([c].concat(OM(o.reduce(x,[h,Math.max(p,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=a$e());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,h=s.onAnimationStart,m=s.onAnimationEnd,p=s.steps,x=s.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var w=l?R0({},l,c):c,v=FU(Object.keys(w),o,d);y.start([h,i,Ki(Ki({},w),{},{transition:v}),o,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=P$e(s,D$e),d=b.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!l||d===0||o<=0)return i;var m=function(x){var y=x.props,w=y.style,v=w===void 0?{}:w,N=y.className,C=b.cloneElement(x,Ki(Ki({},c),{},{style:Ki(Ki({},v),h),className:N}));return C};return d===1?m(b.Children.only(i)):Q.createElement("div",null,b.Children.map(i,function(p){return m(p)}))}}]),n})(b.PureComponent);Zo.displayName="Animate";Zo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Zo.propTypes={from:Gn.oneOfType([Gn.object,Gn.string]),to:Gn.oneOfType([Gn.object,Gn.string]),attributeName:Gn.string,duration:Gn.number,begin:Gn.number,easing:Gn.oneOfType([Gn.string,Gn.func]),steps:Gn.arrayOf(Gn.shape({duration:Gn.number.isRequired,style:Gn.object.isRequired,easing:Gn.oneOfType([Gn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Gn.func]),properties:Gn.arrayOf("string"),onAnimationEnd:Gn.func})),children:Gn.oneOfType([Gn.node,Gn.func]),isActive:Gn.bool,canBegin:Gn.bool,onAnimationEnd:Gn.func,shouldReAnimate:Gn.bool,onAnimationStart:Gn.func,onAnimationReStart:Gn.func};function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}function gj(){return gj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gj.apply(this,arguments)}function G$e(t,e){return J$e(t)||X$e(t,e)||K$e(t,e)||Y$e()}function Y$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K$e(t,e){if(t){if(typeof t=="string")return WU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WU(t,e)}}function WU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function J$e(t){if(Array.isArray(t))return t}function UU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(n),!0).forEach(function(r){Q$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q$e(t,e,n){return e=Z$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z$e(t){var e=eHe(t,"string");return ux(e)=="symbol"?e:e+""}function eHe(t,e){if(ux(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ux(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GU=function(e,n,r,s,i){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,d=s>=0&&r>=0||s<0&&r<0?1:0,h;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,x=4;p<x;p++)m[p]=i[p]>o?o:i[p];h="M".concat(e,",").concat(n+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(n)),h+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+l*m[1])),h+="L ".concat(e+r,",").concat(n+s-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-c*m[2],",").concat(n+s)),h+="L ".concat(e+c*m[3],",").concat(n+s),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+s-l*m[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);h="M ".concat(e,",").concat(n+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+c*y,",").concat(n,`
            L `).concat(e+r-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r,",").concat(n+l*y,`
            L `).concat(e+r,",").concat(n+s-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r-c*y,",").concat(n+s,`
            L `).concat(e+c*y,",").concat(n+s,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(n+s-l*y," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return h},tHe=function(e,n){if(!e||!n)return!1;var r=e.x,s=e.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),h=Math.max(i,i+l),m=Math.min(o,o+c),p=Math.max(o,o+c);return r>=d&&r<=h&&s>=m&&s<=p}return!1},nHe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m3=function(e){var n=qU(qU({},nHe),e),r=b.useRef(),s=b.useState(-1),i=G$e(s,2),o=i[0],l=i[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&l(M)}catch{}},[]);var c=n.x,d=n.y,h=n.width,m=n.height,p=n.radius,x=n.className,y=n.animationEasing,w=n.animationDuration,v=n.animationBegin,N=n.isAnimationActive,C=n.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var S=It("recharts-rectangle",x);return C?Q.createElement(Zo,{canBegin:o>0,from:{width:h,height:m,x:c,y:d},to:{width:h,height:m,x:c,y:d},duration:w,animationEasing:y,isActive:C},function(M){var _=M.width,A=M.height,O=M.x,D=M.y;return Q.createElement(Zo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,isActive:N,easing:y},Q.createElement("path",gj({},qt(n,!0),{className:S,d:GU(O,D,_,A,p),ref:r})))}):Q.createElement("path",gj({},qt(n,!0),{className:S,d:GU(c,d,h,m,p)}))},rHe=["points","className","baseLinePoints","connectNulls"];function Sf(){return Sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sf.apply(this,arguments)}function sHe(t,e){if(t==null)return{};var n=aHe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YU(t){return cHe(t)||lHe(t)||oHe(t)||iHe()}function iHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oHe(t,e){if(t){if(typeof t=="string")return $E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $E(t,e)}}function lHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cHe(t){if(Array.isArray(t))return $E(t)}function $E(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var KU=function(e){return e&&e.x===+e.x&&e.y===+e.y},dHe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){KU(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),KU(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},og=function(e,n){var r=dHe(e);n&&(r=[r.reduce(function(i,o){return[].concat(YU(i),YU(o))},[])]);var s=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},uHe=function(e,n,r){var s=og(e,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(og(n.reverse(),r).slice(1))},hHe=function(e){var n=e.points,r=e.className,s=e.baseLinePoints,i=e.connectNulls,o=sHe(e,rHe);if(!n||!n.length)return null;var l=It("recharts-polygon",r);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=uHe(n,s,i);return Q.createElement("g",{className:l},Q.createElement("path",Sf({},qt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?Q.createElement("path",Sf({},qt(o,!0),{fill:"none",d:og(n,i)})):null,c?Q.createElement("path",Sf({},qt(o,!0),{fill:"none",d:og(s,i)})):null)}var h=og(n,i);return Q.createElement("path",Sf({},qt(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:l,d:h}))};function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(this,arguments)}var JN=function(e){var n=e.cx,r=e.cy,s=e.r,i=e.className,o=It("recharts-dot",i);return n===+n&&r===+r&&s===+s?b.createElement("circle",HE({},qt(e,!1),$1(e),{className:o,cx:n,cy:r,r:s})):null};function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}var fHe=["x","y","top","left","width","height","className"];function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(this,arguments)}function XU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mHe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(n),!0).forEach(function(r){pHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pHe(t,e,n){return e=gHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gHe(t){var e=xHe(t,"string");return hx(e)=="symbol"?e:e+""}function xHe(t,e){if(hx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bHe(t,e){if(t==null)return{};var n=yHe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vHe=function(e,n,r,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},wHe=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,h=e.width,m=h===void 0?0:h,p=e.height,x=p===void 0?0:p,y=e.className,w=bHe(e,fHe),v=mHe({x:r,y:i,top:l,left:d,width:m,height:x},w);return!xt(r)||!xt(i)||!xt(m)||!xt(x)||!xt(l)||!xt(d)?null:Q.createElement("path",zE({},qt(v,!0),{className:It("recharts-cross",y),d:vHe(r,i,m,x,l,d)}))},EM,JU;function jHe(){if(JU)return EM;JU=1;var t=qN(),e=Dne(),n=sl();function r(s,i){return s&&s.length?t(s,n(i,2),e):void 0}return EM=r,EM}var NHe=jHe();const SHe=In(NHe);var DM,QU;function kHe(){if(QU)return DM;QU=1;var t=qN(),e=sl(),n=Pne();function r(s,i){return s&&s.length?t(s,e(i,2),n):void 0}return DM=r,DM}var CHe=kHe();const _He=In(CHe);var THe=["cx","cy","angle","ticks","axisLine"],MHe=["ticks","tick","angle","tickFormatter","stroke"];function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}function ZU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZU(Object(n),!0).forEach(function(r){QN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eq(t,e){if(t==null)return{};var n=AHe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vre(r.key),r)}}function EHe(t,e,n){return e&&tq(t.prototype,e),n&&tq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DHe(t,e,n){return e=xj(e),PHe(t,yre()?Reflect.construct(e,n||[],xj(t).constructor):e.apply(t,n))}function PHe(t,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RHe(t)}function RHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yre=function(){return!!t})()}function xj(t){return xj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xj(t)}function LHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BE(t,e)}function BE(t,e){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},BE(t,e)}function QN(t,e,n){return e=vre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vre(t){var e=IHe(t,"string");return vm(e)=="symbol"?e:e+""}function IHe(t,e){if(vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZN=(function(t){function e(){return OHe(this,e),DHe(this,e,arguments)}return LHe(e,t),EHe(e,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return yr(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=SHe(l,function(h){return h.coordinate||0}),d=_He(l,function(h){return h.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,d=eq(r,THe),h=l.reduce(function(y,w){return[Math.min(y[0],w.coordinate),Math.max(y[1],w.coordinate)]},[1/0,-1/0]),m=yr(s,i,h[0],o),p=yr(s,i,h[1],o),x=iu(iu(iu({},qt(d,!1)),{},{fill:"none"},qt(c,!1)),{},{x1:m.x,y1:m.y,x2:p.x,y2:p.y});return Q.createElement("line",lg({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,h=eq(s,MHe),m=this.getTickTextAnchor(),p=qt(h,!1),x=qt(o,!1),y=i.map(function(w,v){var N=r.getTickValueCoord(w),C=iu(iu(iu(iu({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},p),{},{stroke:"none",fill:d},x),{},{index:v},N),{},{payload:w});return Q.createElement(Pn,lg({className:It("recharts-polar-radius-axis-tick",lre(o)),key:"tick-".concat(w.coordinate)},sh(r.props,w,v)),e.renderTickItem(o,C,c?c(w.value,v):w.value))});return Q.createElement(Pn,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.axisLine,o=r.tick;return!s||!s.length?null:Q.createElement(Pn,{className:It("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),As.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,i){var o;return Q.isValidElement(r)?o=Q.cloneElement(r,s):Qt(r)?o=r(s):o=Q.createElement(ah,lg({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(b.PureComponent);QN(ZN,"displayName","PolarRadiusAxis");QN(ZN,"axisType","radiusAxis");QN(ZN,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gu.apply(this,arguments)}function nq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nq(Object(n),!0).forEach(function(r){e2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jre(r.key),r)}}function $He(t,e,n){return e&&rq(t.prototype,e),n&&rq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HHe(t,e,n){return e=bj(e),zHe(t,wre()?Reflect.construct(e,n||[],bj(t).constructor):e.apply(t,n))}function zHe(t,e){if(e&&(wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BHe(t)}function BHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wre=function(){return!!t})()}function bj(t){return bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bj(t)}function VHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VE(t,e)}function VE(t,e){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},VE(t,e)}function e2(t,e,n){return e=jre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jre(t){var e=WHe(t,"string");return wm(e)=="symbol"?e:e+""}function WHe(t,e){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UHe=Math.PI/180,sq=1e-5,t2=(function(t){function e(){return FHe(this,e),HHe(this,e,arguments)}return VHe(e,t),$He(e,[{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,h=d||8,m=yr(i,o,l,r.coordinate),p=yr(i,o,l+(c==="inner"?-1:1)*h,r.coordinate);return{x1:m.x,y1:m.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,i=Math.cos(-r.coordinate*UHe),o;return i>sq?o=s==="outer"?"start":"end":i<-sq?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,d=ou(ou({},qt(this.props,!1)),{},{fill:"none"},qt(l,!1));if(c==="circle")return Q.createElement(JN,gu({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var h=this.props.ticks,m=h.map(function(p){return yr(s,i,o,p.coordinate)});return Q.createElement(hHe,gu({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,h=qt(this.props,!1),m=qt(o,!1),p=ou(ou({},h),{},{fill:"none"},qt(l,!1)),x=i.map(function(y,w){var v=r.getTickLineCoord(y),N=r.getTickTextAnchor(y),C=ou(ou(ou({textAnchor:N},h),{},{stroke:"none",fill:d},m),{},{index:w,payload:y,x:v.x2,y:v.y2});return Q.createElement(Pn,gu({className:It("recharts-polar-angle-axis-tick",lre(o)),key:"tick-".concat(y.coordinate)},sh(r.props,y,w)),l&&Q.createElement("line",gu({className:"recharts-polar-angle-axis-tick-line"},p,v)),o&&e.renderTickItem(o,C,c?c(y.value,w):y.value))});return Q.createElement(Pn,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!s||!s.length?null:Q.createElement(Pn,{className:It("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,i){var o;return Q.isValidElement(r)?o=Q.cloneElement(r,s):Qt(r)?o=r(s):o=Q.createElement(ah,gu({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(b.PureComponent);e2(t2,"displayName","PolarAngleAxis");e2(t2,"axisType","angleAxis");e2(t2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var PM,aq;function qHe(){if(aq)return PM;aq=1;var t=Ete(),e=t(Object.getPrototypeOf,Object);return PM=e,PM}var RM,iq;function GHe(){if(iq)return RM;iq=1;var t=gc(),e=qHe(),n=xc(),r="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=o.call(Object);function d(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var p=l.call(m,"constructor")&&m.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return RM=d,RM}var YHe=GHe();const KHe=In(YHe);var LM,oq;function XHe(){if(oq)return LM;oq=1;var t=gc(),e=xc(),n="[object Boolean]";function r(s){return s===!0||s===!1||e(s)&&t(s)==n}return LM=r,LM}var JHe=XHe();const QHe=In(JHe);function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}function yj(){return yj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yj.apply(this,arguments)}function ZHe(t,e){return rze(t)||nze(t,e)||tze(t,e)||eze()}function eze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tze(t,e){if(t){if(typeof t=="string")return lq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lq(t,e)}}function lq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function rze(t){if(Array.isArray(t))return t}function cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cq(Object(n),!0).forEach(function(r){sze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sze(t,e,n){return e=aze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aze(t){var e=ize(t,"string");return fx(e)=="symbol"?e:e+""}function ize(t,e){if(fx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uq=function(e,n,r,s,i){var o=r-s,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+i),l+="L ".concat(e+r-o/2-s,",").concat(n+i),l+="L ".concat(e,",").concat(n," Z"),l},oze={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lze=function(e){var n=dq(dq({},oze),e),r=b.useRef(),s=b.useState(-1),i=ZHe(s,2),o=i[0],l=i[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,d=n.y,h=n.upperWidth,m=n.lowerWidth,p=n.height,x=n.className,y=n.animationEasing,w=n.animationDuration,v=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||p!==+p||h===0&&m===0||p===0)return null;var C=It("recharts-trapezoid",x);return N?Q.createElement(Zo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:h,lowerWidth:m,height:p,x:c,y:d},duration:w,animationEasing:y,isActive:N},function(S){var M=S.upperWidth,_=S.lowerWidth,A=S.height,O=S.x,D=S.y;return Q.createElement(Zo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,easing:y},Q.createElement("path",yj({},qt(n,!0),{className:C,d:uq(O,D,M,_,A),ref:r})))}):Q.createElement("g",null,Q.createElement("path",yj({},qt(n,!0),{className:C,d:uq(c,d,h,m,p)})))},cze=["option","shapeType","propTransformer","activeClassName","isActive"];function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}function dze(t,e){if(t==null)return{};var n=uze(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(n),!0).forEach(function(r){hze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hze(t,e,n){return e=fze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fze(t){var e=mze(t,"string");return mx(e)=="symbol"?e:e+""}function mze(t,e){if(mx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pze(t,e){return vj(vj({},e),t)}function gze(t,e){return t==="symbols"}function fq(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Q.createElement(m3,n);case"trapezoid":return Q.createElement(lze,n);case"sector":return Q.createElement(ure,n);case"symbols":if(gze(e))return Q.createElement(D4,n);break;default:return null}}function xze(t){return b.isValidElement(t)?t.props:t}function Nre(t){var e=t.option,n=t.shapeType,r=t.propTransformer,s=r===void 0?pze:r,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=dze(t,cze),d;if(b.isValidElement(e))d=b.cloneElement(e,vj(vj({},c),xze(e)));else if(Qt(e))d=e(c);else if(KHe(e)&&!QHe(e)){var h=s(e,c);d=Q.createElement(fq,{shapeType:n,elementProps:h})}else{var m=c;d=Q.createElement(fq,{shapeType:n,elementProps:m})}return l?Q.createElement(Pn,{className:o},d):d}function n2(t,e){return e!=null&&"trapezoids"in t.props}function r2(t,e){return e!=null&&"sectors"in t.props}function px(t,e){return e!=null&&"points"in t.props}function bze(t,e){var n,r,s=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return s&&i}function yze(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function vze(t,e){var n=t.x===e.x,r=t.y===e.y,s=t.z===e.z;return n&&r&&s}function wze(t,e){var n;return n2(t,e)?n=bze:r2(t,e)?n=yze:px(t,e)&&(n=vze),n}function jze(t,e){var n;return n2(t,e)?n="trapezoids":r2(t,e)?n="sectors":px(t,e)&&(n="points"),n}function Nze(t,e){if(n2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(r2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return px(t,e)?e.payload:{}}function Sze(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,s=jze(n,e),i=Nze(n,e),o=r.filter(function(c,d){var h=Kx(i,c),m=n.props[s].filter(function(y){var w=wze(n,e);return w(y,e)}),p=n.props[s].indexOf(m[m.length-1]),x=d===p;return h&&x}),l=r.indexOf(o[o.length-1]);return l}var lw;function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function kf(){return kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kf.apply(this,arguments)}function mq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(n),!0).forEach(function(r){Pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kre(r.key),r)}}function Cze(t,e,n){return e&&pq(t.prototype,e),n&&pq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ze(t,e,n){return e=wj(e),Tze(t,Sre()?Reflect.construct(e,n||[],wj(t).constructor):e.apply(t,n))}function Tze(t,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mze(t)}function Mze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sre=function(){return!!t})()}function wj(t){return wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wj(t)}function Aze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WE(t,e)}function WE(t,e){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},WE(t,e)}function Pi(t,e,n){return e=kre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Oze(t,"string");return jm(e)=="symbol"?e:e+""}function Oze(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var po=(function(t){function e(n){var r;return kze(this,e),r=_ze(this,e,[n]),Pi(r,"pieRef",null),Pi(r,"sectorRefs",[]),Pi(r,"id",Um("recharts-pie-")),Pi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Qt(s)&&s()}),Pi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Qt(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Aze(e,t),Cze(e,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,h=qt(this.props,!1),m=qt(o,!1),p=qt(l,!1),x=o&&o.offsetRadius||20,y=r.map(function(w,v){var N=(w.startAngle+w.endAngle)/2,C=yr(w.cx,w.cy,w.outerRadius+x,N),S=gr(gr(gr(gr({},h),w),{},{stroke:"none"},m),{},{index:v,textAnchor:e.getTextAnchor(C.x,w.cx)},C),M=gr(gr(gr(gr({},h),w),{},{fill:"none",stroke:w.fill},p),{},{index:v,points:[yr(w.cx,w.cy,w.outerRadius,N),C]}),_=c;return rn(c)&&rn(d)?_="value":rn(c)&&(_=d),Q.createElement(Pn,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,M,"line"),e.renderLabelItem(o,S,ys(w,_)))});return Q.createElement(Pn,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(d,h){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var m=s.isActiveIndex(h),p=c&&s.hasActiveIndex()?c:null,x=m?o:p,y=gr(gr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return Q.createElement(Pn,kf({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},sh(s.props,d,h),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(h)}),Q.createElement(Nre,kf({option:x,isActive:m,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,h=s.animationId,m=this.state,p=m.prevSectors,x=m.prevIsAnimationActive;return Q.createElement(Zo,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var w=y.t,v=[],N=i&&i[0],C=N.startAngle;return i.forEach(function(S,M){var _=p&&p[M],A=M>0?di(S,"paddingAngle",0):0;if(_){var O=si(_.endAngle-_.startAngle,S.endAngle-S.startAngle),D=gr(gr({},S),{},{startAngle:C+A,endAngle:C+O(w)+A});v.push(D),C=D.endAngle}else{var F=S.endAngle,L=S.startAngle,I=si(0,F-L),P=I(w),z=gr(gr({},S),{},{startAngle:C+A,endAngle:C+P+A});v.push(z),C=z.endAngle}}),Q.createElement(Pn,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Kx(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,h=s.cy,m=s.innerRadius,p=s.outerRadius,x=s.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!xt(d)||!xt(h)||!xt(m)||!xt(p))return null;var w=It("recharts-pie",l);return Q.createElement(Pn,{tabIndex:this.props.rootTabIndex,className:w,ref:function(N){r.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),As.renderCallByParent(this.props,null,!1),(!x||y)&&tc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,i){if(Q.isValidElement(r))return Q.cloneElement(r,s);if(Qt(r))return r(s);var o=It("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Q.createElement(hj,kf({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,s,i){if(Q.isValidElement(r))return Q.cloneElement(r,s);var o=i;if(Qt(r)&&(o=r(s),Q.isValidElement(o)))return o;var l=It("recharts-pie-label-text",typeof r!="boolean"&&!Qt(r)?r.className:"");return Q.createElement(ah,kf({},s,{alignmentBaseline:"middle",className:l}),o)}}])})(b.PureComponent);lw=po;Pi(po,"displayName","Pie");Pi(po,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gh.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Pi(po,"parseDeltaAngle",function(t,e){var n=ya(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Pi(po,"getRealPieData",function(t){var e=t.data,n=t.children,r=qt(t,!1),s=ui(n,Gm);return e&&e.length?e.map(function(i,o){return gr(gr(gr({payload:i},r),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return gr(gr({},r),i.props)}):[]});Pi(po,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,s=e.width,i=e.height,o=ore(s,i),l=r+va(t.cx,s,s/2),c=n+va(t.cy,i,i/2),d=va(t.innerRadius,o,0),h=va(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:h,maxRadius:m}});Pi(po,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?gr(gr({},e.type.defaultProps),e.props):e.props,s=lw.getRealPieData(r);if(!s||!s.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,d=r.dataKey,h=r.nameKey,m=r.valueKey,p=r.tooltipType,x=Math.abs(r.minAngle),y=lw.parseCoordinateOfPie(r,n),w=lw.parseDeltaAngle(o,l),v=Math.abs(w),N=d;rn(d)&&rn(m)?(co(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):rn(d)&&(co(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var C=s.filter(function(D){return ys(D,N,0)!==0}).length,S=(v>=360?C:C-1)*c,M=v-C*x-S,_=s.reduce(function(D,F){var L=ys(F,N,0);return D+(xt(L)?L:0)},0),A;if(_>0){var O;A=s.map(function(D,F){var L=ys(D,N,0),I=ys(D,h,F),P=(xt(L)?L:0)/_,z;F?z=O.endAngle+ya(w)*c*(L!==0?1:0):z=o;var U=z+ya(w)*((L!==0?x:0)+P*M),V=(z+U)/2,$=(y.innerRadius+y.outerRadius)/2,R=[{name:I,value:L,payload:D,dataKey:N,type:p}],W=yr(y.cx,y.cy,$,V);return O=gr(gr(gr({percent:P,cornerRadius:i,name:I,tooltipPayload:R,midAngle:V,middleRadius:$,tooltipPosition:W},D),y),{},{value:ys(D,N),startAngle:z,endAngle:U,payload:D,paddingAngle:ya(w)*c}),O})}return gr(gr({},y),{},{sectors:A,data:s})});var IM,gq;function Eze(){if(gq)return IM;gq=1;var t=Math.ceil,e=Math.max;function n(r,s,i,o){for(var l=-1,c=e(t((s-r)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=r,r+=i;return d}return IM=n,IM}var FM,xq;function Cre(){if(xq)return FM;xq=1;var t=Yte(),e=1/0,n=17976931348623157e292;function r(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-e){var i=s<0?-1:1;return i*n}return s===s?s:0}return FM=r,FM}var $M,bq;function Dze(){if(bq)return $M;bq=1;var t=Eze(),e=$N(),n=Cre();function r(s){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),l=l===void 0?i<o?1:-1:n(l),t(i,o,l,s)}}return $M=r,$M}var HM,yq;function Pze(){if(yq)return HM;yq=1;var t=Dze(),e=t();return HM=e,HM}var Rze=Pze();const jj=In(Rze);function gx(t){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(t)}function vq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(n),!0).forEach(function(r){_re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _re(t,e,n){return e=Lze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lze(t){var e=Ize(t,"string");return gx(e)=="symbol"?e:e+""}function Ize(t,e){if(gx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fze=["Webkit","Moz","O","ms"],$ze=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Fze.reduce(function(i,o){return wq(wq({},i),{},_re({},o+r,n))},{});return s[e]=n,s};function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function Nj(){return Nj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nj.apply(this,arguments)}function jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function zM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jq(Object(n),!0).forEach(function(r){ni(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mre(r.key),r)}}function zze(t,e,n){return e&&Nq(t.prototype,e),n&&Nq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bze(t,e,n){return e=Sj(e),Vze(t,Tre()?Reflect.construct(e,n||[],Sj(t).constructor):e.apply(t,n))}function Vze(t,e){if(e&&(Nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wze(t)}function Wze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tre=function(){return!!t})()}function Sj(t){return Sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sj(t)}function Uze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UE(t,e)}function UE(t,e){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},UE(t,e)}function ni(t,e,n){return e=Mre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mre(t){var e=qze(t,"string");return Nm(e)=="symbol"?e:e+""}function qze(t,e){if(Nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gze=function(e){var n=e.data,r=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=sg().domain(jj(0,c)).range([i,i+o-l]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(s),scale:d,scaleValues:h}},Sq=function(e){return e.changedTouches&&!!e.changedTouches.length},Sm=(function(t){function e(n){var r;return Hze(this,e),r=Bze(this,e,[n]),ni(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),ni(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),ni(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),ni(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ni(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ni(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ni(r,"handleSlideDragStart",function(s){var i=Sq(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Uze(e,t),zze(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,h=d.length-1,m=Math.min(s,i),p=Math.max(s,i),x=e.getIndexInRange(o,m),y=e.getIndexInRange(o,p);return{startIndex:x-x%c,endIndex:y===h?h:y-y%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=ys(i[r],l,r);return Qt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,h=c.width,m=c.travellerWidth,p=c.startIndex,x=c.endIndex,y=c.onChange,w=r.pageX-i;w>0?w=Math.min(w,d+h-m-l,d+h-m-o):w<0&&(w=Math.max(w,d-o,d-l));var v=this.getIndex({startX:o+w,endX:l+w});(v.startIndex!==p||v.endIndex!==x)&&y&&y(v),this.setState({startX:o+w,endX:l+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var i=Sq(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],h=this.props,m=h.x,p=h.width,x=h.travellerWidth,y=h.onChange,w=h.gap,v=h.data,N={startX:this.state.startX,endX:this.state.endX},C=r.pageX-i;C>0?C=Math.min(C,m+p-x-d):C<0&&(C=Math.max(C,m-d)),N[o]=d+C;var S=this.getIndex(N),M=S.startIndex,_=S.endIndex,A=function(){var D=v.length-1;return o==="startX"&&(l>c?M%w===0:_%w===0)||l<c&&_===D||o==="endX"&&(l>c?_%w===0:M%w===0)||l>c&&_===D};this.setState(ni(ni({},o,d+C),"brushMoveStartX",r.pageX),function(){y&&A()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,h=this.state[s],m=l.indexOf(h);if(m!==-1){var p=m+r;if(!(p===-1||p>=l.length)){var x=l[p];s==="startX"&&x>=d||s==="endX"&&x<=c||this.setState(ni({},s,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,d=r.stroke;return Q.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.data,d=r.children,h=r.padding,m=b.Children.only(d);return m?Q.cloneElement(m,{x:s,y:i,width:o,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var i,o,l=this,c=this.props,d=c.y,h=c.travellerWidth,m=c.height,p=c.traveller,x=c.ariaLabel,y=c.data,w=c.startIndex,v=c.endIndex,N=Math.max(r,this.props.x),C=zM(zM({},qt(this.props,!1)),{},{x:N,y:d,width:h,height:m}),S=x||"Min value: ".concat((i=y[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return Q.createElement(Pn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,C))}},{key:"renderSlide",value:function(r,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,h=Math.min(r,s)+d,m=Math.max(Math.abs(s-r)-d,0);return Q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,h=this.state,m=h.startX,p=h.endX,x=5,y={pointerEvents:"none",fill:d};return Q.createElement(Pn,{className:"recharts-brush-texts"},Q.createElement(ah,Nj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-x,y:o+l/2},y),this.getTextOfTick(s)),Q.createElement(ah,Nj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+c+x,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,s=r.data,i=r.className,o=r.children,l=r.x,c=r.y,d=r.width,h=r.height,m=r.alwaysShowText,p=this.state,x=p.startX,y=p.endX,w=p.isTextActive,v=p.isSlideMoving,N=p.isTravellerMoving,C=p.isTravellerFocused;if(!s||!s.length||!xt(l)||!xt(c)||!xt(d)||!xt(h)||d<=0||h<=0)return null;var S=It("recharts-brush",i),M=Q.Children.count(o)===1,_=$ze("userSelect","none");return Q.createElement(Pn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(x,y),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(y,"endX"),(w||v||N||C||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,d=Math.floor(i+l/2)-1;return Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),Q.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),Q.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var i;return Q.isValidElement(r)?i=Q.cloneElement(r,s):Qt(r)?i=r(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(r,s){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,h=r.startIndex,m=r.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return zM({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?Gze({data:i,width:o,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var p=s.scale.domain().map(function(x){return s.scale(x)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,s){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}])})(b.PureComponent);ni(Sm,"displayName","Brush");ni(Sm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var BM,kq;function Yze(){if(kq)return BM;kq=1;var t=H4();function e(n,r){var s;return t(n,function(i,o,l){return s=r(i,o,l),!s}),!!s}return BM=e,BM}var VM,Cq;function Kze(){if(Cq)return VM;Cq=1;var t=kte(),e=sl(),n=Yze(),r=qa(),s=$N();function i(o,l,c){var d=r(o)?t:n;return c&&s(o,l,c)&&(l=void 0),d(o,e(l,3))}return VM=i,VM}var Xze=Kze();const Jze=In(Xze);var Vo=function(e,n){var r=e.alwaysShow,s=e.ifOverflow;return r&&(s="extendDomain"),s===n},WM,_q;function Qze(){if(_q)return WM;_q=1;var t=Vte();function e(n,r,s){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[r]=s}return WM=e,WM}var UM,Tq;function Zze(){if(Tq)return UM;Tq=1;var t=Qze(),e=zte(),n=sl();function r(s,i){var o={};return i=n(i,3),e(s,function(l,c,d){t(o,c,i(l,c,d))}),o}return UM=r,UM}var eBe=Zze();const tBe=In(eBe);var qM,Mq;function nBe(){if(Mq)return qM;Mq=1;function t(e,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(!n(e[r],r,e))return!1;return!0}return qM=t,qM}var GM,Aq;function rBe(){if(Aq)return GM;Aq=1;var t=H4();function e(n,r){var s=!0;return t(n,function(i,o,l){return s=!!r(i,o,l),s}),s}return GM=e,GM}var YM,Oq;function sBe(){if(Oq)return YM;Oq=1;var t=nBe(),e=rBe(),n=sl(),r=qa(),s=$N();function i(o,l,c){var d=r(o)?t:e;return c&&s(o,l,c)&&(l=void 0),d(o,n(l,3))}return YM=i,YM}var aBe=sBe();const Are=In(aBe);var iBe=["x","y"];function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(this,arguments)}function Eq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function x0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eq(Object(n),!0).forEach(function(r){oBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oBe(t,e,n){return e=lBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lBe(t){var e=cBe(t,"string");return xx(e)=="symbol"?e:e+""}function cBe(t,e){if(xx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dBe(t,e){if(t==null)return{};var n=uBe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hBe(t,e){var n=t.x,r=t.y,s=dBe(t,iBe),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),d="".concat(e.height||s.height),h=parseInt(d,10),m="".concat(e.width||s.width),p=parseInt(m,10);return x0(x0(x0(x0(x0({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:p,name:e.name,radius:e.radius})}function Dq(t){return Q.createElement(Nre,qE({shapeType:"rectangle",propTransformer:hBe,activeClassName:"recharts-active-bar"},t))}var fBe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof e=="number")return e;var i=xt(r)||LPe(r);return i?e(r,s):(i||oh(),n)}},mBe=["value","background"],Ore;function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function pBe(t,e){if(t==null)return{};var n=gBe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kj(){return kj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kj.apply(this,arguments)}function Pq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pq(Object(n),!0).forEach(function(r){ld(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dre(r.key),r)}}function bBe(t,e,n){return e&&Rq(t.prototype,e),n&&Rq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yBe(t,e,n){return e=Cj(e),vBe(t,Ere()?Reflect.construct(e,n||[],Cj(t).constructor):e.apply(t,n))}function vBe(t,e){if(e&&(km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wBe(t)}function wBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ere(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ere=function(){return!!t})()}function Cj(t){return Cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cj(t)}function jBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GE(t,e)}function GE(t,e){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},GE(t,e)}function ld(t,e,n){return e=Dre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dre(t){var e=NBe(t,"string");return km(e)=="symbol"?e:e+""}function NBe(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uc=(function(t){function e(){var n;xBe(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=yBe(this,e,[].concat(s)),ld(n,"state",{isAnimationFinished:!1}),ld(n,"id",Um("recharts-bar-")),ld(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ld(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return jBe(e,t),bBe(e,[{key:"renderRectanglesStatically",value:function(r){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,h=qt(this.props,!1);return r&&r.map(function(m,p){var x=p===c,y=x?d:o,w=ls(ls(ls({},h),m),{},{isActive:x,option:y,index:p,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Q.createElement(Pn,kj({className:"recharts-bar-rectangle"},sh(s.props,m,p),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(p)}),Q.createElement(Dq,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,m=s.animationId,p=this.state.prevData;return Q.createElement(Zo,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t,w=i.map(function(v,N){var C=p&&p[N];if(C){var S=si(C.x,v.x),M=si(C.y,v.y),_=si(C.width,v.width),A=si(C.height,v.height);return ls(ls({},v),{},{x:S(y),y:M(y),width:_(y),height:A(y)})}if(o==="horizontal"){var O=si(0,v.height),D=O(y);return ls(ls({},v),{},{y:v.y+v.height-D,height:D})}var F=si(0,v.width),L=F(y);return ls(ls({},v),{},{width:L})});return Q.createElement(Pn,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Kx(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=qt(this.props.background,!1);return i.map(function(d,h){d.value;var m=d.background,p=pBe(d,mBe);if(!m)return null;var x=ls(ls(ls(ls(ls({},p),{},{fill:"#eee"},m),c),sh(r.props,d,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return Q.createElement(Dq,kj({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},x))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,h=i.children,m=ui(h,Xx);if(!m)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,x=function(v,N){var C=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:C,errorVal:ys(v,N)}},y={clipPath:r?"url(#clipPath-".concat(s,")"):null};return Q.createElement(Pn,y,m.map(function(w){return Q.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,d=r.left,h=r.top,m=r.width,p=r.height,x=r.isAnimationActive,y=r.background,w=r.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,N=It("recharts-bar",o),C=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,M=C||S,_=rn(w)?this.id:w;return Q.createElement(Pn,{className:N},C||S?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(_)},Q.createElement("rect",{x:C?d:d-m/2,y:S?h:h-p/2,width:C?m:m*2,height:S?p:p*2}))):null,Q.createElement(Pn,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(_,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,_),(!x||v)&&tc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])})(b.PureComponent);Ore=uc;ld(uc,"displayName","Bar");ld(uc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ld(uc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,h=t.dataStartIndex,m=t.displayedData,p=t.offset,x=J7e(r,n);if(!x)return null;var y=e.layout,w=n.type.defaultProps,v=w!==void 0?ls(ls({},w),n.props):n.props,N=v.dataKey,C=v.children,S=v.minPointSize,M=y==="horizontal"?o:i,_=d?M.scale.domain():null,A=s9e({numericAxis:M}),O=ui(C,Gm),D=m.map(function(F,L){var I,P,z,U,V,$;d?I=Q7e(d[h+L],_):(I=ys(F,N),Array.isArray(I)||(I=[A,I]));var R=fBe(S,Ore.defaultProps.minPointSize)(I[1],L);if(y==="horizontal"){var W,q=[o.scale(I[0]),o.scale(I[1])],X=q[0],H=q[1];P=iU({axis:i,ticks:l,bandSize:s,offset:x.offset,entry:F,index:L}),z=(W=H??X)!==null&&W!==void 0?W:void 0,U=x.size;var J=X-H;if(V=Number.isNaN(J)?0:J,$={x:P,y:o.y,width:U,height:o.height},Math.abs(R)>0&&Math.abs(V)<Math.abs(R)){var ne=ya(V||R)*(Math.abs(R)-Math.abs(V));z-=ne,V+=ne}}else{var fe=[i.scale(I[0]),i.scale(I[1])],de=fe[0],we=fe[1];if(P=de,z=iU({axis:o,ticks:c,bandSize:s,offset:x.offset,entry:F,index:L}),U=we-de,V=x.size,$={x:i.x,y:z,width:i.width,height:V},Math.abs(R)>0&&Math.abs(U)<Math.abs(R)){var Fe=ya(U||R)*(Math.abs(R)-Math.abs(U));U+=Fe}}return ls(ls(ls({},F),{},{x:P,y:z,width:U,height:V,value:d?I:I[1],payload:F,background:$},O&&O[L]&&O[L].props),{},{tooltipPayload:[are(n,F)],tooltipPosition:{x:P+U/2,y:z+V/2}})});return ls({data:D,layout:y},p)});function bx(t){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bx(t)}function SBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pre(r.key),r)}}function kBe(t,e,n){return e&&Lq(t.prototype,e),n&&Lq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(n),!0).forEach(function(r){s2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s2(t,e,n){return e=Pre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pre(t){var e=CBe(t,"string");return bx(e)=="symbol"?e:e+""}function CBe(t,e){if(bx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rre=function(e,n,r,s,i){var o=e.width,l=e.height,c=e.layout,d=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},p=!!ri(d,uc);return h.reduce(function(x,y){var w=n[y],v=w.orientation,N=w.domain,C=w.padding,S=C===void 0?{}:C,M=w.mirror,_=w.reversed,A="".concat(v).concat(M?"Mirror":""),O,D,F,L,I;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var P=N[1]-N[0],z=1/0,U=w.categoricalDomain.sort($Pe);if(U.forEach(function(fe,de){de>0&&(z=Math.min((fe||0)-(U[de-1]||0),z))}),Number.isFinite(z)){var V=z/P,$=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(O=V*$/2),w.padding==="no-gap"){var R=va(e.barCategoryGap,V*$),W=V*$/2;O=W-R-(W-R)/$*R}}}s==="xAxis"?D=[r.left+(S.left||0)+(O||0),r.left+r.width-(S.right||0)-(O||0)]:s==="yAxis"?D=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(O||0),r.top+r.height-(S.bottom||0)-(O||0)]:D=w.range,_&&(D=[D[1],D[0]]);var q=tre(w,i,p),X=q.scale,H=q.realScaleType;X.domain(N).range(D),nre(X);var J=rre(X,eo(eo({},w),{},{realScaleType:H}));s==="xAxis"?(I=v==="top"&&!M||v==="bottom"&&M,F=r.left,L=m[A]-I*w.height):s==="yAxis"&&(I=v==="left"&&!M||v==="right"&&M,F=m[A]-I*w.width,L=r.top);var ne=eo(eo(eo({},w),J),{},{realScaleType:H,x:F,y:L,scale:X,width:s==="xAxis"?r.width:w.width,height:s==="yAxis"?r.height:w.height});return ne.bandSize=cj(ne,J),!w.hide&&s==="xAxis"?m[A]+=(I?-1:1)*ne.height:w.hide||(m[A]+=(I?-1:1)*ne.width),eo(eo({},x),{},s2({},y,ne))},{})},Lre=function(e,n){var r=e.x,s=e.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(s,o),width:Math.abs(i-r),height:Math.abs(o-s)}},_Be=function(e){var n=e.x1,r=e.y1,s=e.x2,i=e.y2;return Lre({x:n,y:r},{x:s,y:i})},Ire=(function(){function t(e){SBe(this,t),this.scale=e}return kBe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],i=r[r.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new t(n)}}])})();s2(Ire,"EPS",1e-4);var p3=function(e){var n=Object.keys(e).reduce(function(r,s){return eo(eo({},r),{},s2({},s,Ire.create(e[s])))},{});return eo(eo({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return tBe(s,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Are(s,function(i,o){return n[o].isInRange(i)})}})};function TBe(t){return(t%180+180)%180}var MBe=function(e){var n=e.width,r=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=TBe(s),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},KM,Fq;function ABe(){if(Fq)return KM;Fq=1;var t=sl(),e=Wx(),n=IN();function r(s){return function(i,o,l){var c=Object(i);if(!e(i)){var d=t(o,3);i=n(i),o=function(m){return d(c[m],m,c)}}var h=s(i,o,l);return h>-1?c[d?i[h]:h]:void 0}}return KM=r,KM}var XM,$q;function OBe(){if($q)return XM;$q=1;var t=Cre();function e(n){var r=t(n),s=r%1;return r===r?s?r-s:r:0}return XM=e,XM}var JM,Hq;function EBe(){if(Hq)return JM;Hq=1;var t=Lte(),e=sl(),n=OBe(),r=Math.max;function s(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:n(l);return d<0&&(d=r(c+d,0)),t(i,e(o,3),d)}return JM=s,JM}var QM,zq;function DBe(){if(zq)return QM;zq=1;var t=ABe(),e=EBe(),n=t(e);return QM=n,QM}var PBe=DBe();const RBe=In(PBe);var LBe=Qee();const IBe=In(LBe);var FBe=IBe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),g3=b.createContext(void 0),x3=b.createContext(void 0),Fre=b.createContext(void 0),$re=b.createContext({}),Hre=b.createContext(void 0),zre=b.createContext(0),Bre=b.createContext(0),Bq=function(e){var n=e.state,r=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,h=FBe(i);return Q.createElement(g3.Provider,{value:r},Q.createElement(x3.Provider,{value:s},Q.createElement($re.Provider,{value:i},Q.createElement(Fre.Provider,{value:h},Q.createElement(Hre.Provider,{value:o},Q.createElement(zre.Provider,{value:d},Q.createElement(Bre.Provider,{value:c},l)))))))},$Be=function(){return b.useContext(Hre)},Vre=function(e){var n=b.useContext(g3);n==null&&oh();var r=n[e];return r==null&&oh(),r},HBe=function(){var e=b.useContext(g3);return ed(e)},zBe=function(){var e=b.useContext(x3),n=RBe(e,function(r){return Are(r.domain,Number.isFinite)});return n||ed(e)},Wre=function(e){var n=b.useContext(x3);n==null&&oh();var r=n[e];return r==null&&oh(),r},BBe=function(){var e=b.useContext(Fre);return e},VBe=function(){return b.useContext($re)},b3=function(){return b.useContext(Bre)},y3=function(){return b.useContext(zre)};function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function WBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UBe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qre(r.key),r)}}function qBe(t,e,n){return e&&UBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GBe(t,e,n){return e=_j(e),YBe(t,Ure()?Reflect.construct(e,n||[],_j(t).constructor):e.apply(t,n))}function YBe(t,e){if(e&&(Cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KBe(t)}function KBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ure(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ure=function(){return!!t})()}function _j(t){return _j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_j(t)}function XBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YE(t,e)}function YE(t,e){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},YE(t,e)}function Vq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Wq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vq(Object(n),!0).forEach(function(r){v3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v3(t,e,n){return e=qre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qre(t){var e=JBe(t,"string");return Cm(e)=="symbol"?e:e+""}function JBe(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QBe(t,e){return nVe(t)||tVe(t,e)||eVe(t,e)||ZBe()}function ZBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eVe(t,e){if(t){if(typeof t=="string")return Uq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uq(t,e)}}function Uq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function nVe(t){if(Array.isArray(t))return t}function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(this,arguments)}var rVe=function(e,n){var r;return Q.isValidElement(e)?r=Q.cloneElement(e,n):Qt(e)?r=e(n):r=Q.createElement("line",KE({},n,{className:"recharts-reference-line-line"})),r},sVe=function(e,n,r,s,i,o,l,c,d){var h=i.x,m=i.y,p=i.width,x=i.height;if(r){var y=d.y,w=e.y.apply(y,{position:o});if(Vo(d,"discard")&&!e.y.isInRange(w))return null;var v=[{x:h+p,y:w},{x:h,y:w}];return c==="left"?v.reverse():v}if(n){var N=d.x,C=e.x.apply(N,{position:o});if(Vo(d,"discard")&&!e.x.isInRange(C))return null;var S=[{x:C,y:m+x},{x:C,y:m}];return l==="top"?S.reverse():S}if(s){var M=d.segment,_=M.map(function(A){return e.apply(A,{position:o})});return Vo(d,"discard")&&Jze(_,function(A){return!e.isInRange(A)})?null:_}return null};function aVe(t){var e=t.x,n=t.y,r=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=$Be(),h=Vre(s),m=Wre(i),p=BBe();if(!d||!p)return null;co(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=p3({x:h.scale,y:m.scale}),y=ws(e),w=ws(n),v=r&&r.length===2,N=sVe(x,y,w,v,p,t.position,h.orientation,m.orientation,t);if(!N)return null;var C=QBe(N,2),S=C[0],M=S.x,_=S.y,A=C[1],O=A.x,D=A.y,F=Vo(t,"hidden")?"url(#".concat(d,")"):void 0,L=Wq(Wq({clipPath:F},qt(t,!0)),{},{x1:M,y1:_,x2:O,y2:D});return Q.createElement(Pn,{className:It("recharts-reference-line",l)},rVe(o,L),As.renderCallByParent(t,_Be({x1:M,y1:_,x2:O,y2:D})))}var w3=(function(t){function e(){return WBe(this,e),GBe(this,e,arguments)}return XBe(e,t),qBe(e,[{key:"render",value:function(){return Q.createElement(aVe,this.props)}}])})(Q.Component);v3(w3,"displayName","ReferenceLine");v3(w3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(this,arguments)}function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function qq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qq(Object(n),!0).forEach(function(r){a2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yre(r.key),r)}}function lVe(t,e,n){return e&&oVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cVe(t,e,n){return e=Tj(e),dVe(t,Gre()?Reflect.construct(e,n||[],Tj(t).constructor):e.apply(t,n))}function dVe(t,e){if(e&&(_m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uVe(t)}function uVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gre=function(){return!!t})()}function Tj(t){return Tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tj(t)}function hVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JE(t,e)}function JE(t,e){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},JE(t,e)}function a2(t,e,n){return e=Yre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=fVe(t,"string");return _m(e)=="symbol"?e:e+""}function fVe(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mVe=function(e){var n=e.x,r=e.y,s=e.xAxis,i=e.yAxis,o=p3({x:s.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Vo(e,"discard")&&!o.isInRange(l)?null:l},i2=(function(t){function e(){return iVe(this,e),cVe(this,e,arguments)}return hVe(e,t),lVe(e,[{key:"render",value:function(){var r=this.props,s=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,d=ws(s),h=ws(i);if(co(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var m=mVe(this.props);if(!m)return null;var p=m.x,x=m.y,y=this.props,w=y.shape,v=y.className,N=Vo(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=Gq(Gq({clipPath:N},qt(this.props,!0)),{},{cx:p,cy:x});return Q.createElement(Pn,{className:It("recharts-reference-dot",v)},e.renderDot(w,C),As.renderCallByParent(this.props,{x:p-o,y:x-o,width:2*o,height:2*o}))}}])})(Q.Component);a2(i2,"displayName","ReferenceDot");a2(i2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});a2(i2,"renderDot",function(t,e){var n;return Q.isValidElement(t)?n=Q.cloneElement(t,e):Qt(t)?n=t(e):n=Q.createElement(JN,XE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(this,arguments)}function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function Yq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Kq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yq(Object(n),!0).forEach(function(r){o2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xre(r.key),r)}}function xVe(t,e,n){return e&&gVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bVe(t,e,n){return e=Mj(e),yVe(t,Kre()?Reflect.construct(e,n||[],Mj(t).constructor):e.apply(t,n))}function yVe(t,e){if(e&&(Tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vVe(t)}function vVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kre=function(){return!!t})()}function Mj(t){return Mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mj(t)}function wVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZE(t,e)}function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ZE(t,e)}function o2(t,e,n){return e=Xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xre(t){var e=jVe(t,"string");return Tm(e)=="symbol"?e:e+""}function jVe(t,e){if(Tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NVe=function(e,n,r,s,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var p=p3({x:h.scale,y:m.scale}),x={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},y={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(d,{position:"end"}):p.y.rangeMax};return Vo(i,"discard")&&(!p.isInRange(x)||!p.isInRange(y))?null:Lre(x,y)},l2=(function(t){function e(){return pVe(this,e),bVe(this,e,arguments)}return wVe(e,t),xVe(e,[{key:"render",value:function(){var r=this.props,s=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,h=r.clipPathId;co(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ws(s),p=ws(i),x=ws(o),y=ws(l),w=this.props.shape;if(!m&&!p&&!x&&!y&&!w)return null;var v=NVe(m,p,x,y,this.props);if(!v&&!w)return null;var N=Vo(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Q.createElement(Pn,{className:It("recharts-reference-area",c)},e.renderRect(w,Kq(Kq({clipPath:N},qt(this.props,!0)),v)),As.renderCallByParent(this.props,v))}}])})(Q.Component);o2(l2,"displayName","ReferenceArea");o2(l2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});o2(l2,"renderRect",function(t,e){var n;return Q.isValidElement(t)?n=Q.cloneElement(t,e):Qt(t)?n=t(e):n=Q.createElement(m3,QE({},e,{className:"recharts-reference-area-rect"})),n});function Jre(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],s=0;s<t.length;s+=e)r.push(t[s]);return r}function SVe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return MBe(r,n)}function kVe(t,e,n){var r=n==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:r?s:i,end:r?s+o:i+l}:{start:r?s+o:i+l,end:r?s:i}}function Aj(t,e,n,r,s){if(t*e<t*r||t*e>t*s)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-s)<=0}function CVe(t,e){return Jre(t,e+1)}function _Ve(t,e,n,r,s){for(var i=(r||[]).slice(),o=e.start,l=e.end,c=0,d=1,h=o,m=function(){var y=r==null?void 0:r[c];if(y===void 0)return{v:Jre(r,d)};var w=c,v,N=function(){return v===void 0&&(v=n(y,w)),v},C=y.coordinate,S=c===0||Aj(t,C,N,h,l);S||(c=0,h=o,d+=1),S&&(h=C+t*(N()/2+s),c+=d)},p;d<=i.length;)if(p=m(),p)return p.v;return[]}function yx(t){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yx(t)}function Xq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xq(Object(n),!0).forEach(function(r){TVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TVe(t,e,n){return e=MVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MVe(t){var e=AVe(t,"string");return yx(e)=="symbol"?e:e+""}function AVe(t,e){if(yx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OVe(t,e,n,r,s){for(var i=(r||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(p){var x=i[p],y,w=function(){return y===void 0&&(y=n(x,p)),y};if(p===o-1){var v=t*(x.coordinate+t*w()/2-c);i[p]=x=sa(sa({},x),{},{tickCoord:v>0?x.coordinate-v*t:x.coordinate})}else i[p]=x=sa(sa({},x),{},{tickCoord:x.coordinate});var N=Aj(t,x.tickCoord,w,l,c);N&&(c=x.tickCoord-t*(w()/2+s),i[p]=sa(sa({},x),{},{isShow:!0}))},h=o-1;h>=0;h--)d(h);return i}function EVe(t,e,n,r,s,i){var o=(r||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var h=r[l-1],m=n(h,l-1),p=t*(h.coordinate+t*m/2-d);o[l-1]=h=sa(sa({},h),{},{tickCoord:p>0?h.coordinate-p*t:h.coordinate});var x=Aj(t,h.tickCoord,function(){return m},c,d);x&&(d=h.tickCoord-t*(m/2+s),o[l-1]=sa(sa({},h),{},{isShow:!0}))}for(var y=i?l-1:l,w=function(C){var S=o[C],M,_=function(){return M===void 0&&(M=n(S,C)),M};if(C===0){var A=t*(S.coordinate-t*_()/2-c);o[C]=S=sa(sa({},S),{},{tickCoord:A<0?S.coordinate-A*t:S.coordinate})}else o[C]=S=sa(sa({},S),{},{tickCoord:S.coordinate});var O=Aj(t,S.tickCoord,_,c,d);O&&(c=S.tickCoord+t*(_()/2+s),o[C]=sa(sa({},S),{},{isShow:!0}))},v=0;v<y;v++)w(v);return o}function j3(t,e,n){var r=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,h=t.unit,m=t.angle;if(!s||!s.length||!r)return[];if(xt(c)||gh.isSsr)return CVe(s,typeof c=="number"&&xt(c)?c:0);var p=[],x=l==="top"||l==="bottom"?"width":"height",y=h&&x==="width"?rg(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(S,M){var _=Qt(d)?d(S.value,M):S.value;return x==="width"?SVe(rg(_,{fontSize:e,letterSpacing:n}),y,m):rg(_,{fontSize:e,letterSpacing:n})[x]},v=s.length>=2?ya(s[1].coordinate-s[0].coordinate):1,N=kVe(i,v,x);return c==="equidistantPreserveStart"?_Ve(v,N,w,s,o):(c==="preserveStart"||c==="preserveStartEnd"?p=EVe(v,N,w,s,o,c==="preserveStartEnd"):p=OVe(v,N,w,s,o),p.filter(function(C){return C.isShow}))}var DVe=["viewBox"],PVe=["viewBox"],RVe=["ticks"];function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cf.apply(this,arguments)}function Jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jq(Object(n),!0).forEach(function(r){N3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZM(t,e){if(t==null)return{};var n=LVe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zre(r.key),r)}}function FVe(t,e,n){return e&&Qq(t.prototype,e),n&&Qq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Ve(t,e,n){return e=Oj(e),HVe(t,Qre()?Reflect.construct(e,n||[],Oj(t).constructor):e.apply(t,n))}function HVe(t,e){if(e&&(Mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zVe(t)}function zVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qre=function(){return!!t})()}function Oj(t){return Oj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oj(t)}function BVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eD(t,e)}function eD(t,e){return eD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},eD(t,e)}function N3(t,e,n){return e=Zre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zre(t){var e=VVe(t,"string");return Mm(e)=="symbol"?e:e+""}function VVe(t,e){if(Mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jm=(function(t){function e(n){var r;return IVe(this,e),r=$Ve(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return BVe(e,t),FVe(e,[{key:"shouldComponentUpdate",value:function(r,s){var i=r.viewBox,o=ZM(r,DVe),l=this.props,c=l.viewBox,d=ZM(l,PVe);return!Ff(i,c)||!Ff(o,d)||!Ff(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,h=s.tickSize,m=s.mirror,p=s.tickMargin,x,y,w,v,N,C,S=m?-1:1,M=r.tickSize||h,_=xt(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":x=y=r.coordinate,v=o+ +!m*c,w=v-S*M,C=w-S*p,N=_;break;case"left":w=v=r.coordinate,y=i+ +!m*l,x=y-S*M,N=x-S*p,C=_;break;case"right":w=v=r.coordinate,y=i+ +m*l,x=y+S*M,N=x+S*p,C=_;break;default:x=y=r.coordinate,v=o+ +m*c,w=v+S*M,C=w+S*p,N=_;break}return{line:{x1:x,y1:w,x2:y,y2:v},tick:{x:N,y:C}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,d=r.mirror,h=r.axisLine,m=xs(xs(xs({},qt(this.props,!1)),qt(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);m=xs(xs({},m),{},{x1:s,y1:i+p*l,x2:s+o,y2:i+p*l})}else{var x=+(c==="left"&&!d||c==="right"&&d);m=xs(xs({},m),{},{x1:s+x*o,y1:i,x2:s+x*o,y2:i+l})}return Q.createElement("line",Cf({},m,{className:It("recharts-cartesian-axis-line",di(h,"className"))}))}},{key:"renderTicks",value:function(r,s,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,h=l.tick,m=l.tickFormatter,p=l.unit,x=j3(xs(xs({},this.props),{},{ticks:r}),s,i),y=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),v=qt(this.props,!1),N=qt(h,!1),C=xs(xs({},v),{},{fill:"none"},qt(c,!1)),S=x.map(function(M,_){var A=o.getTickLineCoord(M),O=A.line,D=A.tick,F=xs(xs(xs(xs({textAnchor:y,verticalAnchor:w},v),{},{stroke:"none",fill:d},N),D),{},{index:_,payload:M,visibleTicksCount:x.length,tickFormatter:m});return Q.createElement(Pn,Cf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},sh(o.props,M,_)),c&&Q.createElement("line",Cf({},C,O,{className:It("recharts-cartesian-axis-tick-line",di(c,"className"))})),h&&e.renderTickItem(h,F,"".concat(Qt(m)?m(M.value,_):M.value).concat(p||"")))});return Q.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,h=s.hide;if(h)return null;var m=this.props,p=m.ticks,x=ZM(m,RVe),y=p;return Qt(c)&&(y=p&&p.length>0?c(this.props):c(x)),o<=0||l<=0||!y||!y.length?null:Q.createElement(Pn,{className:It("recharts-cartesian-axis",d),ref:function(v){r.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),As.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,i){var o,l=It(s.className,"recharts-cartesian-axis-tick-value");return Q.isValidElement(r)?o=Q.cloneElement(r,xs(xs({},s),{},{className:l})):Qt(r)?o=r(xs(xs({},s),{},{className:l})):o=Q.createElement(ah,Cf({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(b.Component);N3(Jm,"displayName","CartesianAxis");N3(Jm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var WVe=["x1","y1","x2","y2","key"],UVe=["offset"];function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function Zq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zq(Object(n),!0).forEach(function(r){qVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qVe(t,e,n){return e=GVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GVe(t){var e=YVe(t,"string");return lh(e)=="symbol"?e:e+""}function YVe(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(this,arguments)}function eG(t,e){if(t==null)return{};var n=KVe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var XVe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return Q.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ese(t,e){var n;if(Q.isValidElement(t))n=Q.cloneElement(t,e);else if(Qt(t))n=t(e);else{var r=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,c=eG(e,WVe),d=qt(c,!1);d.offset;var h=eG(d,UVe);n=Q.createElement("line",Au({},h,{x1:r,y1:s,x2:i,y2:o,fill:"none",key:l}))}return n}function JVe(t){var e=t.x,n=t.width,r=t.horizontal,s=r===void 0?!0:r,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=ia(ia({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return ese(s,d)});return Q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function QVe(t){var e=t.y,n=t.height,r=t.vertical,s=r===void 0?!0:r,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=ia(ia({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return ese(s,d)});return Q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ZVe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var h=l.map(function(p){return Math.round(p+s-s)}).sort(function(p,x){return p-x});s!==h[0]&&h.unshift(0);var m=h.map(function(p,x){var y=!h[x+1],w=y?s+o-p:h[x+1]-p;if(w<=0)return null;var v=x%e.length;return Q.createElement("rect",{key:"react-".concat(x),y:p,x:r,height:w,width:i,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function eWe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var h=d.map(function(p){return Math.round(p+i-i)}).sort(function(p,x){return p-x});i!==h[0]&&h.unshift(0);var m=h.map(function(p,x){var y=!h[x+1],w=y?i+l-p:h[x+1]-p;if(w<=0)return null;var v=x%r.length;return Q.createElement("rect",{key:"react-".concat(x),x:p,y:o,width:w,height:c,stroke:"none",fill:r[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var tWe=function(e,n){var r=e.xAxis,s=e.width,i=e.height,o=e.offset;return ere(j3(ia(ia(ia({},Jm.defaultProps),r),{},{ticks:Bl(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},nWe=function(e,n){var r=e.yAxis,s=e.width,i=e.height,o=e.offset;return ere(j3(ia(ia(ia({},Jm.defaultProps),r),{},{ticks:Bl(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},cf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Uu(t){var e,n,r,s,i,o,l=b3(),c=y3(),d=VBe(),h=ia(ia({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:cf.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:cf.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:cf.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:cf.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:cf.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:cf.verticalFill,x:xt(t.x)?t.x:d.left,y:xt(t.y)?t.y:d.top,width:xt(t.width)?t.width:d.width,height:xt(t.height)?t.height:d.height}),m=h.x,p=h.y,x=h.width,y=h.height,w=h.syncWithTicks,v=h.horizontalValues,N=h.verticalValues,C=HBe(),S=zBe();if(!xt(x)||x<=0||!xt(y)||y<=0||!xt(m)||m!==+m||!xt(p)||p!==+p)return null;var M=h.verticalCoordinatesGenerator||tWe,_=h.horizontalCoordinatesGenerator||nWe,A=h.horizontalPoints,O=h.verticalPoints;if((!A||!A.length)&&Qt(_)){var D=v&&v.length,F=_({yAxis:S?ia(ia({},S),{},{ticks:D?v:S.ticks}):void 0,width:l,height:c,offset:d},D?!0:w);co(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lh(F),"]")),Array.isArray(F)&&(A=F)}if((!O||!O.length)&&Qt(M)){var L=N&&N.length,I=M({xAxis:C?ia(ia({},C),{},{ticks:L?N:C.ticks}):void 0,width:l,height:c,offset:d},L?!0:w);co(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lh(I),"]")),Array.isArray(I)&&(O=I)}return Q.createElement("g",{className:"recharts-cartesian-grid"},Q.createElement(XVe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),Q.createElement(JVe,Au({},h,{offset:d,horizontalPoints:A,xAxis:C,yAxis:S})),Q.createElement(QVe,Au({},h,{offset:d,verticalPoints:O,xAxis:C,yAxis:S})),Q.createElement(ZVe,Au({},h,{horizontalPoints:A})),Q.createElement(eWe,Au({},h,{verticalPoints:O})))}Uu.displayName="CartesianGrid";var rWe=["type","layout","connectNulls","ref"],sWe=["key"];function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function tG(t,e){if(t==null)return{};var n=aWe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}function nG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nG(Object(n),!0).forEach(function(r){to(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function df(t){return cWe(t)||lWe(t)||oWe(t)||iWe()}function iWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oWe(t,e){if(t){if(typeof t=="string")return tD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tD(t,e)}}function lWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cWe(t){if(Array.isArray(t))return tD(t)}function tD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nse(r.key),r)}}function uWe(t,e,n){return e&&rG(t.prototype,e),n&&rG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hWe(t,e,n){return e=Ej(e),fWe(t,tse()?Reflect.construct(e,n||[],Ej(t).constructor):e.apply(t,n))}function fWe(t,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mWe(t)}function mWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tse=function(){return!!t})()}function Ej(t){return Ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ej(t)}function pWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nD(t,e)}function nD(t,e){return nD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},nD(t,e)}function to(t,e,n){return e=nse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nse(t){var e=gWe(t,"string");return Am(e)=="symbol"?e:e+""}function gWe(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ch=(function(t){function e(){var n;dWe(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=hWe(this,e,[].concat(s)),to(n,"state",{isAnimationFinished:!0,totalLength:0}),to(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),to(n,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(N,C){return N+C});if(!d)return n.generateSimpleStrokeDasharray(l,o);for(var h=Math.floor(o/d),m=o%d,p=l-o,x=[],y=0,w=0;y<c.length;w+=c[y],++y)if(w+c[y]>m){x=[].concat(df(c.slice(0,y)),[m-w]);break}var v=x.length%2===0?[0,p]:[p];return[].concat(df(e.repeat(c,h)),df(x),v).map(function(N){return"".concat(N,"px")}).join(", ")}),to(n,"id",Um("recharts-line-")),to(n,"pathRef",function(o){n.mainCurve=o}),to(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),to(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return pWe(e,t),uWe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,h=i.children,m=ui(h,Xx);if(!m)return null;var p=function(w,v){return{x:w.x,y:w.y,value:w.value,errorVal:ys(w.payload,v)}},x={clipPath:r?"url(#clipPath-".concat(s,")"):null};return Q.createElement(Pn,x,m.map(function(y){return Q.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,h=l.dataKey,m=qt(this.props,!1),p=qt(c,!0),x=d.map(function(w,v){var N=ei(ei(ei({key:"dot-".concat(v),r:3},m),p),{},{index:v,cx:w.x,cy:w.y,value:w.value,dataKey:h,payload:w.payload,points:d});return e.renderDotItem(c,N)}),y={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return Q.createElement(Pn,cg({className:"recharts-line-dots",key:"dots"},y),x)}},{key:"renderCurveStatically",value:function(r,s,i,o){var l=this.props,c=l.type,d=l.layout,h=l.connectNulls;l.ref;var m=tG(l,rWe),p=ei(ei(ei({},qt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:d,connectNulls:h});return Q.createElement(hj,cg({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,p=o.animationEasing,x=o.animationId,y=o.animateNewValues,w=o.width,v=o.height,N=this.state,C=N.prevPoints,S=N.totalLength;return Q.createElement(Zo,{begin:h,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var _=M.t;if(C){var A=C.length/l.length,O=l.map(function(P,z){var U=Math.floor(z*A);if(C[U]){var V=C[U],$=si(V.x,P.x),R=si(V.y,P.y);return ei(ei({},P),{},{x:$(_),y:R(_)})}if(y){var W=si(w*2,P.x),q=si(v/2,P.y);return ei(ei({},P),{},{x:W(_),y:q(_)})}return ei(ei({},P),{},{x:P.x,y:P.y})});return i.renderCurveStatically(O,r,s)}var D=si(0,S),F=D(_),L;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});L=i.getStrokeDasharray(F,S,I)}else L=i.generateSimpleStrokeDasharray(S,F);return i.renderCurveStatically(l,r,s,{strokeDasharray:L})})}},{key:"renderCurve",value:function(r,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,h=c.totalLength;return l&&o&&o.length&&(!d&&h>0||!Kx(d,o))?this.renderCurveWithAnimation(r,s):this.renderCurveStatically(o,r,s)}},{key:"render",value:function(){var r,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.xAxis,h=s.yAxis,m=s.top,p=s.left,x=s.width,y=s.height,w=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,C=l.length===1,S=It("recharts-line",c),M=d&&d.allowDataOverflow,_=h&&h.allowDataOverflow,A=M||_,O=rn(v)?this.id:v,D=(r=qt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},F=D.r,L=F===void 0?3:F,I=D.strokeWidth,P=I===void 0?2:I,z=YPe(o)?o:{},U=z.clipDot,V=U===void 0?!0:U,$=L*2+P;return Q.createElement(Pn,{className:S},M||_?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(O)},Q.createElement("rect",{x:M?p:p-x/2,y:_?m:m-y/2,width:M?x:x*2,height:_?y:y*2})),!V&&Q.createElement("clipPath",{id:"clipPath-dots-".concat(O)},Q.createElement("rect",{x:p-$/2,y:m-$/2,width:x+$,height:y+$}))):null,!C&&this.renderCurve(A,O),this.renderErrorBar(A,O),(C||o)&&this.renderDots(A,V,O),(!w||N)&&tc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:s.curPoints}:r.points!==s.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,s){for(var i=r.length%2!==0?[].concat(df(r),[0]):r,o=[],l=0;l<s;++l)o=[].concat(df(o),df(i));return o}},{key:"renderDotItem",value:function(r,s){var i;if(Q.isValidElement(r))i=Q.cloneElement(r,s);else if(Qt(r))i=r(s);else{var o=s.key,l=tG(s,sWe),c=It("recharts-line-dot",typeof r!="boolean"?r.className:"");i=Q.createElement(JN,cg({key:o},l,{className:c}))}return i}}])})(b.PureComponent);to(ch,"displayName","Line");to(ch,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});to(ch,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,s=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,h=e.layout,m=c.map(function(p,x){var y=ys(p,o);return h==="horizontal"?{x:aU({axis:n,ticks:s,bandSize:l,entry:p,index:x}),y:rn(y)?null:r.scale(y),value:y,payload:p}:{x:rn(y)?null:n.scale(y),y:aU({axis:r,ticks:i,bandSize:l,entry:p,index:x}),value:y,payload:p}});return ei({points:m,layout:h},d)});function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function xWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ase(r.key),r)}}function yWe(t,e,n){return e&&bWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vWe(t,e,n){return e=Dj(e),wWe(t,rse()?Reflect.construct(e,n||[],Dj(t).constructor):e.apply(t,n))}function wWe(t,e){if(e&&(Om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jWe(t)}function jWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rse=function(){return!!t})()}function Dj(t){return Dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dj(t)}function NWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rD(t,e)}function rD(t,e){return rD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},rD(t,e)}function sse(t,e,n){return e=ase(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ase(t){var e=SWe(t,"string");return Om(e)=="symbol"?e:e+""}function SWe(t,e){if(Om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sD(){return sD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sD.apply(this,arguments)}function kWe(t){var e=t.xAxisId,n=b3(),r=y3(),s=Vre(e);return s==null?null:b.createElement(Jm,sD({},s,{className:It("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Bl(o,!0)}}))}var Wo=(function(t){function e(){return xWe(this,e),vWe(this,e,arguments)}return NWe(e,t),yWe(e,[{key:"render",value:function(){return b.createElement(kWe,this.props)}}])})(b.Component);sse(Wo,"displayName","XAxis");sse(Wo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function CWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lse(r.key),r)}}function TWe(t,e,n){return e&&_We(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MWe(t,e,n){return e=Pj(e),AWe(t,ise()?Reflect.construct(e,n||[],Pj(t).constructor):e.apply(t,n))}function AWe(t,e){if(e&&(Em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OWe(t)}function OWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ise(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ise=function(){return!!t})()}function Pj(t){return Pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pj(t)}function EWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aD(t,e)}function aD(t,e){return aD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},aD(t,e)}function ose(t,e,n){return e=lse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lse(t){var e=DWe(t,"string");return Em(e)=="symbol"?e:e+""}function DWe(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iD(){return iD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iD.apply(this,arguments)}var PWe=function(e){var n=e.yAxisId,r=b3(),s=y3(),i=Wre(n);return i==null?null:b.createElement(Jm,iD({},i,{className:It("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return Bl(l,!0)}}))},Uo=(function(t){function e(){return CWe(this,e),MWe(this,e,arguments)}return EWe(e,t),TWe(e,[{key:"render",value:function(){return b.createElement(PWe,this.props)}}])})(b.Component);ose(Uo,"displayName","YAxis");ose(Uo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sG(t){return FWe(t)||IWe(t)||LWe(t)||RWe()}function RWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LWe(t,e){if(t){if(typeof t=="string")return oD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oD(t,e)}}function IWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FWe(t){if(Array.isArray(t))return oD(t)}function oD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lD=function(e,n,r,s,i){var o=ui(e,w3),l=ui(e,i2),c=[].concat(sG(o),sG(l)),d=ui(e,l2),h="".concat(s,"Id"),m=s[0],p=n;if(c.length&&(p=c.reduce(function(w,v){if(v.props[h]===r&&Vo(v.props,"extendDomain")&&xt(v.props[m])){var N=v.props[m];return[Math.min(w[0],N),Math.max(w[1],N)]}return w},p)),d.length){var x="".concat(m,"1"),y="".concat(m,"2");p=d.reduce(function(w,v){if(v.props[h]===r&&Vo(v.props,"extendDomain")&&xt(v.props[x])&&xt(v.props[y])){var N=v.props[x],C=v.props[y];return[Math.min(w[0],N,C),Math.max(w[1],N,C)]}return w},p)}return i&&i.length&&(p=i.reduce(function(w,v){return xt(v)?[Math.min(w[0],v),Math.max(w[1],v)]:w},p)),p},eA={exports:{}},aG;function $We(){return aG||(aG=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function i(c,d,h,m,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new s(h,m||c,p),y=n?n+d:d;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],x]:c._events[y].push(x):(c._events[y]=x,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,x=m.length,y=new Array(x);p<x;p++)y[p]=m[p].fn;return y},l.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,p,x,y){var w=n?n+d:d;if(!this._events[w])return!1;var v=this._events[w],N=arguments.length,C,S;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),N){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,m),!0;case 4:return v.fn.call(v.context,h,m,p),!0;case 5:return v.fn.call(v.context,h,m,p,x),!0;case 6:return v.fn.call(v.context,h,m,p,x,y),!0}for(S=1,C=new Array(N-1);S<N;S++)C[S-1]=arguments[S];v.fn.apply(v.context,C)}else{var M=v.length,_;for(S=0;S<M;S++)switch(v[S].once&&this.removeListener(d,v[S].fn,void 0,!0),N){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,h);break;case 3:v[S].fn.call(v[S].context,h,m);break;case 4:v[S].fn.call(v[S].context,h,m,p);break;default:if(!C)for(_=1,C=new Array(N-1);_<N;_++)C[_-1]=arguments[_];v[S].fn.apply(v[S].context,C)}}return!0},l.prototype.on=function(d,h,m){return i(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return i(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,p){var x=n?n+d:d;if(!this._events[x])return this;if(!h)return o(this,x),this;var y=this._events[x];if(y.fn)y.fn===h&&(!p||y.once)&&(!m||y.context===m)&&o(this,x);else{for(var w=0,v=[],N=y.length;w<N;w++)(y[w].fn!==h||p&&!y[w].once||m&&y[w].context!==m)&&v.push(y[w]);v.length?this._events[x]=v.length===1?v[0]:v:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(eA)),eA.exports}var HWe=$We();const zWe=In(HWe);var tA=new zWe,nA="recharts.syncMouseEvents";function vx(t){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vx(t)}function BWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cse(r.key),r)}}function WWe(t,e,n){return e&&VWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rA(t,e,n){return e=cse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cse(t){var e=UWe(t,"string");return vx(e)=="symbol"?e:e+""}function UWe(t,e){if(vx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qWe=(function(){function t(){BWe(this,t),rA(this,"activeIndex",0),rA(this,"coordinateList",[]),rA(this,"layout","horizontal")}return WWe(t,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,i=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,h=n.offset,m=h===void 0?null:h,p=n.mouseHandlerCallback,x=p===void 0?null:p;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=i+c+d,p=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])})();function GWe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],s=t==null?void 0:t[1];if(r&&s&&xt(r)&&xt(s))return!0}return!1}function YWe(t,e,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-s,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function dse(t){var e=t.cx,n=t.cy,r=t.radius,s=t.startAngle,i=t.endAngle,o=yr(e,n,r,s),l=yr(e,n,r,i);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:s,endAngle:i}}function KWe(t,e,n){var r,s,i,o;if(t==="horizontal")r=e.x,i=r,s=n.top,o=n.top+n.height;else if(t==="vertical")s=e.y,o=s,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,h=e.outerRadius,m=e.angle,p=yr(l,c,d,m),x=yr(l,c,h,m);r=p.x,s=p.y,i=x.x,o=x.y}else return dse(e);return[{x:r,y:s},{x:i,y:o}]}function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}function iG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iG(Object(n),!0).forEach(function(r){XWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XWe(t,e,n){return e=JWe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JWe(t){var e=QWe(t,"string");return wx(e)=="symbol"?e:e+""}function QWe(t,e){if(wx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZWe(t){var e,n,r=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,p=t.chartName,x=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!i||!o||p!=="ScatterChart"&&s!=="axis")return null;var y,w=hj;if(p==="ScatterChart")y=o,w=wHe;else if(p==="BarChart")y=YWe(m,o,c,h),w=m3;else if(m==="radial"){var v=dse(o),N=v.cx,C=v.cy,S=v.radius,M=v.startAngle,_=v.endAngle;y={cx:N,cy:C,startAngle:M,endAngle:_,innerRadius:S,outerRadius:S},w=ure}else y={points:KWe(m,o,c)},w=hj;var A=vv(vv(vv(vv({stroke:"#ccc",pointerEvents:"none"},c),y),qt(x,!1)),{},{payload:l,payloadIndex:d,className:It("recharts-tooltip-cursor",x.className)});return b.isValidElement(x)?b.cloneElement(x,A):b.createElement(w,A)}var eUe=["item"],tUe=["children","className","width","height","style","compact","title","desc"];function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_f.apply(this,arguments)}function oG(t,e){return sUe(t)||rUe(t,e)||hse(t,e)||nUe()}function nUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function sUe(t){if(Array.isArray(t))return t}function lG(t,e){if(t==null)return{};var n=aUe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fse(r.key),r)}}function lUe(t,e,n){return e&&oUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cUe(t,e,n){return e=Rj(e),dUe(t,use()?Reflect.construct(e,n||[],Rj(t).constructor):e.apply(t,n))}function dUe(t,e){if(e&&(Dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uUe(t)}function uUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function use(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(use=function(){return!!t})()}function Rj(t){return Rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rj(t)}function hUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cD(t,e)}function cD(t,e){return cD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},cD(t,e)}function Pm(t){return pUe(t)||mUe(t)||hse(t)||fUe()}function fUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hse(t,e){if(t){if(typeof t=="string")return dD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dD(t,e)}}function mUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pUe(t){if(Array.isArray(t))return dD(t)}function dD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cG(Object(n),!0).forEach(function(r){Kt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kt(t,e,n){return e=fse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fse(t){var e=gUe(t,"string");return Dm(e)=="symbol"?e:e+""}function gUe(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xUe={xAxis:["bottom","top"],yAxis:["left","right"]},bUe={width:"100%",height:"100%"},mse={x:0,y:0};function wv(t){return t}var yUe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},vUe=function(e,n,r,s){var i=n.find(function(h){return h&&h.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return Je(Je(Je({},s),yr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=s.angle;return Je(Je(Je({},s),yr(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return mse},c2=function(e,n){var r=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Pm(l),Pm(d)):l},[]);return o.length>0?o:e&&e.length&&xt(s)&&xt(i)?e.slice(s,i+1):[]};function pse(t){return t==="number"?[0,"auto"]:void 0}var uD=function(e,n,r,s){var i=e.graphicalItems,o=e.tooltipAxis,l=c2(n,e);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var x=m===void 0?l:m;p=F1(x,o.dataKey,s)}else p=m&&m[r]||l[r];return p?[].concat(Pm(c),[are(d,p)]):c},[])},dG=function(e,n,r,s){var i=s||{x:e.chartX,y:e.chartY},o=yUe(i,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,h=U7e(o,l,d,c);if(h>=0&&d){var m=d[h]&&d[h].value,p=uD(e,n,h,m),x=vUe(r,l,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:p,activeCoordinate:x}}return null},wUe=function(e,n){var r=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.layout,m=e.children,p=e.stackOffset,x=Zne(h,i);return r.reduce(function(y,w){var v,N=w.type.defaultProps!==void 0?Je(Je({},w.type.defaultProps),w.props):w.props,C=N.type,S=N.dataKey,M=N.allowDataOverflow,_=N.allowDuplicatedCategory,A=N.scale,O=N.ticks,D=N.includeHidden,F=N[o];if(y[F])return y;var L=c2(e.data,{graphicalItems:s.filter(function(J){var ne,fe=o in J.props?J.props[o]:(ne=J.type.defaultProps)===null||ne===void 0?void 0:ne[o];return fe===F}),dataStartIndex:c,dataEndIndex:d}),I=L.length,P,z,U;GWe(N.domain,M,C)&&(P=kE(N.domain,null,M),x&&(C==="number"||A!=="auto")&&(U=ag(L,S,"category")));var V=pse(C);if(!P||P.length===0){var $,R=($=N.domain)!==null&&$!==void 0?$:V;if(S){if(P=ag(L,S,C),C==="category"&&x){var W=FPe(P);_&&W?(z=P,P=jj(0,I)):_||(P=cU(R,P,w).reduce(function(J,ne){return J.indexOf(ne)>=0?J:[].concat(Pm(J),[ne])},[]))}else if(C==="category")_?P=P.filter(function(J){return J!==""&&!rn(J)}):P=cU(R,P,w).reduce(function(J,ne){return J.indexOf(ne)>=0||ne===""||rn(ne)?J:[].concat(Pm(J),[ne])},[]);else if(C==="number"){var q=X7e(L,s.filter(function(J){var ne,fe,de=o in J.props?J.props[o]:(ne=J.type.defaultProps)===null||ne===void 0?void 0:ne[o],we="hide"in J.props?J.props.hide:(fe=J.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return de===F&&(D||!we)}),S,i,h);q&&(P=q)}x&&(C==="number"||A!=="auto")&&(U=ag(L,S,"category"))}else x?P=jj(0,I):l&&l[F]&&l[F].hasStack&&C==="number"?P=p==="expand"?[0,1]:sre(l[F].stackGroups,c,d):P=Qne(L,s.filter(function(J){var ne=o in J.props?J.props[o]:J.type.defaultProps[o],fe="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return ne===F&&(D||!fe)}),C,h,!0);if(C==="number")P=lD(m,P,F,i,O),R&&(P=kE(R,P,M));else if(C==="category"&&R){var X=R,H=P.every(function(J){return X.indexOf(J)>=0});H&&(P=X)}}return Je(Je({},y),{},Kt({},F,Je(Je({},N),{},{axisType:i,domain:P,categoricalDomain:U,duplicateDomain:z,originalDomain:(v=N.domain)!==null&&v!==void 0?v:V,isCategorical:x,layout:h})))},{})},jUe=function(e,n){var r=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.layout,m=e.children,p=c2(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),x=p.length,y=Zne(h,i),w=-1;return r.reduce(function(v,N){var C=N.type.defaultProps!==void 0?Je(Je({},N.type.defaultProps),N.props):N.props,S=C[o],M=pse("number");if(!v[S]){w++;var _;return y?_=jj(0,x):l&&l[S]&&l[S].hasStack?(_=sre(l[S].stackGroups,c,d),_=lD(m,_,S,i)):(_=kE(M,Qne(p,r.filter(function(A){var O,D,F=o in A.props?A.props[o]:(O=A.type.defaultProps)===null||O===void 0?void 0:O[o],L="hide"in A.props?A.props.hide:(D=A.type.defaultProps)===null||D===void 0?void 0:D.hide;return F===S&&!L}),"number",h),s.defaultProps.allowDataOverflow),_=lD(m,_,S,i)),Je(Je({},v),{},Kt({},S,Je(Je({axisType:i},s.defaultProps),{},{hide:!0,orientation:di(xUe,"".concat(i,".").concat(w%2),null),domain:_,originalDomain:M,isCategorical:y,layout:h})))}return v},{})},NUe=function(e,n){var r=n.axisType,s=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.children,m="".concat(s,"Id"),p=ui(h,i),x={};return p&&p.length?x=wUe(e,{axes:p,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(x=jUe(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),x},SUe=function(e){var n=ed(e),r=Bl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:z4(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:cj(n,r)}},uG=function(e){var n=e.children,r=e.defaultShowTooltip,s=ri(n,Sm),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},kUe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Zl(n&&n.type);return r&&r.indexOf("Bar")>=0})},hG=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},CUe=function(e,n){var r=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=r.width,h=r.height,m=r.children,p=r.margin||{},x=ri(m,Sm),y=ri(m,zo),w=Object.keys(c).reduce(function(_,A){var O=c[A],D=O.orientation;return!O.mirror&&!O.hide?Je(Je({},_),{},Kt({},D,_[D]+O.width)):_},{left:p.left||0,right:p.right||0}),v=Object.keys(o).reduce(function(_,A){var O=o[A],D=O.orientation;return!O.mirror&&!O.hide?Je(Je({},_),{},Kt({},D,di(_,"".concat(D))+O.height)):_},{top:p.top||0,bottom:p.bottom||0}),N=Je(Je({},v),w),C=N.bottom;x&&(N.bottom+=x.props.height||Sm.defaultProps.height),y&&n&&(N=Y7e(N,s,r,n));var S=d-N.left-N.right,M=h-N.top-N.bottom;return Je(Je({brushBottom:C},N),{},{width:Math.max(S,0),height:Math.max(M,0)})},_Ue=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},S3=function(e){var n=e.chartName,r=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,p=function(N,C){var S=C.graphicalItems,M=C.stackGroups,_=C.offset,A=C.updateId,O=C.dataStartIndex,D=C.dataEndIndex,F=N.barSize,L=N.layout,I=N.barGap,P=N.barCategoryGap,z=N.maxBarSize,U=hG(L),V=U.numericAxisName,$=U.cateAxisName,R=kUe(S),W=[];return S.forEach(function(q,X){var H=c2(N.data,{graphicalItems:[q],dataStartIndex:O,dataEndIndex:D}),J=q.type.defaultProps!==void 0?Je(Je({},q.type.defaultProps),q.props):q.props,ne=J.dataKey,fe=J.maxBarSize,de=J["".concat(V,"Id")],we=J["".concat($,"Id")],Fe={},$e=c.reduce(function(rt,Ve){var Ue=C["".concat(Ve.axisType,"Map")],Ye=J["".concat(Ve.axisType,"Id")];Ue&&Ue[Ye]||Ve.axisType==="zAxis"||oh();var kt=Ue[Ye];return Je(Je({},rt),{},Kt(Kt({},Ve.axisType,kt),"".concat(Ve.axisType,"Ticks"),Bl(kt)))},Fe),be=$e[$],Ee=$e["".concat($,"Ticks")],Ge=M&&M[de]&&M[de].hasStack&&a9e(q,M[de].stackGroups),ae=Zl(q.type).indexOf("Bar")>=0,oe=cj(be,Ee),Y=[],ce=R&&q7e({barSize:F,stackGroups:M,totalSize:_Ue($e,$)});if(ae){var Ie,We,pe=rn(fe)?z:fe,Ne=(Ie=(We=cj(be,Ee,!0))!==null&&We!==void 0?We:pe)!==null&&Ie!==void 0?Ie:0;Y=G7e({barGap:I,barCategoryGap:P,bandSize:Ne!==oe?Ne:oe,sizeList:ce[we],maxBarSize:pe}),Ne!==oe&&(Y=Y.map(function(rt){return Je(Je({},rt),{},{position:Je(Je({},rt.position),{},{offset:rt.position.offset-Ne/2})})}))}var st=q&&q.type&&q.type.getComposedData;st&&W.push({props:Je(Je({},st(Je(Je({},$e),{},{displayedData:H,props:N,dataKey:ne,item:q,bandSize:oe,barPosition:Y,offset:_,stackedData:Ge,layout:L,dataStartIndex:O,dataEndIndex:D}))),{},Kt(Kt(Kt({key:q.key||"item-".concat(X)},V,$e[V]),$,$e[$]),"animationId",A)),childIndex:JPe(q,N.children),item:q})}),W},x=function(N,C){var S=N.props,M=N.dataStartIndex,_=N.dataEndIndex,A=N.updateId;if(!Nz({props:S}))return null;var O=S.children,D=S.layout,F=S.stackOffset,L=S.data,I=S.reverseStackOrder,P=hG(D),z=P.numericAxisName,U=P.cateAxisName,V=ui(O,r),$=r9e(L,V,"".concat(z,"Id"),"".concat(U,"Id"),F,I),R=c.reduce(function(J,ne){var fe="".concat(ne.axisType,"Map");return Je(Je({},J),{},Kt({},fe,NUe(S,Je(Je({},ne),{},{graphicalItems:V,stackGroups:ne.axisType===z&&$,dataStartIndex:M,dataEndIndex:_}))))},{}),W=CUe(Je(Je({},R),{},{props:S,graphicalItems:V}),C==null?void 0:C.legendBBox);Object.keys(R).forEach(function(J){R[J]=h(S,R[J],W,J.replace("Map",""),n)});var q=R["".concat(U,"Map")],X=SUe(q),H=p(S,Je(Je({},R),{},{dataStartIndex:M,dataEndIndex:_,updateId:A,graphicalItems:V,stackGroups:$,offset:W}));return Je(Je({formattedGraphicalItems:H,graphicalItems:V,offset:W,stackGroups:$},X),R)},y=(function(v){function N(C){var S,M,_;return iUe(this,N),_=cUe(this,N,[C]),Kt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Kt(_,"accessibilityManager",new qWe),Kt(_,"handleLegendBBoxUpdate",function(A){if(A){var O=_.state,D=O.dataStartIndex,F=O.dataEndIndex,L=O.updateId;_.setState(Je({legendBBox:A},x({props:_.props,dataStartIndex:D,dataEndIndex:F,updateId:L},Je(Je({},_.state),{},{legendBBox:A}))))}}),Kt(_,"handleReceiveSyncEvent",function(A,O,D){if(_.props.syncId===A){if(D===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(O)}}),Kt(_,"handleBrushChange",function(A){var O=A.startIndex,D=A.endIndex;if(O!==_.state.dataStartIndex||D!==_.state.dataEndIndex){var F=_.state.updateId;_.setState(function(){return Je({dataStartIndex:O,dataEndIndex:D},x({props:_.props,dataStartIndex:O,dataEndIndex:D,updateId:F},_.state))}),_.triggerSyncEvent({dataStartIndex:O,dataEndIndex:D})}}),Kt(_,"handleMouseEnter",function(A){var O=_.getMouseInfo(A);if(O){var D=Je(Je({},O),{},{isTooltipActive:!0});_.setState(D),_.triggerSyncEvent(D);var F=_.props.onMouseEnter;Qt(F)&&F(D,A)}}),Kt(_,"triggeredAfterMouseMove",function(A){var O=_.getMouseInfo(A),D=O?Je(Je({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(D),_.triggerSyncEvent(D);var F=_.props.onMouseMove;Qt(F)&&F(D,A)}),Kt(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Kt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Kt(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),Kt(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};_.setState(O),_.triggerSyncEvent(O);var D=_.props.onMouseLeave;Qt(D)&&D(O,A)}),Kt(_,"handleOuterEvent",function(A){var O=XPe(A),D=di(_.props,"".concat(O));if(O&&Qt(D)){var F,L;/.*touch.*/i.test(O)?L=_.getMouseInfo(A.changedTouches[0]):L=_.getMouseInfo(A),D((F=L)!==null&&F!==void 0?F:{},A)}}),Kt(_,"handleClick",function(A){var O=_.getMouseInfo(A);if(O){var D=Je(Je({},O),{},{isTooltipActive:!0});_.setState(D),_.triggerSyncEvent(D);var F=_.props.onClick;Qt(F)&&F(D,A)}}),Kt(_,"handleMouseDown",function(A){var O=_.props.onMouseDown;if(Qt(O)){var D=_.getMouseInfo(A);O(D,A)}}),Kt(_,"handleMouseUp",function(A){var O=_.props.onMouseUp;if(Qt(O)){var D=_.getMouseInfo(A);O(D,A)}}),Kt(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Kt(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),Kt(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),Kt(_,"handleDoubleClick",function(A){var O=_.props.onDoubleClick;if(Qt(O)){var D=_.getMouseInfo(A);O(D,A)}}),Kt(_,"handleContextMenu",function(A){var O=_.props.onContextMenu;if(Qt(O)){var D=_.getMouseInfo(A);O(D,A)}}),Kt(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&tA.emit(nA,_.props.syncId,A,_.eventEmitterSymbol)}),Kt(_,"applySyncEvent",function(A){var O=_.props,D=O.layout,F=O.syncMethod,L=_.state.updateId,I=A.dataStartIndex,P=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(Je({dataStartIndex:I,dataEndIndex:P},x({props:_.props,dataStartIndex:I,dataEndIndex:P,updateId:L},_.state)));else if(A.activeTooltipIndex!==void 0){var z=A.chartX,U=A.chartY,V=A.activeTooltipIndex,$=_.state,R=$.offset,W=$.tooltipTicks;if(!R)return;if(typeof F=="function")V=F(W,A);else if(F==="value"){V=-1;for(var q=0;q<W.length;q++)if(W[q].value===A.activeLabel){V=q;break}}var X=Je(Je({},R),{},{x:R.left,y:R.top}),H=Math.min(z,X.x+X.width),J=Math.min(U,X.y+X.height),ne=W[V]&&W[V].value,fe=uD(_.state,_.props.data,V),de=W[V]?{x:D==="horizontal"?W[V].coordinate:H,y:D==="horizontal"?J:W[V].coordinate}:mse;_.setState(Je(Je({},A),{},{activeLabel:ne,activeCoordinate:de,activePayload:fe,activeTooltipIndex:V}))}else _.setState(A)}),Kt(_,"renderCursor",function(A){var O,D=_.state,F=D.isTooltipActive,L=D.activeCoordinate,I=D.activePayload,P=D.offset,z=D.activeTooltipIndex,U=D.tooltipAxisBandSize,V=_.getTooltipEventType(),$=(O=A.props.active)!==null&&O!==void 0?O:F,R=_.props.layout,W=A.key||"_recharts-cursor";return Q.createElement(ZWe,{key:W,activeCoordinate:L,activePayload:I,activeTooltipIndex:z,chartName:n,element:A,isActive:$,layout:R,offset:P,tooltipAxisBandSize:U,tooltipEventType:V})}),Kt(_,"renderPolarAxis",function(A,O,D){var F=di(A,"type.axisType"),L=di(_.state,"".concat(F,"Map")),I=A.type.defaultProps,P=I!==void 0?Je(Je({},I),A.props):A.props,z=L&&L[P["".concat(F,"Id")]];return b.cloneElement(A,Je(Je({},z),{},{className:It(F,z.className),key:A.key||"".concat(O,"-").concat(D),ticks:Bl(z,!0)}))}),Kt(_,"renderPolarGrid",function(A){var O=A.props,D=O.radialLines,F=O.polarAngles,L=O.polarRadius,I=_.state,P=I.radiusAxisMap,z=I.angleAxisMap,U=ed(P),V=ed(z),$=V.cx,R=V.cy,W=V.innerRadius,q=V.outerRadius;return b.cloneElement(A,{polarAngles:Array.isArray(F)?F:Bl(V,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(L)?L:Bl(U,!0).map(function(X){return X.coordinate}),cx:$,cy:R,innerRadius:W,outerRadius:q,key:A.key||"polar-grid",radialLines:D})}),Kt(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,O=_.props,D=O.children,F=O.width,L=O.height,I=_.props.margin||{},P=F-(I.left||0)-(I.right||0),z=Xne({children:D,formattedGraphicalItems:A,legendWidth:P,legendContent:d});if(!z)return null;var U=z.item,V=lG(z,eUe);return b.cloneElement(U,Je(Je({},V),{},{chartWidth:F,chartHeight:L,margin:I,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Kt(_,"renderTooltip",function(){var A,O=_.props,D=O.children,F=O.accessibilityLayer,L=ri(D,_s);if(!L)return null;var I=_.state,P=I.isTooltipActive,z=I.activeCoordinate,U=I.activePayload,V=I.activeLabel,$=I.offset,R=(A=L.props.active)!==null&&A!==void 0?A:P;return b.cloneElement(L,{viewBox:Je(Je({},$),{},{x:$.left,y:$.top}),active:R,label:V,payload:R?U:[],coordinate:z,accessibilityLayer:F})}),Kt(_,"renderBrush",function(A){var O=_.props,D=O.margin,F=O.data,L=_.state,I=L.offset,P=L.dataStartIndex,z=L.dataEndIndex,U=L.updateId;return b.cloneElement(A,{key:A.key||"_recharts-brush",onChange:gv(_.handleBrushChange,A.props.onChange),data:F,x:xt(A.props.x)?A.props.x:I.left,y:xt(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(D.bottom||0),width:xt(A.props.width)?A.props.width:I.width,startIndex:P,endIndex:z,updateId:"brush-".concat(U)})}),Kt(_,"renderReferenceElement",function(A,O,D){if(!A)return null;var F=_,L=F.clipPathId,I=_.state,P=I.xAxisMap,z=I.yAxisMap,U=I.offset,V=A.type.defaultProps||{},$=A.props,R=$.xAxisId,W=R===void 0?V.xAxisId:R,q=$.yAxisId,X=q===void 0?V.yAxisId:q;return b.cloneElement(A,{key:A.key||"".concat(O,"-").concat(D),xAxis:P[W],yAxis:z[X],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:L})}),Kt(_,"renderActivePoints",function(A){var O=A.item,D=A.activePoint,F=A.basePoint,L=A.childIndex,I=A.isRange,P=[],z=O.props.key,U=O.item.type.defaultProps!==void 0?Je(Je({},O.item.type.defaultProps),O.item.props):O.item.props,V=U.activeDot,$=U.dataKey,R=Je(Je({index:L,dataKey:$,cx:D.x,cy:D.y,r:4,fill:f3(O.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},qt(V,!1)),$1(V));return P.push(N.renderActiveDot(V,R,"".concat(z,"-activePoint-").concat(L))),F?P.push(N.renderActiveDot(V,Je(Je({},R),{},{cx:F.x,cy:F.y}),"".concat(z,"-basePoint-").concat(L))):I&&P.push(null),P}),Kt(_,"renderGraphicChild",function(A,O,D){var F=_.filterFormatItem(A,O,D);if(!F)return null;var L=_.getTooltipEventType(),I=_.state,P=I.isTooltipActive,z=I.tooltipAxis,U=I.activeTooltipIndex,V=I.activeLabel,$=_.props.children,R=ri($,_s),W=F.props,q=W.points,X=W.isRange,H=W.baseLine,J=F.item.type.defaultProps!==void 0?Je(Je({},F.item.type.defaultProps),F.item.props):F.item.props,ne=J.activeDot,fe=J.hide,de=J.activeBar,we=J.activeShape,Fe=!!(!fe&&P&&R&&(ne||de||we)),$e={};L!=="axis"&&R&&R.props.trigger==="click"?$e={onClick:gv(_.handleItemMouseEnter,A.props.onClick)}:L!=="axis"&&($e={onMouseLeave:gv(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:gv(_.handleItemMouseEnter,A.props.onMouseEnter)});var be=b.cloneElement(A,Je(Je({},F.props),$e));function Ee(Ve){return typeof z.dataKey=="function"?z.dataKey(Ve.payload):null}if(Fe)if(U>=0){var Ge,ae;if(z.dataKey&&!z.allowDuplicatedCategory){var oe=typeof z.dataKey=="function"?Ee:"payload.".concat(z.dataKey.toString());Ge=F1(q,oe,V),ae=X&&H&&F1(H,oe,V)}else Ge=q==null?void 0:q[U],ae=X&&H&&H[U];if(we||de){var Y=A.props.activeIndex!==void 0?A.props.activeIndex:U;return[b.cloneElement(A,Je(Je(Je({},F.props),$e),{},{activeIndex:Y})),null,null]}if(!rn(Ge))return[be].concat(Pm(_.renderActivePoints({item:F,activePoint:Ge,basePoint:ae,childIndex:U,isRange:X})))}else{var ce,Ie=(ce=_.getItemByXY(_.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:be},We=Ie.graphicalItem,pe=We.item,Ne=pe===void 0?A:pe,st=We.childIndex,rt=Je(Je(Je({},F.props),$e),{},{activeIndex:st});return[b.cloneElement(Ne,rt),null,null]}return X?[be,null,null]:[be,null]}),Kt(_,"renderCustomized",function(A,O,D){return b.cloneElement(A,Je(Je({key:"recharts-customized-".concat(D)},_.props),_.state))}),Kt(_,"renderMap",{CartesianGrid:{handler:wv,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:wv},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:wv},YAxis:{handler:wv},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((S=C.id)!==null&&S!==void 0?S:Um("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=Kte(_.triggeredAfterMouseMove,(M=C.throttleDelay)!==null&&M!==void 0?M:1e3/60),_.state={},_}return hUe(N,v),lUe(N,[{key:"componentDidMount",value:function(){var S,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,M=S.children,_=S.data,A=S.height,O=S.layout,D=ri(M,_s);if(D){var F=D.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,I=uD(this.state,_,F,L),P=this.state.tooltipTicks[F].coordinate,z=(this.state.offset.top+A)/2,U=O==="horizontal",V=U?{x:P,y:z}:{y:P,x:z},$=this.state.formattedGraphicalItems.find(function(W){var q=W.item;return q.type.name==="Scatter"});$&&(V=Je(Je({},V),$.props.points[F].tooltipPosition),I=$.props.points[F].tooltipPayload);var R={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:L,activePayload:I,activeCoordinate:V};this.setState(R),this.renderCursor(D),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(S){GO([ri(S.children,_s)],[ri(this.props.children,_s)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=ri(this.props.children,_s);if(S&&typeof S.props.shared=="boolean"){var M=S.props.shared?"axis":"item";return l.indexOf(M)>=0?M:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var M=this.container,_=M.getBoundingClientRect(),A=IRe(_),O={chartX:Math.round(S.pageX-A.left),chartY:Math.round(S.pageY-A.top)},D=_.width/M.offsetWidth||1,F=this.inRange(O.chartX,O.chartY,D);if(!F)return null;var L=this.state,I=L.xAxisMap,P=L.yAxisMap,z=this.getTooltipEventType(),U=dG(this.state,this.props.data,this.props.layout,F);if(z!=="axis"&&I&&P){var V=ed(I).scale,$=ed(P).scale,R=V&&V.invert?V.invert(O.chartX):null,W=$&&$.invert?$.invert(O.chartY):null;return Je(Je({},O),{},{xValue:R,yValue:W},U)}return U?Je(Je({},O),U):null}},{key:"inRange",value:function(S,M){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,O=S/_,D=M/_;if(A==="horizontal"||A==="vertical"){var F=this.state.offset,L=O>=F.left&&O<=F.left+F.width&&D>=F.top&&D<=F.top+F.height;return L?{x:O,y:D}:null}var I=this.state,P=I.angleAxisMap,z=I.radiusAxisMap;if(P&&z){var U=ed(P);return hU({x:O,y:D},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,M=this.getTooltipEventType(),_=ri(S,_s),A={};_&&M==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=$1(this.props,this.handleOuterEvent);return Je(Je({},O),A)}},{key:"addListener",value:function(){tA.on(nA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){tA.removeListener(nA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,M,_){for(var A=this.state.formattedGraphicalItems,O=0,D=A.length;O<D;O++){var F=A[O];if(F.item===S||F.props.key===S.key||M===Zl(F.item.type)&&_===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,M=this.state.offset,_=M.left,A=M.top,O=M.height,D=M.width;return Q.createElement("defs",null,Q.createElement("clipPath",{id:S},Q.createElement("rect",{x:_,y:A,height:O,width:D})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(M,_){var A=oG(_,2),O=A[0],D=A[1];return Je(Je({},M),{},Kt({},O,D.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(M,_){var A=oG(_,2),O=A[0],D=A[1];return Je(Je({},M),{},Kt({},O,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[S])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(S){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[S])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(S){var M=this.state,_=M.formattedGraphicalItems,A=M.activeItem;if(_&&_.length)for(var O=0,D=_.length;O<D;O++){var F=_[O],L=F.props,I=F.item,P=I.type.defaultProps!==void 0?Je(Je({},I.type.defaultProps),I.props):I.props,z=Zl(I.type);if(z==="Bar"){var U=(L.data||[]).find(function(W){return tHe(S,W)});if(U)return{graphicalItem:F,payload:U}}else if(z==="RadialBar"){var V=(L.data||[]).find(function(W){return hU(S,W)});if(V)return{graphicalItem:F,payload:V}}else if(n2(F,A)||r2(F,A)||px(F,A)){var $=Sze({graphicalItem:F,activeTooltipItem:A,itemData:P.data}),R=P.activeIndex===void 0?$:P.activeIndex;return{graphicalItem:Je(Je({},F),{},{childIndex:R}),payload:px(F,A)?P.data[$]:F.props.data[$]}}}return null}},{key:"render",value:function(){var S=this;if(!Nz(this))return null;var M=this.props,_=M.children,A=M.className,O=M.width,D=M.height,F=M.style,L=M.compact,I=M.title,P=M.desc,z=lG(M,tUe),U=qt(z,!1);if(L)return Q.createElement(Bq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement(KO,_f({},U,{width:O,height:D,title:I,desc:P}),this.renderClipPath(),kz(_,this.renderMap)));if(this.props.accessibilityLayer){var V,$;U.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,U.role=($=this.props.role)!==null&&$!==void 0?$:"application",U.onKeyDown=function(W){S.accessibilityManager.keyboardEvent(W)},U.onFocus=function(){S.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return Q.createElement(Bq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement("div",_f({className:It("recharts-wrapper",A),style:Je({position:"relative",cursor:"default",width:O,height:D},F)},R,{ref:function(q){S.container=q}}),Q.createElement(KO,_f({},U,{width:O,height:D,title:I,desc:P,style:bUe}),this.renderClipPath(),kz(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(b.Component);Kt(y,"displayName",n),Kt(y,"defaultProps",Je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Kt(y,"getDerivedStateFromProps",function(v,N){var C=v.dataKey,S=v.data,M=v.children,_=v.width,A=v.height,O=v.layout,D=v.stackOffset,F=v.margin,L=N.dataStartIndex,I=N.dataEndIndex;if(N.updateId===void 0){var P=uG(v);return Je(Je(Je({},P),{},{updateId:0},x(Je(Je({props:v},P),{},{updateId:0}),N)),{},{prevDataKey:C,prevData:S,prevWidth:_,prevHeight:A,prevLayout:O,prevStackOffset:D,prevMargin:F,prevChildren:M})}if(C!==N.prevDataKey||S!==N.prevData||_!==N.prevWidth||A!==N.prevHeight||O!==N.prevLayout||D!==N.prevStackOffset||!Ff(F,N.prevMargin)){var z=uG(v),U={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},V=Je(Je({},dG(N,S,O)),{},{updateId:N.updateId+1}),$=Je(Je(Je({},z),U),V);return Je(Je(Je({},$),x(Je({props:v},$),N)),{},{prevDataKey:C,prevData:S,prevWidth:_,prevHeight:A,prevLayout:O,prevStackOffset:D,prevMargin:F,prevChildren:M})}if(!GO(M,N.prevChildren)){var R,W,q,X,H=ri(M,Sm),J=H&&(R=(W=H.props)===null||W===void 0?void 0:W.startIndex)!==null&&R!==void 0?R:L,ne=H&&(q=(X=H.props)===null||X===void 0?void 0:X.endIndex)!==null&&q!==void 0?q:I,fe=J!==L||ne!==I,de=!rn(S),we=de&&!fe?N.updateId:N.updateId+1;return Je(Je({updateId:we},x(Je(Je({props:v},N),{},{updateId:we,dataStartIndex:J,dataEndIndex:ne}),N)),{},{prevChildren:M,dataStartIndex:J,dataEndIndex:ne})}return null}),Kt(y,"renderActiveDot",function(v,N,C){var S;return b.isValidElement(v)?S=b.cloneElement(v,N):Qt(v)?S=v(N):S=Q.createElement(JN,N),Q.createElement(Pn,{className:"recharts-active-dot",key:C},S)});var w=b.forwardRef(function(N,C){return Q.createElement(y,_f({},N,{ref:C}))});return w.displayName=y.displayName,w},hD=S3({chartName:"LineChart",GraphicalChild:ch,axisComponents:[{axisType:"xAxis",AxisComp:Wo},{axisType:"yAxis",AxisComp:Uo}],formatAxisMap:Rre}),fD=S3({chartName:"BarChart",GraphicalChild:uc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Wo},{axisType:"yAxis",AxisComp:Uo}],formatAxisMap:Rre}),k3=S3({chartName:"PieChart",GraphicalChild:po,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:t2},{axisType:"radiusAxis",AxisComp:ZN}],formatAxisMap:p9e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const fG=(t,e,n,r)=>{if(t==null||e===null||e===void 0||n===null||n===void 0||r===null||r===void 0)return null;const s=t*60+e,i=n*60+r;let o=Math.abs(i-s);return o>720&&(o=1440-o),o},jv=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.round(t*100)/100,n=Math.floor(e/60),r=e%60;return e===0?"0min":n===0&&r>0?`${r.toFixed(2)}min`:n>0&&r===0?`${n}h`:`${n}h ${r.toFixed(2)}min`},sA=({title:t,value:e,change:n,icon:r})=>{const s=n==null?void 0:n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),n&&a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},TUe=()=>{const[t,e]=b.useState(()=>{const V=localStorage.getItem("sidebarOpen");return V?JSON.parse(V):!1}),[n,r]=b.useState(!1),[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,d]=b.useState(null),{user:h,getMachineHistories:m}=_t(),p=St(),x=Yr(),[y,w]=b.useState(window.innerWidth<768),[v,N]=b.useState(!1),[C,S]=b.useState(!1),M=Q.useRef(null),_=Q.useRef(null),A=x.pathname==="/machinehistory",O=x.pathname==="/machinehistory/reports";b.useEffect(()=>{(async()=>{l(!0);try{const $=await m();i($||[])}catch($){console.error("Failed to fetch machine history for reports:",$),d("Failed to load machine history data for reports."),i([])}finally{l(!1)}})()},[m]),b.useEffect(()=>{const V=()=>{w(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]),b.useEffect(()=>{const V=$=>{M.current&&!M.current.contains($.target)&&N(!1),_.current&&!_.current.contains($.target)&&S(!1)};return document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[]);const D=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(V=>!V)},F=b.useMemo(()=>s.length,[s]),L=b.useMemo(()=>{const V={};return s.forEach($=>{$.mesin&&(V[$.mesin]=(V[$.mesin]||0)+1)}),Object.entries(V).sort(([,$],[,R])=>R-$).slice(0,3).map(([$,R])=>({name:$,count:R}))},[s]),I=b.useMemo(()=>{const V={};return s.forEach($=>{if($.mesin){const R=fG($.stopJam,$.stopMenit,$.startJam,$.startMenit);R!==null&&(V[$.mesin]||(V[$.mesin]={totalMinutes:0,count:0}),V[$.mesin].totalMinutes+=R,V[$.mesin].count+=1)}}),Object.entries(V).map(([$,R])=>{const W=R.count>0?R.totalMinutes/R.count:0,q=Math.round(W*100)/100;return{name:$,averageDowntimeMinutes:q,displayDowntime:jv(q)}})},[s]),P=b.useMemo(()=>{const V={};return s.forEach($=>{if($.date){const R=new Date($.date),W=R.getFullYear(),q=(R.getMonth()+1).toString().padStart(2,"0"),X=`${W}-${q}`;V[X]=(V[X]||0)+1}}),Object.entries(V).sort(([$],[R])=>$.localeCompare(R)).map(([$,R])=>{const[W,q]=$.split("-");return{name:`${new Date(Number(W),Number(q)-1,1).toLocaleString("en-US",{month:"short"})} ${W}`,"Maintenance Events":R}})},[s]),z=b.useMemo(()=>{const V={Perbaikan:0,Perawatan:0};return s.forEach($=>{$.perbaikanPerawatan==="Perbaikan"?V.Perbaikan+=1:$.perbaikanPerawatan==="Perawatan"&&(V.Perawatan+=1)}),[{name:"Repairs",value:V.Perbaikan},{name:"Maintenance",value:V.Perawatan}].filter($=>$.value>0)},[s]),U=["#8884d8","#82ca9d","#ffc658","#ff7300"];return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx(Bj,{}),isMobile:y,toggleSidebar:D}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>p("/machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${A?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>p("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${O?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",a.jsx("span",{className:"text-blue-600",children:"Reports & Analytics"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Gain insights into machine maintenance trends, downtime, and performance."})]}),o?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading analytics data..."})]}):s.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Ts,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No machine history records available to generate reports."})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[a.jsx(sA,{title:"Total Maintenance Events",value:F.toLocaleString("id-ID"),icon:a.jsx(Ps,{})}),a.jsx(sA,{title:"Avg. Downtime (All Machines)",value:jv(Math.round(s.reduce((V,$)=>V+(fG($.stopJam,$.stopMenit,$.startJam,$.startMenit)||0),0)/s.length*100)/100),icon:a.jsx(Sn,{})}),a.jsx(sA,{title:"Machines Maintained",value:new Set(s.map(V=>V.mesin)).size.toLocaleString("id-ID"),icon:a.jsx(Na,{})}),a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:"easeOut"},className:"lg:col-span-2 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Yo,{className:"mr-2 text-blue-600"})," Most Frequently Maintained Machines"]}),a.jsx($l,{width:"100%",height:300,children:a.jsxs(fD,{data:L,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Uu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Wo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Uo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(_s,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),a.jsx(uc,{dataKey:"count",fill:"#3B82F6",barSize:30,radius:[10,10,0,0]})]})}),L.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for most frequently maintained machines."})]}),a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2,ease:"easeOut"},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Et,{className:"mr-2 text-blue-600"})," Maintenance Type Distribution"]}),z.length>0?a.jsx($l,{width:"100%",height:300,children:a.jsxs(k3,{children:[a.jsx(po,{data:z,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:z.map((V,$)=>a.jsx(Gm,{fill:U[$%U.length]},`cell-${$}`))}),a.jsx(_s,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:(V,$)=>[`${V} events`,$]}),a.jsx(zo,{layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{fontSize:"12px",color:"#6B7280"}})]})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance types."})]}),a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Sn,{className:"mr-2 text-blue-600"})," Average Downtime per Machine"]}),a.jsx($l,{width:"100%",height:350,children:a.jsxs(fD,{data:I,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Uu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Wo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Uo,{tickFormatter:V=>jv(V),tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(_s,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:V=>jv(V)}),a.jsx(uc,{dataKey:"averageDowntimeMinutes",fill:"#82ca9d",barSize:30,radius:[10,10,0,0]})]})}),I.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for average downtime per machine."})]}),a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(yu,{className:"mr-2 text-blue-600"})," Maintenance Trend Over Time"]}),a.jsx($l,{width:"100%",height:350,children:a.jsxs(hD,{data:P,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Uu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Wo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Uo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(_s,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),a.jsx(zo,{wrapperStyle:{fontSize:"12px",color:"#6B7280"}}),a.jsx(ch,{type:"monotone",dataKey:"Maintenance Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})}),P.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance trend over time."})]})]})]})]})]})};function MUe(t,e){const[n,r]=b.useState(t);return b.useEffect(()=>{const s=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(s)}},[t,e]),n}const AUe=()=>{const[t,e]=b.useState(()=>{const oe=localStorage.getItem("sidebarOpen");return oe?JSON.parse(oe):!1}),[n,r]=b.useState(!1),[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,d]=b.useState(null),[h,m]=b.useState(1),[p]=b.useState(10),{user:x,getAuditTrail:y,isAuthenticated:w}=_t();St();const[v,N]=b.useState(window.innerWidth<768),[C,S]=b.useState(!1),[M,_]=b.useState(!1),A=b.useRef(null),O=b.useRef(null),[D,F]=b.useState({key:"changed_at",direction:"descending"}),[L,I]=b.useState(""),P=MUe(L,300),[z,U]=b.useState(!1),[V,$]=b.useState(null),R=b.useCallback(async()=>{try{l(!0),d(null);const oe=await y();i(oe)}catch(oe){console.error("Failed to fetch audit trail:",oe),d("Failed to load audit trail data. Please try again."),i([])}finally{l(!1)}},[y]);b.useEffect(()=>{R()},[R]),b.useEffect(()=>{const oe=()=>{N(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",oe),()=>window.removeEventListener("resize",oe)},[]),b.useEffect(()=>{const oe=Y=>{A.current&&!A.current.contains(Y.target)&&S(!1),O.current&&!O.current.contains(Y.target)&&_(!1)};return document.addEventListener("mousedown",oe),()=>{document.removeEventListener("mousedown",oe)}},[]);const W=oe=>{I(oe.target.value)},q=oe=>{let Y="ascending";D&&D.key===oe&&D.direction==="ascending"&&(Y="descending"),F({key:oe,direction:Y})},X=oe=>typeof oe=="object"&&oe!==null?oe.name||oe.toString():(oe==null?void 0:oe.toString())||"",H=b.useCallback(oe=>{$(oe),U(!0)},[]),J=oe=>{switch(oe){case"created":return"bg-green-500 text-white";case"updated":return"bg-blue-600 text-white";case"deleted":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},ne=oe=>oe?oe.replace("App\\Models\\",""):"Unknown",fe=Q.useMemo(()=>{let oe=[...s||[]];if(P.trim()){const Y=P.toLowerCase().trim();oe=oe.filter(ce=>{var We,pe,Ne;return[((We=ce.changed_by)==null?void 0:We.toLowerCase())||"",((pe=ce.action)==null?void 0:pe.toLowerCase())||"",((Ne=ce.recordable_type)==null?void 0:Ne.toLowerCase())||"",JSON.stringify(ce.old_data_snapshot||{}).toLowerCase(),JSON.stringify(ce.new_data_snapshot||{}).toLowerCase()].some(st=>st.includes(Y))})}return D!==null?oe.sort((Y,ce)=>{if(D.key==="changed_at"){const pe=new Date(Y.changed_at).getTime(),Ne=new Date(ce.changed_at).getTime();return D.direction==="ascending"?pe-Ne:Ne-pe}const Ie=X(Y[D.key]),We=X(ce[D.key]);return Ie<We?D.direction==="ascending"?-1:1:Ie>We?D.direction==="ascending"?1:-1:0}):oe.sort((Y,ce)=>{const Ie=new Date(Y.changed_at).getTime();return new Date(ce.changed_at).getTime()-Ie}),oe},[s,P,D]),de=h*p,we=de-p,Fe=fe.slice(we,de),$e=Math.ceil(fe.length/p),be=oe=>m(oe),Ee=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(oe=>!oe)},Ge=oe=>{try{return new Date(oe).toLocaleString()}catch{return oe}},ae=({log:oe,onClose:Y})=>{const ce=Ue=>Ue==null?"-":typeof Ue=="object"&&Ue!==null?JSON.stringify(Ue):typeof Ue=="string"?Ue.trim()!==""?Ue.trim():"-":typeof Ue=="number"?Ue.toString():typeof Ue=="boolean"?Ue?"Yes":"No":String(Ue),Ie=({label:Ue,value:Ye})=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:Ue}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:Ye})]}),We=({title:Ue})=>a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:Ue}),pe=()=>{const Ue=oe.old_data_snapshot?Object.keys(oe.old_data_snapshot):[],Ye=oe.new_data_snapshot?Object.keys(oe.new_data_snapshot):[];return[...new Set([...Ue,...Ye])].filter(Oe=>!["id","created_at","updated_at","deleted_at"].includes(Oe))},Ne=(Ue,Ye)=>{if(Ue===void 0&&Ye===void 0||Ue===null&&Ye===null)return!0;if(Ue===void 0&&Ye===null||Ue===null&&Ye===void 0)return!1;if(Ue===Ye)return!0;if(!isNaN(Number(Ue))&&!isNaN(Number(Ye)))return Number(Ue)===Number(Ye);if(typeof Ue=="boolean"&&typeof Ye=="boolean")return Ue===Ye;if(typeof Ue=="string"&&typeof Ye=="string")return Ue.trim().toLowerCase()===Ye.trim().toLowerCase();if(typeof Ue=="object"&&typeof Ye=="object"&&Ue!==null&&Ye!==null)try{return JSON.stringify(Ue)===JSON.stringify(Ye)}catch{return String(Ue)===String(Ye)}const kt=String(Ue||"").trim(),Oe=String(Ye||"").trim();return(kt===""||kt==="null"||kt==="undefined")&&(Oe===""||Oe==="null"||Oe==="undefined")?!0:kt===Oe},st=()=>{const Ue=pe();if(Ue.length===0)return a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data changes recorded"});const Ye=Ue.map(Xe=>{const Pt=oe.old_data_snapshot??{},Se=oe.new_data_snapshot??{},bt=Object.prototype.hasOwnProperty.call(Pt,Xe),yt=Object.prototype.hasOwnProperty.call(Se,Xe),Pe=bt?Pt[Xe]:void 0;let mt=yt?Se[Xe]:void 0;oe.action==="updated"&&bt&&!yt&&(mt=Pe);let ht;return!bt&&yt?ht="added":bt&&!yt?ht=oe.action==="deleted"?"removed":"unchanged":Ne(Pe,mt)?ht="unchanged":ht="updated",{key:Xe,oldValue:Pe,newValue:mt,status:ht}}),kt=Ye.filter(Xe=>Xe.status!=="unchanged").length,Oe=Ye.length-kt;return a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Old Value"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"New Value"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ye.map(({key:Xe,oldValue:Pt,newValue:Se,status:bt})=>{const yt=Xe.split("_").map(vt=>vt.charAt(0).toUpperCase()+vt.slice(1)).join(" "),Pe=ce(Pt),mt=ce(Se),ht=bt==="updated"?"bg-yellow-50":bt==="added"?"bg-green-50":bt==="removed"?"bg-red-50":"";return a.jsxs("tr",{className:ht,children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:yt}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.jsx("div",{className:`p-2 rounded ${bt==="removed"?"bg-red-100 text-red-800 border border-red-200":bt==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:Pe})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.jsx("div",{className:`p-2 rounded ${bt==="added"?"bg-green-100 text-green-800 border border-green-200":bt==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:mt})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:bt==="added"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(Cr,{className:"w-3 h-3 mr-1"}),"Added"]}):bt==="removed"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[a.jsx(Er,{className:"w-3 h-3 mr-1"}),"Removed"]}):bt==="updated"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[a.jsx(Wl,{className:"w-3 h-3 mr-1"}),"Updated"]}):a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[a.jsx(Et,{className:"w-3 h-3 mr-1"}),"Unchanged"]})})]},Xe)})})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:kt})," field(s) changed  ",a.jsx("span",{className:"font-medium",children:Oe})," field(s) unchanged"]})]})},rt=(Ue,Ye)=>{if(!Ue||Object.keys(Ue).length===0)return a.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",Ye," data available"]});const kt=Object.entries(Ue).filter(([Oe])=>!["id","created_at","updated_at","deleted_at"].includes(Oe));return kt.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",Ye," data available"]}):a.jsx("div",{className:"space-y-4",children:kt.map(([Oe,Xe])=>{const Pt=Oe.split("_").map(Se=>Se.charAt(0).toUpperCase()+Se.slice(1)).join(" ");return a.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-3 p-4 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"md:w-1/3 lg:w-1/4",children:a.jsx("h4",{className:"text-sm font-semibold text-gray-700 break-words",children:Pt})}),a.jsx("div",{className:"md:w-2/3 lg:w-3/4",children:a.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words",children:ce(Xe)})})]},Oe)})})},Ve=(Ue,Ye)=>{if(!Ue||Object.keys(Ue).length===0)return a.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",Ye.toLowerCase()," available"]});const kt=Object.entries(Ue).filter(([Oe,Xe])=>!(["id","created_at","updated_at","deleted_at"].includes(Oe)||Xe==null||Xe===""));return kt.length===0?a.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",Ye.toLowerCase()," available"]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:kt.map(([Oe,Xe])=>{const Pt=Oe.split("_").map(Se=>Se.charAt(0).toUpperCase()+Se.slice(1)).join(" ");return a.jsx(Ie,{label:Pt,value:ce(Xe)},Oe)})})};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(We,{title:"General Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ie,{label:"Audit ID",value:ce(oe.id)}),a.jsx(Ie,{label:"Timestamp",value:Ge(oe.changed_at)}),a.jsx(Ie,{label:"User",value:ce(oe.changed_by)}),a.jsx(Ie,{label:"Action",value:ce(oe.action)}),a.jsx(Ie,{label:"Record Type",value:ne(oe.recordable_type)}),a.jsx(Ie,{label:"Record ID",value:ce(oe.recordable_id)})]}),oe.recordable_details&&Object.keys(oe.recordable_details).length>0&&a.jsxs(a.Fragment,{children:[a.jsx(We,{title:"Record Details"}),Ve(oe.recordable_details,"Record Details")]}),a.jsx(We,{title:"Data Changes Comparison"}),st(),a.jsx(We,{title:"Complete Data Snapshots"}),a.jsxs("div",{className:"space-y-8",children:[oe.old_data_snapshot&&Object.keys(oe.old_data_snapshot).length>0&&a.jsxs("div",{className:"w-full",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"Old Data Snapshot"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:rt(oe.old_data_snapshot,"old")})]}),oe.new_data_snapshot&&Object.keys(oe.new_data_snapshot).length>0&&a.jsxs("div",{className:"w-full",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"New Data Snapshot"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:rt(oe.new_data_snapshot,"new")})]})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(k.button,{type:"button",onClick:Y,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close"})})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Audit Trail",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:a.jsx(Wj,{}),isMobile:v,toggleSidebar:Ee}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Audit ",a.jsx("span",{className:"text-blue-600",children:"Trail"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Track all user activities and system changes for enhanced security and accountability."})]}),a.jsx(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by user, action, or details...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:L,onChange:W,"aria-label":"Search audit logs"})]})})}),o?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading audit trail data..."})]}):c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zt,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-red-700 text-base font-medium",children:c}),a.jsx("button",{onClick:R,className:"mt-5 px-5 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200 text-sm",children:"Retry"})]}):fe.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Ts,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:P?"No audit entries found matching your search.":"No audit entries available."}),P&&a.jsx("button",{onClick:()=>I(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>q("changed_at"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sn,{className:"mr-2 text-sm"})," Timestamp",(D==null?void 0:D.key)==="changed_at"?a.jsx("span",{className:"ml-1",children:D.direction==="ascending"?"":""}):a.jsx("span",{className:"ml-1 text-gray-400",children:""})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>q("changed_by"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rn,{className:"mr-2 text-sm"})," User",(D==null?void 0:D.key)==="changed_by"&&a.jsx("span",{className:"ml-1",children:D.direction==="ascending"?"":""})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>q("action"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wl,{className:"mr-2 text-sm"})," Action",(D==null?void 0:D.key)==="action"&&a.jsx("span",{className:"ml-1",children:D.direction==="ascending"?"":""})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>q("recordable_type"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(vw,{className:"mr-2 text-sm"})," Record Type",(D==null?void 0:D.key)==="recordable_type"&&a.jsx("span",{className:"ml-1",children:D.direction==="ascending"?"":""})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Fe.map(oe=>a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ge(oe.changed_at)})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:oe.changed_by||"N/A"})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${J(oe.action)} shadow-sm`,children:oe.action.charAt(0).toUpperCase()+oe.action.slice(1)})}),a.jsxs("td",{className:"px-5 py-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ne(oe.recordable_type)}),oe.recordable_id&&a.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",oe.recordable_id]})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium",children:a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(oe),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:[a.jsx(ns,{className:"text-lg"}),a.jsx("span",{children:"View"})]})})]},oe.id))})]})})}),fe.length>p&&a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:we+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(de,fe.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:fe.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>be(h-1),disabled:h===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:$e},(oe,Y)=>a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>be(Y+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${h===Y+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${Y+1}`,children:Y+1},Y+1)),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>be(h+1),disabled:h===$e,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),V&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Audit Details #",V.id]}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{U(!1),$(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(ae,{log:V,onClose:()=>{U(!1),$(null)}})})]})})})]})},OUe=()=>{const t=St(),{user:e}=_t(),[n,r]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[h,m]=b.useState(!1),p=b.useRef(null),x=b.useRef(null);b.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),b.useEffect(()=>{const v=N=>{p.current&&!p.current.contains(N.target)&&d(!1),x.current&&!x.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const y=()=>{i(v=>!v)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",n)},[n]);const w=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[o&&a.jsx(k.button,{onClick:y,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(LK,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Workflow Approval"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!n),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:p,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!c),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:c&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{d(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:x,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>m(!h),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{t("/profile"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{t("/settings"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{t("/logout"),m(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Workflow Approval Menu"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of workflow approval you wish to manage."})]}),a.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:a.jsxs(k.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workflowapproval/monitoringapproval"),children:[a.jsx(Ax,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Monitoring Approval"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Monitoring Approval ",a.jsx(Ft,{size:18,className:"ml-1"})]})]})})]})]})]})},mG=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,EUe=()=>{const t=St(),{getApprovalTemplates:e,createApprovalTemplate:n,deleteApprovalTemplate:r,setApprovalTemplateActive:s}=_t(),[i,o]=b.useState(!1),[l,c]=b.useState(""),[d,h]=b.useState([]),[m,p]=b.useState(!1),[x,y]=b.useState(""),[w,v]=b.useState(!1),[N,C]=b.useState(null),S=(D,F,L)=>{C({type:D,templateId:F,templateName:L}),v(!0)},M=async()=>{if(N)try{p(!0),N.type==="activate"?(await s(N.templateId),h(D=>D.map(F=>({...F,is_active:F.id===N.templateId})))):N.type==="delete"&&(await r(N.templateId),await _()),v(!1),C(null),y("")}catch(D){y(`Failed to ${N.type} template`),console.error(`Error ${N.type}ing template:`,D)}finally{p(!1)}};b.useEffect(()=>{_()},[]);const _=async()=>{try{p(!0);const D=await e();h(D||[])}catch(D){y("Failed to load approval templates"),console.error("Error loading templates:",D)}finally{p(!1)}},A=async()=>{if(!l.trim()){y("Template name must be filled out.");return}try{p(!0);const D=await n({name:l,is_active:!1});h(F=>[...F,D]),o(!1),c(""),y("")}catch(D){y("Failed to create template"),console.error("Error creating template:",D)}finally{p(!1)}},O=D=>{t(`/workflowapproval/monitoringapproval/configureapproval/${D.id}`)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(k.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(RA,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Approval Monitoring Flow Management"})]})}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(RA,{className:"mr-2 text-gray-700",size:24})," Select or Create Template"]}),a.jsxs(k.button,{onClick:()=>o(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:m,children:[a.jsx(mme,{size:18,className:"mr-2"})," Create New Template"]})]}),x&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:x}),m?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(ww,{className:"animate-spin text-blue-600",size:32})}):a.jsx("div",{className:"space-y-4",children:d.length>0?d.map(D=>a.jsx(k.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[a.jsx(vw,{size:20,className:"mr-2 text-blue-500"}),D.name]}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${D.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:D.is_active?"Active":"Inactive"}),D.approvers&&a.jsxs("span",{className:"text-xs text-gray-500",children:[D.approvers.length," approver(s)"]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(k.button,{onClick:()=>O(D),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:m,children:"Configure"}),!D.is_active&&a.jsx(k.button,{onClick:F=>{F.stopPropagation(),S("activate",D.id,D.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:m,children:"Activate"}),a.jsx(k.button,{onClick:F=>{F.stopPropagation(),S("delete",D.id,D.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:m,children:"Delete"})]})]})},D.id)):a.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),a.jsx(mG,{isOpen:w,onClose:()=>{v(!1),C(null)},title:"Confirm Action",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",N==null?void 0:N.type,' template "',N==null?void 0:N.templateName,'"?',(N==null?void 0:N.type)==="delete"&&" This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{v(!1),C(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:M,className:`px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm ${(N==null?void 0:N.type)==="delete"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:(N==null?void 0:N.type)==="delete"?"Delete":"Activate"})]})]})}),a.jsx(mG,{isOpen:i,onClose:()=>o(!1),title:"Create New Template",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),a.jsx("input",{type:"text",id:"templateName",value:l,onChange:D=>c(D.target.value),placeholder:"e.g., Production Approval Flow",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),x&&a.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:x}),a.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{o(!1),c(""),y("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),a.jsxs(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:A,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:m||!l.trim(),children:[m?a.jsx(ww,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},pG=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),DUe=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(""),[h,m]=b.useState(""),[p,x]=b.useState(!1),[y,w]=b.useState(null),[v,N]=b.useState(!1),[C,S]=b.useState(null),M=b.useRef(!0),[_]=b.useState(window.innerWidth<768),[A,O]=b.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),D=St(),{getServiceGroups:F,getServiceGroup:L,hasPermission:I}=_t(),P=()=>{const R=!A;O(R),localStorage.setItem("sidebarOpen",JSON.stringify(R))},z=b.useCallback(async()=>{try{r(!0);const W=(await F(0)).map(q=>({id:Number(q.id),name:q.group_name??"",description:q.group_description??void 0}));e(W)}catch(R){S("Failed to load service groups"),console.error("Error loading service groups:",R)}finally{M.current&&r(!1)}},[F]);b.useEffect(()=>(M.current=!0,z(),()=>{M.current=!1}),[z]);const U=async()=>{if(!c.trim()){S("Group Name is required");return}x(!0),S(null);try{if(await new Promise(R=>setTimeout(R,500)),o)e(R=>R.map(W=>W.id===o.id?{...W,name:c.trim(),description:h.trim()||void 0}:W));else{const R={id:t.length>0?Math.max(...t.map(W=>W.id))+1:1,name:c.trim(),description:h.trim()||void 0};e(W=>[...W,R])}i(!1),l(null),d(""),m("")}catch(R){S("Failed to save service group"),console.error("Error saving service group:",R)}finally{x(!1)}},V=R=>{if(!I("manage_users")){S("You don't have permission to delete service groups");return}w(R),N(!0),S(null)},$=async()=>{if(y!==null){x(!0),S(null);try{await new Promise(R=>setTimeout(R,500)),e(R=>R.filter(W=>W.id!==y)),N(!1),w(null)}catch(R){S("Failed to delete service group"),console.error("Error deleting service group:",R)}finally{x(!1)}}};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Service Groups",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(DA,{}),isMobile:_,toggleSidebar:P}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",a.jsx("span",{className:"text-blue-600",children:"Groups"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage service groups used across the service management system."})]}),I("manage_users")&&a.jsxs(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D("/service/servicegroups/addservicegroup"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Group"})]})]}),n?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service groups..."})]}):t.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"text-blue-500 text-4xl mx-auto mb-4",children:a.jsx(DA,{})}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No service groups available."}),I("manage_users")&&a.jsx("button",{onClick:()=>D("/service/servicegroups/"),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Create first group"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Name"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:t.map(R=>a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:R.description||"-"})}),I("manage_users")&&a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>D(`/service/servicegroups/editservicegroup/${R.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(fs,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>V(R.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(Er,{className:"inline text-base"})})]})]},R.id))})]})})}),C&&a.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600 font-medium",children:C})})]})]}),a.jsx(pG,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Service Group":"Add Service Group",className:"max-w-lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Name"}),a.jsx("input",{value:c,onChange:R=>d(R.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Description"}),a.jsx("textarea",{value:h,onChange:R=>m(R.target.value),className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",rows:4})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{i(!1),l(null),d(""),m(""),S(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:U,disabled:p,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:p?"Saving...":"Save"})]}),C&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600 font-medium",children:C})})]})}),a.jsx(pG,{isOpen:v,onClose:()=>N(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx("div",{className:"text-red-500 text-5xl mx-auto animate-pulse",children:a.jsx(Er,{})}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service group? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,disabled:p,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:p?"Deleting...":"Delete"})]})]})})]})};function PUe(t,e){const[n,r]=b.useState(t);return b.useEffect(()=>{const s=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(s)}},[t,e]),n}const aA=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.98},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.98},transition:{duration:.28,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Nv=({title:t,currentCount:e,lastMonthCount:n,icon:r,usePercentage:s=!0})=>{const l=s?((h,m)=>{if(m===0)return h>0?"+100%":"0%";const p=(h-m)/m*100;return`${p>=0?"+":""}${Math.round(p)}%`})(e,n):((h,m)=>{const p=h-m;return`${p>0?"+":p<0?"":"+"}${p}`})(e,n),c=e>=n,d=s?`${l} from last month`:`${l} from last month`;return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsx("p",{className:`mt-3 text-xs font-semibold ${c?"text-green-600":"text-red-600"}`,children:d})]})},RUe=()=>{var le,xe,Me;const t=_t(),[e]=b.useState(()=>{const Z=localStorage.getItem("sidebarOpen");return Z?JSON.parse(Z):!1}),n=St(),[r,s]=b.useState(null),i=Z=>{s(Z),l(!0)},[o,l]=b.useState(!1),[c,d]=b.useState(!1),[h,m]=b.useState(!1),[p,x]=b.useState(!1),[y,w]=b.useState(""),[v,N]=b.useState(!1),[C,S]=b.useState(""),[M,_]=b.useState(""),[A,O]=b.useState(!0),[D,F]=b.useState([]),[L,I]=b.useState([]),[P,z]=b.useState([]),[U,V]=b.useState(!1),[$,R]=b.useState(null),[W,q]=b.useState(!1),[X,H]=b.useState(null),[J,ne]=b.useState(null),[fe,de]=b.useState(!1),we=PUe(y,300),Fe=b.useRef(null),[$e,be]=b.useState(1),Ee=10,[Ge,ae]=b.useState({key:"created_at",direction:"descending"}),[oe,Y]=b.useState(null),[ce,Ie]=b.useState(!1),[We,pe]=b.useState(window.innerWidth<768),Ne=b.useRef(null),st=b.useRef(null),rt=b.useCallback(async()=>{try{const se=(await t.getServiceGroups(0)||[]).map(ke=>ke.group_name||ke.group_description?{id:ke.id,group_name:ke.group_name,group_description:ke.group_description,name:ke.group_name||ke.name}:{id:ke.id,name:ke.name||null});I(se)}catch{I([])}},[t]),Ve=b.useCallback(async()=>{try{const se=(await t.getUsers()||[]).map(ke=>({id:Number(ke.id),name:ke.name}));z(se)}catch{z([])}},[t]),Ue=b.useCallback(Z=>({id:Z.id??0,service_name:Z.service_name??Z.name??"",service_description:Z.service_description??Z.description??"",service_type:Number(Z.service_type??Z.service_type??0),priority:Z.priority??"Low",service_owner:Number(Z.service_owner??Z.service_owner??Z.owner??0),sla:Number(Z.sla??Z.sla??0),impact:Z.impact??"",created_at:Z.created_at??Z.createdAt??new Date().toISOString(),updated_at:Z.updated_at??Z.updatedAt??new Date().toISOString()}),[]),Ye=b.useCallback(async()=>{O(!0),Y(null);try{const se=(await t.getServices(0)||[]).map(Ue);se.sort((ke,Ze)=>ke.created_at<Ze.created_at?1:-1),F(se)}catch{Y("Failed to load service catalogue."),F([])}finally{O(!1)}},[t,Ue]);b.useEffect(()=>{let Z=!0;return Z&&(Ye(),rt(),Ve()),()=>{Z=!1}},[Ye,rt,Ve]),b.useEffect(()=>{const Z=()=>{pe(window.innerWidth<768)};return window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]),b.useEffect(()=>{const Z=se=>{Ne.current&&!Ne.current.contains(se.target)&&x(!1),st.current&&!st.current.contains(se.target)&&m(!1)};return document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[]);const kt=(Z,se)=>{ne({type:Z,message:se}),setTimeout(()=>ne(null),3e3)},Oe=D.length,Xe=b.useMemo(()=>{const Z={Critical:0,High:0,Medium:0,Low:0};return D.forEach(se=>{const ke=se.priority||"Low";Z[ke]=(Z[ke]||0)+1}),Z},[D]),Pt=b.useMemo(()=>{if(D.length===0)return 0;const Z=D.reduce((se,ke)=>se+(ke.sla||0),0);return Math.round(Z/D.length*100)/100},[D]),Se=b.useMemo(()=>{const Z=new Set;return D.forEach(se=>Z.add(se.service_owner)),Z.size},[D]),bt=b.useMemo(()=>{const Z=new Date;return Z.setMonth(Z.getMonth()-1),D.filter(se=>new Date(se.created_at)<Z)},[D]),yt=()=>{S(""),_(""),w("")},Pe=Z=>{let se="ascending";Ge&&Ge.key===Z&&Ge.direction==="ascending"&&(se="descending"),ae({key:Z,direction:se})},mt=async Z=>{if(Z){de(!0);try{const ke=(await Z.text()).split(`
`).map(dt=>dt.trim()).filter(Boolean),Ze=[];for(let dt=0;dt<ke.length;dt++){const Qe=ke[dt].split(",").map(at=>at.trim()),Re={service_name:Qe[1]||`Imported Service ${dt+1}`,service_description:Qe[2]||"",service_type:L[0]?Number(L[0].id):0,priority:Qe[4]||"Low",service_owner:P[0]?P[0].id:0,sla:Number(Qe[6])||24,impact:Qe[7]||""};Ze.push(Re)}for(const dt of Ze)await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(dt)});await Ye(),kt("success",`Imported ${Ze.length} services`)}catch{kt("error","Import failed")}finally{de(!1)}}},ht=Z=>{var ke;const se=((ke=Z.target.files)==null?void 0:ke[0])||null;se&&mt(se),Z.target.value=""},vt=Z=>{H(Z),q(!0)},ie=async()=>{if(X){Ie(!0);try{await t.fetchWithAuth(`/service-catalogues/${X}`,{method:"DELETE"}),await Ye(),q(!1),H(null),kt("success","Service deleted")}catch{kt("error","Failed to delete service")}finally{Ie(!1)}}},ve=b.useMemo(()=>{let Z=[...D];if(we.trim()){const se=we.toLowerCase().trim();Z=Z.filter(ke=>ke.service_name.toLowerCase().includes(se)||(ke.service_description||"").toLowerCase().includes(se))}return C&&(Z=Z.filter(se=>String(se.service_type)===String(C))),M&&(Z=Z.filter(se=>se.priority===M)),Ge&&Z.sort((se,ke)=>{const Ze=se[Ge.key],dt=ke[Ge.key];return Ze<dt?Ge.direction==="ascending"?-1:1:Ze>dt?Ge.direction==="ascending"?1:-1:0}),Z},[D,we,C,M,Ge]),je=Z=>{switch(Z){case"Critical":return"bg-red-500 text-white";case"High":return"bg-orange-500 text-white";case"Medium":return"bg-yellow-500 text-white";case"Low":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},He=$e*Ee,Nt=He-Ee,ge=ve.slice(Nt,He),re=Math.max(1,Math.ceil(ve.length/Ee)),ee=()=>{const[Z,se]=b.useState(($==null?void 0:$.service_name)||""),[ke,Ze]=b.useState(($==null?void 0:$.service_description)||""),[dt,Qe]=b.useState(($==null?void 0:$.service_type)||""),[Re,at]=b.useState(($==null?void 0:$.priority)||"Low"),[gt,Jt]=b.useState(($==null?void 0:$.service_owner)||(P[0]?P[0].id:"")),[Fn,ar]=b.useState(($==null?void 0:$.sla)||24),[Ct,Bt]=b.useState(($==null?void 0:$.impact)||""),[Tt,$n]=b.useState({}),_e=async()=>{if($n({}),!Z.trim()){$n({service_name:"Service Name is required"});return}if(!dt){$n(Be=>({...Be,service_type:"Service Type is required"}));return}if(!Re){$n(Be=>({...Be,priority:"Priority is required"}));return}if(isNaN(Number(Fn))){$n(Be=>({...Be,sla:"SLA must be a number"}));return}Ie(!0);try{const Be={service_name:Z.trim(),service_description:ke.trim(),service_type:Number(dt),priority:Re,service_owner:Number(gt)||0,sla:Number(Fn)||0,impact:Ct.trim()};$?(await t.fetchWithAuth(`/service-catalogues/${$.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Be)}),kt("success","Service updated")):(await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Be)}),kt("success","Service created")),await Ye(),V(!1)}catch{kt("error","Save failed")}finally{Ie(!1)}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Name *"}),a.jsx("input",{value:Z,onChange:Be=>se(Be.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),Tt.service_name&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Tt.service_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Description"}),a.jsx("textarea",{value:ke,onChange:Be=>Ze(Be.target.value),rows:3,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type *"}),a.jsxs("select",{value:dt,onChange:Be=>Qe(Be.target.value?Number(Be.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"",children:"-- Select Group --"}),L.map(Be=>a.jsx("option",{value:String(Be.id),children:Be.group_name??Be.name??String(Be.id)},String(Be.id)))]}),Tt.service_type&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Tt.service_type})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority *"}),a.jsxs("select",{value:Re,onChange:Be=>at(Be.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]}),Tt.priority&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Tt.priority})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SLA (hours) *"}),a.jsx("input",{type:"number",value:Fn,onChange:Be=>ar(Number(Be.target.value)),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),Tt.sla&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Tt.sla})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Owner"}),a.jsxs("select",{value:gt,onChange:Be=>Jt(Be.target.value?Number(Be.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"",children:"-- Select Owner --"}),P.map(Be=>a.jsx("option",{value:Be.id,children:Be.name},Be.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Impact"}),a.jsx("textarea",{value:Ct,onChange:Be=>Bt(Be.target.value),rows:2,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100 mt-3",children:[a.jsx(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>V(!1),className:"px-5 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:_e,disabled:ce,className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:ce?"Saving...":"Save"})]})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[We&&a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsxs(k.div,{className:"flex items-center space-x-3",children:[a.jsx(k.div,{className:"text-xl text-blue-600",children:a.jsx(DA,{})}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Service Catalogue"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!c),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":"Toggle theme",children:c?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:Ne,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(Z=>!Z),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:p&&a.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),a.jsx("div",{className:"p-4 text-sm text-gray-600",children:"No new notifications"})]})})]}),a.jsxs("div",{className:"relative",ref:st,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239,246,255,0.7)"},whileTap:{scale:.98},onClick:()=>m(Z=>!Z),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:"https://api.dicebear.com/7.x/initials/svg?seed=Service&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50",alt:"avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:"Admin"}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:h&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:"Admin"}),a.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",a.jsx("span",{className:"text-blue-600",children:"Catalogue"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Browse and manage the list of available services."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(k.button,{onClick:()=>n("/services/servicecatalogues/addservicecatalogue"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Service"})]}),a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"file",accept:".csv",onChange:ht,className:"hidden"}),a.jsxs(k.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-base"}),a.jsx("span",{children:fe?"Importing...":"Import"})]})]}),a.jsxs(k.button,{onClick:()=>N(Z=>!Z),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(k.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Nv,{title:"Total Services",currentCount:Oe,lastMonthCount:bt.length,icon:a.jsx(Ts,{})}),a.jsx(Nv,{title:"Critical",currentCount:Xe.Critical,lastMonthCount:bt.filter(Z=>Z.priority==="Critical").length,icon:a.jsx(Ts,{}),usePercentage:!1}),a.jsx(Nv,{title:"Average SLA (hrs)",currentCount:Pt,lastMonthCount:bt.length>0?Math.round(bt.reduce((Z,se)=>Z+(se.sla||0),0)/bt.length*100)/100:0,icon:a.jsx(Ts,{}),usePercentage:!1}),a.jsx(Nv,{title:"Total Owners",currentCount:Se,lastMonthCount:new Set(bt.map(Z=>Z.service_owner)).size,icon:a.jsx(Rn,{}),usePercentage:!1})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05},children:[a.jsx("div",{className:"mb-4 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:Fe,value:y,onChange:Z=>w(Z.target.value),placeholder:"Search services by name or description...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200"})]}),a.jsx(qe,{children:v&&a.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[a.jsxs("select",{value:C,onChange:Z=>S(Z.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[a.jsx("option",{value:"",children:"All Groups"}),L.map(Z=>a.jsx("option",{value:String(Z.id),children:Z.group_name??Z.name??String(Z.id)},String(Z.id)))]}),a.jsxs("select",{value:M,onChange:Z=>_(Z.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[a.jsx("option",{value:"",children:"All Priorities"}),a.jsx("option",{value:"Critical",children:"Critical"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]})})]})}),A?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service catalogue..."})]}):oe?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 text-center border border-yellow-100",children:[a.jsx(Ts,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:oe}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:Ye,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Retry"})})]}):ve.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Ts,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:we||C||M?"No services found matching your filters.":"No services available."}),(we||C||M)&&a.jsx("button",{onClick:yt,className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",onClick:()=>Pe("service_name"),children:"Service Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Owner"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"SLA (hrs)"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Impact"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ge.map((Z,se)=>{var dt,Qe,Re;const ke=((dt=P.find(at=>at.id===Number(Z.service_owner)))==null?void 0:dt.name)??String(Z.service_owner),Ze=((Qe=L.find(at=>String(at.id)===String(Z.service_type)))==null?void 0:Qe.group_name)??((Re=L.find(at=>String(at.id)===String(Z.service_type)))==null?void 0:Re.name)??String(Z.service_type);return a.jsxs(k.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Nt+se+1}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:Z.service_name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Ze}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${je(Z.priority)} shadow-sm`,children:Z.priority})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:ke}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Z.sla}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Z.impact||"-"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(Z),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(ns,{className:"text-lg"})}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(`/services/servicecatalogues/editservicecatalogue/${Z.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit",children:a.jsx(fs,{className:"text-lg"})}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>vt(Z.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Delete",children:a.jsx(Er,{className:"text-lg"})})]})]},Z.id)})})]})})}),ve.length>Ee&&a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Nt+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(He,ve.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:ve.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(Z=>Math.max(1,Z-1)),disabled:$e===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:re},(Z,se)=>a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(se+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${$e===se+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:se+1},se+1)),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(Z=>Math.min(re,Z+1)),disabled:$e===re,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]})]}),a.jsx(aA,{isOpen:U,onClose:()=>V(!1),title:$?"Edit Service":"Add Service",className:"max-w-3xl",children:a.jsx(ee,{})}),a.jsx(aA,{isOpen:W,onClose:()=>q(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Ts,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>q(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ie,disabled:ce,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:"Delete"})]})]})}),a.jsx(aA,{isOpen:o,onClose:()=>l(!1),title:"Service Details",className:"max-w-4xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200",children:"General Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Service Name"}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:r.service_name})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Service Type"}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:((le=L.find(Z=>String(Z.id)===String(r.service_type)))==null?void 0:le.group_name)??((xe=L.find(Z=>String(Z.id)===String(r.service_type)))==null?void 0:xe.name)??r.service_type})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Priority"}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-base font-medium min-h-[44px] flex items-center",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${je(r.priority)} shadow-sm`,children:r.priority})})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200",children:"Service Details"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Description"}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:r.service_description||"-"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Service Owner"}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:((Me=P.find(Z=>Z.id===Number(r.service_owner)))==null?void 0:Me.name)??r.service_owner})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"SLA (hours)"}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:r.sla})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200",children:"Additional Information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Impact"}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:r.impact||"-"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created At"}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:new Date(r.created_at).toLocaleString()})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Updated At"}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:new Date(r.updated_at).toLocaleString()})]})]})]})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(k.button,{type:"button",onClick:()=>l(!1),whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close"})})]})}),J&&a.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:a.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:`px-5 py-3 rounded-lg shadow-md ${J.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:J.message})})]})},LUe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,IUe=()=>{const t=_t(),{addServiceGroup:e}=t,n=St(),[r,s]=b.useState(""),[i,o]=b.useState(""),[l,c]=b.useState(!1),[d,h]=b.useState(null),[m,p]=b.useState(!1),x=()=>{n("/servicegroups")},y=async v=>{if(v.preventDefault(),h(null),!r.trim()){h("Group Name is required");return}c(!0);try{await e({group_name:r.trim(),group_description:i.trim()||null}),p(!0)}catch(N){const C=N instanceof Error?N.message:"Failed to save service group";h(C)}finally{c(!1)}},w=()=>{p(!1),n("/servicegroups")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(k.button,{onClick:x,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back to Service Groups"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Add Service Group"})]})}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Service Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service group to categorize services."})]}),a.jsxs(k.button,{onClick:()=>n("/servicegroups"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[d&&a.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-semibold",children:"Error: "}),a.jsx("span",{className:"ml-2",children:d})]}),a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"group_name",value:r,onChange:v=>s(v.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),a.jsx("textarea",{name:"group_description",value:i,onChange:v=>o(v.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(k.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>n("/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:l,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:l?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"}),"Save"]})})]})]})]})]})]}),a.jsx(LUe,{isOpen:m,onClose:w,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been created successfully."}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:w,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},FUe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,$Ue=()=>{const e=Ks().id,n=St(),r=_t(),{getServiceGroup:s,updateServiceGroup:i}=r,[o,l]=b.useState(""),[c,d]=b.useState(""),[h,m]=b.useState(!1),[p,x]=b.useState(!0),[y,w]=b.useState(null),[v,N]=b.useState(!1);b.useEffect(()=>{let _=!0;return(async()=>{x(!0),w(null);try{if(!e){w("Missing service group id");return}const O=await s(e);if(!_)return;l(String(O.group_name??"")),d(String(O.group_description??"")||"")}catch(O){const D=O instanceof Error?O.message:"Failed to load service group";w(D)}finally{_&&x(!1)}})(),()=>{_=!1}},[s,e]);const C=()=>{n("/servicegroups")},S=async _=>{if(_.preventDefault(),w(null),!o.trim()){w("Group Name is required");return}m(!0);try{const A=Number(e);await i(A,{group_name:o.trim(),group_description:c.trim()||null}),N(!0)}catch(A){const O=A instanceof Error?A.message:"Failed to update service group";w(O)}finally{m(!1)}},M=()=>{N(!1),n("/servicegroups")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(k.button,{onClick:C,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back to Service Groups"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Edit Service Group"})]})}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update the service group details below."})]})}),a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:p?a.jsxs("div",{className:"text-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading service group..."})]}):a.jsxs(a.Fragment,{children:[y&&a.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-semibold",children:"Error: "}),a.jsx("span",{className:"ml-2",children:y})]}),a.jsxs("form",{onSubmit:S,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"group_name",value:o,onChange:_=>l(_.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),a.jsx("textarea",{name:"group_description",value:c,onChange:_=>d(_.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(k.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>n("/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:h,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:h?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"}),"Save Changes"]})})]})]})]})})]})]}),a.jsx(FUe,{isOpen:v,onClose:M,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been updated successfully."}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:M,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},HUe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,zUe=()=>{const{id:t}=Ks(),{updateServiceCatalogue:e,getServiceGroups:n,getUsers:r,fetchWithAuth:s}=_t(),i=St(),[o,l]=b.useState(!1),[c,d]=b.useState(!0),[h,m]=b.useState(null),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v,N]=b.useState([]),[C,S]=b.useState([]),[M,_]=b.useState({service_name:"",service_description:"",service_type:"",priority:"Low",service_owner:"",sla:24,impact:""}),A=b.useCallback(async()=>{try{const[L,I,P]=await Promise.all([s(`/service-catalogues/${t}`),n(0),r()]),z=L.data||L;N(I),S(P),z&&_({service_name:z.service_name||"",service_description:z.service_description||"",service_type:String(z.service_type||""),priority:z.priority||"Low",service_owner:String(z.service_owner||""),sla:z.sla?parseFloat(z.sla):24,impact:z.impact||""})}catch(L){m(L.message||"Failed to load service data")}finally{d(!1)}},[t,s,n,r]);b.useEffect(()=>{t&&A()},[t,A]);const O=L=>{const{name:I,value:P}=L.target;_(z=>({...z,[I]:I==="sla"?Number(P):P}))},D=async L=>{if(L.preventDefault(),l(!0),m(null),!M.service_name||!M.service_type||!M.priority||!M.service_owner||!M.sla){m("Please fill all required fields"),l(!1);return}try{const I={service_name:M.service_name,service_description:M.service_description,service_type:Number(M.service_type),priority:M.priority,service_owner:Number(M.service_owner),sla:M.sla,impact:M.impact};await e(t,I),x("Service Catalogue updated successfully!"),w(!0)}catch(I){m(I.message||"Failed to update Service Catalogue")}finally{l(!1)}},F=()=>{w(!1),i("/services/servicecatalogues")};return c?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500"})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(k.button,{onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back to Service Catalogue"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Edit Service Catalogue"})]})}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Catalogue"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update service details"})]}),a.jsxs(k.button,{onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"service_name",id:"service_name",value:M.service_name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_type",id:"service_type",value:M.service_type,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Type"}),v.map(L=>a.jsx("option",{value:L.id,children:L.group_name||L.name},L.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"priority",id:"priority",value:M.priority,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_owner",id:"service_owner",value:M.service_owner,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Owner"}),C.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"sla",id:"sla",value:M.sla,onChange:O,min:"1",step:"0.01",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),a.jsx("input",{type:"text",name:"impact",id:"impact",value:M.impact,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),a.jsx("textarea",{name:"service_description",id:"service_description",value:M.service_description,onChange:O,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Update Service"]})})]})]})]})]})]}),a.jsx(HUe,{isOpen:y,onClose:F,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},BUe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,VUe=()=>{const{addServiceCatalogue:t,getServiceGroups:e,getUsers:n}=_t(),r=St(),[s,i]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(null),[h,m]=b.useState(!1),[p,x]=b.useState([]),[y,w]=b.useState([]),[v,N]=b.useState({service_name:"",service_description:"",service_type:"",priority:"Low",service_owner:"",sla:24,impact:""}),C=b.useCallback(async()=>{try{const[A,O]=await Promise.all([e(0),n()]);x(A),w(O)}catch(A){l(A.message||"Failed to load form data")}},[e,n]);b.useEffect(()=>{C()},[C]);const S=A=>{const{name:O,value:D}=A.target;N(F=>({...F,[O]:O==="sla"?Number(D):D}))},M=async A=>{if(A.preventDefault(),i(!0),l(null),!v.service_name||!v.service_type||!v.priority||!v.service_owner||!v.sla){l("Please fill all required fields"),i(!1);return}try{const O={service_name:v.service_name,service_description:v.service_description,service_type:Number(v.service_type),priority:v.priority,service_owner:Number(v.service_owner),sla:v.sla,impact:v.impact};await t(O),d("Service Catalogue created successfully!"),m(!0)}catch(O){l(O.message||"Failed to create Service Catalogue")}finally{i(!1)}},_=()=>{m(!1),r("/servicecatalogue")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(k.button,{onClick:()=>r("/servicecatalogue"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back to Service Catalogue"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Add Service Catalogue"})]})}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Service Catalogue"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service to the catalogue"})]}),a.jsxs(k.button,{onClick:()=>r("/servicecatalogue"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[o&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:o}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>l(null)})})]}),a.jsxs("form",{onSubmit:M,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"service_name",id:"service_name",value:v.service_name,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_type",id:"service_type",value:v.service_type,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Type"}),p.map(A=>a.jsx("option",{value:A.id,children:A.group_name||A.name},A.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"priority",id:"priority",value:v.priority,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_owner",id:"service_owner",value:v.service_owner,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Owner"}),y.map(A=>a.jsx("option",{value:A.id,children:A.name},A.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"sla",id:"sla",value:v.sla,onChange:S,min:"1",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),a.jsx("input",{type:"text",name:"impact",id:"impact",value:v.impact,onChange:S,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),a.jsx("textarea",{name:"service_description",id:"service_description",value:v.service_description,onChange:S,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>r("/servicecatalogue"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(BUe,{isOpen:h,onClose:_,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:c}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:_,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},WUe=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Sv=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},UUe=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),{getDepartment:s,getUsers:i,deleteDepartment:o}=_t(),[l,c]=b.useState(!0),[d,h]=b.useState(null),[m,p]=b.useState(""),[x,y]=b.useState(!1),[w,v]=b.useState(null),[N,C]=b.useState(!1),[S]=b.useState(window.innerWidth<768),[M,_]=b.useState(()=>{const X=localStorage.getItem("sidebarOpen");return X?JSON.parse(X):!1}),A=St(),O=b.useRef(null),[D,F]=b.useState(!1),L=b.useMemo(()=>[{id:"department",name:"Department"},{id:"head",name:"Head"}],[]),I=b.useCallback(async()=>{try{c(!0);const X=await s(),H=await i(),J=[...X].sort((ne,fe)=>ne.id-fe.id);e(J),r(H)}catch(X){h("Failed to load departments"),console.error("Error loading departments:",X)}finally{c(!1)}},[s,i]);b.useEffect(()=>{I()},[I]);const P=()=>{const X=!M;_(X),localStorage.setItem("sidebarOpen",JSON.stringify(X))},z=()=>{alert("Import functionality is not yet implemented.")},U=X=>{const H=X.target.value;p(H)},V=b.useMemo(()=>{if(!m)return L;const X=m.toLowerCase();return L.filter(H=>H.name.toLowerCase().includes(X))},[m,L]),$=X=>{var H;p(`${X}: `),F(!1),(H=O.current)==null||H.focus()},R=b.useMemo(()=>{if(!m.trim())return t;const X=m.toLowerCase().trim(),H=X.split(":");let J="all",ne=X;return H.length>1&&L.some(fe=>fe.name.toLowerCase()===H[0].trim())&&(J=H[0].trim(),ne=H.slice(1).join(":").trim()),t.filter(fe=>{var Fe,$e,be;const de=(Fe=fe.name)==null?void 0:Fe.toLowerCase().includes(ne),we=(be=($e=fe.head)==null?void 0:$e.name)==null?void 0:be.toLowerCase().includes(ne);return J==="department"?de:J==="head"?we:de||we})},[t,m,L]),W=async X=>{try{await o(X),e(t.filter(H=>H.id!==X)),y(!1),v(null)}catch(H){console.error("Failed to delete department:",H),h("Failed to delete department. Please try again.")}},q=b.useCallback(X=>{v(X),y(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Departments",mainTitleHighlight:"Page",description:"Manage departments and their configurations within the system.",icon:a.jsx(qu,{}),isMobile:S,toggleSidebar:P}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Departments ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage departments by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(k.button,{onClick:()=>A("/worklocation/department/adddepartment"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Department"})]}),a.jsxs(k.button,{onClick:z,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(k.button,{onClick:()=>C(!N),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(k.span,{animate:{rotate:N?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Sv,{title:"Total Departments",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(qu,{className:"w-6 h-6"})}),a.jsx(Sv,{title:"Head Departments",value:t.filter(X=>X.head_id!==null).length.toString(),change:`+${Math.floor(t.filter(X=>X.head_id!==null).length/t.length*100)}%`,icon:a.jsx(Rn,{className:"w-6 h-6"})}),a.jsx(Sv,{title:"Departments with Email",value:t.filter(X=>{var H;return(H=X.head)==null?void 0:H.email}).length.toString(),change:`+${Math.floor(t.filter(X=>{var H;return(H=X.head)==null?void 0:H.email}).length/t.length*100)}%`,icon:a.jsx(PK,{className:"w-6 h-6"})}),a.jsx(Sv,{title:"Total Employees",value:n.length.toString(),change:`+${Math.floor(n.length/50*100)}%`,icon:a.jsx(ja,{className:"w-6 h-6"})})]}),a.jsxs(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by department or head...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:m,onChange:U,onFocus:()=>F(!0),"aria-label":"Search departments"}),a.jsx(qe,{children:D&&V.length>0&&a.jsx(k.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:V.map(X=>a.jsx(k.button,{onClick:()=>$(X.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:X.name})},X.id))})})]})}),a.jsx(qe,{children:N&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),l?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading department data..."})]}):R.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:m?"No departments found matching your search.":"No departments available."}),m&&a.jsx("button",{onClick:()=>p(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Head Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email Head Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:R.map(X=>{var H,J;return a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.name})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:((H=X.head)==null?void 0:H.name)||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:((J=X.head)==null?void 0:J.email)||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>A(`/worklocation/department/editdepartment/${X.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(fs,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(X.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(Er,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>A(`/worklocation/department/view/${X.id}`),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:a.jsx(ns,{className:"inline text-base"})})]})]},X.id)})})]})})})]})]}),a.jsx(WUe,{isOpen:x,onClose:()=>y(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this department? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>y(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w&&W(w),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},qUe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,GUe=()=>{const[t,e]=b.useState(window.innerWidth<768),[n,r]=b.useState([]),[s,i]=b.useState([]),{addDepartment:o,getUsers:l}=_t(),[c,d]=b.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=b.useState(null),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v,N]=b.useState(!1),C=St(),[S,M]=b.useState({name:"",head_id:0}),_=()=>{d(L=>!L)},A=L=>{const{name:I,value:P}=L.target;M(z=>({...z,[I]:I==="sla"?Number(P):P}))},O=b.useCallback(async()=>{try{const[L]=await Promise.all([l()]);r(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);b.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,head_id:S.head_id};await o(I),x("Service Catalogue created successfully!"),w(!0)}catch(I){m(I.message||"Failed to create Service Catalogue")}finally{N(!1)}};b.useCallback(L=>{if(!L)return;const I=parseInt(L.value),P=n.find(z=>parseInt(z.id)===I);if(P){const z=s.find(U=>U.id===P.department_id);M(U=>({...U,id:I,department_id:P.department_id||0,known_by_id:(z==null?void 0:z.head_id)||null}))}},[n,s]);const F=()=>{w(!1),C("/worklocation/department")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Add Department",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(qu,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Department and Head"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Department and Head information"})]}),a.jsxs(k.button,{onClick:()=>C("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"head_id",id:"head_id",value:S.head_id,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Head Department"}),n.map(L=>a.jsx("option",{value:L.id,children:L.name||L.name},L.id))]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>C("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(qUe,{isOpen:y,onClose:F,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},YUe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,KUe=()=>{const{id:t}=Ks(),[e,n]=b.useState(window.innerWidth<768),[r,s]=b.useState([]),[i,o]=b.useState(),{addDepartment:l,getUsers:c,updateDepartment:d,getDepartmentById:h}=_t(),[m,p]=b.useState(()=>{const z=localStorage.getItem("sidebarOpen");return z?JSON.parse(z):!1}),[x,y]=b.useState(null),[w,v]=b.useState(null),[N,C]=b.useState(!1),[S,M]=b.useState(!1),_=St(),[A,O]=b.useState({name:"",head_id:0}),D=()=>{p(z=>!z)};b.useEffect(()=>{i&&O({name:i.name||"",head_id:i.head_id||0})},[i]);const F=z=>{const{name:U,value:V}=z.target;O($=>({...$,[U]:U==="sla"?Number(V):V}))},L=b.useCallback(async()=>{try{if(t){const[z,U]=await Promise.all([h(t),c()]);o(z),s(U)}}catch(z){y(z.message||"Failed to load form data")}},[t,h,c]);b.useEffect(()=>{t&&L()},[t,L]);const I=async z=>{z.preventDefault(),M(!0),y(null);try{const U={name:A.name,head_id:A.head_id};await d(t,U),v("Service Catalogue created successfully!"),C(!0)}catch(U){y(U.message||"Failed to create Service Catalogue")}finally{M(!1)}},P=()=>{C(!1),_("/worklocation/department")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Edit Department",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(qu,{}),isMobile:e,toggleSidebar:D}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Department and Head"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Department and Head information"})]}),a.jsxs(k.button,{onClick:()=>_("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[x&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:x}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:A.name,onChange:F,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"head_id",id:"head_id",value:A.head_id,onChange:F,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Head Department"}),r.map(z=>a.jsx("option",{value:z.id,children:z.name||z.name},z.id))]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>_("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:S,children:S?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(YUe,{isOpen:N,onClose:P,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:P,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},XUe=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),gG=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},JUe=()=>{const[t,e]=b.useState([]),{getStopTimes:n,deleteStopTimes:r}=_t(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[h,m]=b.useState(!1),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v]=b.useState(window.innerWidth<768),[N,C]=b.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),S=St(),M=b.useRef(null),[_,A]=b.useState(!1),O=b.useMemo(()=>[{id:"stoptime",name:"Stop Time"},{id:"description",name:"Description"}],[]),D=b.useCallback(async()=>{try{i(!0);const W=[...await n()].sort((q,X)=>q.id-X.id);e(W)}catch(R){l("Failed to load stop times"),console.error("Error loading stop times:",R)}finally{i(!1)}},[n]);b.useEffect(()=>{D()},[D]);const F=()=>{const R=!N;C(R),localStorage.setItem("sidebarOpen",JSON.stringify(R))},L=()=>{alert("Import functionality is not yet implemented.")},I=R=>{const W=R.target.value;d(W)},P=b.useMemo(()=>{if(!c)return O;const R=c.toLowerCase();return O.filter(W=>W.name.toLowerCase().includes(R))},[c,O]),z=R=>{var W;d(`${R}: `),A(!1),(W=M.current)==null||W.focus()},U=b.useMemo(()=>{if(!c.trim())return t;const R=c.toLowerCase().trim(),W=R.split(":");let q="all",X=R;return W.length>1&&O.some(H=>H.name.toLowerCase()===W[0].trim())&&(q=W[0].trim(),X=W.slice(1).join(":").trim()),t.filter(H=>{var fe,de;const J=(fe=H.name)==null?void 0:fe.toLowerCase().includes(X),ne=(de=H.description)==null?void 0:de.toLowerCase().includes(X);return q==="stop time"?J:q==="description"?ne:J||ne})},[t,c,O]),V=async R=>{try{await r(R),e(t.filter(W=>W.id!==R)),m(!1),x(null)}catch(W){console.error("Failed to delete stop time:",W),l("Failed to delete stop time. Please try again.")}},$=b.useCallback(R=>{x(R),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Stop Times",mainTitleHighlight:"Page",description:"Manage stop times and their configurations within the system.",icon:a.jsx(Sn,{}),isMobile:v,toggleSidebar:F}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Stop Times ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage stop times by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(k.button,{onClick:()=>S("/maintenanceactivity/stoptimes/addstoptime"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Stop Time"})]}),a.jsxs(k.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(k.button,{onClick:()=>w(!y),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(k.span,{animate:{rotate:y?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(gG,{title:"Total Stop Times",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Sn,{className:"w-6 h-6"})}),a.jsx(gG,{title:"Active Times",value:t.filter(R=>R.description&&R.description.length>0).length.toString(),change:`+${Math.floor(t.filter(R=>R.description&&R.description.length>0).length/t.length*100)}%`,icon:a.jsx(Sn,{className:"w-6 h-6"})})]}),a.jsxs(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:M,type:"text",placeholder:"Search by stop time or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search stop times"}),a.jsx(qe,{children:_&&P.length>0&&a.jsx(k.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:P.map(R=>a.jsx(k.button,{onClick:()=>z(R.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:R.name})},R.id))})})]})}),a.jsx(qe,{children:y&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading stop time data..."})]}):U.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No stop times found matching your search.":"No stop times available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stop Time"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:U.map(R=>a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/stoptimes/editstoptime/${R.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(fs,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>$(R.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(Er,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/stoptimes/view/${R.id}`),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:a.jsx(ns,{className:"inline text-base"})})]})]},R.id))})]})})})]})]}),a.jsx(XUe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this stop time? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&V(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},QUe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,ZUe=()=>{const[t,e]=b.useState(window.innerWidth<768),[n,r]=b.useState([]),[s,i]=b.useState([]),{addStopTimes:o,getStopTimes:l}=_t(),[c,d]=b.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=b.useState(null),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v,N]=b.useState(!1),C=St(),[S,M]=b.useState({name:"",description:""}),_=()=>{d(L=>!L)},A=L=>{const{name:I,value:P}=L.target;M(z=>({...z,[I]:I==="sla"?Number(P):P}))},O=b.useCallback(async()=>{try{const[L]=await Promise.all([l()]);r(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);b.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,description:S.description};await o(I),x("Stop Time created successfully!"),w(!0)}catch(I){m(I.message||"Failed to create Stop Time")}finally{N(!1)}},F=()=>{w(!1),C("/maintenanceactivity/stoptimes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Create Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Sn,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Stop Times"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Stop Times information"})]}),a.jsxs(k.button,{onClick:()=>C("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Stop Times Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>C("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(QUe,{isOpen:y,onClose:F,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},eqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,tqe=()=>{const{id:t}=Ks(),[e,n]=b.useState(window.innerWidth<768),[r,s]=b.useState([]),[i,o]=b.useState(),{getStopTimes:l,updateStopTimes:c,getStopTimesById:d}=_t(),[h,m]=b.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),[p,x]=b.useState(null),[y,w]=b.useState(null),[v,N]=b.useState(!1),[C,S]=b.useState(!1),M=St(),[_,A]=b.useState({name:"",description:""}),O=()=>{m(P=>!P)};b.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const D=P=>{const{name:z,value:U}=P.target;A(V=>({...V,[z]:z==="sla"?Number(U):U}))},F=b.useCallback(async()=>{try{if(t){const[P]=await Promise.all([d(t)]);o(P)}}catch(P){x(P.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&F()},[t,F]);const L=async P=>{P.preventDefault(),S(!0),x(null);try{const z={name:_.name,description:_.description};await c(t,z),w("Stop Time update successfully!"),N(!0)}catch(z){x(z.message||"Failed to update Stop Time")}finally{S(!1)}},I=()=>{N(!1),M("/maintenanceactivity/stoptimes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Edit Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Sn,{}),isMobile:e,toggleSidebar:O}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Stop Times"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Stop Timesinformation"})]}),a.jsxs(k.button,{onClick:()=>M("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Stop Times Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>x(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>M("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(eqe,{isOpen:v,onClose:I,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:y}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},nqe=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),xG=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},rqe=()=>{const[t,e]=b.useState([]),{getActivityTypes:n,deleteActivityTypes:r}=_t(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[h,m]=b.useState(!1),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v]=b.useState(window.innerWidth<768),[N,C]=b.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),S=St(),M=b.useRef(null),[_,A]=b.useState(!1),O=b.useMemo(()=>[{id:"activitytype",name:"Activity Type"}],[]),D=b.useCallback(async()=>{try{i(!0);const W=[...await n()].sort((q,X)=>q.id-X.id);e(W)}catch(R){l("Failed to load activity types"),console.error("Error loading activity types:",R)}finally{i(!1)}},[n]);b.useEffect(()=>{D()},[D]);const F=()=>{const R=!N;C(R),localStorage.setItem("sidebarOpen",JSON.stringify(R))},L=()=>{alert("Import functionality is not yet implemented.")},I=R=>{const W=R.target.value;d(W)},P=b.useMemo(()=>{if(!c)return O;const R=c.toLowerCase();return O.filter(W=>W.name.toLowerCase().includes(R))},[c,O]),z=R=>{var W;d(`${R}: `),A(!1),(W=M.current)==null||W.focus()},U=b.useMemo(()=>{if(!c.trim())return t;const R=c.toLowerCase().trim(),W=R.split(":");let q="all",X=R;return W.length>1&&O.some(H=>H.name.toLowerCase()===W[0].trim())&&(q=W[0].trim(),X=W.slice(1).join(":").trim()),t.filter(H=>{var ne;const J=(ne=H.name)==null?void 0:ne.toLowerCase().includes(X);return J})},[t,c,O]),V=async R=>{try{await r(R),e(t.filter(W=>W.id!==R)),m(!1),x(null)}catch(W){console.error("Failed to delete activity type:",W),l("Failed to delete activity type. Please try again.")}},$=b.useCallback(R=>{x(R),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Activity Types",mainTitleHighlight:"Page",description:"Manage activity types and their configurations within the system.",icon:a.jsx(Iv,{}),isMobile:v,toggleSidebar:F}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity Types ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activity types by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(k.button,{onClick:()=>S("/maintenanceactivity/activitytypes/addactivitytype"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Activity Type"})]}),a.jsxs(k.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(k.button,{onClick:()=>w(!y),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(k.span,{animate:{rotate:y?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(xG,{title:"Total Activity Types",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Iv,{className:"w-6 h-6"})}),a.jsx(xG,{title:"Active Types",value:t.filter(R=>R.name&&R.name.length>0).length.toString(),change:`+${Math.floor(t.filter(R=>R.name&&R.name.length>0).length/t.length*100)}%`,icon:a.jsx(Iv,{className:"w-6 h-6"})})]}),a.jsxs(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:M,type:"text",placeholder:"Search by activity type...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search activity types"}),a.jsx(qe,{children:_&&P.length>0&&a.jsx(k.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:P.map(R=>a.jsx(k.button,{onClick:()=>z(R.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:R.name})},R.id))})})]})}),a.jsx(qe,{children:y&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity type data..."})]}):U.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activity types found matching your search.":"No activity types available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity Type"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:U.map(R=>a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activitytypes/editactivitytype/${R.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(fs,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>$(R.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(Er,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activitytypes/view/${R.id}`),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:a.jsx(ns,{className:"inline text-base"})})]})]},R.id))})]})})})]})]}),a.jsx(nqe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity type? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&V(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},sqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,bG=()=>{const[t,e]=b.useState(window.innerWidth<768),[n,r]=b.useState([]),[s,i]=b.useState([]),{addActivityTypes:o,getActivityTypes:l}=_t(),[c,d]=b.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=b.useState(null),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v,N]=b.useState(!1),C=St(),[S,M]=b.useState({name:""}),_=()=>{d(L=>!L)},A=L=>{const{name:I,value:P}=L.target;M(z=>({...z,[I]:I==="sla"?Number(P):P}))},O=b.useCallback(async()=>{try{const[L]=await Promise.all([l()]);r(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);b.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name};await o(I),x("Activity Type created successfully!"),w(!0)}catch(I){m(I.message||"Failed to create Activity Type")}finally{N(!1)}},F=()=>{w(!1),C("/maintenanceactivity/activitytypes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Create Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Wj,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity Type"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity Type information"})]}),a.jsxs(k.button,{onClick:()=>C("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Activity Types Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Types Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>C("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(sqe,{isOpen:y,onClose:F,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},aqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,iqe=()=>{const{id:t}=Ks(),[e,n]=b.useState(window.innerWidth<768),[r,s]=b.useState([]),[i,o]=b.useState(),{getActivityTypes:l,updateActivityTypes:c,getActivityTypesById:d}=_t(),[h,m]=b.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),[p,x]=b.useState(null),[y,w]=b.useState(null),[v,N]=b.useState(!1),[C,S]=b.useState(!1),M=St(),[_,A]=b.useState({name:""}),O=()=>{m(P=>!P)};b.useEffect(()=>{i&&A({name:i.name||""})},[i]);const D=P=>{const{name:z,value:U}=P.target;A(V=>({...V,[z]:z==="sla"?Number(U):U}))},F=b.useCallback(async()=>{try{if(t){const[P]=await Promise.all([d(t)]);o(P)}}catch(P){x(P.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&F()},[t,F]);const L=async P=>{P.preventDefault(),S(!0),x(null);try{const z={name:_.name};await c(t,z),w("Activity Type update successfully!"),N(!0)}catch(z){x(z.message||"Failed to update Activity Type")}finally{S(!1)}},I=()=>{N(!1),M("/maintenanceactivity/activitytypes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Edit Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Wj,{}),isMobile:e,toggleSidebar:O}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity Type"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity Type information"})]}),a.jsxs(k.button,{onClick:()=>M("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Stop Times Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>x(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Type Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>M("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(aqe,{isOpen:v,onClose:I,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:y}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},kv=({title:t,currentCount:e,lastMonthCount:n,icon:r,usePercentage:s=!0})=>{const i=s?oqe(e,n):lqe(e,n),o=e>=n,l=s?`${i} from last month`:`${i} from last month`;return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsx("p",{className:`mt-3 text-xs font-semibold ${o?"text-green-600":"text-red-600"}`,children:l})]})},oqe=(t,e)=>{if(e===0)return t>0?"+100%":"0%";const n=(t-e)/e*100;return`${n>=0?"+":""}${Math.round(n)}%`},lqe=(t,e)=>{const n=t-e;return`${n>0?"+":n<0?"":"+"}${n}`},cqe=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState(!1),[h,m]=b.useState(!1),[p,x]=b.useState(null),[y,w]=b.useState(null),[v,N]=b.useState(!1),[C,S]=b.useState(null),[M,_]=b.useState(1),[A]=b.useState(5),[O,D]=b.useState(window.innerWidth<768),[F,L]=b.useState(!1),[I,P]=b.useState(!1),[z,U]=b.useState([]),[V,$]=b.useState([]),[R,W]=b.useState(!0),[q,X]=b.useState(null),[H,J]=b.useState(null),[ne,fe]=b.useState([]),[de,we]=b.useState(!1),[Fe,$e]=b.useState(!1),[be,Ee]=b.useState(null),[Ge,ae]=b.useState(null),{user:oe,getWorkOrdersIT:Y,deleteWorkOrder:ce,hasPermission:Ie,fetchWithAuth:We,getVendor:pe}=_t(),Ne=St(),st=Yr(),rt=b.useRef(null),Ve=b.useRef(null);st.pathname,st.pathname;const Ue=st.pathname==="/workorders/it";st.pathname;const Ye=st.pathname==="/workorders/it/assignment",kt=st.pathname==="/workorders/it/receiver",Oe=st.pathname==="/workorders/it/reports",Xe=st.pathname==="/workorders/it/knowledgebase";b.useEffect(()=>{const se=()=>{D(window.innerWidth<768),window.innerWidth<768&&r(!1)};return window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)},[]),b.useEffect(()=>{const se=ke=>{rt.current&&!rt.current.contains(ke.target)&&L(!1),Ve.current&&!Ve.current.contains(ke.target)&&P(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]),b.useEffect(()=>{let se=!0;return(async()=>{try{W(!0),X(null);const Ze=await Y();if(!se)return;const dt=Ze.filter(at=>at.requester_id===Number(oe==null?void 0:oe.id));U(dt);const Qe=new Date;Qe.setMonth(Qe.getMonth()-1);const Re=dt.filter(at=>new Date(at.date)<Qe);fe(Re)}catch(Ze){if(!se)return;X("Failed to load work orders. Please try again."),console.error("Error loading work orders:",Ze)}finally{se&&W(!1)}})(),()=>{se=!1}},[Y,oe==null?void 0:oe.id]),b.useEffect(()=>{_(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]);const Pt=se=>{switch(se){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-gray-500 text-white";case"Closed":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},Se=b.useCallback(se=>{const ke=z.find(Ze=>Ze.id===se);ke&&(x(ke),m(!0))},[z]);b.useCallback(se=>{S(se),N(!0)},[]);const bt=b.useCallback(async se=>{try{W(!0),X(null),await ce(se);const Ze=(await Y()).filter(dt=>dt.requester_id===Number(oe==null?void 0:oe.id));U(Ze),N(!1),S(null),J("Work order deleted successfully."),setTimeout(()=>J(null),2500)}catch(ke){X("Failed to delete work order."),console.error("Error deleting work order:",ke)}finally{W(!1)}},[ce,Y,oe==null?void 0:oe.id]),yt=b.useCallback(se=>{ae(se),$e(!0)},[]),Pe=b.useCallback(se=>{Ee(se),we(!0)},[]),mt=b.useCallback(async se=>{try{W(!0),X(null),await We(`/ayam/${se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Cancel"})});const Ze=(await Y()).filter(Re=>Re.requester_id===Number(oe==null?void 0:oe.id));U(Ze);const dt=new Date;dt.setMonth(dt.getMonth()-1);const Qe=Ze.filter(Re=>new Date(Re.date)<dt);fe(Qe),m(!1),x(null),$e(!1),ae(null),J("Work order cancelled successfully."),setTimeout(()=>J(null),2500)}catch(ke){X("Failed to cancel work order."),console.error("Error cancelling work order:",ke)}finally{W(!1)}},[We,Y,oe==null?void 0:oe.id]),ht=b.useCallback(async se=>{try{W(!0),X(null),await We(`/ayam/${se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Closed"})});const Ze=(await Y()).filter(Re=>Re.requester_id===Number(oe==null?void 0:oe.id));U(Ze);const dt=new Date;dt.setMonth(dt.getMonth()-1);const Qe=Ze.filter(Re=>new Date(Re.date)<dt);fe(Qe),m(!1),x(null),we(!1),Ee(null),J("Work order completed successfully."),setTimeout(()=>J(null),2500)}catch(ke){X("Failed to complete work order."),console.error("Error completing work order:",ke)}finally{W(!1)}},[We,Y,oe==null?void 0:oe.id]),vt=se=>se.filter(ke=>["Assigned","In Progress","Escalated","Vendor Handled","Resolved"].includes(ke.handling_status)),ie=se=>se.filter(ke=>["Closed","Cancel"].includes(ke.handling_status)),ve=se=>se.filter(ke=>ke.handling_status==="New"),je=()=>{r(se=>!se)},He=se=>{var ke;return se.vendor?`${se.vendor.name}`:((ke=se.assigned_to)==null?void 0:ke.name)||"Unassigned"},Nt=se=>se.vendor?"vendor":se.assigned_to?"user":"unassigned",ge=z.filter(se=>{var dt,Qe,Re,at;const ke=((Qe=(dt=se.requester)==null?void 0:dt.name)==null?void 0:Qe.toLowerCase().includes(s.toLowerCase()))||((Re=se.work_order_no)==null?void 0:Re.toLowerCase().includes(s.toLowerCase()))||((at=se.complaint)==null?void 0:at.toLowerCase().includes(s.toLowerCase()))||String(se.id).includes(s),Ze=o==="all"||se.handling_status===o;return ke&&Ze}).sort((se,ke)=>new Date(ke.created_at).getTime()-new Date(se.created_at).getTime()),re=M*A,ee=re-A,le=ge.slice(ee,re),xe=Math.ceil(ge.length/A),Me=se=>_(se),Z=({order:se,onClose:ke})=>{var gt,Jt,Fn,ar,Ct;const Ze=Bt=>Bt==null?"-":typeof Bt=="object"&&Bt!==null?Bt.name||Bt.title||Bt.id||"-":typeof Bt=="string"?Bt.trim()!==""?Bt.trim():"-":typeof Bt=="number"?Bt.toString():String(Bt),dt=Bt=>Bt?new Date(Bt).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Qe=({label:Bt,htmlContent:Tt})=>{if(!Tt)return a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:Bt}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:"-"})]});const $n=fh.sanitize(Tt,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:Bt}),a.jsx("div",{className:"rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px]",dangerouslySetInnerHTML:{__html:$n}})]})},Re=({label:Bt,value:Tt})=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:Bt}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:Tt})]}),at=({title:Bt})=>a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:Bt});return a.jsxs("div",{className:"space-y-6",children:[a.jsx(at,{title:"General Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Re,{label:"Work Order No",value:Ze(se.work_order_no)}),a.jsx(Re,{label:"Date",value:dt(se.date)}),a.jsx(Re,{label:"Reception Method",value:Ze(se.reception_method)}),a.jsx(Re,{label:"Requester",value:Ze((gt=se.requester)==null?void 0:gt.name)}),a.jsx(Re,{label:"Department",value:Ze((Jt=se.department)==null?void 0:Jt.name)}),a.jsx(Re,{label:"Known By",value:Ze((Fn=se.known_by)==null?void 0:Fn.name)})]}),a.jsx(at,{title:"Service Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Re,{label:"Service Type",value:Ze(se.service_type.group_name)}),a.jsx(Re,{label:"Service",value:Ze(se.service.service_name)}),a.jsx(Re,{label:"No Asset",value:Ze(se.asset_no)})]}),a.jsx(at,{title:"Device & Complaint"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Re,{label:"Device Information",value:Ze(se.device_info)}),a.jsx(Qe,{label:"Complaint",htmlContent:se.complaint||""})]}),a.jsx(at,{title:"Handling Information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Re,{label:"Ticket Status",value:Ze(se.handling_status)}),a.jsx(Re,{label:"Handling Date",value:dt(se.handling_date||"-")})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Re,{label:"Assigned To",value:Ze((ar=se.assigned_to)==null?void 0:ar.name)}),a.jsx(Re,{label:"Received By",value:Ze((Ct=se.received_by)==null?void 0:Ct.name)})]}),a.jsx(Qe,{label:"Action Taken",htmlContent:se.action_taken||""}),a.jsx(Qe,{label:"Remarks",htmlContent:se.remarks||""})]}),a.jsx(at,{title:"Vendor Details"}),se.vendor?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Re,{label:"Vendor Name",value:Ze(se.vendor.name)}),a.jsx(Re,{label:"Address",value:Ze(se.vendor.address)}),a.jsx(Re,{label:"Contact Person",value:Ze(se.vendor.contact_person)}),a.jsx(Re,{label:"Email",value:Ze(se.vendor.email)}),a.jsx(Re,{label:"No Telp",value:Ze(se.vendor.telp)}),a.jsx(Re,{label:"No HP",value:Ze(se.vendor.HP)})]}):a.jsx("div",{className:"text-center py-4 text-gray-500",children:"No vendor assigned to this work order."}),se.attachment&&a.jsxs(a.Fragment,{children:[a.jsx(at,{title:"Attachment"}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("a",{href:se.attachment,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View Attachment"})})})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(k.button,{type:"button",onClick:ke,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close"})})]})};return R?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):q?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Zt,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:q}),a.jsx("button",{onClick:()=>{(async()=>{try{W(!0),X(null);const Ze=(await Y()).filter(Re=>Re.requester_id===Number(oe==null?void 0:oe.id));U(Ze);const dt=new Date;dt.setMonth(dt.getMonth()-1);const Qe=Ze.filter(Re=>new Date(Re.date)<dt);fe(Qe)}catch{X("Failed to load work orders. Please try again.")}finally{W(!1)}})()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[O&&a.jsx(k.button,{onClick:je,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Ps,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"IT Work Order - Request"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!t),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:rt,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>L(!F),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:F&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>L(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:[ge.slice(0,3).map(se=>{var ke;return a.jsxs("div",{className:"flex items-start px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 last:border-b-0",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:se.handling_status==="Closed"?a.jsx(Et,{className:"text-green-500"}):se.handling_status==="Progress"?a.jsx(Na,{className:"text-blue-500"}):a.jsx(Zt,{className:"text-yellow-500"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-sm text-gray-800",children:["Work Order #",se.id]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:(ke=se.requester)==null?void 0:ke.name})]})]},se.id)}),ge.length===0&&a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})]}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{L(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:Ve,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>P(!I),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(oe==null?void 0:oe.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:oe==null?void 0:oe.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:I&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(oe==null?void 0:oe.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{Ne("/profile"),P(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{Ne("/settings"),P(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{Ne("/logout"),P(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>Ne("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ue?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>Ne("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${kt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>Ne("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ye?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>Ne("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Oe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>Ne("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Xe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Request"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Submit and track your IT-related maintenance and service requests"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(k.button,{onClick:()=>Ne("/workorders/it/addworkorder"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Cr,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Create New Work Order"})]}),a.jsxs(k.button,{onClick:()=>d(!c),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Js,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Filters"}),c?a.jsx(xg,{}):a.jsx(Ut,{})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(kv,{title:"Total IT Requests",currentCount:ge.length,lastMonthCount:ne.length,icon:a.jsx(Ps,{})}),a.jsx(kv,{title:"IT New WO",currentCount:ve(ge).length,lastMonthCount:ve(ne).length,icon:a.jsx(Sn,{}),usePercentage:!1}),a.jsx(kv,{title:"IT Progress",currentCount:vt(ge).length,lastMonthCount:vt(ne).length,icon:a.jsx(Na,{}),usePercentage:!1}),a.jsx(kv,{title:"IT Closed",currentCount:ie(ge).length,lastMonthCount:ie(ne).length,icon:a.jsx(Et,{}),usePercentage:!1})]}),a.jsx(k.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search IT requests by device, ID, or assignee...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:se=>i(se.target.value)})]}),a.jsx(qe,{children:c&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:se=>l(se.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Device Information"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No Asset"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Type"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:le.length>0?le.map(se=>{const ke=He(se),Ze=Nt(se);return a.jsxs(k.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>Se(se.id),title:"Click to view details",children:se.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Date(se.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:se.device_info})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:se.asset_no})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:se.service_type.group_name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Pt(se.handling_status)} shadow-sm`,children:se.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${Ze==="vendor"?"text-purple-600":Ze==="user"?"text-blue-600":"text-gray-500"}`,children:ke}),Ze==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Se(se.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(ns,{className:"text-lg"})}),se.handling_status==="New"&&a.jsxs(a.Fragment,{children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ne(`/workorders/it/editworkorder/${se.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Work Order",children:a.jsx(fs,{className:"text-lg"})}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>yt(se.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Cancel Work Order",children:a.jsx(nt,{className:"text-lg"})})]}),se.handling_status==="Resolved"&&a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:dt=>{Pe(se.id)},className:"text-green-600 hover:text-green-800 transition-colors duration-200 flex items-center space-x-1",title:"Mark as Closed",children:a.jsx(Et,{className:"text-lg"})})]})]},se.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work order requests found matching your criteria."})})})]})})}),ge.length>A&&a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:ee+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(re,ge.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:ge.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Me(M-1),disabled:M===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:xe},(se,ke)=>a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Me(ke+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${M===ke+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:ke+1},ke+1)),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Me(M+1),disabled:M===xe,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),p&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",p.id]}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),x(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(Z,{order:p,onClose:()=>{m(!1),x(null)}})})]})})}),a.jsx(qe,{children:v&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>C!==null&&bt(C),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})})}),H&&a.jsx(k.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg",children:H}),a.jsx(qe,{children:de&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Et,{className:"text-green-500 text-5xl mx-auto"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to mark this work order as completed? This action will close the ticket."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>be!==null&&ht(be),className:"px-5 py-2.5 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Complete"})]})]})})})}),a.jsx(qe,{children:Fe&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-orange-500 text-5xl mx-auto"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to cancel this work order? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>$e(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"No, Keep It"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ge!==null&&mt(Ge),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Cancel"})]})]})})})}),q&&a.jsxs(k.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[q,a.jsx("button",{onClick:()=>X(null),className:"ml-2 underline",children:"Dismiss"})]})]})},dqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,uqe=()=>{var mt,ht,vt,ie,ve;const{updateWorkOrderIT:t,user:e,getUsers:n,getServices:r,getDepartment:s,getServiceGroups:i,getWorkOrderById:o}=_t(),l=St(),{id:c}=Ks(),[d,h]=b.useState([]),[m,p]=b.useState([]),[x,y]=b.useState([]),[w,v]=b.useState([]),[N,C]=b.useState(window.innerWidth<768),[S,M]=b.useState(()=>{const je=localStorage.getItem("sidebarOpen");return je?JSON.parse(je):!1}),[_,A]=b.useState(!1),[O,D]=b.useState(!1),[F,L]=b.useState(!1),[I,P]=b.useState(!1),[z,U]=b.useState(!0),[V,$]=b.useState(null),[R,W]=b.useState(null),[q,X]=b.useState(!1),[H,J]=b.useState(null),ne=b.useRef(null),fe=b.useRef(null),[de,we]=b.useState([]),[Fe,$e]=b.useState([]),[be,Ee]=b.useState([]),[Ge,ae]=b.useState(!1),oe={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((mt=e==null?void 0:e.department)==null?void 0:mt.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[Y,ce]=b.useState(oe),Ie=Y.reception_method==="Electronic Work Order System";b.useEffect(()=>{(async()=>{if(c)try{U(!0);const He=await o(parseInt(c));console.log("Work Order Data:",He),ce({id:He.id,date:He.date.split("T")[0],reception_method:He.reception_method,requester_id:He.requester_id,known_by_id:He.known_by_id,department_id:He.department_id,service_type_id:String(He.service_group_id||""),service_id:String(He.service_catalogue_id||""),asset_no:He.asset_no,device_info:He.device_info,complaint:He.complaint,attachment:He.attachment,received_by_id:He.received_by_id,handling_date:He.handling_date?He.handling_date.split("T")[0]:null,action_taken:He.action_taken,handling_status:He.handling_status,remarks:He.remarks})}catch(He){console.error("Failed to fetch work order data:",He),$(He.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{U(!1)}})()},[c,o]),b.useEffect(()=>{e&&(async()=>{try{const Nt=(await i(0)).map(ee=>({id:Number(ee.id),name:ee.group_name??"",description:ee.group_description??void 0}));$e(Nt),Ee(Nt);const ge=await s();p(ge);const re=await n();if(h(re),e&&e.id){const le=await r(parseInt(e.id));y(le),console.log("Services loaded:",le)}}catch(He){console.error("Failed to fetch master data:",He)}})()},[e,n,r,s,i]),b.useEffect(()=>{var je;if(Y.reception_method==="Electronic Work Order System"&&e){const He=((je=e.department)==null?void 0:je.head_id)||null;ce(Nt=>({...Nt,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:He}))}},[Y.reception_method,e]),b.useEffect(()=>{const je=()=>{C(window.innerWidth<768),window.innerWidth<768&&M(!1)};return window.addEventListener("resize",je),()=>window.removeEventListener("resize",je)},[]),b.useEffect(()=>{const je=He=>{ne.current&&!ne.current.contains(He.target)&&D(!1),fe.current&&!fe.current.contains(He.target)&&L(!1)};return document.addEventListener("mousedown",je),()=>{document.removeEventListener("mousedown",je)}},[]),b.useEffect(()=>{if(Y.service_type_id&&x.length>0){const je=x.filter(He=>String(He.service_type)===Y.service_type_id);we(je)}else we([])},[Y.service_type_id,x]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",_),localStorage.setItem("sidebarOpen",JSON.stringify(S))},[S,_]);const We=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),M(je=>!je)},pe=b.useCallback((je,He)=>{let Nt,ge;if(je&&"target"in je)Nt=je.target.name,ge=je.target.value;else if(je&&typeof je=="object"&&"value"in je&&He)Nt=He,ge=je.value;else if(je===null&&He)Nt=He,ge=null;else return;ce(re=>({...re,[Nt]:ge}))},[]),Ne=je=>{const He=(je==null?void 0:je.value)||"";ce(Nt=>{var re,ee;const ge={...Nt,reception_method:He};return He==="Electronic Work Order System"&&e?{...ge,requester_id:parseInt(e.id),department_id:((re=e.department)==null?void 0:re.id)||0,known_by_id:((ee=e.department)==null?void 0:ee.head_id)||null}:ge})},st=je=>{ce(He=>({...He,asset_no:je?je.value:""}))},rt=b.useCallback(je=>{je.target.files&&je.target.files.length>0?(J(je.target.files[0]),ce(He=>({...He,attachment:je.target.files[0].name}))):(J(null),ce(He=>({...He,attachment:null})))},[]),Ve=b.useCallback(()=>{J(null),ce(je=>({...je,attachment:null}))},[]),Ue=async je=>{je.preventDefault(),P(!0),$(null);const He={id:Y.id,date:Y.date,reception_method:Y.reception_method,requester_id:Y.requester_id,known_by_id:Y.known_by_id,department_id:Y.department_id,service_group_id:Number(Y.service_type_id),service_catalogue_id:Number(Y.service_id),asset_no:Y.asset_no,device_info:Y.device_info,complaint:Y.complaint,attachment:Y.attachment};try{await t(He),W({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${Y.id}`}}),X(!0)}catch(Nt){$(Nt.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",Nt)}finally{P(!1)}},Ye=je=>{ce(He=>({...He,service_type_id:je?je.value:"",service_id:""}))},kt=je=>{ce(He=>({...He,service_id:je?je.value:""}))},Oe=b.useCallback(()=>{X(!1),l("/workorders/it")},[l]),Xe={control:(je,He)=>({...je,minHeight:"42px",borderColor:He.isFocused?"#3B82F6":"#D1D5DB",boxShadow:He.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:je=>({...je,padding:"0"}),singleValue:je=>({...je,color:"#374151"}),placeholder:je=>({...je,color:"#6B7280"}),dropdownIndicator:je=>({...je,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:je=>({...je,display:"none"}),menu:je=>({...je,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(je,He)=>({...je,backgroundColor:He.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Pt=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:a.jsx(Et,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:a.jsx(Zt,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:a.jsx(Et,{className:"text-blue-500"}),date:"Jul 28, 2023"}],Se=b.useCallback(je=>{if(!je)return;const He=parseInt(je.value),Nt=d.find(ge=>parseInt(ge.id)===He);if(Nt){const ge=m.find(re=>re.id===Nt.department_id);ce(re=>({...re,requester_id:He,department_id:Nt.department_id||0,known_by_id:(ge==null?void 0:ge.head_id)||null}))}},[d,m]),bt=()=>{if(Ie){const He=m.find(Nt=>Nt.id===(e==null?void 0:e.department_id));return(He==null?void 0:He.name)||"No department assigned"}const je=m.find(He=>He.id===Y.department_id);return(je==null?void 0:je.name)||"No department assigned"},yt=()=>{if(Ie){const He=m.find(Nt=>Nt.id===(e==null?void 0:e.department_id));if(He&&He.head_id){const Nt=d.find(ge=>parseInt(ge.id)===He.head_id);return(Nt==null?void 0:Nt.name)||"No department head assigned"}return"No department head assigned"}const je=m.find(He=>He.id===Y.department_id);if(je&&je.head_id){const He=d.find(Nt=>parseInt(Nt.id)===je.head_id);return(He==null?void 0:He.name)||"No department head assigned"}return"No department head assigned"},Pe=()=>{if(!Y.attachment)return null;try{const He=new URL(Y.attachment).pathname;return He.substring(He.lastIndexOf("/")+1)}catch{return Y.attachment}};return z?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Cn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[N&&a.jsx(k.button,{onClick:We,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsxs(k.button,{onClick:()=>l("/workorders/it"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(Ys,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back to Work Orders"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Edit Work Order"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>A(!_),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":_?"Switch to light mode":"Switch to dark mode",children:_?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:ne,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>D(!O),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:O&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>D(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:[Pt.slice(0,3).map(je=>a.jsxs("div",{className:"flex items-start px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 last:border-b-0",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:je.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-gray-800",children:je.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:je.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:je.date})]})]},je.id)),Pt.length===0&&a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})]}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{D(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:fe,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>L(!F),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:F&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{l("/profile"),L(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{l("/settings"),L(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{l("/logout"),L(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui detail work order yang sudah ada"})]}),a.jsxs(k.button,{onClick:()=>l("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ys,{className:"text-lg"})," Back to Work Orders"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[V&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:V}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>$(null)})})]}),a.jsxs("form",{onSubmit:Ue,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Sn,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"date",name:"date",value:Y.date,onChange:pe,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:Y.reception_method,label:Y.reception_method},onChange:Ne,placeholder:"Select Reception Method",styles:Xe,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",a.jsx("span",{className:"text-red-500",children:"*"})]}),Ie?a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):a.jsx(_n,{id:"requester_id",name:"requester_id",options:d.map(je=>({value:String(je.id),label:je.name})),value:d.find(je=>parseInt(je.id)===Y.requester_id)?{value:String(Y.requester_id),label:((ht=d.find(je=>parseInt(je.id)===Y.requester_id))==null?void 0:ht.name)||""}:null,onChange:Se,placeholder:"Select Requester",styles:Xe,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:bt()})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:yt()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(uo,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{id:"service_type_id",name:"service_type_id",options:be.map(je=>({value:String(je.id),label:je.name})),value:Y.service_type_id?{value:Y.service_type_id,label:((vt=be.find(je=>String(je.id)===Y.service_type_id))==null?void 0:vt.name)||""}:null,onChange:Ye,placeholder:"Select Service Type",styles:Xe,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{id:"service_id",name:"service_id",options:de.map(je=>({value:String(je.id),label:je.service_name})),value:Y.service_id?{value:Y.service_id,label:((ie=de.find(je=>String(je.id)===Y.service_id))==null?void 0:ie.service_name)||""}:null,onChange:kt,placeholder:"Select Service",styles:Xe}),de.length===0&&Y.service_type_id&&a.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:["No. Asset ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Kee,{name:"asset_no",id:"asset_no",options:w,value:Y.asset_no?{value:Y.asset_no,label:Y.asset_no}:null,onChange:st,onCreateOption:je=>{const He={value:je,label:je};v(Nt=>[...Nt,He]),st(He)},placeholder:"Type or select Asset No.",styles:Xe,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(dh,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"device_info",name:"device_info",value:Y.device_info,onChange:pe,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(oc,{value:Y.complaint,onChange:je=>{ce(He=>({...He,complaint:je}))}})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),a.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",children:a.jsxs("div",{className:"space-y-1 text-center",children:[a.jsx(qf,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsxs("div",{className:"flex text-sm text-gray-600",children:[a.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",children:[a.jsx("span",{children:"Upload a file"}),a.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:rt})]}),a.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),H&&a.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:a.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[a.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[a.jsx(qf,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),a.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:H.name})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx(k.button,{type:"button",onClick:Ve,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},H.name)}),Y.attachment&&!H&&a.jsx("div",{className:"mt-3",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Current attachment: ",Pe()]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(k.button,{type:"button",onClick:()=>l("/workorders/it"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(hn,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:I,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:I?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(dqe,{isOpen:q,onClose:Oe,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:R==null?void 0:R.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(ve=R==null?void 0:R.work_order)==null?void 0:ve.work_order_no]}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Oe,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},hqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,fqe=()=>{var mt,ht,vt;const{updateWorkOrderIT:t,user:e,getUsers:n,getServices:r,getDepartment:s,getServiceGroups:i,getWorkOrderById:o,getVendor:l}=_t(),c=St(),{id:d}=Ks(),[h,m]=b.useState([]),[p,x]=b.useState([]),[y,w]=b.useState([]),[v,N]=b.useState(window.innerWidth<768),[C,S]=b.useState(()=>{const ie=localStorage.getItem("sidebarOpen");return ie?JSON.parse(ie):!1}),[M,_]=b.useState(!1),[A,O]=b.useState(!1),[D,F]=b.useState(!1),[L,I]=b.useState(!1),[P,z]=b.useState(!0),[U,V]=b.useState(null),[$,R]=b.useState(null),[W,q]=b.useState(!1),X=b.useRef(null),H=b.useRef(null),[J,ne]=b.useState([]),[fe,de]=b.useState([]),[we,Fe]=b.useState(!1),[$e,be]=b.useState([]),[Ee,Ge]=b.useState(!1),[ae,oe]=b.useState(null),[Y,ce]=b.useState(!1),Ie=({content:ie,className:ve=""})=>{if(!ie)return a.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ve}`,children:a.jsx("span",{children:"-"})});const je=fh.sanitize(ie,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return a.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ve}`,dangerouslySetInnerHTML:{__html:je}})},We={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((mt=e==null?void 0:e.department)==null?void 0:mt.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[pe,Ne]=b.useState(We);b.useEffect(()=>{const ie=pe.handling_status==="Escalated",ve=pe.handling_status==="Vendor Handled";Fe(ie),Ge(ve),!ie&&pe.assigned_to_id&&Ne(je=>({...je,assigned_to_id:null})),ve||(Ne(je=>({...je,vendor_id:null})),oe(null),ce(!1))},[pe.handling_status]),b.useEffect(()=>{const ie=async()=>{if(d)try{z(!0);const ve=await o(parseInt(d));if(Ne({id:ve.id,date:ve.date.split("T")[0],reception_method:ve.reception_method,requester_id:ve.requester_id,known_by_id:ve.known_by_id,department_id:ve.department_id,service_type_id:String(ve.service_group_id||""),service_id:String(ve.service_catalogue_id||""),asset_no:ve.asset_no,device_info:ve.device_info,complaint:ve.complaint,attachment:ve.attachment,received_by_id:ve.received_by_id,handling_date:ve.handling_date?ve.handling_date.split("T")[0]:null,action_taken:ve.action_taken,handling_status:ve.handling_status,remarks:ve.remarks,vendor_id:ve.vendor_id||null}),ve.vendor_id&&$e.length>0){const je=$e.find(He=>He.id===ve.vendor_id);je&&oe(je)}}catch(ve){console.error("Failed to fetch work order data:",ve),V(ve.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{z(!1)}};$e.length>0&&ie()},[d,o,$e]),b.useEffect(()=>{e&&(async()=>{try{const ve=await l();be(ve);const He=(await i(0)).map(re=>({id:Number(re.id),name:re.group_name??"",description:re.group_description??void 0}));de(He);const Nt=await s();x(Nt);const ge=await n();if(m(ge),e&&e.id){const re=await r(parseInt(e.id));w(re)}}catch(ve){console.error("Failed to fetch master data:",ve)}})()},[e,n,r,s,i,l]),b.useEffect(()=>{const ie=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]),b.useEffect(()=>{const ie=ve=>{X.current&&!X.current.contains(ve.target)&&O(!1),H.current&&!H.current.contains(ve.target)&&F(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]),b.useEffect(()=>{if(pe.service_type_id&&y.length>0){const ie=y.filter(ve=>String(ve.service_type)===pe.service_type_id);ne(ie)}else ne([])},[pe.service_type_id,y]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",M),localStorage.setItem("sidebarOpen",JSON.stringify(C))},[C,M]);const st=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!C)),S(ie=>!ie)},rt=b.useCallback((ie,ve)=>{let je,He;if(ie&&"target"in ie)je=ie.target.name,He=ie.target.value;else if(ie&&typeof ie=="object"&&"value"in ie&&ve)je=ve,ve==="assigned_to_id"||ve==="requester_id"||ve==="known_by_id"?He=ie.value?parseInt(ie.value):null:He=ie.value;else if(ie===null&&ve)je=ve,He=null;else return;Ne(Nt=>({...Nt,[je]:He}))},[]),Ve=ie=>{oe(ie),Ne(ve=>({...ve,vendor_id:ie.id})),ce(!1)},Ue=async ie=>{if(ie.preventDefault(),I(!0),V(null),pe.handling_status==="Escalated"&&!pe.assigned_to_id){V("Assigned To is required for Escalated status"),I(!1);return}if(pe.handling_status==="Vendor Handled"&&!pe.vendor_id){V("Vendor selection is required for Vendor Handled status"),I(!1);return}if(!pe.handling_status){V("Handling status is required"),I(!1);return}if(!pe.handling_date){V("Handling date is required"),I(!1);return}if(!pe.action_taken||pe.action_taken.length<5){V("Action taken must be at least 5 characters"),I(!1);return}const ve={...pe,id:pe.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:pe.handling_date,action_taken:pe.action_taken,handling_status:pe.handling_status,remarks:pe.remarks,assigned_to_id:pe.assigned_to_id?parseInt(pe.assigned_to_id):null,vendor_id:pe.vendor_id};try{await t(ve),R({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${pe.id}`}}),q(!0)}catch(je){V(je.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",je)}finally{I(!1)}},Ye=b.useCallback(()=>{q(!1),c("/workorders/it/receiver")},[c]),kt={control:(ie,ve)=>({...ie,minHeight:"42px",borderColor:ve.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ve.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ie=>({...ie,padding:"0"}),singleValue:ie=>({...ie,color:"#374151"}),placeholder:ie=>({...ie,color:"#6B7280"}),dropdownIndicator:ie=>({...ie,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ie=>({...ie,display:"none"}),menu:ie=>({...ie,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ie,ve)=>({...ie,backgroundColor:ve.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Oe=()=>{const ie=h.find(ve=>parseInt(ve.id)===pe.requester_id);return(ie==null?void 0:ie.name)||"Unknown"},Xe=()=>{const ie=p.find(ve=>ve.id===pe.department_id);return(ie==null?void 0:ie.name)||"No department assigned"},Pt=()=>{const ie=p.find(ve=>ve.id===pe.department_id);if(ie&&ie.head_id){const ve=h.find(je=>parseInt(je.id)===ie.head_id);return(ve==null?void 0:ve.name)||"No department head assigned"}return"No department head assigned"},Se=()=>{const ie=fe.find(ve=>String(ve.id)===pe.service_type_id);return(ie==null?void 0:ie.name)||"Unknown"},bt=()=>{const ie=y.find(ve=>String(ve.id)===pe.service_id);return(ie==null?void 0:ie.service_name)||"Unknown"},yt=()=>{if(!pe.attachment)return null;try{const ve=new URL(pe.attachment).pathname;return ve.substring(ve.lastIndexOf("/")+1)}catch{return pe.attachment}},Pe=()=>{pe.attachment&&window.open(pe.attachment,"_blank")};return P?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Cn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[v&&a.jsx(k.button,{onClick:st,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsxs(k.button,{onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(Ys,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back to Receiver"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Update Work Order"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>_(!M),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":M?"Switch to light mode":"Switch to dark mode",children:M?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:X,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>O(!A),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:A&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>O(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:a.jsxs("div",{className:"flex items-start px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:a.jsx(Et,{className:"text-blue-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-gray-800",children:"Work Order Updated"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"You have successfully updated a work order"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Just now"})]})]})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{O(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:H,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>F(!D),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:D&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{c("/profile"),F(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{c("/settings"),F(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{c("/logout"),F(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),a.jsxs(k.button,{onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ys,{className:"text-lg"})," Back to Receiver"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[U&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:U}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>V(null)})})]}),a.jsxs("form",{onSubmit:Ue,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Sn,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:pe.date})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:pe.reception_method})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Oe()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Xe()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Pt()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(uo,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Se()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:bt()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:pe.asset_no})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(dh,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:pe.device_info})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),a.jsx(Ie,{content:pe.complaint,className:"min-h-[100px]"})]})]})]}),pe.attachment&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(qf,{className:"mr-2 text-gray-500"})," Attachment"]}),a.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[a.jsx("span",{className:"text-gray-700",children:yt()}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Pe,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Et,{className:"mr-2 text-blue-500"})," Handling Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:pe.handling_date||"",onChange:rt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:pe.handling_status?{value:pe.handling_status,label:pe.handling_status}:null,onChange:ie=>rt(ie,"handling_status"),placeholder:"Select Handling Status",styles:kt,required:!0})]}),we&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{id:"assigned_to_id",name:"assigned_to_id",options:h.map(ie=>({value:String(ie.id),label:ie.name})),value:pe.assigned_to_id?{value:String(pe.assigned_to_id),label:((ht=h.find(ie=>parseInt(ie.id)===pe.assigned_to_id))==null?void 0:ht.name)||"Unknown"}:null,onChange:ie=>rt(ie,"assigned_to_id"),placeholder:"Select Assignee",styles:kt,required:we})]}),Ee&&a.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(uo,{className:"mr-2 text-gray-600"})," Vendor Information"]}),ae?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),a.jsx(k.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(null),Ne(ie=>({...ie,vendor_id:null})),ce(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ae.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ae.contact_person})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ae.address||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ae.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ae.telp||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ae.HP||"-"})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(k.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce(!Y),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:Y?"Hide Vendors":"Select Vendor"})]}),Y&&a.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:$e.length>0?$e.map(ie=>a.jsxs(k.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>Ve(ie),children:[a.jsx("div",{className:"font-medium text-gray-900",children:ie.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[ie.contact_person,"  ",ie.email]}),a.jsx("div",{className:"text-xs text-gray-500",children:ie.address})]},ie.id)):a.jsxs("div",{className:"p-4 text-center text-gray-600",children:[a.jsx(Zt,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(oc,{value:pe.action_taken||"",onChange:ie=>{Ne(ve=>({...ve,action_taken:ie}))}})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(oc,{value:pe.remarks||"",onChange:ie=>{Ne(ve=>({...ve,remarks:ie}))}})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(k.button,{type:"button",onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(hn,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:L,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:L?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(hqe,{isOpen:W,onClose:Ye,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:$==null?void 0:$.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(vt=$==null?void 0:$.work_order)==null?void 0:vt.work_order_no]}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Ye,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},Cv=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},mqe=({order:t,onClose:e})=>{var l,c,d,h,m,p,x,y,w,v,N,C,S;const n=M=>M==null?"-":typeof M=="object"&&M!==null?M.name||M.title||M.id||"-":typeof M=="string"?M.trim()!==""?M.trim():"-":typeof M=="number"?M.toString():String(M),r=M=>M?new Date(M).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",s=({label:M,htmlContent:_})=>{if(!_)return a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:M}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:"-"})]});const A=fh.sanitize(_,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:M}),a.jsx("div",{className:"rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px]",dangerouslySetInnerHTML:{__html:A}})]})},i=({label:M,value:_})=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:M}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:_})]}),o=({title:M})=>a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:M});return a.jsxs("div",{className:"space-y-6",children:[a.jsx(o,{title:"General Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(i,{label:"Work Order No",value:n(t.work_order_no||t.id)}),a.jsx(i,{label:"Date",value:r(t.date)}),a.jsx(i,{label:"Reception Method",value:n(t.reception_method)}),a.jsx(i,{label:"Requester",value:n((l=t.requester)==null?void 0:l.name)}),a.jsx(i,{label:"Department",value:n(t.department_name||((c=t.department)==null?void 0:c.name))}),a.jsx(i,{label:"Known By",value:n((d=t.known_by)==null?void 0:d.name)})]}),a.jsx(o,{title:"Service Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Service Type",value:n((h=t.service_type)==null?void 0:h.group_name)}),a.jsx(i,{label:"Service",value:n(((p=(m=t.service)==null?void 0:m.owner)==null?void 0:p.name)||((x=t.service)==null?void 0:x.service_name))}),a.jsx(i,{label:"Priority",value:n(((y=t.service)==null?void 0:y.priority)||((w=t.service)==null?void 0:w.priority))}),a.jsx(i,{label:"No Asset",value:n(t.asset_no)})]}),a.jsx(o,{title:"Device & Complaint"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(i,{label:"Device Information",value:n(t.device_info)}),a.jsx(s,{label:"Complaint",htmlContent:t.complaint||""})]}),a.jsx(o,{title:"Handling Information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Ticket Status",value:n(t.handling_status)}),a.jsx(i,{label:"Handling Date",value:r(t.handling_date||"-")})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Assigned To",value:n((v=t.assigned_to)==null?void 0:v.name)}),a.jsx(i,{label:"Received By",value:n((N=t.received_by)==null?void 0:N.name)})]}),a.jsx(s,{label:"Action Taken",htmlContent:t.action_taken||""}),a.jsx(s,{label:"Remarks",htmlContent:t.remarks||""})]}),a.jsx(o,{title:"Vendor Details"}),t.vendor?a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Vendor Name",value:n(t.vendor.name)}),a.jsx(i,{label:"Address",value:n(t.vendor.address)}),a.jsx(i,{label:"Contact Person",value:n(t.vendor.contact_person)}),a.jsx(i,{label:"Email",value:n(t.vendor.email)}),a.jsx(i,{label:"No Telp",value:n(t.vendor.telp)}),a.jsx(i,{label:"No HP",value:n(t.vendor.HP)})]}):a.jsx("div",{className:"text-center py-4 text-gray-500",children:"No vendor assigned to this work order."}),a.jsx(o,{title:"Assignment Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Received By",value:n((C=t.received_by)==null?void 0:C.name)}),a.jsx(i,{label:"Assigned To",value:n((S=t.assigned_to)==null?void 0:S.name)})]}),t.attachment&&a.jsxs(a.Fragment,{children:[a.jsx(o,{title:"Attachment"}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("a",{href:t.attachment,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View Attachment"})})})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(k.button,{type:"button",onClick:e,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close"})})]})},pqe=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState(!1),[h,m]=b.useState(!1),[p,x]=b.useState(null),[y,w]=b.useState(1),[v]=b.useState(5),[N,C]=b.useState(window.innerWidth<768),[S,M]=b.useState(!1),[_,A]=b.useState(!1),[O,D]=b.useState([]),[F,L]=b.useState(!0),[I,P]=b.useState(null),[z,U]=b.useState(!1),[V,$]=b.useState(null),[R,W]=b.useState(!1),[q,X]=b.useState(""),H=St(),J=Yr(),ne=b.useRef(null),fe=b.useRef(null),{user:de,getWorkOrdersIT:we,updateWorkOrderIT:Fe,hasPermission:$e}=_t(),be=J.pathname==="/workorders/it/assignment",Ee=J.pathname==="/workorders/it/reports",Ge=J.pathname==="/workorders/it/knowledgebase",ae=J.pathname==="/workorders/it",oe=J.pathname==="/workorders/it/receiver";J.pathname;const Y=b.useCallback(async()=>{L(!0),P(null);try{const mt=(await we()).filter(ht=>ht.assigned_to_id===Number(de==null?void 0:de.id));D(mt)}catch(Pe){P(Pe.message||"Failed to load work orders.")}finally{L(!1)}},[we,de==null?void 0:de.id]),ce=b.useCallback(async(Pe,mt)=>{U(!0),$(null),W(!1);try{const ht=await Fe({...mt,id:Pe});return D(vt=>vt.map(ie=>ie.id===Pe?ht:ie)),W(!0),setTimeout(()=>W(!1),3e3),ht}catch(ht){throw $(ht.message||"Failed to update work order."),ht}finally{U(!1)}},[Fe]),Ie=()=>{C(window.innerWidth<768),window.innerWidth<768&&r(!1)},We=Pe=>{ne.current&&!ne.current.contains(Pe.target)&&M(!1),fe.current&&!fe.current.contains(Pe.target)&&A(!1)};b.useEffect(()=>(window.addEventListener("resize",Ie),document.addEventListener("mousedown",We),Y(),()=>{window.removeEventListener("resize",Ie),document.removeEventListener("mousedown",We)}),[Y]);const pe=Pe=>{switch(Pe){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},Ne=Pe=>{switch(Pe==null?void 0:Pe.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},st=Pe=>{switch(Pe){case"Assigned":return 1;case"In Progress":return 2;case"Escalated":return 3;case"Vendor Handled":return 4;case"Resolved":return 5;case"Cancel":return 6;case"Closed":return 7;default:return 8}},rt=Pe=>{switch(Pe==null?void 0:Pe.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},Ve=b.useCallback(Pe=>{const mt=O.find(ht=>ht.id===Pe);mt&&(x(mt),m(!0))},[O]);b.useCallback(async Pe=>{if(!q.trim()){$("Vendor name is required");return}try{await ce(Pe,{assigned_to_name:q.trim(),handling_status:"Vendor Handled",handling_date:new Date().toISOString()}),X(""),W(!0)}catch(mt){console.error("Failed to assign vendor:",mt)}},[ce,q]),b.useCallback(async(Pe,mt)=>{try{await ce(Pe,{handling_status:mt,handling_date:new Date().toISOString()})}catch(ht){console.error("Failed to update status:",ht)}},[ce]);const Ue=Pe=>{var mt;return Pe.vendor?`${Pe.vendor.name}`:((mt=Pe.assigned_to)==null?void 0:mt.name)||"Unassigned"},Ye=Pe=>Pe.vendor?"vendor":Pe.assigned_to?"user":"unassigned",kt=()=>{r(Pe=>!Pe)},Oe=O.filter(Pe=>{var vt,ie,ve,je;const mt=((ie=(vt=Pe.requester)==null?void 0:vt.name)==null?void 0:ie.toLowerCase().includes(s.toLowerCase()))||((ve=Pe.work_order_no)==null?void 0:ve.toLowerCase().includes(s.toLowerCase()))||((je=Pe.complaint)==null?void 0:je.toLowerCase().includes(s.toLowerCase()))||String(Pe.id).includes(s),ht=o==="all"||Pe.handling_status===o;return mt&&ht}).sort((Pe,mt)=>{var je,He;const ht=st(Pe.handling_status),vt=st(mt.handling_status);if(ht!==vt)return ht-vt;const ie=rt((je=Pe.service)==null?void 0:je.priority),ve=rt((He=mt.service)==null?void 0:He.priority);return ie!==ve?ie-ve:new Date(mt.created_at).getTime()-new Date(Pe.created_at).getTime()}),Xe=y*v,Pt=Xe-v,Se=Oe.slice(Pt,Xe),bt=Math.ceil(Oe.length/v),yt=Pe=>w(Pe);return b.useEffect(()=>{w(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]),F?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):I?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Zt,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:I}),a.jsx("button",{onClick:Y,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[N&&a.jsx(k.button,{onClick:kt,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Ps,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"IT Work Order - Assignment"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!t),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:ne,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>M(!S),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:S&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:[Oe.slice(0,3).map(Pe=>a.jsxs("div",{className:"flex items-start px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 last:border-b-0",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:Pe.handling_status==="New"?a.jsx(Zt,{className:"text-orange-500"}):a.jsx(Na,{className:"text-blue-500"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-sm text-gray-800",children:["Work Order #",Pe.id]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Pe.complaint}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[new Date(Pe.date).toLocaleDateString()," at ",new Date(Pe.date).toLocaleTimeString()]})]})]},Pe.id)),Oe.length===0&&a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})]}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{M(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:fe,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>A(!_),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(de==null?void 0:de.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:de==null?void 0:de.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:_&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(de==null?void 0:de.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{H("/profile"),A(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{H("/settings"),A(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{H("/logout"),A(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>H("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ae?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>H("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${oe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>H("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${be?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>H("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ee?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>H("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ge?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),V&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:V}),a.jsx("button",{onClick:()=>$(null),className:"absolute top-0 right-0 p-3",children:a.jsx(nt,{size:16})})]}),R&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),a.jsx("button",{onClick:()=>W(!1),className:"absolute top-0 right-0 p-3",children:a.jsx(nt,{size:16})})]}),a.jsx(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Assignment"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage assigned IT work orders as a technician/vendor"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Cv,{title:"Total Assignments",value:Oe.length.toString(),change:"+8%",icon:a.jsx(Ps,{})}),a.jsx(Cv,{title:"In Progress",value:Oe.filter(Pe=>Pe.handling_status==="In Progress").length.toString(),change:"-1",icon:a.jsx(Na,{})}),a.jsx(Cv,{title:"Resolved",value:Oe.filter(Pe=>Pe.handling_status==="Resolved").length.toString(),change:"+1",icon:a.jsx(Et,{})}),a.jsx(Cv,{title:"Vendor Handled",value:Oe.filter(Pe=>Pe.handling_status==="Vendor Handled").length.toString(),change:"+3",icon:a.jsx(Sn,{})})]}),a.jsx(k.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:Pe=>i(Pe.target.value)})]}),a.jsx(qe,{children:c&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:Pe=>l(Pe.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Se.length>0?Se.map(Pe=>{var vt,ie;Pe.handling_status,["Resolved","Cancel","Closed"].includes(Pe.handling_status),Pe.handling_status;const mt=Ue(Pe),ht=Ye(Pe);return a.jsxs(k.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>Ve(Pe.id),title:"Click to view details",children:Pe.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Pe.requester.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(Pe.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Pe.handling_date?new Date(Pe.handling_date).toLocaleDateString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Ne((vt=Pe.service)==null?void 0:vt.priority)} shadow-sm`,children:((ie=Pe.service)==null?void 0:ie.priority)||"Medium"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${pe(Pe.handling_status)} shadow-sm`,children:Pe.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${ht==="vendor"?"text-purple-600":ht==="user"?"text-blue-600":"text-gray-500"}`,children:mt}),ht==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ve(Pe.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(ns,{className:"text-lg"})}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(`/workorders/it/assignment/editassignment/${Pe.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:a.jsx(fs,{className:"text-lg"})})]})]},Pe.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT assignments found matching your criteria."})})})]})})}),Oe.length>v&&a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Pt+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(Xe,Oe.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:Oe.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>yt(y-1),disabled:y===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:bt},(Pe,mt)=>a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>yt(mt+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${y===mt+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:mt+1},mt+1)),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>yt(y+1),disabled:y===bt,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),p&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",p.work_order_no||p.id]}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),x(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(mqe,{order:p,onClose:()=>{m(!1),x(null)}})})]})})})]})},gqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,xqe=()=>{var mt,ht,vt;const{updateWorkOrderIT:t,user:e,getUsers:n,getServices:r,getDepartment:s,getServiceGroups:i,getWorkOrderById:o,getVendor:l}=_t(),c=St(),{id:d}=Ks(),[h,m]=b.useState([]),[p,x]=b.useState([]),[y,w]=b.useState([]),[v,N]=b.useState(window.innerWidth<768),[C,S]=b.useState(()=>{const ie=localStorage.getItem("sidebarOpen");return ie?JSON.parse(ie):!1}),[M,_]=b.useState(!1),[A,O]=b.useState(!1),[D,F]=b.useState(!1),[L,I]=b.useState(!1),[P,z]=b.useState(!0),[U,V]=b.useState(null),[$,R]=b.useState(null),[W,q]=b.useState(!1),X=b.useRef(null),H=b.useRef(null),[J,ne]=b.useState([]),[fe,de]=b.useState([]),[we,Fe]=b.useState(!1),[$e,be]=b.useState([]),[Ee,Ge]=b.useState(!1),[ae,oe]=b.useState(null),[Y,ce]=b.useState(!1),Ie=({content:ie,className:ve=""})=>{if(!ie)return a.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ve}`,children:a.jsx("span",{children:"-"})});const je=fh.sanitize(ie,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return a.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ve}`,dangerouslySetInnerHTML:{__html:je}})},We={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((mt=e==null?void 0:e.department)==null?void 0:mt.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[pe,Ne]=b.useState(We);b.useEffect(()=>{const ie=pe.handling_status!=="New",ve=pe.handling_status==="Vendor Handled";Fe(ie),Ge(ve),!ve&&pe.vendor_id&&(Ne(je=>({...je,vendor_id:null})),oe(null),ce(!1))},[pe.handling_status]),b.useEffect(()=>{const ie=async()=>{if(d)try{z(!0);const ve=await o(parseInt(d));if(Ne({id:ve.id,date:ve.date.split("T")[0],reception_method:ve.reception_method,requester_id:ve.requester_id,known_by_id:ve.known_by_id,department_id:ve.department_id,service_type_id:String(ve.service_group_id||""),service_id:String(ve.service_catalogue_id||""),asset_no:ve.asset_no,device_info:ve.device_info,complaint:ve.complaint,attachment:ve.attachment,received_by_id:ve.received_by_id,handling_date:ve.handling_date?ve.handling_date.split("T")[0]:null,action_taken:ve.action_taken,handling_status:ve.handling_status,remarks:ve.remarks,assigned_to_id:ve.assigned_to_id,vendor_id:ve.vendor_id||null}),ve.vendor_id&&$e.length>0){const je=$e.find(He=>He.id===ve.vendor_id);je&&oe(je)}}catch(ve){console.error("Failed to fetch work order data:",ve),V(ve.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{z(!1)}};$e.length>0&&ie()},[d,o,$e]),b.useEffect(()=>{e&&(async()=>{try{const ve=await l();be(ve);const He=(await i(0)).map(re=>({id:Number(re.id),name:re.group_name??"",description:re.group_description??void 0}));de(He);const Nt=await s();x(Nt);const ge=await n();if(m(ge),e&&e.id){const re=await r(parseInt(e.id));w(re)}}catch(ve){console.error("Failed to fetch master data:",ve)}})()},[e,n,r,s,i,l]),b.useEffect(()=>{const ie=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]),b.useEffect(()=>{const ie=ve=>{X.current&&!X.current.contains(ve.target)&&O(!1),H.current&&!H.current.contains(ve.target)&&F(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]),b.useEffect(()=>{if(pe.service_type_id&&y.length>0){const ie=y.filter(ve=>String(ve.service_type)===pe.service_type_id);ne(ie)}else ne([])},[pe.service_type_id,y]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",M),localStorage.setItem("sidebarOpen",JSON.stringify(C))},[C,M]);const st=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!C)),S(ie=>!ie)},rt=b.useCallback((ie,ve)=>{let je,He;if(ie&&"target"in ie)je=ie.target.name,He=ie.target.value;else if(ie&&typeof ie=="object"&&"value"in ie&&ve)je=ve,ve==="assigned_to_id"||ve==="requester_id"||ve==="known_by_id"?He=ie.value?parseInt(ie.value):null:He=ie.value;else if(ie===null&&ve)je=ve,He=null;else return;Ne(Nt=>({...Nt,[je]:He}))},[]),Ve=ie=>{oe(ie),Ne(ve=>({...ve,vendor_id:ie.id})),ce(!1)},Ue=async ie=>{ie.preventDefault(),I(!0),V(null);const ve=["In Progress","Escalated","Vendor Handled","Resolved"];if(pe.handling_status&&ve.includes(pe.handling_status)&&!pe.assigned_to_id){V("Assigned To is required for this status"),I(!1);return}if(pe.handling_status==="Vendor Handled"&&!pe.vendor_id){V("Vendor selection is required for Vendor Handled status"),I(!1);return}if(!pe.handling_status){V("Handling status is required"),I(!1);return}if(!pe.handling_date){V("Handling date is required"),I(!1);return}if(!pe.action_taken||pe.action_taken.length<5){V("Action taken must be at least 5 characters"),I(!1);return}const je={...pe,id:pe.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:pe.handling_date,action_taken:pe.action_taken,handling_status:pe.handling_status,remarks:pe.remarks,assigned_to_id:pe.assigned_to_id?parseInt(pe.assigned_to_id):null,vendor_id:pe.vendor_id};try{await t(je),R({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${pe.id}`}}),q(!0)}catch(He){V(He.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",He)}finally{I(!1)}},Ye=b.useCallback(()=>{q(!1),c("/workorders/it/assignment")},[c]),kt={control:(ie,ve)=>({...ie,minHeight:"42px",borderColor:ve.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ve.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ie=>({...ie,padding:"0"}),singleValue:ie=>({...ie,color:"#374151"}),placeholder:ie=>({...ie,color:"#6B7280"}),dropdownIndicator:ie=>({...ie,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ie=>({...ie,display:"none"}),menu:ie=>({...ie,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ie,ve)=>({...ie,backgroundColor:ve.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Oe=()=>{const ie=h.find(ve=>parseInt(ve.id)===pe.requester_id);return(ie==null?void 0:ie.name)||"Unknown"},Xe=()=>{const ie=p.find(ve=>ve.id===pe.department_id);return(ie==null?void 0:ie.name)||"No department assigned"},Pt=()=>{const ie=p.find(ve=>ve.id===pe.department_id);if(ie&&ie.head_id){const ve=h.find(je=>parseInt(je.id)===ie.head_id);return(ve==null?void 0:ve.name)||"No department head assigned"}return"No department head assigned"},Se=()=>{const ie=fe.find(ve=>String(ve.id)===pe.service_type_id);return(ie==null?void 0:ie.name)||"Unknown"},bt=()=>{const ie=y.find(ve=>String(ve.id)===pe.service_id);return(ie==null?void 0:ie.service_name)||"Unknown"},yt=()=>{if(!pe.attachment)return null;try{const ve=new URL(pe.attachment).pathname;return ve.substring(ve.lastIndexOf("/")+1)}catch{return pe.attachment}},Pe=()=>{pe.attachment&&window.open(pe.attachment,"_blank")};return P?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Cn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[v&&a.jsx(k.button,{onClick:st,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsxs(k.button,{onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(Ys,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back to Assignment"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Update Work Order"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>_(!M),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":M?"Switch to light mode":"Switch to dark mode",children:M?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:X,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>O(!A),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:A&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>O(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:a.jsxs("div",{className:"flex items-start px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:a.jsx(Et,{className:"text-blue-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-gray-800",children:"Work Order Updated"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"You have successfully updated a work order"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Just now"})]})]})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{O(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:H,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>F(!D),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(e==null?void 0:e.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:e==null?void 0:e.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:D&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(e==null?void 0:e.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{c("/profile"),F(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{c("/settings"),F(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{c("/logout"),F(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),a.jsxs(k.button,{onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ys,{className:"text-lg"})," Back to Assignment"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[U&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:U}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>V(null)})})]}),a.jsxs("form",{onSubmit:Ue,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Sn,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:pe.date})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:pe.reception_method})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Oe()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Xe()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Pt()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(uo,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Se()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:bt()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:pe.asset_no})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(dh,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:pe.device_info})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),a.jsx(Ie,{content:pe.complaint,className:"min-h-[100px]"})]})]})]}),pe.attachment&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(qf,{className:"mr-2 text-gray-500"})," Attachment"]}),a.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[a.jsx("span",{className:"text-gray-700",children:yt()}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Pe,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Et,{className:"mr-2 text-blue-500"})," Handling Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:pe.handling_date||"",onChange:rt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:pe.handling_status?{value:pe.handling_status,label:pe.handling_status}:null,onChange:ie=>rt(ie,"handling_status"),placeholder:"Select Handling Status",styles:kt,required:!0})]}),we&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(_n,{id:"assigned_to_id",name:"assigned_to_id",options:h.map(ie=>({value:String(ie.id),label:ie.name})),value:pe.assigned_to_id?{value:String(pe.assigned_to_id),label:((ht=h.find(ie=>parseInt(ie.id)===pe.assigned_to_id))==null?void 0:ht.name)||"Unknown"}:null,onChange:ie=>rt(ie,"assigned_to_id"),placeholder:"Select Assignee",styles:kt,required:we})]}),Ee&&a.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(uo,{className:"mr-2 text-gray-600"})," Vendor Information"]}),ae?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),a.jsx(k.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(null),Ne(ie=>({...ie,vendor_id:null})),ce(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ae.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ae.contact_person})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ae.address||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ae.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ae.telp||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:ae.HP||"-"})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(k.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce(!Y),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:Y?"Hide Vendors":"Select Vendor"})]}),Y&&a.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:$e.length>0?$e.map(ie=>a.jsxs(k.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>Ve(ie),children:[a.jsx("div",{className:"font-medium text-gray-900",children:ie.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[ie.contact_person,"  ",ie.email]}),a.jsx("div",{className:"text-xs text-gray-500",children:ie.address})]},ie.id)):a.jsxs("div",{className:"p-4 text-center text-gray-600",children:[a.jsx(Zt,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(oc,{value:pe.action_taken||"",onChange:ie=>{Ne(ve=>({...ve,action_taken:ie}))}})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(oc,{value:pe.remarks||"",onChange:ie=>{Ne(ve=>({...ve,remarks:ie}))}})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(k.button,{type:"button",onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(hn,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:L,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:L?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(gqe,{isOpen:W,onClose:Ye,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:$==null?void 0:$.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(vt=$==null?void 0:$.work_order)==null?void 0:vt.work_order_no]}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Ye,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},bqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,yqe=()=>{const{id:t}=Ks(),[e,n]=b.useState(window.innerWidth<768),[r,s]=b.useState([]),[i,o]=b.useState(),{getActivity:l,updateActivity:c,getActivityById:d}=_t(),[h,m]=b.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),[p,x]=b.useState(null),[y,w]=b.useState(null),[v,N]=b.useState(!1),[C,S]=b.useState(!1),M=St(),[_,A]=b.useState({name:"",description:""}),O=()=>{m(P=>!P)};b.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const D=P=>{const{name:z,value:U}=P.target;A(V=>({...V,[z]:z==="sla"?Number(U):U}))},F=b.useCallback(async()=>{try{if(t){const[P]=await Promise.all([d(t)]);o(P)}}catch(P){x(P.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&F()},[t,F]);const L=async P=>{P.preventDefault(),S(!0),x(null);try{const z={name:_.name,description:_.description};await c(t,z),w("Activity update successfully!"),N(!0)}catch(z){x(z.message||"Failed to update Activity")}finally{S(!1)}},I=()=>{N(!1),M("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Edit Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Wl,{}),isMobile:e,toggleSidebar:O}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity information"})]}),a.jsxs(k.button,{onClick:()=>M("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Activity Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>x(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>M("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),a.jsx(bqe,{isOpen:v,onClose:I,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:y}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},vqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,wqe=()=>{const[t,e]=b.useState(window.innerWidth<768),[n,r]=b.useState([]),[s,i]=b.useState([]),{addActivity:o,getActivity:l}=_t(),[c,d]=b.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=b.useState(null),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v,N]=b.useState(!1),C=St(),[S,M]=b.useState({name:"",description:""}),_=()=>{d(L=>!L)},A=L=>{const{name:I,value:P}=L.target;M(z=>({...z,[I]:I==="sla"?Number(P):P}))},O=b.useCallback(async()=>{try{const[L]=await Promise.all([l()]);r(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);b.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,description:S.description};await o(I),x("Activity created successfully!"),w(!0)}catch(I){m(I.message||"Failed to create Activity")}finally{N(!1)}},F=()=>{w(!1),C("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Create Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Wl,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity information"})]}),a.jsxs(k.button,{onClick:()=>C("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Activity Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>C("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),a.jsx(vqe,{isOpen:y,onClose:F,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},jqe=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),yG=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},Nqe=()=>{const[t,e]=b.useState([]),{getActivity:n,deleteActivity:r}=_t(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[h,m]=b.useState(!1),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v]=b.useState(window.innerWidth<768),[N,C]=b.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),S=St(),M=b.useRef(null),[_,A]=b.useState(!1),O=b.useMemo(()=>[{id:"activity",name:"Activity"},{id:"description",name:"Description"}],[]),D=b.useCallback(async()=>{try{i(!0);const W=[...await n()].sort((q,X)=>q.id-X.id);e(W)}catch(R){l("Failed to load activities"),console.error("Error loading activities:",R)}finally{i(!1)}},[n]);b.useEffect(()=>{D()},[D]);const F=()=>{const R=!N;C(R),localStorage.setItem("sidebarOpen",JSON.stringify(R))},L=()=>{alert("Import functionality is not yet implemented.")},I=R=>{const W=R.target.value;d(W)},P=b.useMemo(()=>{if(!c)return O;const R=c.toLowerCase();return O.filter(W=>W.name.toLowerCase().includes(R))},[c,O]),z=R=>{var W;d(`${R}: `),A(!1),(W=M.current)==null||W.focus()},U=b.useMemo(()=>{if(!c.trim())return t;const R=c.toLowerCase().trim(),W=R.split(":");let q="all",X=R;return W.length>1&&O.some(H=>H.name.toLowerCase()===W[0].trim())&&(q=W[0].trim(),X=W.slice(1).join(":").trim()),t.filter(H=>{var fe,de;const J=(fe=H.name)==null?void 0:fe.toLowerCase().includes(X),ne=(de=H.description)==null?void 0:de.toLowerCase().includes(X);return q==="activity"?J:q==="description"?ne:J||ne})},[t,c,O]),V=async R=>{try{await r(R),e(t.filter(W=>W.id!==R)),m(!1),x(null)}catch(W){console.error("Failed to delete activity:",W),l("Failed to delete activity. Please try again.")}},$=b.useCallback(R=>{x(R),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Activity",mainTitleHighlight:"Page",description:"Manage activities and their configurations within the system.",icon:a.jsx(Wl,{}),isMobile:v,toggleSidebar:F}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activities by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(k.button,{onClick:()=>S("/maintenanceactivity/activity/addactivity"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Activity"})]}),a.jsxs(k.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(k.button,{onClick:()=>w(!y),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(k.span,{animate:{rotate:y?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(yG,{title:"Total Activities",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Wl,{className:"w-6 h-6"})}),a.jsx(yG,{title:"Active Activities",value:t.filter(R=>R.description&&R.description.length>0).length.toString(),change:`+${Math.floor(t.filter(R=>R.description&&R.description.length>0).length/t.length*100)}%`,icon:a.jsx(Wl,{className:"w-6 h-6"})})]}),a.jsxs(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:M,type:"text",placeholder:"Search by activity or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search activities"}),a.jsx(qe,{children:_&&P.length>0&&a.jsx(k.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:P.map(R=>a.jsx(k.button,{onClick:()=>z(R.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:R.name})},R.id))})})]})}),a.jsx(qe,{children:y&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity data..."})]}):U.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activities found matching your search.":"No activities available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:U.map(R=>a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activity/editactivity/${R.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(fs,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>$(R.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(Er,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activity/view/${R.id}`),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:a.jsx(ns,{className:"inline text-base"})})]})]},R.id))})]})})})]})]}),a.jsx(jqe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&V(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Sqe=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),vG=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},kqe=()=>{const[t,e]=b.useState([]),{getTroubleItem:n,deleteTroubleItem:r}=_t(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[h,m]=b.useState(!1),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v]=b.useState(window.innerWidth<768),[N,C]=b.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),S=St(),M=b.useRef(null),[_,A]=b.useState(!1),O=b.useMemo(()=>[{id:"troubleitem",name:"Trouble Item"},{id:"description",name:"Description"}],[]),D=b.useCallback(async()=>{try{i(!0);const W=[...await n()].sort((q,X)=>q.id-X.id);e(W)}catch(R){l("Failed to load trouble items"),console.error("Error loading trouble items:",R)}finally{i(!1)}},[n]);b.useEffect(()=>{D()},[D]);const F=()=>{const R=!N;C(R),localStorage.setItem("sidebarOpen",JSON.stringify(R))},L=()=>{alert("Import functionality is not yet implemented.")},I=R=>{const W=R.target.value;d(W)},P=b.useMemo(()=>{if(!c)return O;const R=c.toLowerCase();return O.filter(W=>W.name.toLowerCase().includes(R))},[c,O]),z=R=>{var W;d(`${R}: `),A(!1),(W=M.current)==null||W.focus()},U=b.useMemo(()=>{if(!c.trim())return t;const R=c.toLowerCase().trim(),W=R.split(":");let q="all",X=R;return W.length>1&&O.some(H=>H.name.toLowerCase()===W[0].trim())&&(q=W[0].trim(),X=W.slice(1).join(":").trim()),t.filter(H=>{var fe,de;const J=(fe=H.name)==null?void 0:fe.toLowerCase().includes(X),ne=(de=H.description)==null?void 0:de.toLowerCase().includes(X);return q==="trouble item"?J:q==="description"?ne:J||ne})},[t,c,O]),V=async R=>{try{await r(R),e(t.filter(W=>W.id!==R)),m(!1),x(null)}catch(W){console.error("Failed to delete trouble item:",W),l("Failed to delete trouble item. Please try again.")}},$=b.useCallback(R=>{x(R),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Trouble Item",mainTitleHighlight:"Page",description:"Manage trouble items and their configurations within the system.",icon:a.jsx(Zt,{}),isMobile:v,toggleSidebar:F}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Trouble Item ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage trouble items by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(k.button,{onClick:()=>S("/maintenanceactivity/troubleitem/addtroubleitem"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Trouble Item"})]}),a.jsxs(k.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(k.button,{onClick:()=>w(!y),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(k.span,{animate:{rotate:y?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(vG,{title:"Total Trouble Items",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Zt,{className:"w-6 h-6"})}),a.jsx(vG,{title:"Active Items",value:t.filter(R=>R.description&&R.description.length>0).length.toString(),change:`+${Math.floor(t.filter(R=>R.description&&R.description.length>0).length/t.length*100)}%`,icon:a.jsx(Zt,{className:"w-6 h-6"})})]}),a.jsxs(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:M,type:"text",placeholder:"Search by trouble item or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search trouble items"}),a.jsx(qe,{children:_&&P.length>0&&a.jsx(k.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:P.map(R=>a.jsx(k.button,{onClick:()=>z(R.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:R.name})},R.id))})})]})}),a.jsx(qe,{children:y&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading trouble item data..."})]}):U.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No trouble items found matching your search.":"No trouble items available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Trouble Item"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:U.map(R=>a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/troubleitem/edittroubleitem/${R.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(fs,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>$(R.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(Er,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/troubleitem/view/${R.id}`),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:a.jsx(ns,{className:"inline text-base"})})]})]},R.id))})]})})})]})]}),a.jsx(Sqe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this trouble item? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&V(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Cqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,wG=()=>{const[t,e]=b.useState(window.innerWidth<768),[n,r]=b.useState([]),[s,i]=b.useState([]),{addTroubleItem:o,getTroubleItem:l}=_t(),[c,d]=b.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=b.useState(null),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v,N]=b.useState(!1),C=St(),[S,M]=b.useState({name:"",description:""}),_=()=>{d(L=>!L)},A=L=>{const{name:I,value:P}=L.target;M(z=>({...z,[I]:I==="sla"?Number(P):P}))},O=b.useCallback(async()=>{try{const[L]=await Promise.all([l()]);r(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);b.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,description:S.description};await o(I),x("Trouble Item created successfully!"),w(!0)}catch(I){m(I.message||"Failed to create Trouble Item")}finally{N(!1)}},F=()=>{w(!1),C("/maintenanceactivity/troubleitem")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Create Trouble Item",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Zt,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Trouble Item"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Trouble Item information"})]}),a.jsxs(k.button,{onClick:()=>C("/maintenanceactivity/troubleitem"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Trouble Item Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Trouble Item Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Trouble Item Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>C("/maintenanceactivity/troubleitem"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Trouble Item"]})})]})]})]})]})]}),a.jsx(Cqe,{isOpen:y,onClose:F,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Trouble Item Management"})]})})]})},_qe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,Tqe=()=>{const[t,e]=b.useState(window.innerWidth<768),[n,r]=b.useState([]),[s,i]=b.useState([]),{addWorkUnit:o,getWorkUnit:l}=_t(),[c,d]=b.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=b.useState(null),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v,N]=b.useState(!1),C=St(),[S,M]=b.useState({name:"",is_production:"",description:""}),_=()=>{d(L=>!L)},A=L=>{const{name:I,value:P}=L.target;M(z=>({...z,[I]:I==="sla"?Number(P):P}))},O=b.useCallback(async()=>{try{const[L]=await Promise.all([l()]);r(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);b.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,is_production:S.is_production,description:S.description};await o(I),x("Work Unit created successfully!"),w(!0)}catch(I){m(I.message||"Failed to create Work Unit")}finally{N(!1)}},F=()=>{w(!1),C("/worklocation/workunit")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Create Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Af,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Unit"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Unit information"})]}),a.jsxs(k.button,{onClick:()=>C("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Unit Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"is_production",id:"is_production",value:S.is_production,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Production",children:"Production"}),a.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(oc,{value:S.description,onChange:L=>{M(I=>({...I,description:L}))}})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>C("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),a.jsx(_qe,{isOpen:y,onClose:F,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},Mqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,Aqe=()=>{const{id:t}=Ks(),[e,n]=b.useState(window.innerWidth<768),[r,s]=b.useState([]),[i,o]=b.useState(),{getWorkUnit:l,updateWorkUnit:c,getWorkUnitById:d}=_t(),[h,m]=b.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),[p,x]=b.useState(null),[y,w]=b.useState(null),[v,N]=b.useState(!1),[C,S]=b.useState(!1),M=St(),[_,A]=b.useState({name:"",is_production:"",description:""}),O=()=>{m(P=>!P)};b.useEffect(()=>{i&&A({name:i.name||"",is_production:i.is_production||"",description:i.description||""})},[i]);const D=P=>{const{name:z,value:U}=P.target;A(V=>({...V,[z]:z==="sla"?Number(U):U}))},F=b.useCallback(async()=>{try{if(t){const[P]=await Promise.all([d(t)]);o(P)}}catch(P){x(P.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&F()},[t,F]);const L=async P=>{P.preventDefault(),S(!0),x(null);try{const z={name:_.name,is_production:_.is_production,description:_.description};await c(t,z),w("Work Unit update successfully!"),N(!0)}catch(z){x(z.message||"Failed to update Work Unit")}finally{S(!1)}},I=()=>{N(!1),M("/worklocation/workunit")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Edit Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Af,{}),isMobile:e,toggleSidebar:O}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Unit"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Unit information"})]}),a.jsxs(k.button,{onClick:()=>M("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Unit Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>x(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"is_production",id:"is_production",value:_.is_production,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Production",children:"Production"}),a.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>M("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),a.jsx(Mqe,{isOpen:v,onClose:I,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:y}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},Oqe=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),jG=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},Eqe=()=>{const[t,e]=b.useState([]),{getWorkUnit:n,deleteWorkUnit:r}=_t(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[h,m]=b.useState(!1),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v]=b.useState(window.innerWidth<768),[N,C]=b.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),S=St(),M=b.useRef(null),[_,A]=b.useState(!1),O=b.useMemo(()=>[{id:"workunit",name:"Work Unit"},{id:"description",name:"Description"}],[]),D=b.useCallback(async()=>{try{i(!0);const W=[...await n()].sort((q,X)=>q.id-X.id);e(W)}catch(R){l("Failed to load work units"),console.error("Error loading work units:",R)}finally{i(!1)}},[n]);b.useEffect(()=>{D()},[D]);const F=()=>{const R=!N;C(R),localStorage.setItem("sidebarOpen",JSON.stringify(R))},L=()=>{alert("Import functionality is not yet implemented.")},I=R=>{const W=R.target.value;d(W)},P=b.useMemo(()=>{if(!c)return O;const R=c.toLowerCase();return O.filter(W=>W.name.toLowerCase().includes(R))},[c,O]),z=R=>{var W;d(`${R}: `),A(!1),(W=M.current)==null||W.focus()},U=b.useMemo(()=>{if(!c.trim())return t;const R=c.toLowerCase().trim(),W=R.split(":");let q="all",X=R;return W.length>1&&O.some(H=>H.name.toLowerCase()===W[0].trim())&&(q=W[0].trim(),X=W.slice(1).join(":").trim()),t.filter(H=>{var fe,de;const J=(fe=H.name)==null?void 0:fe.toLowerCase().includes(X),ne=(de=H.description)==null?void 0:de.toLowerCase().includes(X);return q==="work unit"?J:q==="description"?ne:J||ne})},[t,c,O]),V=async R=>{try{await r(R),e(t.filter(W=>W.id!==R)),m(!1),x(null)}catch(W){console.error("Failed to delete work unit:",W),l("Failed to delete work unit. Please try again.")}},$=b.useCallback(R=>{x(R),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(Af,{}),isMobile:v,toggleSidebar:F}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Unit ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work units by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(k.button,{onClick:()=>S("/worklocation/workunit/addworkunit"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Work Unit"})]}),a.jsxs(k.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(k.button,{onClick:()=>w(!y),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(k.span,{animate:{rotate:y?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(jG,{title:"Total Work Units",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Af,{className:"w-6 h-6"})}),a.jsx(jG,{title:"Production Units",value:t.filter(R=>R.is_production==="1").length.toString(),change:`+${Math.floor(t.filter(R=>R.is_production==="1").length/t.length*100)}%`,icon:a.jsx(Af,{className:"w-6 h-6"})})]}),a.jsxs(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:M,type:"text",placeholder:"Search by work unit or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search work units"}),a.jsx(qe,{children:_&&P.length>0&&a.jsx(k.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:P.map(R=>a.jsx(k.button,{onClick:()=>z(R.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:R.name})},R.id))})})]})}),a.jsx(qe,{children:y&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work unit data..."})]}):U.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work units found matching your search.":"No work units available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Unit"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Production?"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:U.map(R=>a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.is_production==="1"?"Yes":"No"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workunit/editworkunit/${R.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(fs,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>$(R.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(Er,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workunit/view/${R.id}`),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:a.jsx(ns,{className:"inline text-base"})})]})]},R.id))})]})})})]})]}),a.jsx(Oqe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work unit? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&V(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Dqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,NG=()=>{const{id:t}=Ks(),[e,n]=b.useState(window.innerWidth<768),[r,s]=b.useState([]),[i,o]=b.useState(),{getWorkGroup:l,updateWorkGroup:c,getWorkGroupById:d}=_t(),[h,m]=b.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),[p,x]=b.useState(null),[y,w]=b.useState(null),[v,N]=b.useState(!1),[C,S]=b.useState(!1),M=St(),[_,A]=b.useState({name:"",description:""}),O=()=>{m(P=>!P)};b.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const D=P=>{const{name:z,value:U}=P.target;A(V=>({...V,[z]:z==="sla"?Number(U):U}))},F=b.useCallback(async()=>{try{if(t){const[P]=await Promise.all([d(t)]);o(P)}}catch(P){x(P.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&F()},[t,F]);const L=async P=>{P.preventDefault(),S(!0),x(null);try{const z={name:_.name,description:_.description};await c(t,z),w("Work Group update successfully!"),N(!0)}catch(z){x(z.message||"Failed to update Work Group")}finally{S(!1)}},I=()=>{N(!1),M("/workarrangement/workgroup")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Edit Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(ja,{}),isMobile:e,toggleSidebar:O}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Group information"})]}),a.jsxs(k.button,{onClick:()=>M("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Group Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>x(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>M("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),a.jsx(Dqe,{isOpen:v,onClose:I,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:y}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},Pqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,SG=()=>{const[t,e]=b.useState(window.innerWidth<768),[n,r]=b.useState([]),[s,i]=b.useState([]),{addWorkGroup:o,getWorkGroup:l}=_t(),[c,d]=b.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=b.useState(null),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v,N]=b.useState(!1),C=St(),[S,M]=b.useState({name:"",description:""}),_=()=>{d(L=>!L)},A=L=>{const{name:I,value:P}=L.target;M(z=>({...z,[I]:I==="sla"?Number(P):P}))},O=b.useCallback(async()=>{try{const[L]=await Promise.all([l()]);r(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);b.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,description:S.description};await o(I),x("Work Group created successfully!"),w(!0)}catch(I){m(I.message||"Failed to create Work Group")}finally{N(!1)}},F=()=>{w(!1),C("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Create Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(ja,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Group information"})]}),a.jsxs(k.button,{onClick:()=>C("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Group Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>C("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),a.jsx(Pqe,{isOpen:y,onClose:F,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},Rqe=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),kG=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},CG=()=>{const[t,e]=b.useState([]),{getWorkGroup:n,deleteWorkGroup:r}=_t(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[h,m]=b.useState(!1),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v]=b.useState(window.innerWidth<768),[N,C]=b.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),S=St(),M=b.useRef(null),[_,A]=b.useState(!1),O=b.useMemo(()=>[{id:"workgroup",name:"Work Group"},{id:"description",name:"Description"}],[]),D=b.useCallback(async()=>{try{i(!0);const W=[...await n()].sort((q,X)=>q.id-X.id);e(W)}catch(R){l("Failed to load work groups"),console.error("Error loading work groups:",R)}finally{i(!1)}},[n]);b.useEffect(()=>{D()},[D]);const F=()=>{const R=!N;C(R),localStorage.setItem("sidebarOpen",JSON.stringify(R))},L=()=>{alert("Import functionality is not yet implemented.")},I=R=>{const W=R.target.value;d(W)},P=b.useMemo(()=>{if(!c)return O;const R=c.toLowerCase();return O.filter(W=>W.name.toLowerCase().includes(R))},[c,O]),z=R=>{var W;d(`${R}: `),A(!1),(W=M.current)==null||W.focus()},U=b.useMemo(()=>{if(!c.trim())return t;const R=c.toLowerCase().trim(),W=R.split(":");let q="all",X=R;return W.length>1&&O.some(H=>H.name.toLowerCase()===W[0].trim())&&(q=W[0].trim(),X=W.slice(1).join(":").trim()),t.filter(H=>{var fe,de;const J=(fe=H.name)==null?void 0:fe.toLowerCase().includes(X),ne=(de=H.description)==null?void 0:de.toLowerCase().includes(X);return q==="work group"?J:q==="description"?ne:J||ne})},[t,c,O]),V=async R=>{try{await r(R),e(t.filter(W=>W.id!==R)),m(!1),x(null)}catch(W){console.error("Failed to delete work group:",W),l("Failed to delete work group. Please try again.")}},$=b.useCallback(R=>{x(R),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Work Group",mainTitleHighlight:"Page",description:"Manage work groups and their configurations within the system.",icon:a.jsx(ja,{}),isMobile:v,toggleSidebar:F}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Group ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work groups by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(k.button,{onClick:()=>S("/workarrangement/workgroup/addworkgroup"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Work Group"})]}),a.jsxs(k.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(k.button,{onClick:()=>w(!y),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(k.span,{animate:{rotate:y?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(kG,{title:"Total Work Groups",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(ja,{className:"w-6 h-6"})}),a.jsx(kG,{title:"Active Groups",value:t.filter(R=>R.description&&R.description.length>0).length.toString(),change:`+${Math.floor(t.filter(R=>R.description&&R.description.length>0).length/t.length*100)}%`,icon:a.jsx(ja,{className:"w-6 h-6"})})]}),a.jsxs(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:M,type:"text",placeholder:"Search by work group or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search work groups"}),a.jsx(qe,{children:_&&P.length>0&&a.jsx(k.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:P.map(R=>a.jsx(k.button,{onClick:()=>z(R.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:R.name})},R.id))})})]})}),a.jsx(qe,{children:y&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work group data..."})]}):U.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work groups found matching your search.":"No work groups available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Group"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:U.map(R=>a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workgroup/editworkgroup/${R.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(fs,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>$(R.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(Er,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workgroup/view/${R.id}`),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:a.jsx(ns,{className:"inline text-base"})})]})]},R.id))})]})})})]})]}),a.jsx(Rqe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work group? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&V(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Lqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,Iqe=()=>{const{id:t}=Ks(),[e,n]=b.useState(window.innerWidth<768),[r,s]=b.useState([]),[i,o]=b.useState(),{getWorkShift:l,updateWorkShift:c,getWorkShiftById:d}=_t(),[h,m]=b.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),[p,x]=b.useState(null),[y,w]=b.useState(null),[v,N]=b.useState(!1),[C,S]=b.useState(!1),M=St(),[_,A]=b.useState({name:"",description:""}),O=()=>{m(P=>!P)};b.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const D=P=>{const{name:z,value:U}=P.target;A(V=>({...V,[z]:z==="sla"?Number(U):U}))},F=b.useCallback(async()=>{try{if(t){const[P]=await Promise.all([d(t)]);o(P)}}catch(P){x(P.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&F()},[t,F]);const L=async P=>{P.preventDefault(),S(!0),x(null);try{const z={name:_.name,description:_.description};await c(t,z),w("Work Shift update successfully!"),N(!0)}catch(z){x(z.message||"Failed to update Work Shift")}finally{S(!1)}},I=()=>{N(!1),M("/workarrangement/workshift")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Edit Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Sn,{}),isMobile:e,toggleSidebar:O}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Shift"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Shift information"})]}),a.jsxs(k.button,{onClick:()=>M("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Shift Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>x(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>M("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),a.jsx(Lqe,{isOpen:v,onClose:I,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:y}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},Fqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,$qe=()=>{const[t,e]=b.useState(window.innerWidth<768),[n,r]=b.useState([]),[s,i]=b.useState([]),{addWorkShift:o,getWorkShift:l}=_t(),[c,d]=b.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=b.useState(null),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v,N]=b.useState(!1),C=St(),[S,M]=b.useState({name:"",description:""}),_=()=>{d(L=>!L)},A=L=>{const{name:I,value:P}=L.target;M(z=>({...z,[I]:I==="sla"?Number(P):P}))},O=b.useCallback(async()=>{try{const[L]=await Promise.all([l()]);r(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);b.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,description:S.description};await o(I),x("Work Shift created successfully!"),w(!0)}catch(I){m(I.message||"Failed to create Work Shift")}finally{N(!1)}},F=()=>{w(!1),C("/workarrangement/workshift")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Create Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Sn,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Shift"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Shift information"})]}),a.jsxs(k.button,{onClick:()=>C("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Work Shift Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>C("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),a.jsx(Fqe,{isOpen:y,onClose:F,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},Hqe=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),_G=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},zqe=()=>{const[t,e]=b.useState([]),{getWorkShift:n,deleteWorkShift:r}=_t(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[h,m]=b.useState(!1),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v]=b.useState(window.innerWidth<768),[N,C]=b.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),S=St(),M=b.useRef(null),[_,A]=b.useState(!1),O=b.useMemo(()=>[{id:"workshift",name:"Work Shift"},{id:"description",name:"Description"}],[]),D=b.useCallback(async()=>{try{i(!0);const W=[...await n()].sort((q,X)=>q.id-X.id);e(W)}catch(R){l("Failed to load work shifts"),console.error("Error loading work shifts:",R)}finally{i(!1)}},[n]);b.useEffect(()=>{D()},[D]);const F=()=>{const R=!N;C(R),localStorage.setItem("sidebarOpen",JSON.stringify(R))},L=()=>{alert("Import functionality is not yet implemented.")},I=R=>{const W=R.target.value;d(W)},P=b.useMemo(()=>{if(!c)return O;const R=c.toLowerCase();return O.filter(W=>W.name.toLowerCase().includes(R))},[c,O]),z=R=>{var W;d(`${R}: `),A(!1),(W=M.current)==null||W.focus()},U=b.useMemo(()=>{if(!c.trim())return t;const R=c.toLowerCase().trim(),W=R.split(":");let q="all",X=R;return W.length>1&&O.some(H=>H.name.toLowerCase()===W[0].trim())&&(q=W[0].trim(),X=W.slice(1).join(":").trim()),t.filter(H=>{var fe,de;const J=(fe=H.name)==null?void 0:fe.toLowerCase().includes(X),ne=(de=H.description)==null?void 0:de.toLowerCase().includes(X);return q==="work shift"?J:q==="description"?ne:J||ne})},[t,c,O]),V=async R=>{try{await r(R),e(t.filter(W=>W.id!==R)),m(!1),x(null)}catch(W){console.error("Failed to delete work shift:",W),l("Failed to delete work shift. Please try again.")}},$=b.useCallback(R=>{x(R),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Work Shift",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(Sn,{}),isMobile:v,toggleSidebar:F}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Shift ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work shifts by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(k.button,{onClick:()=>S("/workarrangement/workshift/addworkshift"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Work Shift"})]}),a.jsxs(k.button,{onClick:L,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(k.button,{onClick:()=>w(!y),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(k.span,{animate:{rotate:y?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(_G,{title:"Total Work Shifts",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Sn,{className:"w-6 h-6"})}),a.jsx(_G,{title:"Active Shifts",value:t.filter(R=>R.description&&R.description.length>0).length.toString(),change:`+${Math.floor(t.filter(R=>R.description&&R.description.length>0).length/t.length*100)}%`,icon:a.jsx(Sn,{className:"w-6 h-6"})})]}),a.jsxs(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:M,type:"text",placeholder:"Search by work shift or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:I,onFocus:()=>A(!0),"aria-label":"Search work shifts"}),a.jsx(qe,{children:_&&P.length>0&&a.jsx(k.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:P.map(R=>a.jsx(k.button,{onClick:()=>z(R.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:R.name})},R.id))})})]})}),a.jsx(qe,{children:y&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work shift data..."})]}):U.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work shifts found matching your search.":"No work shifts available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Shift"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:U.map(R=>a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workshift/editworkshift/${R.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(fs,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>$(R.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(Er,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workshift/view/${R.id}`),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:a.jsx(ns,{className:"inline text-base"})})]})]},R.id))})]})})})]})]}),a.jsx(Hqe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work shift? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&V(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Bqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,Vqe=()=>{const t=St(),{getAllMasterMonitoring:e,addMonitoringSchedule:n,addMonitoringActivities:r,getMesinDetail:s}=_t(),[i,o]=b.useState(!1),[l,c]=b.useState(null),[d,h]=b.useState(null),[m,p]=b.useState(!1),[x,y]=b.useState(null),[w,v]=b.useState(!0),[N,C]=b.useState(1),[S,M]=b.useState({startDate:null,endDate:null,units:[]}),_={control:(q,X)=>({...q,minHeight:"42px",borderColor:X.isFocused?"#3B82F6":"#D1D5DB",boxShadow:X.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:q=>({...q,padding:"0"}),singleValue:q=>({...q,color:"#374151"}),placeholder:q=>({...q,color:"#6B7280"}),dropdownIndicator:q=>({...q,color:"#9CA3AF"}),clearIndicator:q=>({...q,color:"#9CA3AF"}),menu:q=>({...q,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(q,X)=>({...q,backgroundColor:X.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};b.useEffect(()=>{(async()=>{try{v(!0);const X=await e();y(X)}catch{c("Gagal memuat data master")}finally{v(!1)}})()},[e]);const A=b.useCallback(()=>{M(q=>({...q,units:[...q.units,{id:0,name:"",machines:[]}]}))},[]),O=b.useCallback(q=>{M(X=>({...X,units:X.units.filter((H,J)=>J!==q)}))},[]),D=b.useCallback((q,X)=>{var H;if(X){const J=(H=x==null?void 0:x.unitsWithMachines)==null?void 0:H.find(ne=>ne.id===X.value);J&&M(ne=>{const fe=[...ne.units];return fe[q]={id:J.id,name:J.name,machines:[]},{...ne,units:fe}})}else M(J=>{const ne=[...J.units];return ne[q]={id:0,name:"",machines:[]},{...J,units:ne}})},[x]),F=b.useCallback(q=>{M(X=>{const H=[...X.units];return H[q].machines=[...H[q].machines,{id:0,name:"",intervalId:null,items:[]}],{...X,units:H}})},[]),L=b.useCallback((q,X)=>{M(H=>{const J=[...H.units];return J[q].machines=J[q].machines.filter((ne,fe)=>fe!==X),{...H,units:J}})},[]),I=b.useCallback(async(q,X,H)=>{if(H)try{const J=await s(H.value);J&&M(ne=>{const fe=[...ne.units];return fe[q].machines[X]={id:J.id,name:J.name,intervalId:null,items:J.item_mesin.map(de=>({...de,hasil_monitoring:"",hasil_keterangan:"",interval_type:""}))},{...ne,units:fe}})}catch(J){console.error("Error fetching machine detail:",J),c("Gagal memuat detail mesin")}else M(J=>{const ne=[...J.units];return ne[q].machines[X]={id:0,name:"",intervalId:null,items:[]},{...J,units:ne}})},[s]),P=b.useCallback((q,X,H)=>{var J,ne,fe;if(H&&((ne=(J=S.units[q])==null?void 0:J.machines[X])!=null&&ne.id)){const de=(fe=x==null?void 0:x.intervals)==null?void 0:fe.find(we=>we.id_interval===H.value);de&&M(we=>{const Fe=[...we.units],$e=Fe[q].machines[X],be=$e.items.filter(Ee=>Ee.interval_id===de.id_interval);return Fe[q].machines[X]={...$e,intervalId:de.id_interval,intervalType:de.type_interval,items:be.map(Ee=>({...Ee,interval_type:de.type_interval}))},{...we,units:Fe}})}else M(de=>{const we=[...de.units],Fe=we[q].machines[X];return we[q].machines[X]={...Fe,intervalId:null,intervalType:void 0,items:Fe.items.map($e=>({...$e,interval_type:""}))},{...de,units:we}})},[x,S.units]);b.useCallback((q,X,H,J,ne)=>{M(fe=>{const de=[...fe.units];return de[q].machines[X].items[H]={...de[q].machines[X].items[H],[J]:ne},{...fe,units:de}})},[]);const z=["January","February","March","April","May","June","July","August","September","October","November","December"],U=async q=>{q.preventDefault(),o(!0),c(null);try{if(!S.startDate||!S.endDate)throw new Error("Tanggal mulai dan selesai harus diisi");if(S.units.length===0||S.units.some(ne=>!ne.id))throw new Error("Pilih setidaknya satu unit");const X=ne=>{const fe=ne.getFullYear(),de=String(ne.getMonth()+1).padStart(2,"0"),we=String(ne.getDate()).padStart(2,"0");return`${fe}-${de}-${we}`},H=[],J=[];for(const ne of S.units)for(const fe of ne.machines)if(fe.id&&fe.items.length>0){const de=fe.items.map($e=>$e.id),we={tahun:S.startDate.getFullYear(),bulan:z[S.startDate.getMonth()],tgl_start:X(S.startDate),tgl_end:X(S.endDate),unit:ne.name,id_mesins:fe.id,id_interval:fe.intervalId||1,item_mesin_ids:de},Fe=await n(we);H.push(Fe)}if(H.length===0)throw new Error("Tidak ada data monitoring yang valid untuk disimpan");h("Data monitoring berhasil disimpan!"),p(!0)}catch(X){c(X.message||"Gagal menyimpan data monitoring")}finally{o(!1)}},V=b.useCallback(()=>{p(!1),t("/monitoringmaintenance")},[t]),$=b.useMemo(()=>{switch(N){case 1:return!S.startDate||!S.endDate;case 2:return S.units.length===0||S.units.every(X=>!X.id);case 3:return S.units.every(X=>X.machines.length===0||X.machines.every(H=>!H.id||!H.intervalId||H.items.length===0));case 4:return!S.units.some(X=>X.machines.some(H=>H.id&&H.intervalId&&H.items.length>0));default:return!0}},[N,S]),R=()=>a.jsx("div",{className:"flex justify-around items-center mb-8 border-b-2 border-gray-100",children:[1,2,3,4].map(q=>a.jsxs("button",{type:"button",onClick:()=>C(q),disabled:q===2&&(!S.startDate||!S.endDate)||q===3&&(S.units.length===0||S.units.every(X=>!X.id))||q===4&&S.units.every(X=>X.machines.every(H=>!H.id||!H.intervalId)),className:`px-4 py-2 font-medium ${N===q?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"} ${q===2&&(!S.startDate||!S.endDate)||q===3&&(S.units.length===0||S.units.every(X=>!X.id))||q===4&&S.units.every(X=>X.machines.every(H=>!H.id||!H.intervalId))?"opacity-50 cursor-not-allowed":""}`,children:[q,". ",["Date","Unit","Machine & Interval","Item"][q-1]]},q))}),W=()=>{if(w)return a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});switch(N){case 1:return a.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monitoring Schedule"}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 md:gap-8",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx(rm,{selected:S.startDate,onChange:q=>M(X=>({...X,startDate:q})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Mulai",isClearable:!0})]}),a.jsx("div",{className:"text-gray-400 hidden md:block mt-6",children:a.jsx(Sfe,{size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx(rm,{selected:S.endDate,onChange:q=>M(X=>({...X,endDate:q})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Selesai",isClearable:!0})]})]})]},"step1");case 2:return a.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Unit"}),a.jsxs("div",{className:"space-y-4",children:[S.units.map((q,X)=>{var H;return a.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(_n,{options:((H=x==null?void 0:x.unitsWithMachines)==null?void 0:H.map(J=>({value:J.id,label:J.name})))||[],value:q.id?{value:q.id,label:q.name}:null,onChange:J=>D(X,J),isClearable:!0,placeholder:"Pilih Unit",styles:_,noOptionsMessage:()=>"Tidak ada unit tersedia"})}),S.units.length>1&&a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>O(X),className:"text-red-500 hover:text-red-700 p-1",type:"button",children:a.jsx(Er,{size:20})})]},X)}),a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,className:"flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",type:"button",children:[a.jsx(Cr,{size:20,className:"mr-2"})," Add Unit"]})]})]},"step2");case 3:return a.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Machine & Interval"}),a.jsx("div",{className:"space-y-6",children:S.units.map((q,X)=>q.id&&a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:q.name}),a.jsx("div",{className:"space-y-4",children:q.machines.map((H,J)=>{var ne,fe,de,we;return a.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-300 rounded-lg bg-white space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Machine"}),a.jsx(_n,{options:((de=(fe=(ne=x==null?void 0:x.unitsWithMachines)==null?void 0:ne.find(Fe=>Fe.id===q.id))==null?void 0:fe.mesin)==null?void 0:de.map(Fe=>({value:Fe.id,label:Fe.name})))||[],value:H.id?{value:H.id,label:H.name}:null,onChange:Fe=>I(X,J,Fe),isClearable:!0,placeholder:"Select Machine",styles:_})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interval"}),a.jsx(_n,{options:((we=x==null?void 0:x.intervals)==null?void 0:we.map(Fe=>({value:Fe.id_interval,label:Fe.type_interval})))||[],value:H.intervalId?{value:H.intervalId,label:H.intervalType}:null,onChange:Fe=>P(X,J,Fe),isClearable:!0,placeholder:H.id?"Select Interval":"Please Select Machine",isDisabled:!H.id||H.items.length===0,styles:_})]})]}),H.id&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Total ",H.items.length," item monitoring tersedia"]}),H.intervalId&&a.jsxs("span",{className:"text-sm text-green-600",children:[H.items.filter(Fe=>Fe.interval_id===H.intervalId).length," item untuk interval ",H.intervalType]})]}),H.items.length===0&&a.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded mt-2 inline-block",children:"Mesin ini belum memiliki item monitoring"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>L(X,J),className:"text-red-500 hover:text-red-700",children:a.jsx(Er,{size:20})})})]},J)})}),a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>F(X),className:"mt-4 flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",children:[a.jsx(Cr,{size:20,className:"mr-2"})," Add Machine"]})]},X))})]},"step3");case 4:return a.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Item Monitoring"}),a.jsx("div",{className:"space-y-6",children:S.units.map((q,X)=>q.id&&q.machines.map((H,J)=>H.id&&a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("h3",{className:"font-semibold text-gray-700 mb-3",children:[q.name," - ",H.name]}),H.items.length>0?a.jsx("div",{className:"space-y-4",children:H.items.map((ne,fe)=>a.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 border border-gray-300 rounded-lg bg-white",children:[a.jsxs("h4",{className:"font-bold text-gray-800 mb-2",children:[ne.item_mesin," (",ne.satuan,")"]}),ne.interval_type&&a.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded",children:ne.interval_type}),ne.standard_min&&ne.standard_max&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar: ",ne.standard_min," - ",ne.standard_max]}),ne.standard_visual&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar Visual: ",ne.standard_visual]})]},fe))}):a.jsx("p",{className:"text-gray-500 italic mt-2",children:"Tidak ada item monitoring untuk mesin ini."})]},`${X}-${J}`)))})]},"step4");default:return null}};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(k.button,{onClick:()=>t("/monitoringmaintenance"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back To Monitoring Maintenance"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Create Monitoring Maintenance"})]})}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Monitoring Maintenance"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"All create detail for monitoring maintenance"})]}),a.jsxs(k.button,{onClick:()=>t("/monitoringmaintenance"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back To Monitoring Maintenance"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[l&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:l}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>c(null)})})]}),R(),a.jsx(qe,{mode:"wait",children:W()}),a.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-100",children:[N>1&&a.jsxs(k.button,{type:"button",onClick:()=>C(q=>q-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 flex items-center",children:[a.jsx(Ys,{className:"mr-2 h-5 w-5"})," Back"]}),N<4?a.jsxs(k.button,{type:"button",onClick:()=>C(q=>q+1),disabled:$,whileHover:{scale:$?1:1.03},whileTap:{scale:$?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${$?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:["Lanjut ",a.jsx(Ft,{className:"ml-2 h-5 w-5"})]}):a.jsx(k.button,{type:"button",onClick:U,disabled:$||i,whileHover:{scale:$?1:1.03},whileTap:{scale:$?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${$||i?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Monitoring"]})})]})]})]})]}),a.jsx(Bqe,{isOpen:m,onClose:V,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data monitoring schedule berhasil disimpan!"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:V,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Go to Monitoring Mainteannce"})]})})]})},TG=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],uf=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},Wqe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,Uqe=({isOpen:t,onClose:e,workOrder:n})=>{var o,l,c,d,h,m,p;if(!t||!n)return null;const r=x=>x?new Date(x).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",s=({title:x,children:y})=>a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3 pb-2 border-b border-gray-200",children:x}),y]}),i=({label:x,value:y})=>a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:x}),a.jsx("span",{className:"col-span-2 text-sm text-gray-800 bg-gray-50 px-3 py-2 rounded-md",children:y||"-"})]});return a.jsx(Wqe,{isOpen:t,onClose:e,title:"Work Order Details",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(s,{title:"General Information",children:[a.jsx(i,{label:"Work Order No",value:n.work_order_no}),a.jsx(i,{label:"Date",value:r(n.date)}),a.jsx(i,{label:"Reception Method",value:n.reception_method}),a.jsx(i,{label:"Requester",value:((o=n.requester)==null?void 0:o.name)||"-"}),a.jsx(i,{label:"Known By",value:((l=n.known_by)==null?void 0:l.name)||"-"}),a.jsx(i,{label:"Department",value:((c=n.department)==null?void 0:c.name)||"-"})]}),a.jsxs(s,{title:"Service Details",children:[a.jsx(i,{label:"Service Type",value:((d=n.service_type)==null?void 0:d.group_name)||"-"}),a.jsx(i,{label:"Service",value:((h=n.service)==null?void 0:h.service_name)||"-"}),a.jsx(i,{label:"Asset No",value:n.asset_no}),a.jsx(i,{label:"Device Info",value:n.device_info}),a.jsx(i,{label:"Complaint",value:n.complaint})]}),a.jsxs(s,{title:"Handling Information",children:[a.jsx(i,{label:"Status",value:n.handling_status}),a.jsx(i,{label:"Received By",value:((m=n.received_by)==null?void 0:m.name)||"-"}),a.jsx(i,{label:"Assigned To",value:((p=n.assigned_to)==null?void 0:p.name)||"-"}),a.jsx(i,{label:"Handling Date",value:r(n.handling_date)}),a.jsx(i,{label:"Action Taken",value:n.action_taken||"-"}),a.jsx(i,{label:"Remarks",value:n.remarks||"-"})]})]})})},qqe=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState("all"),[h,m]=b.useState(!1),[p,x]=b.useState(1),[y]=b.useState(5),[w,v]=b.useState(window.innerWidth<768),[N,C]=b.useState(!1),[S,M]=b.useState(!1),[_,A]=b.useState([]),[O,D]=b.useState(!0),[F,L]=b.useState(null),[I,P]=b.useState(),[z,U]=b.useState(!1),{user:V,getWorkOrdersIT:$,hasPermission:R}=_t(),W=St(),q=b.useRef(null),X=b.useRef(null),H=location.pathname==="/workorders/it",J=location.pathname==="/workorders/it/assignment",ne=location.pathname==="/workorders/it/receiver",fe=location.pathname==="/workorders/it/reports",de=location.pathname==="/workorders/it/knowledgebase";b.useEffect(()=>{const Oe=()=>{v(window.innerWidth<768),window.innerWidth<768&&r(!1)};return window.addEventListener("resize",Oe),()=>window.removeEventListener("resize",Oe)},[]),b.useEffect(()=>{const Oe=Xe=>{q.current&&!q.current.contains(Xe.target)&&C(!1),X.current&&!X.current.contains(Xe.target)&&M(!1)};return document.addEventListener("mousedown",Oe),()=>{document.removeEventListener("mousedown",Oe)}},[]);const we=b.useCallback(async()=>{try{D(!0);const Oe=await $();A(Oe)}catch(Oe){L("Failed to load work orders data"),console.error("Error loading work orders:",Oe)}finally{D(!1)}},[$]);b.useEffect(()=>{we()},[we]);const Fe=Oe=>{switch(Oe==null?void 0:Oe.toLowerCase()){case"new":return"bg-gray-500 text-white";case"assigned":return"bg-blue-500 text-white";case"in progress":return"bg-yellow-500 text-white";case"escalated":return"bg-orange-500 text-white";case"vendor handled":return"bg-purple-500 text-white";case"resolved":return"bg-green-500 text-white";case"cancel":return"bg-red-500 text-white";case"closed":return"bg-green-700 text-white";default:return"bg-gray-500 text-white"}},$e=()=>{r(Oe=>!Oe)},be=_.filter(Oe=>{var bt,yt,Pe,mt,ht,vt,ie;const Xe=((bt=Oe.work_order_no)==null?void 0:bt.toLowerCase().includes(s.toLowerCase()))||((Pe=(yt=Oe.requester)==null?void 0:yt.name)==null?void 0:Pe.toLowerCase().includes(s.toLowerCase()))||((mt=Oe.complaint)==null?void 0:mt.toLowerCase().includes(s.toLowerCase()))||((vt=(ht=Oe.service)==null?void 0:ht.service_name)==null?void 0:vt.toLowerCase().includes(s.toLowerCase())),Pt=o==="all"||Oe.handling_status===o,Se=c==="all"||((ie=Oe.department)==null?void 0:ie.name)===c;return Xe&&Pt&&Se}),Ee=p*y,Ge=Ee-y,ae=be.slice(Ge,Ee),oe=Math.ceil(be.length/y),Y=Oe=>x(Oe);b.useEffect(()=>{x(1)},[s,o,c]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",t)},[t]);const ce=be.length,Ie=be.filter(Oe=>{var Xe;return["resolved","closed"].includes((Xe=Oe.handling_status)==null?void 0:Xe.toLowerCase())}).length,We=be.filter(Oe=>{var Xe;return!["cancel"].includes((Xe=Oe.handling_status)==null?void 0:Xe.toLowerCase())}).length,pe=be.filter(Oe=>{var Xe;return((Xe=Oe.handling_status)==null?void 0:Xe.toLowerCase())==="escalated"}).length;be.filter(Oe=>Oe.assigned_to!==null).length;const Ne=ce>0?Math.round(Ie/ce*100):0,st=be.filter(Oe=>{var Xe;return Oe.handling_date&&Oe.date&&["resolved","closed"].includes((Xe=Oe.handling_status)==null?void 0:Xe.toLowerCase())}).reduce((Oe,Xe)=>{const Pt=new Date(Xe.date),Se=new Date(Xe.handling_date),bt=Math.abs(Se.getTime()-Pt.getTime()),yt=Math.ceil(bt/(1e3*60*60*24));return Oe+yt},0)/(Ie||1),rt=Object.entries(be.reduce((Oe,Xe)=>{var Se;const Pt=((Se=Xe.department)==null?void 0:Se.name)||"Unknown";return Oe[Pt]=(Oe[Pt]||0)+1,Oe},{})).map(([Oe,Xe])=>({name:Oe,value:Xe})),Ve=Object.entries(be.reduce((Oe,Xe)=>{const Pt=Xe.handling_status||"Unknown";return Oe[Pt]=(Oe[Pt]||0)+1,Oe},{})).map(([Oe,Xe])=>({name:Oe,value:Xe})),Ue=b.useCallback(()=>{if(R("export_reports")){const Oe=["Work Order No","Requester","Department","Date","Status","Assigned To","Handling Date"],Xe=be.map(Pe=>{var mt,ht,vt;return[Pe.work_order_no,((mt=Pe.requester)==null?void 0:mt.name)||"",((ht=Pe.department)==null?void 0:ht.name)||"",Pe.date,Pe.handling_status,((vt=Pe.assigned_to)==null?void 0:vt.name)||"",Pe.handling_date||""]}),Pt=[Oe.join(","),...Xe.map(Pe=>Pe.map(mt=>`"${mt}"`).join(","))].join(`
`),Se=new Blob([Pt],{type:"text/csv"}),bt=window.URL.createObjectURL(Se),yt=document.createElement("a");yt.href=bt,yt.download=`it-reports-${new Date().toISOString().split("T")[0]}.csv`,yt.click(),window.URL.revokeObjectURL(bt)}else alert("You do not have permission to export reports.")},[R,be]),Ye=Oe=>{P(Oe),U(!0)},kt=Oe=>{if(!Oe)return"-";try{const Xe=new Date(Oe);return isNaN(Xe.getTime())?"-":Xe.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"-"}};return O?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading reports data..."})]}):F?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Zt,{className:"text-red-600 text-5xl"}),a.jsx("p",{className:"ml-4 text-lg text-red-800",children:F}),a.jsx("button",{onClick:()=>window.location.reload(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[w&&a.jsx(k.button,{onClick:$e,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(Yo,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"IT Work Order Reports"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!t),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:q,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>C(!N),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:N&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-100",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Notifications"}),a.jsx("button",{onClick:()=>C(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:18})})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:a.jsx("p",{className:"text-gray-500 text-sm px-4 py-3",children:"No new notifications."})}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{C(!1)},className:"text-blue-600 hover:underline text-sm font-medium",children:"View All"})})]})})]}),a.jsxs("div",{className:"relative",ref:X,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>M(!S),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(V==null?void 0:V.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:V==null?void 0:V.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:S&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(V==null?void 0:V.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{W("/profile"),M(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{W("/settings"),M(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{W("/logout"),M(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>W("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${H?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>W("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ne?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>W("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${J?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>W("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${fe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(k.div,{whileTap:{scale:.98},onClick:()=>W("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${de?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Work Order Reports"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive overview of work orders in the IT department."})]}),R("export_reports")&&a.jsxs(k.button,{onClick:Ue,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-colors duration-200 flex items-center",children:[a.jsx(IK,{className:"mr-2"})," Export Report"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx(uf,{title:"Total Requests",value:ce.toString(),change:"+10% ",icon:a.jsx(Ps,{})}),a.jsx(uf,{title:"Resolved",value:Ie.toString(),change:"+15% ",icon:a.jsx(Et,{})}),a.jsx(uf,{title:"Cancel",value:We.toString(),change:"-5% ",icon:a.jsx(Sn,{})}),a.jsx(uf,{title:"Escalated",value:pe.toString(),change:"+8% ",icon:a.jsx(ja,{})}),a.jsx(uf,{title:"Completion Rate",value:`${Ne}%`,change:Ne>70?"+12% ":"-5% ",icon:a.jsx(H8,{})}),a.jsx(uf,{title:"Avg Resolution Time",value:`${Math.round(st)} days`,change:st<5?"-2 days ":"+3 days ",icon:a.jsx(Sn,{})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(H8,{className:"mr-2"})," Work Orders by Department"]}),a.jsx($l,{width:"100%",height:300,children:a.jsxs(fD,{data:rt,children:[a.jsx(Uu,{strokeDasharray:"3 3"}),a.jsx(Wo,{dataKey:"name"}),a.jsx(Uo,{}),a.jsx(_s,{}),a.jsx(zo,{}),a.jsx(uc,{dataKey:"value",fill:"#0081ff"})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Bfe,{className:"mr-2"})," Work Orders by Status"]}),a.jsx($l,{width:"100%",height:300,children:a.jsxs(k3,{children:[a.jsx(po,{data:Ve,cx:"50%",cy:"50%",labelLine:!1,label:({name:Oe,percent:Xe})=>`${Oe}: ${(Xe*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:Ve.map((Oe,Xe)=>a.jsx(Gm,{fill:TG[Xe%TG.length]},`cell-${Xe}`))}),a.jsx(_s,{}),a.jsx(zo,{})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-1/3",children:[a.jsx(Ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search work orders...",value:s,onChange:Oe=>i(Oe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-2/3 justify-end",children:[a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("select",{value:o,onChange:Oe=>l(Oe.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]}),a.jsx(Ut,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("select",{value:c,onChange:Oe=>d(Oe.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Departments"}),Array.from(new Set(_.map(Oe=>{var Xe;return(Xe=Oe.department)==null?void 0:Xe.name}).filter(Boolean))).map(Oe=>a.jsx("option",{value:Oe,children:Oe},Oe))]}),a.jsx(Ut,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),a.jsxs(k.button,{onClick:()=>m(!h),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Js,{className:"mr-2",size:20})," Advanced Filters"]})]})]}),a.jsx(qe,{children:h&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden mt-4 pt-4 border-t border-gray-200",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.jsx("p",{className:"text-gray-500 col-span-full",children:"More filter options coming soon!"})})})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-x-auto",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Detailed Work Order List"}),ae.length===0?a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(Na,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("p",{className:"mt-2 text-lg",children:"No work orders found matching your criteria."}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Work Order No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requester"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.jsx(qe,{children:ae.map((Oe,Xe)=>{var Pt,Se,bt;return a.jsxs(k.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ge+Xe+1}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:Oe.work_order_no}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((Pt=Oe.requester)==null?void 0:Pt.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((Se=Oe.department)==null?void 0:Se.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:kt(Oe.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Fe(Oe.handling_status)}`,children:Oe.handling_status||"Unknown"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((bt=Oe.assigned_to)==null?void 0:bt.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:kt(Oe.handling_date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs(k.button,{onClick:()=>Ye(Oe),whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 hover:text-blue-900 transition-colors duration-200 flex items-center",children:[a.jsx(ns,{className:"mr-1",size:16})," View"]})})]},Oe.id)})})})]}),be.length>y&&a.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx(k.button,{onClick:()=>Y(p-1),disabled:p===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),a.jsx(k.button,{onClick:()=>Y(p+1),disabled:p===oe,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:Ge+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(Ee,be.length)})," of"," ",a.jsx("span",{className:"font-medium",children:be.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a.jsxs(k.button,{onClick:()=>Y(p-1),disabled:p===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(Ys,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(oe)].map((Oe,Xe)=>a.jsx(k.button,{onClick:()=>Y(Xe+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${p===Xe+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:Xe+1},Xe)),a.jsxs(k.button,{onClick:()=>Y(p+1),disabled:p===oe,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(Ft,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),a.jsx(Uqe,{isOpen:z,onClose:()=>U(!1),workOrder:I})]})},Gqe=t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-n.getTime())/864e5+1)/7)},Xi=t=>t==null||t===""?"N/A":String(t),gse=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-60 flex justify-center items-center z-50 p-4",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),Ji=({label:t,value:e,className:n="",valueColorClass:r="text-gray-900"})=>a.jsxs("div",{className:`p-4 bg-gray-50 backdrop-brightness-50 rounded-lg shadow-sm ${n}`,children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:t}),a.jsx("p",{className:`mt-1 text-sm font-semibold ${r}`,children:e??"N/A"})]}),iA=({title:t})=>a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:t}),Yqe=({record:t,onUpdateRecord:e})=>a.jsxs("div",{className:"space-y-6",children:[a.jsx(iA,{title:"Monitoring Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ji,{label:"Monitoring Interval",value:Xi(t.interval)}),a.jsx(Ji,{label:"Unit",value:Xi(t.unitWilayah)}),a.jsx(Ji,{label:"Machine",value:Xi(t.mesin)}),a.jsx(Ji,{label:"Item",value:Xi(t.item)}),a.jsx(Ji,{label:"Unit of Measure",value:Xi(t.unitOfMeasure)}),a.jsx(Ji,{label:"Monitoring Result",value:Xi(t.monitoringResult),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"}),a.jsx(Ji,{label:"MS Status",value:Xi(t.msStatus),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"})]}),a.jsx(iA,{title:"Standard"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ji,{label:"Standard (Min)",value:Xi(t.standardMin)}),a.jsx(Ji,{label:"Standard (Max)",value:Xi(t.standardMax)}),a.jsx(Ji,{label:"Visual Standard",value:Xi(t.standartVisual),className:"md:col-span-2"})]}),a.jsx(iA,{title:"Description"}),a.jsx("div",{className:"grid grid-cols-1",children:a.jsx(Ji,{label:"Notes",value:Xi(t.notes)})})]}),Kqe=({records:t})=>{const[e,n]=b.useState(""),[r,s]=b.useState("");console.log("Trend Analysis - Total records:",t.length),console.log("Trend Analysis - Sample records:",t.slice(0,3));const i=b.useMemo(()=>{if(!t||t.length===0)return console.log("No records available for machines"),[""];const y=[...new Set(t.filter(w=>w.mesin&&w.mesin!=="N/A"&&w.mesin.trim()!=="").map(w=>w.mesin))].sort();return console.log("Available machines:",y),["",...y]},[t]),o=b.useMemo(()=>{if(!e||e==="")return console.log("No machine selected for items"),[""];const y=t.filter(v=>v.mesin===e&&v.item&&v.item!=="N/A"&&v.item.trim()!=="").map(v=>v.item),w=[...new Set(y)].sort();return console.log(`Available items for ${e}:`,w),["",...w]},[t,e]),l=b.useMemo(()=>{if(!e||!r||e===""||r==="")return console.log("Missing selection for trend data"),[];const y=t.filter(w=>{const v=w.mesin===e,N=w.item===r,C=w.id.startsWith("activity-"),S=w.monitoringResult&&w.monitoringResult!=="N/A"&&w.monitoringResult!=="MS"&&w.monitoringResult!=="TMS"&&!isNaN(parseFloat(w.monitoringResult))&&isFinite(parseFloat(w.monitoringResult));return console.log(`Record ${w.id}:`,{machineMatch:v,itemMatch:N,hasActivity:C,monitoringResult:w.monitoringResult,isNumeric:S,parsedValue:S?parseFloat(w.monitoringResult):null}),v&&N&&C&&S}).sort((w,v)=>new Date(w.date).getTime()-new Date(v.date).getTime()).map(w=>{const v=parseFloat(w.monitoringResult);return console.log(`Trend data point: ${w.date}, ${w.monitoringResult}, numeric: ${v}`),{date:new Date(w.date),dateString:new Date(w.date).toLocaleDateString("en-US"),result:v,msStatus:w.msStatus,notes:w.notes,machine:w.mesin,item:w.item,standardMin:w.standardMin,standardMax:w.standardMax,isActivity:w.id.startsWith("activity-")}});return console.log(`Trend data for ${e} - ${r}:`,y),y},[t,e,r]),c=b.useMemo(()=>{if(l.length===0)return console.log("No trend data available for analysis"),null;try{const y=l.map(J=>J.result);console.log("Analysis results:",y);const w=y.reduce((J,ne)=>J+ne,0)/y.length,v=[...y].sort((J,ne)=>J-ne),N=v.length%2===0?(v[v.length/2-1]+v[v.length/2])/2:v[Math.floor(v.length/2)],C=y.reduce((J,ne)=>J+Math.pow(ne-w,2),0)/y.length,S=Math.sqrt(C),M=Math.min(...y),_=Math.max(...y),A=_-M,O=l.map(J=>J.date.getTime()),D=l.map(J=>J.result),F=O.length,L=O.reduce((J,ne)=>J+ne,0),I=D.reduce((J,ne)=>J+ne,0),P=O.reduce((J,ne,fe)=>J+ne*D[fe],0),z=O.reduce((J,ne)=>J+ne*ne,0),U=F*z-L*L,V=U!==0?(F*P-L*I)/U:0,$=U!==0?(I-V*L)/F:0,R=V>.001?"increasing":V<-.001?"decreasing":"stable",W=S>0?Math.abs(V)/S:0,q=l.filter(J=>Math.abs(J.result-w)>2*S),X=l[0],H=X.standardMin!==null&&X.standardMax!==null?l.filter(J=>J.result>=(X.standardMin||0)&&J.result<=(X.standardMax||1/0)).length/l.length*100:null;return{mean:w,median:N,stdDev:S,min:M,max:_,range:A,count:y.length,trendDirection:R,trendStrength:W*1e3,slope:V,outliers:q,withinStandard:H,coefficientOfVariation:w>0?S/w*100:0}}catch(y){return console.error("Error in statistical analysis:",y),null}},[l]),d=b.useMemo(()=>{const y=t.length,w=new Set(t.map(C=>C.mesin)).size,v=t.filter(C=>C.msStatus==="MS").length,N=y>0?v/y*100:0;return[{title:"Total Monitoring Items",value:y.toLocaleString("id-ID"),icon:a.jsx(Ps,{})},{title:"Machines Monitored",value:w.toLocaleString("id-ID"),icon:a.jsx(Ax,{})},{title:"Success Rate",value:`${N.toFixed(1)}%`,icon:a.jsx(Et,{})}]},[t]),h=b.useMemo(()=>{const y={};return t.forEach(w=>{w.mesin&&(y[w.mesin]=(y[w.mesin]||0)+1)}),Object.entries(y).sort(([,w],[,v])=>v-w).slice(0,5).map(([w,v])=>({name:w,count:v}))},[t]),m=b.useMemo(()=>{const y={};return t.forEach(w=>{if(w.date){const v=new Date(w.date),N=v.getFullYear(),C=(v.getMonth()+1).toString().padStart(2,"0"),S=`${N}-${C}`;y[S]=(y[S]||0)+1}}),Object.entries(y).sort(([w],[v])=>w.localeCompare(v)).map(([w,v])=>{const[N,C]=w.split("-");return{name:`${new Date(Number(N),Number(C)-1,1).toLocaleString("en-US",{month:"short"})} ${N}`,"Monitoring Events":v}})},[t]),p=b.useMemo(()=>{const y={MS:0,TMS:0,"N/A":0};return t.forEach(w=>{const v=w.msStatus||"N/A";y[v]=(y[v]||0)+1}),[{name:"MS",value:y.MS},{name:"TMS",value:y.TMS},{name:"N/A",value:y["N/A"]}].filter(w=>w.value>0)},[t]),x=["#10B981","#EF4444","#6B7280"];return console.log("Current selection:",{selectedMachine:e,selectedItem:r}),console.log("Trend data length:",l.length),console.log("Analysis available:",c!==null),!e||!r?a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:d.map((y,w)=>a.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:w*.1,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:y.title}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:y.value})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:y.icon})]})},y.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Yo,{className:"mr-2 text-blue-600"})," Most Monitored Machines"]}),a.jsx("div",{className:"space-y-3",children:h.map((y,w)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-blue-600 font-bold text-sm",children:w+1})}),a.jsx("span",{className:"font-medium text-gray-800",children:y.name})]}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold",children:[y.count," events"]})]},y.name))})]}),a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Et,{className:"mr-2 text-blue-600"})," Status Distribution"]}),p.length>0?a.jsx("div",{className:"w-full h-64",children:a.jsx($l,{width:"100%",height:"100%",children:a.jsxs(k3,{children:[a.jsx(po,{data:p,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:y,percent:w})=>`${y} ${(w*100).toFixed(0)}%`,children:p.map((y,w)=>a.jsx(Gm,{fill:x[w%x.length]},`cell-${w}`))}),a.jsx(_s,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:y=>[`${y} events`,"Count"]})]})})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for status distribution."})]})]}),a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(yu,{className:"mr-2 text-blue-600"})," Monitoring Trend Over Time"]}),m.length>0?a.jsx("div",{className:"h-80",children:a.jsx($l,{width:"100%",height:"100%",children:a.jsxs(hD,{data:m,children:[a.jsx(Uu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Wo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Uo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(_s,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"}}),a.jsx(ch,{type:"monotone",dataKey:"Monitoring Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for monitoring trend."})]}),a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-8 border border-blue-50",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(yu,{className:"mx-auto text-gray-300 mb-4",size:64}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Detailed Trend Analysis"}),a.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:t.length===0?"No monitoring data available for analysis.":"Select a machine and monitoring item to visualize trends and analyze performance patterns over time."})]}),t.length>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Machine"}),a.jsxs("select",{value:e,onChange:y=>{console.log("Machine selected:",y.target.value),n(y.target.value),s("")},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900",children:[a.jsx("option",{value:"",children:"Choose machine..."}),i.slice(1).map(y=>a.jsx("option",{value:y,children:y},y))]}),e&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.length-1," item(s) available for this machine"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Item"}),a.jsxs("select",{value:r,onChange:y=>{console.log("Item selected:",y.target.value),s(y.target.value)},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 disabled:opacity-50",disabled:!e,children:[a.jsx("option",{value:"",children:e?o.length>1?"Choose item...":"No items available":"Select machine first"}),o.slice(1).map(y=>a.jsx("option",{value:y,children:y},y))]}),r&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," data point(s) available for analysis"]})]})]})]})]}):l.length===0?a.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ts,{className:"mx-auto text-gray-300 mb-4",size:48}),a.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"No numeric data available for analysis"}),a.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:['The selected item "',r,'" for machine "',e,`" doesn't have numeric monitoring results.`]}),a.jsx("p",{className:"text-gray-400 text-xs",children:"Monitoring results must be numeric values (numbers) for trend analysis."}),a.jsx("button",{onClick:()=>{n(""),s("")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Select Different Machine/Item"})]})]}):c?a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("p",{className:"text-gray-600",children:[e,"  ",r]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx("select",{value:e,onChange:y=>{n(y.target.value),s("")},className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:i.slice(1).map(y=>a.jsx("option",{value:y,children:y},y))}),a.jsx("select",{value:r,onChange:y=>s(y.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:o.slice(1).map(y=>a.jsx("option",{value:y,children:y},y))})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Data Points"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.count})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(Ps,{className:"w-6 h-6"})})]})}),a.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Average Value"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.mean.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsx("div",{className:"p-2 rounded-full bg-green-50 text-green-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(yu,{className:"w-6 h-6"})})]})}),a.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Standard Deviation"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.stdDev.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsx("div",{className:"p-2 rounded-full bg-purple-50 text-purple-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(Wl,{className:"w-6 h-6"})})]})})]}),a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(yu,{className:"mr-2 text-blue-600"})," Trend Visualization"]}),a.jsx("div",{className:"h-80",children:a.jsx($l,{width:"100%",height:"100%",children:a.jsxs(hD,{data:l,children:[a.jsx(Uu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Wo,{dataKey:"dateString",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Uo,{tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(_s,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:y=>[y,"Value"]}),a.jsx(ch,{type:"monotone",dataKey:"result",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]}),a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Yo,{className:"mr-2 text-blue-600"})," Statistical Summary"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Minimum"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.min.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Maximum"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.max.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Median"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.median.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Range"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.range.toLocaleString(void 0,{maximumFractionDigits:2})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-hidden",children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Raw Data (",l.length," records)"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((y,w)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.dateString}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:y.result.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y.msStatus==="MS"?"bg-green-100 text-green-800":y.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:y.msStatus||"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:y.notes||"-"})]},w))})]})})]})]}):a.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Zt,{className:"mx-auto text-yellow-500 mb-4",size:48}),a.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Unable to analyze data"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"There was an error processing the data for analysis."})]})]})},Xqe=b.createContext(void 0),Jqe=({isOpen:t,onClose:e,schedules:n,onSelectSchedule:r,titleDate:s})=>{const i=l=>{r(l)},o=n.reduce((l,c)=>{const d=String(c.scheduleId||"unknown");return l[d]||(l[d]={scheduleId:d,machine:c.mesin,unit:c.unitWilayah,interval:c.interval,items:[]}),l[d].items.push(c),l},{});return a.jsx(gse,{isOpen:t,onClose:e,title:`Schedules for ${new Date(s).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}`,className:"max-w-2xl",children:a.jsx("div",{className:"space-y-4",children:n.length===0?a.jsx("p",{className:"text-gray-600 text-center py-4",children:"No schedules for this date."}):Object.values(o).map(l=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 text-lg",children:l.machine}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[l.items.length," item(s)  ",l.interval,"  ",l.unit]})]}),a.jsx("div",{className:"text-right",children:l.items.every(c=>c.scheduleStatus===l.items[0].scheduleStatus)&&a.jsx("span",{className:`text-xs px-2 py-1 rounded ${mD(l.items[0].scheduleStatus)}`,children:l.items[0].scheduleStatus||"New"})})]})}),a.jsx("div",{className:"divide-y divide-gray-100",children:l.items.map((c,d)=>a.jsxs(k.button,{whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>i(c),className:"w-full text-left p-4 hover:bg-blue-50 transition-colors duration-150 flex justify-between items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-800 text-base",children:c.item}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.jsxs("span",{className:`text-xs px-2 py-1 rounded ${mD(c.scheduleStatus)}`,children:["Status: ",c.scheduleStatus||"New"]}),c.monitoringResult&&c.monitoringResult!=="N/A"&&a.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:["Result: ",c.monitoringResult]}),c.msStatus&&c.msStatus!=="N/A"&&a.jsxs("span",{className:`text-xs px-2 py-1 rounded ${c.msStatus==="MS"?"bg-green-100 text-green-800":c.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:["MS: ",c.msStatus]})]})]}),a.jsx("div",{className:"ml-4",children:a.jsx(Ft,{className:"text-gray-400",size:16})})]},`${c.id}-${d}`))})]},l.scheduleId))})})},mD=(t="New")=>{switch(t){case"New":return"bg-blue-100 text-blue-800 border-blue-200";case"On Progress":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Done":return"bg-green-100 text-green-800 border-green-200";case"Cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},MG=()=>{const t=St(),{getMonitoringSchedules:e,getAllMasterMonitoring:n,getMonitoringScheduleById:r}=_t(),[s,i]=b.useState(()=>{const Z=localStorage.getItem("sidebarOpen");return JSON.parse(Z||"false")}),[o,l]=b.useState(!1),[c,d]=b.useState(!0),[h,m]=b.useState(null),[p,x]=b.useState(window.innerWidth<768),[y,w]=b.useState(!1),[v,N]=b.useState(!1),[C,S]=b.useState(!1),[M,_]=b.useState(!1),[A,O]=b.useState(null),[D,F]=b.useState("calendar"),[L,I]=b.useState(null),[P,z]=b.useState(null),[U,V]=b.useState([]),[$,R]=b.useState([]),[W,q]=b.useState([]),[X,H]=b.useState(""),[J,ne]=b.useState(!1),[fe,de]=b.useState(1),[we,Fe]=b.useState([]),[$e,be]=b.useState([]),[Ee,Ge]=b.useState([]),[ae,oe]=b.useState({startDate:null,endDate:null,selectedUnits:[]}),[Y,ce]=b.useState(!1),[Ie,We]=b.useState([]),[pe,Ne]=b.useState(""),st=b.useRef(null),rt=b.useRef(null),Ve=b.useMemo(()=>we.map(Z=>{var dt;const se=$e.flatMap(Qe=>Qe.mesin).find(Qe=>Qe.id===Z.id_mesins),ke=(se==null?void 0:se.name)||`Machine ${Z.id_mesins}`,Ze=((dt=Z.monitoring_interval)==null?void 0:dt.type_interval)||"weekly";return{id:`schedule-${Z.id_monitoring_schedule}`,mesin:ke,item:"",interval:Ze,unitWilayah:Z.unit,unitOfMeasure:"N/A",standardMin:null,standardMax:null,standartVisual:"N/A"}}),[we,$e]),Ue=b.useCallback((Z,se,ke)=>{const Ze=[];Z.forEach(Qe=>{var ar;const Re=ke.flatMap(Ct=>Ct.mesin).find(Ct=>Ct.id===Qe.id_mesins),at=(Re==null?void 0:Re.name)||`Machine ${Qe.id_mesins}`,gt=((ar=Qe.monitoring_interval)==null?void 0:ar.type_interval)||"weekly",Jt=gt==="weekly"?"Weekly":gt==="monthly"?"Monthly":gt==="quarterly"?"3 Months":gt==="semi-annual"?"6 Months":gt==="yearly"?"1 Year":"Daily",Fn=Qe.item_mesins&&Qe.item_mesins.length>0?Qe.item_mesins:(Re==null?void 0:Re.item_mesin)||[];Qe.monitoring_activities&&Qe.monitoring_activities.length>0?Qe.monitoring_activities.forEach(Ct=>{var Be;let Tt=Fn.find(it=>it.id===Ct.id_item_mesin);if(!Tt)for(const it of ke){for(const he of it.mesin){const ot=(Be=he.item_mesin)==null?void 0:Be.find(wt=>wt.id===Ct.id_item_mesin);if(ot){Tt=ot;break}}if(Tt)break}Tt||(console.warn(`Item mesin not found for activity ${Ct.id_monitoring_activity}, item_mesin_id: ${Ct.id_item_mesin}`),Tt={id:Ct.id_item_mesin,item_mesin:"Unknown Item",satuan:"N/A",standard_min:null,standard_max:null,standard_visual:"N/A",interval_id:1,mesin_id:Qe.id_mesins,created_at:"",updated_at:""});let $n="N/A";Ct.hasil_ms_tms==="ms"?$n="MS":Ct.hasil_ms_tms==="tms"&&($n="TMS");let _e=Ct.hasil_monitoring||"N/A";if(Ct.hasil_monitoring&&Ct.hasil_monitoring!=="N/A"){const it=parseFloat(Ct.hasil_monitoring);!isNaN(it)&&isFinite(it)&&(_e=it.toString())}Ze.push({id:`activity-${Ct.id_monitoring_activity}`,mesin:at,date:Ct.tgl_monitoring,interval:Jt,unitWilayah:Qe.unit,item:Tt.item_mesin||"Unknown Item",unitOfMeasure:Tt.satuan||"N/A",standardMin:Tt.standard_min?parseFloat(Tt.standard_min):null,standardMax:Tt.standard_max?parseFloat(Tt.standard_max):null,standartVisual:Tt.standard_visual||"N/A",monitoringResult:_e,msStatus:$n,notes:Ct.hasil_keterangan||"N/A",perbaikanPerawatan:"Preventive",description:`Monitoring activity for ${at}`,pic:"System",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:Qe.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:Qe.id_monitoring_schedule,scheduleStatus:Qe.status||"New"})}):Fn.forEach(Ct=>{Ze.push({id:`schedule-${Qe.id_monitoring_schedule}-scheduled-${Ct.id}`,mesin:at,date:Qe.tgl_start,interval:Jt,unitWilayah:Qe.unit,item:Ct.item_mesin||"Unknown Item",unitOfMeasure:Ct.satuan||"N/A",standardMin:Ct.standard_min?parseFloat(Ct.standard_min):null,standardMax:Ct.standard_max?parseFloat(Ct.standard_max):null,standartVisual:Ct.standard_visual||"N/A",monitoringResult:"N/A",msStatus:"N/A",notes:"Scheduled monitoring - Not yet performed",perbaikanPerawatan:"Preventive",description:`Scheduled monitoring for ${at}`,pic:"N/A",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:Qe.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:Qe.id_monitoring_schedule,scheduleStatus:Qe.status||"New"})})}),console.log("Converted records:",Ze.length),console.log("Sample converted records:",Ze.slice(0,5));const dt=Ze.filter(Qe=>Qe.monitoringResult&&Qe.monitoringResult!=="N/A"&&!isNaN(parseFloat(Qe.monitoringResult)));return console.log("Numeric records available:",dt.length),console.log("Numeric records sample:",dt.slice(0,3)),Ze},[]),[Ye,kt]=b.useState([]),Oe=300*1e3,[Xe,Pt]=b.useState(null);b.useEffect(()=>{let Z=!0;const se=new AbortController;return(async()=>{var dt,Qe,Re;if(!Z)return;const Ze=Date.now();if(Xe&&Ze-Xe.timestamp<Oe){Fe(Xe.schedules),be(Xe.masterData.unitsWithMachines||[]),Ge(Xe.masterData.intervals||[]);const at=Ue(Xe.schedules,[],Xe.masterData.unitsWithMachines||[]);kt(at),d(!1);return}try{d(!0),m(null);const[at,gt]=await Promise.all([e(),n()]);if(!Z)return;console.log("Schedules data:",at),console.log("Master data:",gt),console.log("Units with machines:",gt.unitsWithMachines),gt.unitsWithMachines&&gt.unitsWithMachines.length>0&&console.log("Sample machine items:",(Re=(Qe=(dt=gt.unitsWithMachines[0])==null?void 0:dt.mesin)==null?void 0:Qe[0])==null?void 0:Re.item_mesin),Pt({schedules:at,masterData:gt,timestamp:Ze}),Fe(at),be(gt.unitsWithMachines||[]),Ge(gt.intervals||[]);const Jt=Ue(at,[],gt.unitsWithMachines||[]);kt(Jt)}catch(at){if(!Z)return;m(at instanceof Error?at.message:"Failed to fetch data")}finally{Z&&d(!1)}})(),()=>{Z=!1,se.abort()}},[e,n,Ue,Xe]);const Se={role:"Unit Head Engineering"},bt=b.useMemo(()=>["",...new Set(Ye.map(Z=>Z.unitWilayah))],[Ye]),yt=b.useMemo(()=>["",...new Set(Ye.map(Z=>Z.mesin))],[Ye]);b.useMemo(()=>["",...new Set(Ye.map(Z=>Z.item))],[Ye]);const Pe=b.useMemo(()=>{if(Ye.length===0)return[];let Z=Ye;if(X){const se=X.toLowerCase();if(Z=Z.filter(ke=>ke.mesin.toLowerCase().includes(se)||ke.item.toLowerCase().includes(se)||ke.unitWilayah.toLowerCase().includes(se)),Z.length===0)return[]}if(L&&P){const se=L.toISOString().split("T")[0],ke=P.toISOString().split("T")[0];if(Z=Z.filter(Ze=>Ze.date>=se&&Ze.date<=ke),Z.length===0)return[]}if(U.length>0){const se=new Set(U);if(Z=Z.filter(ke=>se.has(ke.unitWilayah)),Z.length===0)return[]}if($.length>0){const se=new Set($);if(Z=Z.filter(ke=>se.has(ke.mesin)),Z.length===0)return[]}if(W.length>0){const se=new Set(W);Z=Z.filter(ke=>se.has(ke.item))}return Z},[Ye,L,P,U,$,W,X]);b.useEffect(()=>{const Z=()=>{x(window.innerWidth<768),window.innerWidth<768&&i(!1)};return window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]),b.useEffect(()=>{const Z=se=>{st.current&&!st.current.contains(se.target)&&w(!1),rt.current&&!rt.current.contains(se.target)&&N(!1)};return document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[]);const mt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),i(Z=>!Z)},ht=Z=>{O(Z),S(!0)},vt=b.useCallback(Z=>{kt(se=>se.map(ke=>ke.id===Z.id?Z:ke))},[]),ie=(Z,se)=>new Date(Z,se+1,0).getDate(),ve=(Z,se)=>{const ke=new Date(Z,se,1).getDay();return ke===0?6:ke-1},je=b.useMemo(()=>new Date,[]),[He,Nt]=b.useState(je),ge=()=>{Nt(Z=>new Date(Z.getFullYear(),Z.getMonth()-1,1))},re=()=>{Nt(Z=>new Date(Z.getFullYear(),Z.getMonth()+1,1))},ee=()=>{Nt(new Date)},le=(Z,se)=>{We(Z),Ne(se),ce(!0)},xe=Z=>{console.log("Navigating with record:",Z);let se;if(Z.scheduleId)se=Z.scheduleId;else if(Z.id.startsWith("schedule-")){const ke=Z.id.split("-");ke.length>=2&&(se=ke[1])}else if(Z.id.startsWith("activity-")){const ke=Z.id.split("-");if(ke.length>=2){for(let Ze of ke)if(/^\d+$/.test(Ze)){se=Ze;break}}}if(!se){console.error("Could not extract schedule ID from record:",Z),alert("Error: Could not determine schedule ID");return}console.log("Navigating to schedule ID:",se),t(`/monitoringmaintenance/detailmonitoringmaintenance/${se}`),ce(!1)},Me=()=>{const Z=He.getFullYear(),se=He.getMonth(),ke=ie(Z,se),Ze=ve(Z,se),dt=[];let Qe=1,Re=[],at=null;for(let gt=0;gt<Ze;gt++)Re.push(a.jsx("div",{className:"p-3 md:p-4 text-center text-gray-400 bg-gray-50 border border-gray-200 rounded-md min-h-[80px] md:min-h-[100px] flex items-center justify-center"},`empty-pre-${gt}`));for(;Qe<=ke;){const gt=new Date(Z,se,Qe);at||(at=gt);const Jt=`${Z}-${String(se+1).padStart(2,"0")}-${String(Qe).padStart(2,"0")}`,Fn=Pe.filter(Be=>Be.date===Jt),ar=Fn.reduce((Be,it)=>{const he=String(it.scheduleId||"unknown");return Be[he]?Be[he].items.push(it):Be[he]={scheduleId:he,machine:it.mesin,items:[it]},Be},{}),Ct=Object.values(ar),Bt=je.toDateString()===gt.toDateString();let Tt="p-3 md:p-4 text-center border border-gray-200 rounded-md flex flex-col justify-between relative min-h-[80px] md:min-h-[100px] bg-white";Bt&&(Tt="p-3 md:p-4 text-center border-2 border-blue-500 rounded-md flex flex-col justify-between relative min-h-[80px] md:min-h-[100px] bg-white font-bold");const $n=Ct.flatMap(Be=>Be.items.map(it=>it.scheduleStatus||"New")),_e=Array.from(new Set($n));if(Re.push(a.jsxs("div",{className:Tt,children:[a.jsx("span",{className:`text-sm font-semibold ${Bt?"text-blue-700":"text-gray-800"}`,children:Qe}),a.jsx("div",{className:"flex flex-col items-center justify-center mt-1 space-y-1",children:Ct.length>0&&a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full text-center text-xs px-2 py-1 rounded-md overflow-hidden bg-gray-50 hover:bg-gray-100 transition-colors shadow-sm",onClick:()=>le(Fn,Jt),title:`${Ct.length} schedule(s) with ${Fn.length} total items`,children:[a.jsxs("div",{className:"font-semibold truncate w-full text-gray-800",children:[Ct[0].machine,Ct.length>1&&` +${Ct.length-1}`]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[Fn.length," item(s) in ",Ct.length," schedule(s)"]}),_e.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-0.5 justify-center mt-1",children:[_e.slice(0,2).map((Be,it)=>a.jsx("span",{className:`px-1 py-0.5 rounded text-[10px] border ${mD(Be)}`,children:Be},it)),_e.length>2&&a.jsxs("span",{className:"px-1 py-0.5 rounded text-[10px] bg-gray-100 text-gray-600 border border-gray-200",children:["+",_e.length-2]})]})]})})]},Jt)),Re.length===7||Qe===ke){for(;Re.length<7;)Re.push(a.jsx("div",{className:"p-3 md:p-4 text-center text-gray-400 bg-gray-50 border border-gray-200 rounded-md min-h-[80px] md:min-h-[100px] flex items-center justify-center"},`empty-post-${Re.length}`));const Be=at?Gqe(at):null;dt.push(a.jsxs(b.Fragment,{children:[a.jsx("div",{className:"p-2 text-center font-bold text-gray-700 bg-gray-100 rounded-md border border-gray-200",children:Be!==null?` ${String(Be).padStart(2,"0")}`:""}),Re]},`week-row-${Qe}`)),Re=[],at=null}Qe++}return dt};return b.useMemo(()=>{const Z=Ye.filter(ke=>ke),se=[];return Z.forEach(ke=>{se.push({id:`approval-${ke.id}`,icon:a.jsx(Jn,{className:"text-orange-500"}),title:`Approval Needed: ${ke.mesin} - ${ke.item}`,description:`Record for ${ke.mesin} - ${ke.item} is awaiting your approval ().`,date:new Date(ke.date).toLocaleDateString("en-US")})}),se},[Ye,Se.role]),ae.startDate!==null&&ae.endDate,ae.selectedUnits.length>0,ae.selectedUnits.every(Z=>Z.machines.length>0&&Z.machines.every(se=>se.selectedInterval!==null)),ae.selectedUnits.every(Z=>Z.machines.every(se=>se.selectedInterval===null||se.selectedInterval!==null&&se.selectedItems.length>0)),a.jsx(Xqe.Provider,{value:{records:Ye,setRecords:kt,routineSchedules:Ve},children:a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Moninoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Ax,{}),isMobile:p,toggleSidebar:mt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Monitoring ",a.jsx("span",{className:"text-blue-600",children:"Maintenance"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Monitor and schedule preventive maintenance tasks for all machines, and track their approval progress."})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(k.button,{onClick:()=>t("/monitoringmaintenance/formmonitoringmaintenance"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:[a.jsx(Cr,{className:"w-4 h-4 mr-2"})," Add Schedule"]}),a.jsxs("div",{className:"flex space-x-1 p-1 bg-white rounded-full shadow-sm border border-gray-100",children:[a.jsxs(k.button,{onClick:()=>F("calendar"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${D==="calendar"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(Go,{className:"w-4 h-4 mr-2"})," Calendar"]}),a.jsxs(k.button,{onClick:()=>F("table"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${D==="table"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(Ps,{className:"w-4 h-4 mr-2"})," Table"]}),a.jsxs(k.button,{onClick:()=>F("trend"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${D==="trend"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(yu,{className:"w-4 h-4 mr-2"})," Trend"]})]})]})]}),c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading maintenance data..."})]}):Ye.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Ts,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No monitoring data available."})]}):a.jsx(qe,{mode:"wait",children:a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[a.jsxs("div",{className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by Interval, unit, or machine...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:X,onChange:Z=>H(Z.target.value),"aria-label":"Search records"})]}),a.jsxs(k.button,{whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},onClick:()=>ne(!J),className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filter"}),a.jsx(k.span,{animate:{rotate:J?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]}),a.jsx(qe,{children:J&&a.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(Go,{className:"text-gray-500 text-base"}),a.jsx("input",{type:"date",value:L?L.toISOString().split("T")[0]:"",onChange:Z=>I(Z.target.value?new Date(Z.target.value):null),placeholder:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400","aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx("input",{type:"date",value:P?P.toISOString().split("T")[0]:"",onChange:Z=>z(Z.target.value?new Date(Z.target.value):null),placeholder:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400","aria-label":"End Date",min:L?L.toISOString().split("T")[0]:void 0}),(L||P)&&a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{I(null),z(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Date","aria-label":"Clear date range",children:a.jsx(nt,{className:"text-base"})})]}),a.jsx("div",{className:"relative w-full",children:a.jsxs("select",{value:U.length>0?U[0]:"",onChange:Z=>V(Z.target.value?[Z.target.value]:[]),className:"w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left transition-all duration-200 shadow-sm cursor-pointer",children:[a.jsx("option",{value:"",children:"All Units"}),bt.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})}),a.jsx("div",{className:"relative w-full",children:a.jsxs("select",{value:$.length>0?$[0]:"",onChange:Z=>R(Z.target.value?[Z.target.value]:[]),className:"w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left transition-all duration-200 shadow-sm cursor-pointer",children:[a.jsx("option",{value:"",children:"All Machines"}),yt.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})})]})})]}),D==="calendar"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-4 border border-blue-100",children:a.jsxs("div",{className:"flex flex-wrap gap-4 justify-center text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-400 rounded"}),a.jsx("span",{className:"text-gray-700",children:"New / Not Started"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-100 border border-yellow-400 rounded"}),a.jsx("span",{className:"text-gray-700",children:"On Progress"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-400 rounded"}),a.jsx("span",{className:"text-gray-700",children:"Done / Completed"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"}),a.jsx("span",{className:"text-gray-700",children:"No Schedule"})]})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ge,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ys,{size:20})}),a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:He.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:re,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{size:20})}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ee,className:"px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:"Today"})]}),a.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-sm font-semibold text-gray-600 mb-2",children:[a.jsx("div",{className:"text-center font-bold",children:"WN"}),a.jsx("div",{children:"Mon"}),a.jsx("div",{children:"Tue"}),a.jsx("div",{children:"Wed"}),a.jsx("div",{children:"Thu"}),a.jsx("div",{children:"Fri"}),a.jsx("div",{children:"Sat"}),a.jsx("div",{children:"Sun"})]}),a.jsx("div",{className:"grid grid-cols-8 gap-2",children:Me()})]})]}),D==="table"&&a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md mt-6 animate-fade-in",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interval"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Machine"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monitoring Result"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MS Status"}),a.jsx("th",{className:"relative px-6 py-3",children:a.jsx("span",{className:"sr-only",children:"Actions"})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Pe.length>0?Pe.map(Z=>a.jsxs(k.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Z.date}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Z.interval}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Z.unitWilayah}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Z.mesin}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Z.item}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Z.monitoringResult}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${Z.msStatus==="MS"?"bg-green-100 text-green-800":Z.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Z.msStatus})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ht(Z),className:"text-blue-600 hover:text-blue-900 transition-colors duration-200",title:"View Details",children:a.jsx(ns,{size:18})})})]},Z.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No monitoring data found."})})})]})})}),D==="trend"&&a.jsx(Kqe,{records:Pe})]},D)})]})]}),a.jsx(gse,{isOpen:C,onClose:()=>S(!1),title:"Monitoring Details",children:A&&a.jsxs(a.Fragment,{children:[a.jsx(Yqe,{record:A,onUpdateRecord:vt}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-center",children:a.jsxs(k.button,{onClick:()=>xe(A),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200 font-semibold text-sm flex items-center",children:[a.jsx(ns,{className:"w-4 h-4 mr-2"}),"View Full Details"]})})]})}),a.jsx(Jqe,{isOpen:Y,onClose:()=>ce(!1),schedules:Ie,onSelectSchedule:xe,titleDate:pe})]})})};function Qqe(t,e){const[n,r]=b.useState(t);return b.useEffect(()=>{const s=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(s)}},[t,e]),n}const AG=({isOpen:t,onClose:e,title:n,children:r,className:s})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(nt,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r})]})})}),_v=({title:t,value:e,change:n,icon:r})=>{const s=n.startsWith("+");return a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:r})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[n," from last month"]})]})},Zqe=({vendor:t,onClose:e})=>{const n=({label:s,value:i})=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:s}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:i||"-"})]}),r=({title:s})=>a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:s});return a.jsxs("div",{className:"space-y-6",children:[a.jsx(r,{title:"Vendor Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(n,{label:"Vendor ID",value:t.id.toString()}),a.jsx(n,{label:"Vendor Name",value:t.name}),a.jsx(n,{label:"Contact Person",value:t.contact_person}),a.jsx(n,{label:"Email",value:t.email}),a.jsx(n,{label:"Telephone",value:t.telp}),a.jsx(n,{label:"Mobile Phone",value:t.HP})]}),a.jsx(r,{title:"Address Information"}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(n,{label:"Address",value:t.address})}),a.jsx(r,{title:"Additional Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(n,{label:"Created At",value:t.created_at?new Date(t.created_at).toLocaleDateString():"-"}),a.jsx(n,{label:"Updated At",value:t.updated_at?new Date(t.updated_at).toLocaleDateString():"-"})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(k.button,{type:"button",onClick:e,whileHover:{scale:1.02,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.98},className:"inline-flex items-center px-6 py-2.5 border border-transparent text-base font-semibold rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 ease-in-out",children:"Close"})})]})},eGe=()=>{Yr();const[t,e]=b.useState([]),{getVendor:n,deleteVendor:r,user:s,hasPermission:i}=_t(),[o,l]=b.useState([]),[c,d]=b.useState(!0),[h,m]=b.useState(!1),[p,x]=b.useState(null),[y,w]=b.useState(""),[v,N]=b.useState(""),[C,S]=b.useState(!1),[M,_]=b.useState(null),[A,O]=b.useState(!1),[D,F]=b.useState(null),L=b.useRef(!0),[I,P]=b.useState(null),[z,U]=b.useState(null),V=b.useRef(null),[$,R]=b.useState(!1),[W,q]=b.useState(""),[X]=b.useState(window.innerWidth<768),[H,J]=b.useState(()=>{const ee=localStorage.getItem("sidebarOpen");return ee?JSON.parse(ee):!1}),[ne,fe]=b.useState(!1),[de,we]=b.useState(null),[Fe,$e]=b.useState(!1),[be,Ee]=b.useState(null),Ge=St(),[ae,oe]=b.useState(!1),[Y,ce]=b.useState(!1),[Ie,We]=b.useState(!1),pe=b.useRef(null),Ne=b.useRef(null),[st,rt]=b.useState(1),[Ve]=b.useState(10),[Ue,Ye]=b.useState({key:"name",direction:"ascending"}),kt=Qqe(W,300),Oe=b.useMemo(()=>[{id:"name",name:"Vendor Name"},{id:"contact",name:"Contact Person"},{id:"email",name:"Email"},{id:"id",name:"Vendor ID"}],[]),Xe=b.useCallback(async()=>{try{d(!0);const le=[...await n()].sort((xe,Me)=>xe.id-Me.id);e(le),l(le)}catch(ee){F("Failed to load vendors"),console.error("Error loading vendors:",ee)}finally{L.current&&d(!1)}},[n]);b.useEffect(()=>{Xe()},[Xe]),b.useEffect(()=>{let ee=[...t];if(kt.trim()){const le=kt.toLowerCase().trim();ee=ee.filter(xe=>{var Re,at,gt;const Me=le.split(":");let Z="all",se=le;Me.length>1&&Oe.some(Jt=>Jt.name.toLowerCase()===Me[0].trim())&&(Z=Me[0].trim(),se=Me.slice(1).join(":").trim());const ke=(Re=xe.name)==null?void 0:Re.toLowerCase().includes(se),Ze=(at=xe.contact_person)==null?void 0:at.toLowerCase().includes(se),dt=(gt=xe.email)==null?void 0:gt.toLowerCase().includes(se),Qe=xe.id.toString().includes(se);return Z==="vendor name"?ke:Z==="contact person"?Ze:Z==="email"?dt:Z==="vendor id"?Qe:ke||Ze||dt||Qe})}if(I){const le=new Date(I);le.setHours(0,0,0,0),ee=ee.filter(xe=>{if(!xe.created_at)return!0;const Me=new Date(xe.created_at);return Me.setHours(0,0,0,0),Me>=le})}if(z){const le=new Date(z);le.setHours(23,59,59,999),ee=ee.filter(xe=>{if(!xe.created_at)return!0;const Me=new Date(xe.created_at);return Me.setHours(0,0,0,0),Me<=le})}Ue!==null&&ee.sort((le,xe)=>{const Me=ie(le[Ue.key]),Z=ie(xe[Ue.key]);return Me<Z?Ue.direction==="ascending"?-1:1:Me>Z?Ue.direction==="ascending"?1:-1:0}),l(ee)},[t,kt,I,z,Ue,Oe]);const Pt=()=>{const ee=!H;J(ee),localStorage.setItem("sidebarOpen",JSON.stringify(ee))},Se=()=>{alert("Import functionality is not yet implemented.")},bt=ee=>{const le=ee.target.value;q(le)},yt=Q.useMemo(()=>{if(!W)return Oe;const ee=W.toLowerCase();return Oe.filter(le=>le.name.toLowerCase().includes(ee))},[W,Oe]),Pe=ee=>{var le;q(`${ee}: `),R(!1),(le=V.current)==null||le.focus()},mt=ee=>{we(ee),$e(!0)},ht=async ee=>{try{await r(ee),e(t.filter(le=>le.id!==ee)),O(!1),Ee(null)}catch(le){console.error("Failed to delete Vendor:",le),F("Failed to delete vendor. Please try again.")}};b.useCallback(ee=>{Ee(ee),O(!0)},[]);const vt=ee=>{let le="ascending";Ue&&Ue.key===ee&&Ue.direction==="ascending"&&(le="descending"),Ye({key:ee,direction:le})},ie=ee=>typeof ee=="object"&&ee!==null?ee.name||ee.toString():(ee==null?void 0:ee.toString())||"",ve=st*Ve,je=ve-Ve,He=o.slice(je,ve),Nt=Math.ceil(o.length/Ve),ge=ee=>rt(ee);b.useEffect(()=>{const ee=le=>{pe.current&&!pe.current.contains(le.target)&&ce(!1),Ne.current&&!Ne.current.contains(le.target)&&We(!1),V.current&&!V.current.contains(le.target)&&!le.target.closest(".search-suggestions")&&R(!1)};return document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[]);const re=[{id:1,title:"New Vendor Added",description:"A new vendor has been registered in the system.",date:"Today, 10:00 AM"}];return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[X&&a.jsx(k.button,{onClick:Pt,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ft,{className:"text-xl"})}),a.jsx(qu,{className:"text-xl text-blue-600"}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Vendors"})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>oe(!ae),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":ae?"Switch to light mode":"Switch to dark mode",children:ae?a.jsx(Vn,{className:"text-yellow-400 text-xl"}):a.jsx(Kn,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:pe,children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce(!Y),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(Jn,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(qe,{children:Y&&a.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),a.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:re.length>0?re.map(ee=>a.jsx("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:ee.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:ee.description}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:ee.date})]})},ee.id)):a.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),a.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{ce(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),a.jsxs("div",{className:"relative",ref:Ne,children:[a.jsxs(k.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>We(!Ie),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(s==null?void 0:s.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:s==null?void 0:s.name}),a.jsx(Ut,{className:"text-gray-500 text-base"})]}),a.jsx(qe,{children:Ie&&a.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(s==null?void 0:s.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{Ge("/profile"),We(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Rn,{size:16,className:"mr-2"})," My Profile"]}),a.jsxs("button",{onClick:()=>{Ge("/settings"),We(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Xn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{Ge("/logout"),We(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(dr,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Vendors ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage vendors by specific company."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i("create_machine_history")&&a.jsxs(k.button,{onClick:()=>Ge("/vendors/addvendor"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Cr,{className:"text-base"}),a.jsx("span",{children:"Add Vendor"})]}),a.jsxs(k.button,{onClick:Se,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ua,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(k.button,{onClick:()=>fe(!ne),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Js,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(k.span,{animate:{rotate:ne?180:0},transition:{duration:.2},children:a.jsx(Ut,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(_v,{title:"Total Vendors",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(qu,{className:"w-6 h-6"})}),a.jsx(_v,{title:"Vendors with Email",value:t.filter(ee=>ee.email).length.toString(),change:`+${Math.floor(t.filter(ee=>ee.email).length/t.length*100)}%`,icon:a.jsx(PK,{className:"w-6 h-6"})}),a.jsx(_v,{title:"Vendors with Contact",value:t.filter(ee=>ee.contact_person).length.toString(),change:`+${Math.floor(t.filter(ee=>ee.contact_person).length/t.length*100)}%`,icon:a.jsx(ja,{className:"w-6 h-6"})}),a.jsx(_v,{title:"Vendors with Phone",value:t.filter(ee=>ee.telp||ee.HP).length.toString(),change:`+${Math.floor(t.filter(ee=>ee.telp||ee.HP).length/t.length*100)}%`,icon:a.jsx(dpe,{className:"w-6 h-6"})})]}),a.jsxs(k.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:V,type:"text",placeholder:"Search by vendor name, contact, email, or ID...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:W,onChange:bt,onFocus:()=>R(!0),"aria-label":"Search vendors"}),a.jsx(qe,{children:$&&yt.length>0&&a.jsx(k.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:yt.map(ee=>a.jsx(k.button,{onClick:()=>Pe(ee.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:ee.name})},ee.id))})})]})}),a.jsx(qe,{children:ne&&a.jsx(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(Go,{className:"text-gray-500 text-base"}),a.jsx(rm,{selected:I,onChange:ee=>P(ee),selectsStart:!0,startDate:I,endDate:z,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(rm,{selected:z,onChange:ee=>U(ee),selectsEnd:!0,startDate:I,endDate:z,minDate:I||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(I||z)&&a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{P(null),U(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx(nt,{className:"text-base"})})]})})})]}),c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading vendor data..."})]}):o.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Ts,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:kt||I||z?"No vendors found matching your filters.":"No vendors available."}),(kt||I||z)&&a.jsx("button",{onClick:()=>{q(""),P(null),U(null)},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>vt("id"),children:["ID",(Ue==null?void 0:Ue.key)==="id"&&a.jsx("span",{className:"ml-1",children:Ue.direction==="ascending"?"":""})]}),a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>vt("name"),children:["Vendor Name",(Ue==null?void 0:Ue.key)==="name"&&a.jsx("span",{className:"ml-1",children:Ue.direction==="ascending"?"":""})]}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Address"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact Person"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Telp"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handphone"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:He.map(ee=>a.jsxs(k.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:ee.address||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:ee.contact_person||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:ee.email||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:ee.telp||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:ee.HP||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>mt(ee),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for vendor ${ee.name}`,children:a.jsx(ns,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ge(`/vendors/editvendor/${ee.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit vendor ${ee.name}`,children:a.jsx(fs,{className:"inline text-base"})}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Ee(ee.id),O(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete vendor ${ee.name}`,children:a.jsx(Er,{className:"inline text-base"})})]})]},ee.id))})]})})}),o.length>Ve&&a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:je+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(ve,o.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:o.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(st-1),disabled:st===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Nt},(ee,le)=>a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(le+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${st===le+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${le+1}`,children:le+1},le+1)),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(st+1),disabled:st===Nt,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),de&&a.jsx(AG,{isOpen:Fe,onClose:()=>{$e(!1),we(null)},title:"Vendor Details",className:"max-w-3xl",children:a.jsx(Zqe,{vendor:de,onClose:()=>$e(!1)})}),a.jsx(AG,{isOpen:A,onClose:()=>O(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this Vendor? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>O(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>be&&ht(be),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},tGe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,nGe=()=>{const[t,e]=b.useState(window.innerWidth<768),[n,r]=b.useState([]),[s,i]=b.useState([]),{addVendor:o,getVendor:l}=_t(),[c,d]=b.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[h,m]=b.useState(null),[p,x]=b.useState(null),[y,w]=b.useState(!1),[v,N]=b.useState(!1),C=St(),[S,M]=b.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),_=()=>{d(L=>!L)},A=L=>{const{name:I,value:P}=L.target;M(z=>({...z,[I]:I==="sla"?Number(P):P}))},O=b.useCallback(async()=>{try{const[L]=await Promise.all([l()]);r(L)}catch(L){m(L.message||"Failed to load form data")}},[l]);b.useEffect(()=>{O()},[O]);const D=async L=>{L.preventDefault(),N(!0),m(null);try{const I={name:S.name,address:S.address,contact_person:S.contact_person,email:S.email,telp:S.telp,HP:S.HP};await o(I),x("Vendor created successfully!"),w(!0)}catch(I){m(I.message||"Failed to create Vendor")}finally{N(!1)}},F=()=>{w(!1),C("/vendors")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Create Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Sn,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Vendor"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Vendor information"})]}),a.jsxs(k.button,{onClick:()=>C("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Vendors Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",id:"address",value:S.address,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:S.contact_person,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"email",id:"email",value:S.email,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"telp",id:"telp",value:S.telp,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"HP",id:"HP",value:S.HP,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>C("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),a.jsx(tGe,{isOpen:y,onClose:F,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},rGe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,sGe=()=>{const{id:t}=Ks(),[e,n]=b.useState(window.innerWidth<768),[r,s]=b.useState([]),[i,o]=b.useState(),{getVendor:l,updateVendor:c,getVendorById:d}=_t(),[h,m]=b.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),[p,x]=b.useState(null),[y,w]=b.useState(null),[v,N]=b.useState(!1),[C,S]=b.useState(!1),M=St(),[_,A]=b.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),O=()=>{m(P=>!P)};b.useEffect(()=>{i&&A({name:i.name||"",address:i.address||"",contact_person:i.contact_person||"",email:i.email||"",telp:i.telp||"",HP:i.HP||""})},[i]);const D=P=>{const{name:z,value:U}=P.target;A(V=>({...V,[z]:z==="sla"?Number(U):U}))},F=b.useCallback(async()=>{try{if(t){const[P]=await Promise.all([d(t)]);o(P)}}catch(P){x(P.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&F()},[t,F]);const L=async P=>{P.preventDefault(),S(!0),x(null);try{const z={name:_.name,address:_.address,contact_person:_.contact_person,email:_.email,telp:_.telp,HP:_.HP};await c(t,z),w("Vendor update successfully!"),N(!0)}catch(z){x(z.message||"Failed to update Vendor")}finally{S(!1)}},I=()=>{N(!1),M("/vendors")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Edit Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Sn,{}),isMobile:e,toggleSidebar:O}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Vendor"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Vendor Informations"})]}),a.jsxs(k.button,{onClick:()=>M("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(hn,{className:"text-lg"})," Back to Vendors Management"]})]}),a.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(nt,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>x(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",id:"address",value:_.address,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:_.contact_person,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"email",id:"email",value:_.email,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"telp",id:"telp",value:_.telp,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"HP",id:"HP",value:_.HP,onChange:D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(k.button,{type:"button",onClick:()=>M("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(k.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:C,children:C?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),a.jsx(rGe,{isOpen:v,onClose:I,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:y}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},aGe=({isOpen:t,onClose:e,title:n,children:r})=>t?a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(k.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n}),a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{children:r})]})}):null,iGe=({isOpen:t,onClose:e,onConfirm:n,title:r,message:s,confirmText:i="Confirm",cancelText:o="Cancel",type:l="approve"})=>a.jsx(qe,{children:t&&a.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsx(k.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full border border-blue-100",children:a.jsxs("div",{className:"p-6 text-center",children:[a.jsxs("div",{className:"flex justify-center mb-4",children:[l==="approve"&&a.jsx(Et,{className:"text-green-500 text-5xl"}),l==="feedback"&&a.jsx(Mf,{className:"text-blue-500 text-5xl"}),l==="reject"&&a.jsx(Zt,{className:"text-red-500 text-5xl"}),l==="edit"&&a.jsx(fs,{className:"text-purple-500 text-5xl"})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r}),a.jsx("p",{className:"text-gray-600 mb-6",children:s}),a.jsxs("div",{className:"flex justify-center space-x-3",children:[a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-semibold transition-colors duration-200",children:o}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:n,className:`px-5 py-2.5 text-white rounded-lg font-semibold transition-colors duration-200 ${l==="approve"?"bg-green-600 hover:bg-green-700":l==="feedback"?"bg-blue-600 hover:bg-blue-700":l==="reject"?"bg-red-600 hover:bg-red-700":"bg-purple-600 hover:bg-purple-700"}`,children:i})]})]})})})}),oGe=()=>{var Nt;Yr();const t=St(),{id:e}=Ks(),{user:n,getMonitoringScheduleById:r,addMonitoringActivities:s,hasPermission:i,approveSchedule:o,getApprovalTemplates:l,updateMonitoringActivity:c}=_t(),[d,h]=b.useState(window.innerWidth<768),[m,p]=b.useState(()=>{const ge=localStorage.getItem("sidebarOpen");return JSON.parse(ge||"false")}),x=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),p(ge=>!ge)},[y,w]=b.useState(null),[v,N]=b.useState(null),[C,S]=b.useState(!1),[M,_]=b.useState(!0),[A,O]=b.useState(null),[D,F]=b.useState("approval"),[L,I]=b.useState({}),[P,z]=b.useState(null),[U,V]=b.useState(!0),[$,R]=b.useState(null),[W,q]=b.useState(!1),[X,H]=b.useState(!1),[J,ne]=b.useState(""),[fe,de]=b.useState(""),[we,Fe]=b.useState(!0),[$e,be]=b.useState(!1),[Ee,Ge]=b.useState(null);b.useEffect(()=>{(async()=>{var re,ee,le,xe;if(e)try{_(!0),O(null);const Me=await r(parseInt(e));if(R(Me),!Me)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",Me),Me.approval_template&&(z(Me.approval_template),console.log("Active template set in first useEffect:",Me.approval_template));const Z={id:Me.id_monitoring_schedule.toString(),name:`${((re=Me.data_mesin)==null?void 0:re.name)||"Mesin"} - ${Me.unit}`,interval:((ee=Me.monitoring_interval)==null?void 0:ee.type_interval)||"Weekly",period:`${Me.tgl_start} - ${Me.tgl_end}`,unit:Me.unit,mesin:(le=Me.data_mesin)==null?void 0:le.name,tahun:Me.tahun,bulan:Me.bulan,tgl_start:Me.tgl_start,tgl_end:Me.tgl_end,items:((xe=Me.item_mesins)==null?void 0:xe.map(Re=>({id:Re.id,name:Re.item_mesin,uom:Re.satuan,min:Re.standard_min?parseFloat(Re.standard_min):void 0,max:Re.standard_max?parseFloat(Re.standard_max):void 0,visual:Re.standard_visual,standard_min:Re.standard_min,standard_max:Re.standard_max,standard_visual:Re.standard_visual,satuan:Re.satuan})))||[]};w(Z);const se=Me.monitoring_activities||[],ke=Me.schedule_approvals||[],Ze={};Me.approval_template&&Me.approval_template.approvers?Me.approval_template.approvers.forEach(Re=>{const at=`step_${Re.step}`,gt=ke.find(Jt=>Jt.approval_step===Re.step&&Jt.approver_id===Re.approver_user_id);if(gt){let Jt="Pending";switch(gt.status){case"approved":Jt="Approved";break;case"rejected":Jt="Rejected";break;case"feedback_given":Jt="FeedbackGiven";break;default:Jt="Pending"}Ze[at]=Jt}else Ze[at]="Pending"}):ke.forEach(Re=>{const at=`step_${Re.approval_step}`;let gt="Pending";switch(Re.status){case"approved":gt="Approved";break;case"rejected":gt="Rejected";break;case"feedback_given":gt="FeedbackGiven";break;default:gt="Pending"}Ze[at]=gt});const dt=ke.map(Re=>{var Fn;let at="approval",gt="";switch(Re.status){case"approved":at="approval",gt=`Menyetujui laporan pada step ${Re.approval_step}`;break;case"rejected":at="rejection",gt=`Menolak laporan pada step ${Re.approval_step}`;break;case"feedback_given":at="feedback",gt=`Memberikan feedback pada step ${Re.approval_step}`;break;default:at="submission",gt=`Mengajukan approval pada step ${Re.approval_step}`}const Jt=Re.approved_at||Re.created_at;return{type:at,timestamp:Jt||new Date().toISOString(),actor:((Fn=Re.approver)==null?void 0:Fn.name)||`Approver Step ${Re.approval_step}`,description:gt,details:Re.comments||void 0}});if(se.length>0){const Re=se[0].created_at;dt.unshift({type:"submission",timestamp:Re||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const Qe={machineId:Z.id,itemResults:Z.items.map(Re=>{const at=se.find(Jt=>Jt.id_item_mesin===Re.id);let gt="Pending";if(at!=null&&at.hasil_ms_tms){const Jt=at.hasil_ms_tms.toLowerCase();Jt==="ms"?gt="MS":Jt==="tms"?gt="TMS":gt="N/A"}return{itemId:Re.id,result:(at==null?void 0:at.hasil_monitoring)||"",status:gt,remarks:(at==null?void 0:at.hasil_keterangan)||""}}),approvalStatus:Ze,commentsHistory:[],activityHistory:dt,isSaved:se.length>0,submissionDate:se.length>0?new Date().toISOString():void 0,currentApprovalStep:ce(ke,Me.approval_template)};N(Qe)}catch(Me){O(Me instanceof Error?Me.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",Me)}finally{_(!1)}})()},[e,r]);const ae=b.useMemo(()=>{var ge,re,ee,le,xe,Me;return n?n.position?{id:n.id,name:n.position,isDepartmentHead:n.position.toLowerCase().includes("head")||n.position.toLowerCase().includes("manager"),isSuperadmin:n.roleId==="3"}:n.roleId==="1"?{id:"1",name:"admin",isDepartmentHead:!0}:n.roleId==="3"?{id:"3",name:"superadmin",isSuperadmin:!0}:(re=(ge=n.department)==null?void 0:ge.name)!=null&&re.toLowerCase().includes("engineering")?(ee=n.position)!=null&&ee.toLowerCase().includes("head")?{id:"unitHeadEngineering",name:"Unit Head Engineering",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:(xe=(le=n.department)==null?void 0:le.name)!=null&&xe.toLowerCase().includes("process")?(Me=n.position)!=null&&Me.toLowerCase().includes("head")?{id:"unitHeadProcess",name:"Unit Head Process",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:{id:"technician",name:"Technician"}:{id:"guest",name:"Guest"}},[n]),oe=b.useCallback(ge=>{if(!P||!P.approvers||!n)return console.log(` isUserApproverForStep ${ge}: Missing data`),!1;const re=P.approvers.find(le=>le.step===ge&&le.approver_user_id.toString()===n.id),ee=!!re;return console.log(` IS USER APPROVER STEP ${ge}:`,{step:ge,userID:n.id,userName:n.name,approverUserID:re==null?void 0:re.approver_user_id,approverName:re==null?void 0:re.approver.name,MATCH:ee}),ee},[P,n]),Y=b.useCallback(()=>{if(!v||!(P!=null&&P.approvers))return console.log(" GET CURRENT STEP: No monitoringResults or approvers"),1;const ge=[...P.approvers].sort((ee,le)=>ee.step-le.step);console.log(" GET CURRENT STEP - All approvers status:",v.approvalStatus);for(let ee=0;ee<ge.length;ee++){const le=ge[ee],xe=`step_${le.step}`,Me=v.approvalStatus[xe]||"Pending";if(console.log(` Checking step ${le.step}:`,{stepKey:xe,status:Me,isPending:Me==="Pending"}),Me==="Pending")return console.log(` CURRENT ACTIVE STEP FOUND: ${le.step}`),le.step}const re=ge.length+1;return console.log(` ALL STEPS APPROVED, NEXT STEP: ${re}`),re},[v,P]);b.useEffect(()=>{var ge;v&&P&&n&&(console.log("===  DEBUG ACTIONS VISIBILITY ==="),console.log("User:",{id:n.id,name:n.name}),console.log("Template:",P.name),console.log("Is Saved:",v.isSaved),(ge=P.approvers)==null||ge.forEach(re=>{const ee=`step_${re.step}`,le=v.approvalStatus[ee],xe=yt(re.step,re,le);console.log(` Step ${re.step} - ${re.approver.name}:`,{status:le,shouldShowActions:xe,isCurrentUser:re.approver_user_id.toString()===n.id,conditions:{isCurrentApprover:re.approver_user_id.toString()===n.id,needsAction:le==="Pending",isCurrentStep:Y()===re.step,isPreviousStepApproved:re.step===1?!0:v.approvalStatus[`step_${re.step-1}`]==="Approved"}})}))},[v,P,n]);const ce=(ge,re)=>{if(!re||!re.approvers)return 1;const ee=[...re.approvers].sort((xe,Me)=>xe.step-Me.step);console.log("Getting current step from approvals:",{approvalsCount:ge.length,approversCount:ee.length});for(let xe=0;xe<ee.length;xe++){const Me=ee[xe],Z=ge.find(se=>se.approval_step===Me.step&&se.approver_id===Me.approver_user_id);if(console.log(`Step ${Me.step}:`,{hasApproval:!!Z,status:Z==null?void 0:Z.status,isApproved:(Z==null?void 0:Z.status)==="approved"}),!Z||Z.status!=="approved")return console.log(`Current step from approvals: ${Me.step}`),Me.step}const le=ee.length+1;return console.log(`All steps approved from approvals, next step: ${le}`),le},Ie=(ge,re)=>$?($.schedule_approvals||[]).find(le=>le.approval_step===ge&&le.approver_id===re.approver_user_id):null,We=b.useCallback(async()=>{var ge,re,ee,le;if(e)try{_(!0),O(null);const xe=await r(parseInt(e));if(R(xe),!xe)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",xe),xe.approval_template&&(z(xe.approval_template),console.log("Active template set:",xe.approval_template));const Me={id:xe.id_monitoring_schedule.toString(),name:`${((ge=xe.data_mesin)==null?void 0:ge.name)||"Mesin"} - ${xe.unit}`,interval:((re=xe.monitoring_interval)==null?void 0:re.type_interval)||"Weekly",period:`${xe.tgl_start} - ${xe.tgl_end}`,unit:xe.unit,mesin:(ee=xe.data_mesin)==null?void 0:ee.name,tahun:xe.tahun,bulan:xe.bulan,tgl_start:xe.tgl_start,tgl_end:xe.tgl_end,items:((le=xe.item_mesins)==null?void 0:le.map(Qe=>({id:Qe.id,name:Qe.item_mesin,uom:Qe.satuan,min:Qe.standard_min?parseFloat(Qe.standard_min):void 0,max:Qe.standard_max?parseFloat(Qe.standard_max):void 0,visual:Qe.standard_visual,standard_min:Qe.standard_min,standard_max:Qe.standard_max,standard_visual:Qe.standard_visual,satuan:Qe.satuan})))||[]};w(Me);const Z=xe.monitoring_activities||[],se=xe.schedule_approvals||[],ke={};xe.approval_template&&xe.approval_template.approvers&&xe.approval_template.approvers.forEach(Qe=>{const Re=`step_${Qe.step}`,at=se.find(gt=>gt.approval_step===Qe.step&&gt.approver_id===Qe.approver_user_id);if(at){let gt="Pending";switch(at.status){case"approved":gt="Approved";break;case"rejected":gt="Rejected";break;case"feedback_given":gt="FeedbackGiven";break;default:gt="Pending"}ke[Re]=gt}else ke[Re]="Pending",console.log(` Step ${Qe.step} di-set ke Pending (no approval history)`)});const Ze=se.map(Qe=>{var Jt;let Re="approval",at="";switch(Qe.status){case"approved":Re="approval",at=`Menyetujui laporan pada step ${Qe.approval_step}`;break;case"rejected":Re="rejection",at=`Menolak laporan pada step ${Qe.approval_step}`;break;case"feedback_given":Re="feedback",at=`Memberikan feedback pada step ${Qe.approval_step}`;break;default:Re="submission",at=`Mengajukan approval pada step ${Qe.approval_step}`}const gt=Qe.approved_at||Qe.created_at;return{type:Re,timestamp:gt||new Date().toISOString(),actor:((Jt=Qe.approver)==null?void 0:Jt.name)||`Approver Step ${Qe.approval_step}`,description:at,details:Qe.comments||void 0}});if(Z.length>0){const Qe=Z[0].created_at;Ze.unshift({type:"submission",timestamp:Qe||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const dt={machineId:Me.id,itemResults:Me.items.map(Qe=>{const Re=Z.find(gt=>gt.id_item_mesin===Qe.id);let at="Pending";if(Re!=null&&Re.hasil_ms_tms){const gt=Re.hasil_ms_tms.toLowerCase();gt==="ms"?at="MS":gt==="tms"?at="TMS":at="N/A"}return{itemId:Qe.id,result:(Re==null?void 0:Re.hasil_monitoring)||"",status:at,remarks:(Re==null?void 0:Re.hasil_keterangan)||""}}),approvalStatus:ke,commentsHistory:[],activityHistory:Ze,isSaved:Z.length>0,submissionDate:Z.length>0?new Date().toISOString():void 0,currentApprovalStep:ce(se,xe.approval_template)};N(dt)}catch(xe){O(xe instanceof Error?xe.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",xe)}finally{_(!1)}},[e,r]),pe=(ge,re,ee,le,xe)=>{N(Me=>Me?{...Me,itemResults:Me.itemResults.map(Z=>Z.itemId===ge?{...Z,result:re,status:ee==="numeric"?st(Number(re),le,xe):re==="MS"?"MS":re==="TMS"?"TMS":"Pending"}:Z)}:null)},Ne=(ge,re)=>{N(ee=>ee?{...ee,itemResults:ee.itemResults.map(le=>le.itemId===ge?{...le,remarks:re}:le)}:null)},st=(ge,re,ee)=>isNaN(ge)||ge===null||ge===void 0?re===void 0||ee===void 0?"N/A":"Pending":re!==void 0&&ee!==void 0?ge>=re&&ge<=ee?"MS":"TMS":"N/A",rt=ge=>{switch(ge){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Ve=ge=>{switch(ge){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},Ue=ge=>{if(!P||!P.approvers)return"Unknown Role";const re=P.approvers.find(ee=>ee.approver_user_id.toString()===ge);return(re==null?void 0:re.approver.position)||"Unknown Position"};b.useCallback((ge,re,ee,le=null)=>{N(xe=>{if(!xe||xe.machineId!==ge)return xe;const Me={id:crypto.randomUUID(),role:re,comment:ee,timestamp:new Date().toLocaleString(),replies:[],parentId:le},Z=(ke,Ze)=>Ze.parentId===null?[...ke,Ze]:ke.map(dt=>dt.id===Ze.parentId?{...dt,replies:dt.replies?[...dt.replies,Ze]:[Ze]}:{...dt,replies:dt.replies?Z(dt.replies,Ze):dt.replies}),se=xe.commentsHistory||[];return{...xe,commentsHistory:Z(se,Me)}})},[]);const Ye=(ge,re,ee)=>{let le="",xe="",Me="approve";switch(re){case"Approved":le="Confirm Approval",xe=`Are you sure you want to approve this monitoring report for step ${ge}?`,Me="approve";break;case"FeedbackGiven":le="Confirm Feedback",xe=`Are you sure you want to send feedback for step ${ge}?`,Me="feedback";break;case"Rejected":le="Confirm Rejection",xe=`Are you sure you want to reject this monitoring report for step ${ge}?`,Me="reject";break;case"Edited":le="Confirm Edit",xe=`Are you sure you want to mark this as edited for step ${ge}?`,Me="edit";break}Ge({type:Me,step:ge,title:le,message:xe,feedbackText:ee}),be(!0)},kt=async()=>{if(Ee)try{await Oe(Ee.step,Ee.type==="approve"?"Approved":Ee.type==="feedback"?"FeedbackGiven":Ee.type==="reject"?"Rejected":"Edited",Ee.feedbackText),be(!1),Ge(null),await We()}catch(ge){console.error("Error during confirmation:",ge),be(!1),Ge(null)}},Oe=async(ge,re,ee)=>{if(!(!v||!e||!n))try{let le="";(re==="FeedbackGiven"&&ee||re==="Rejected"&&ee)&&(le=ee),console.log(`Sending approval for step ${ge}, action: ${re}`);const xe=await o(parseInt(e),le);if(xe.success){N(Z=>{if(!Z)return null;const se={...Z.approvalStatus,[`step_${ge}`]:re},ke=[...Z.activityHistory],Ze=new Date().toLocaleString();let dt="";switch(re){case"Approved":dt=`Menyetujui laporan pada step ${ge}`;break;case"FeedbackGiven":dt=`Memberikan feedback pada step ${ge}`;break;case"Rejected":dt=`Menolak laporan pada step ${ge}`;break;default:dt=`Melakukan aksi ${re} pada step ${ge}`}return ke.push({type:re==="Approved"?"approval":re==="Rejected"?"rejection":re==="FeedbackGiven"?"feedback":"edit",timestamp:Ze,actor:ae.name,description:`${ae.name} ${dt}`,details:le||void 0}),re!=="Edited"&&I(Qe=>({...Qe,[`step_${ge}`]:{showInput:!1,text:""}})),{...Z,approvalStatus:se,activityHistory:ke}});let Me="";switch(re){case"Approved":Me="Berhasil menyetujui laporan.";break;case"FeedbackGiven":Me="Berhasil mengirim feedback.";break;case"Rejected":Me="Berhasil menolak laporan.";break;case"Edited":Me="Berhasil menyimpan perubahan.";break}je("Success!",Me,!0)}else throw new Error(xe.message||"Approval failed")}catch(le){console.error("Error during approval:",le),je("Error!","Gagal melakukan approval. Silakan coba lagi.",!1)}},Xe=b.useCallback(()=>{if(!P||!P.approvers||!v)return!1;const ge=[...P.approvers].sort((ee,le)=>ee.step-le.step),re=ge.every(ee=>{const le=`step_${ee.step}`;return v.approvalStatus[le]==="Approved"});return console.log(" CHECK ALL STEPS COMPLETED:",{totalSteps:ge.length,allApproved:re,approvalStatus:v.approvalStatus}),re},[P,v]),Pt=ge=>{I(re=>{var ee;return{...re,[`step_${ge}`]:{...re[`step_${ge}`],showInput:!((ee=re[`step_${ge}`])!=null&&ee.showInput)}}})},Se=(ge,re)=>{I(ee=>({...ee,[`step_${ge}`]:{...ee[`step_${ge}`],text:re}}))},bt=async()=>{if(!(!y||!v||!e)){S(!0);try{let ge=!0;const re=[];if(v.itemResults.forEach(Z=>{const se=y.items.find(ke=>ke.id===Z.itemId);se&&(Z.result===""||Z.status==="Pending")&&(ge=!1,re.push({item:se.name}))}),!ge){je("Validation Error",`Harap isi semua hasil monitoring yang diperlukan untuk ${y.name}. Item yang belum diisi: `+re.map(Z=>Z.item).join(", "),!1);return}const ee=v.itemResults.map(Z=>{var Ze;const se=(Ze=$==null?void 0:$.monitoring_activities)==null?void 0:Ze.find(dt=>dt.id_item_mesin===Z.itemId),ke={id_monitoring_schedule:parseInt(e),id_item_mesin:Z.itemId,tgl_monitoring:y.tgl_start||new Date().toISOString().split("T")[0],hasil_monitoring:Z.result.toString(),hasil_keterangan:Z.remarks,hasil_ms_tms:Z.status==="MS"?"ms":Z.status==="TMS"?"tms":"na"};return se&&se.id_monitoring_activity?{id:se.id_monitoring_activity,data:ke}:{id:0,data:ke}});console.log(" Data yang akan dikirim ke backend:",ee);const le=ee.filter(Z=>Z.id===0),xe=ee.filter(Z=>Z.id>0);if(console.log(" Activities to CREATE:",le.length),console.log(" Activities to UPDATE:",xe.length),le.length>0){const Z=le.map(se=>se.data);console.log(" CREATE new monitoring activities:",Z),await s(Z)}xe.length>0&&(console.log(" UPDATE existing monitoring activities:",xe),await c(xe)),N(Z=>{if(!Z)return null;const se=[...Z.activityHistory],ke=new Date().toLocaleString(),Ze=Z.isSaved?"edit":"submission",dt=Z.isSaved?`${ae.name} mengedit hasil monitoring.`:`${ae.name} mengisi hasil monitoring.`;return se.push({type:Ze,timestamp:ke,actor:ae.name,description:dt}),{...Z,isSaved:!0,submissionDate:new Date().toISOString(),activityHistory:se}}),await We();const Me=v.isSaved?`Hasil monitoring untuk ${y.name} berhasil diupdate!`:`Hasil monitoring untuk ${y.name} berhasil disimpan!`;je("Success!",Me,!0)}catch(ge){const re=v.isSaved?"Gagal mengupdate hasil monitoring. Silakan coba lagi.":"Gagal menyimpan hasil monitoring. Silakan coba lagi.";je("Error!",re,!1),console.error("Error saving monitoring results:",ge)}finally{S(!1)}}},yt=(ge,re,ee)=>{if(!n||!(v!=null&&v.isSaved))return console.log(` Button step ${ge}: User atau monitoringResults tidak siap`,{user:!!n,monitoringResults:!!v,isSaved:v==null?void 0:v.isSaved}),!1;const le=re.approver_user_id.toString()===n.id,xe=ee==="Pending",Me=Y(),Z=Me===ge;let se=!0;if(ge>1){const Ze=`step_${ge-1}`;se=v.approvalStatus[Ze]==="Approved"}const ke=le&&xe&&Z&&se;return console.log(` CALCULATE BUTTON STEP ${ge}:`,{step:ge,isCurrentApprover:le,needsAction:xe,isCurrentStep:Z,isPreviousStepApproved:se,currentStatus:ee,currentStep:Me,userID:n.id,approverID:re.approver_user_id,userPosition:n.position,approverPosition:re.approver.position,FINAL_RESULT:ke}),ke},Pe=async ge=>{if(!(!v||!e||ge!==1)){if(Xe()){je("Info","Tidak dapat mengedit karena semua step approval sudah selesai.",!1);return}try{await bt(),N(re=>{if(!re)return null;const ee={...re.approvalStatus,step_1:"Edited"},le=[...re.activityHistory],xe=new Date().toLocaleString();return le.push({type:"edit",timestamp:xe,actor:ae.name,description:`${ae.name} (Approver Step 1) mengedit hasil monitoring.`}),{...re,approvalStatus:ee,activityHistory:le}}),await We(),je("Success!","Berhasil menyimpan perubahan dan menandai sebagai edited oleh Approver Step 1.",!0)}catch(re){console.error("Error during edit by approver:",re),je("Error!","Gagal menyimpan perubahan. Silakan coba lagi.",!1)}}};b.useMemo(()=>{if(!(v!=null&&v.commentsHistory))return{};const ge=(ee,le=null)=>ee.filter(xe=>xe.parentId===le).sort((xe,Me)=>new Date(xe.timestamp).getTime()-new Date(Me.timestamp).getTime()).map(xe=>({...xe,replies:ge(ee,xe.id)})),re={};return P!=null&&P.approvers&&P.approvers.forEach(ee=>{const le=v.commentsHistory.filter(xe=>xe.role===Ue(ee.approver_user_id.toString()));re[`step_${ee.step}`]=ge(le)}),re},[v==null?void 0:v.commentsHistory,P]);const mt=b.useCallback(()=>{var ge;!v||!P||(console.log("=== DEBUG APPROVAL STATUS ==="),console.log("Active Template:",P.name),console.log("Approvers:",P.approvers),(ge=P.approvers)==null||ge.forEach(re=>{const ee=`step_${re.step}`,le=v.approvalStatus[ee],xe=re.approver_user_id.toString()===(n==null?void 0:n.id);console.log(`Step ${re.step}:`,{approver:re.approver.name,status:le,isCurrentUser:xe,stepKey:ee})}),console.log("Current Step:",Y()),console.log("User ID:",n==null?void 0:n.id))},[v,P,n,Y]);b.useEffect(()=>{v&&P&&mt()},[v,P,mt]);const ht=ge=>ge.satuan&&ge.satuan!=="Visual"&&ge.satuan!=="Level"&&ge.satuan!=="Kekencangan"?"numeric":"visual";b.useMemo(()=>ae.name.toLowerCase().includes("technician")&&!oe(1),[ae,oe]);const vt=oe(1),ie=b.useMemo(()=>!(v!=null&&v.isSaved)||v.approvalStatus.step_1==="Pending"?!0:oe(1)&&!Xe(),[v==null?void 0:v.isSaved,v==null?void 0:v.approvalStatus,oe,Xe]),ve=oe(Y()),je=b.useCallback((ge,re,ee=!0)=>{de(ge),ne(re),Fe(ee),ee?q(!0):H(!0)},[]),He=b.useCallback(()=>{q(!1),H(!1),We()},[We]);return M?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(k.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})})})]})]}):A?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(k.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[a.jsx(Zt,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Gagal Memuat Data"}),a.jsx("p",{className:"text-red-600 mb-4",children:A}),a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:We,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold flex items-center justify-center mx-auto",children:[a.jsx(vpe,{className:"mr-2 h-4 w-4"}),"Coba Lagi"]})]})})]})]}):!y||!v?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(k.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[a.jsx(Zt,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Data Tidak Ditemukan"}),a.jsx("p",{className:"text-yellow-600",children:"Data monitoring schedule tidak tersedia."})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Mn,{mainTitle:"Monitoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Ax,{}),isMobile:d,toggleSidebar:x}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",a.jsx("span",{className:"font-semibold text-gray-800",children:y.name})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",a.jsx("span",{className:"font-semibold text-gray-800",children:y.interval})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",a.jsx("span",{className:"font-semibold text-gray-800",children:y.period})]}),a.jsxs("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:y.items.length})," Items"]}),P&&P.approvers&&P.approvers.length>0?a.jsxs("p",{children:["Template: ",a.jsx("span",{className:"font-semibold",children:P.name}),P.is_active&&a.jsx("span",{className:"ml-1 text-green-600",children:"(Aktif)"}),Xe()&&a.jsx("span",{className:"ml-2 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold",children:"All Steps Completed"})]}):a.jsxs("p",{children:["Template: ",a.jsx("span",{className:"font-semibold text-yellow-600",children:"Tidak ada template"})]}),P&&vt&&a.jsx("p",{className:`font-semibold ${Xe()?"text-gray-500":"text-blue-600"}`,children:Xe()?"(Semua step approval selesai - tidak dapat edit)":"(Anda adalah Approver Step 1 - Dapat mengedit)"}),P&&ve&&!vt&&a.jsxs("p",{className:"text-green-600 font-semibold",children:["(Anda adalah approver untuk step ",Y(),")"]})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[a.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.items.map(ge=>{const re=v.itemResults.find(le=>le.itemId===ge.id),ee=ht(ge);return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[ge.name,!ie&&(v==null?void 0:v.isSaved)&&a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Terkunci)"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ge.standard_visual?`${ge.standard_visual} (${ge.satuan})`:`${ge.standard_min} - ${ge.standard_max} ${ge.satuan}`}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee==="visual"?a.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md disabled:bg-gray-100 disabled:cursor-not-allowed",value:(re==null?void 0:re.result)||"",onChange:le=>pe(ge.id,le.target.value,"visual"),disabled:!ie,children:[a.jsx("option",{value:"",children:"Pilih"}),a.jsx("option",{value:"MS",children:"MS"}),a.jsx("option",{value:"TMS",children:"TMS"})]}):a.jsx("input",{type:"number",step:"0.01",value:re==null?void 0:re.result,onChange:le=>pe(ge.id,le.target.value,"numeric",ge.min,ge.max),disabled:!ie,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Input result"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${rt((re==null?void 0:re.status)||"Pending")}`,children:re==null?void 0:re.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("textarea",{rows:1,value:re==null?void 0:re.remarks,onChange:le=>Ne(ge.id,le.target.value),disabled:!ie,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},ge.id)})})]})}),a.jsxs("div",{className:"flex justify-end mt-6 relative",children:[a.jsx(k.button,{whileHover:{scale:ie?1.05:1},whileTap:{scale:ie?.95:1},onClick:vt?()=>Pe(1):bt,disabled:!ie||C||vt&&Xe(),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed relative group",children:C?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"}),vt?Xe()?"All Steps Completed":"Save & Mark as Edited":"Save Monitoring"]})}),vt&&Xe()&&a.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:"Semua step approval sudah selesai. Tidak dapat melakukan edit."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[a.jsxs(k.button,{whileHover:{scale:1.03},onClick:()=>F("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${D==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Ts,{className:"h-5 w-5"}),a.jsx("span",{children:"Approval Status"})]}),a.jsxs(k.button,{whileHover:{scale:1.03},onClick:()=>F("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${D==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Uf,{className:"h-5 w-5"}),a.jsx("span",{children:"History Activity"})]})]}),D==="approval"?a.jsx(qe,{mode:"wait",children:a.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:!P||!P.approvers||P.approvers.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Ts,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),a.jsx("p",{children:"Tidak ada template approval yang aktif untuk schedule ini."}),a.jsx("p",{className:"text-sm mt-2",children:"Silakan hubungi administrator untuk mengatur template approval."})]}):(Nt=P.approvers)==null?void 0:Nt.map(ge=>{var dt,Qe,Re,at;const re=`step_${ge.step}`,ee=(v==null?void 0:v.approvalStatus[re])||"Pending",le=yt(ge.step,ge,ee),xe=Ie(ge.step,ge),Me=Y(),Z=ge.approver_user_id.toString()===(n==null?void 0:n.id),se=ge.step-1,ke=`step_${se}`,Ze=v==null?void 0:v.approvalStatus[ke];return console.log(`Rendering Step ${ge.step}:`,{status:ee,shouldShowActionButtons:le,currentStep:Me,isCurrentUserApprover:Z,previousStepStatus:Ze,userId:n==null?void 0:n.id,approverId:ge.approver_user_id}),a.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",ge.step,": ",ge.approver.name," (",ge.approver.position,")"]}),a.jsx("p",{className:"text-xs text-gray-500",children:ge.approver.department}),xe&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[xe.approved_at&&`Disetujui: ${new Date(xe.approved_at).toLocaleString()}`,xe.status==="feedback_given"&&" | Feedback diberikan"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${Ve(ee)}`,children:ee}),Z&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Anda"})]})]}),(xe==null?void 0:xe.comments)&&a.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:a.jsxs("p",{className:"text-xs text-gray-400",children:[a.jsx("strong",{children:"Komentar:"})," ",xe.comments]})}),Me===ge.step&&ee!=="Approved"&&!le&&a.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:a.jsxs("p",{className:"text-yellow-700",children:[a.jsx("strong",{children:"Menunggu:"})," Step ",ge.step," sedang menunggu approval dari ",ge.approver.name,se>0&&Ze!=="Approved"&&a.jsxs("span",{children:[" (Step ",se," perlu disetujui terlebih dahulu)"]})]})}),ee==="Approved"&&a.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-xs",children:a.jsxs("p",{className:"text-green-700",children:[a.jsx("strong",{children:"Selesai:"})," Step ",ge.step," telah disetujui"]})}),le&&a.jsxs("div",{className:"flex space-x-2 mt-3",children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ye(ge.step,"Approved"),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-semibold transition-colors flex items-center",children:[a.jsx(Et,{size:16,className:"mr-1"}),"Approve"]}),a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Pt(ge.step),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center",children:[a.jsx(Mf,{size:16,className:"mr-1"}),"Feedback"]})]})]})}),a.jsx(qe,{children:((dt=L[re])==null?void 0:dt.showInput)&&a.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[a.jsx("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Berikan Feedback"}),a.jsx("textarea",{rows:3,value:((Qe=L[re])==null?void 0:Qe.text)||"",onChange:gt=>Se(ge.step,gt.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis feedback atau alasan penolakan..."}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var gt;return Ye(ge.step,"FeedbackGiven",(gt=L[re])==null?void 0:gt.text)},disabled:!((at=(Re=L[re])==null?void 0:Re.text)!=null&&at.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Mf,{size:16,className:"mr-1"}),"Kirim Feedback"]}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Pt(ge.step),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm font-semibold transition-colors",children:"Batal"})]})]})})]},re)})},"approval-tab")}):a.jsx(qe,{mode:"wait",children:a.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:v.activityHistory.length>0?v.activityHistory.slice().sort((ge,re)=>new Date(re.timestamp).getTime()-new Date(ge.timestamp).getTime()).map((ge,re)=>a.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:re*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"mt-1 flex-shrink-0",children:[ge.type==="approval"&&a.jsx(Et,{size:20,className:"text-green-500"}),ge.type==="rejection"&&a.jsx(Kfe,{size:20,className:"text-red-500"}),ge.type==="feedback"&&a.jsx(Mf,{size:20,className:"text-blue-500"}),ge.type==="submission"&&a.jsx(Uf,{size:20,className:"text-blue-500"}),ge.type==="edit"&&a.jsx(Tn,{size:20,className:"text-purple-500"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:ge.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",ge.actor]})," - ",new Date(ge.timestamp).toLocaleString()]}),ge.details&&a.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',ge.details,'"']})]})]},re)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]}),a.jsx(iGe,{isOpen:$e,onClose:()=>{be(!1),Ge(null)},onConfirm:kt,title:(Ee==null?void 0:Ee.title)||"Confirm Action",message:(Ee==null?void 0:Ee.message)||"Are you sure you want to proceed?",confirmText:(Ee==null?void 0:Ee.type)==="approve"?"Approve":(Ee==null?void 0:Ee.type)==="feedback"?"Send Feedback":(Ee==null?void 0:Ee.type)==="reject"?"Reject":(Ee==null?void 0:Ee.type)==="edit"?"Save & Mark as Edited":"Confirm",type:Ee==null?void 0:Ee.type}),a.jsx(aGe,{isOpen:W,onClose:He,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Et,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data detail hasil monitoring berhasil disimpan!"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:He,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Back To Detail Monitoring"})]})})]})},lGe={id:"MACH-A01",name:"Mesin A01 (Produksi) - Unit WY01",interval:"Weekly",period:"01 Sep 2025 - 07 Sep 2025",items:[{id:101,name:"Oil Level",uom:"Level",visual:"Normal"},{id:102,name:"Belt Tension",uom:"Kekencangan",visual:"Baik"},{id:103,name:"Temperature",uom:"C",min:20,max:40},{id:104,name:"Pressure",uom:"Bar",min:1.5,max:3},{id:105,name:"Motor Sound",uom:"Visual",visual:"Tidak ada suara aneh"},{id:106,name:"Vibration",uom:"mm/s",min:.1,max:1},{id:107,name:"pH Level",uom:"pH",min:6,max:8},{id:108,name:"Filter Condition",uom:"Visual",visual:"Bersih"}]};let b0="technician";const oA=["unitHeadEngineering","unitHeadProcess","sectionHeadEngineering","sectionHeadProcess"],xse=({comment:t,machineId:e,currentUserRole:n,onAddCommentOrReply:r,depth:s})=>{const[i,o]=b.useState(!1),[l,c]=b.useState(""),d=()=>{l.trim()&&(r(e,n,l,t.id),c(""),o(!1))},h=s*4;return a.jsxs("div",{className:`p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm mb-2 ${s>0?`ml-${h} border-l-4 border-l-blue-200`:""}`,children:[a.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1 flex items-center",children:t.role.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}),a.jsx("p",{className:"text-gray-800 text-base mb-2",children:t.comment}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[a.jsx(Sn,{size:14,className:"mr-1"})," ",t.timestamp,a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!i),className:"ml-3 text-blue-600 hover:text-blue-800 text-xs font-semibold",children:"Balas"})]}),a.jsx(qe,{children:i&&a.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-3",children:[a.jsx("textarea",{rows:1,value:l,onChange:m=>c(m.target.value),placeholder:`Balas sebagai ${n.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}...`,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm"}),a.jsx(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:d,disabled:!l.trim(),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:"Kirim Balasan"})]})}),t.replies&&t.replies.length>0&&a.jsx("div",{className:"mt-3 border-t border-gray-100 pt-3",children:t.replies.map(m=>a.jsx(xse,{comment:m,machineId:e,currentUserRole:n,onAddCommentOrReply:r,depth:s+1},m.id))})]})},cGe=()=>{var F;const t=Yr(),e=St(),n=((F=t.state)==null?void 0:F.machine)||lGe,[r,s]=b.useState(null),[i,o]=b.useState(!1),[l,c]=b.useState("approval"),[d,h]=b.useState({unitHeadEngineering:{showInput:!1,text:""},unitHeadProcess:{showInput:!1,text:""},sectionHeadEngineering:{showInput:!1,text:""},sectionHeadProcess:{showInput:!1,text:""}});b.useEffect(()=>{if(n){const L={machineId:n.id,itemResults:n.items.map(I=>({itemId:I.id,result:"",status:"Pending",remarks:""})),approvalStatus:{unitHeadEngineering:"Pending",unitHeadProcess:"Pending",sectionHeadEngineering:"Pending",sectionHeadProcess:"Pending"},commentsHistory:[],activityHistory:[],isSaved:!1};s(L)}},[n]);const m=(L,I,P,z,U)=>{s(V=>V?{...V,itemResults:V.itemResults.map($=>$.itemId===L?{...$,result:I,status:P==="numeric"?x(Number(I),z,U):I==="MS"?"MS":I==="TMS"?"TMS":"Pending"}:$)}:null)},p=(L,I)=>{s(P=>P?{...P,itemResults:P.itemResults.map(z=>z.itemId===L?{...z,remarks:I}:z)}:null)},x=(L,I,P)=>isNaN(L)||L===null||L===void 0?I===void 0||P===void 0?"N/A":"Pending":I!==void 0&&P!==void 0?L>=I&&L<=P?"MS":"TMS":"N/A",y=L=>{switch(L){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=L=>{switch(L){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},v=L=>({admin:"Admin",technician:"Teknisi",unitHeadEngineering:"Unit Head Engineering",unitHeadProcess:"Unit Head Process",sectionHeadEngineering:"Section Head Engineering",sectionHeadProcess:"Section Head Process"})[L]||L,N=b.useCallback((L,I,P,z=null)=>{s(U=>{if(!U||U.machineId!==L)return U;const V={id:crypto.randomUUID(),role:I,comment:P,timestamp:new Date().toLocaleString(),replies:[],parentId:z},$=(W,q)=>q.parentId===null?[...W,q]:W.map(X=>X.id===q.parentId?{...X,replies:X.replies?[...X.replies,q]:[q]}:{...X,replies:X.replies?$(X.replies,q):X.replies}),R=U.commentsHistory||[];return{...U,commentsHistory:$(R,V)}})},[]),C=(L,I,P)=>{r&&(s(z=>{if(!z)return null;let U=z.commentsHistory||[],V=[...z.activityHistory];const $=new Date().toLocaleString();if((I==="FeedbackGiven"||I==="Rejected")&&P){const W={id:crypto.randomUUID(),role:L,comment:P,timestamp:$,replies:[],parentId:null};U=[...U,W];const q=I==="FeedbackGiven"?"Memberi feedback.":"Menolak laporan.";V.push({type:I==="FeedbackGiven"?"feedback":"rejection",timestamp:$,actor:L,description:`${v(L)} ${q}`,details:P})}else I==="Approved"&&(U=U.filter(W=>!(W.role===L&&(W.parentId===null||W.parentId===void 0)))||[],V.push({type:"approval",timestamp:$,actor:L,description:`${v(L)} menyetujui laporan.`}));return{...z,approvalStatus:{...z.approvalStatus,[L]:I},commentsHistory:U,activityHistory:V}}),h(z=>{const U={...z},V=L;return U[V]&&(U[V]={showInput:!1,text:""}),U}))},S=L=>{h(I=>{const P={...I},z=L;return P[z]&&(P[z]={...P[z],showInput:!P[z].showInput}),P})},M=(L,I)=>{h(P=>{const z={...P},U=L;return z[U]&&(z[U]={...z[U],text:I}),z})},_=()=>{if(!n||!r)return;o(!0);let L=!0;const I=[];r.itemResults.forEach(P=>{const z=n.items.find(U=>U.id===P.itemId);z&&(P.result===""||P.status==="Pending")&&(L=!1,I.push({item:z.name}))}),L?(s(P=>{if(!P)return null;let z={...P.approvalStatus},U=P.commentsHistory||[],V=[...P.activityHistory];const $=new Date().toLocaleString(),R=oA[0];return z={...z,[R]:"Pending"},V.push({type:"submission",timestamp:$,actor:b0,description:`${v(b0)} mengisi dan mengajukan laporan.`}),{...P,isSaved:!0,submissionDate:new Date().toISOString(),approvalStatus:z,commentsHistory:U,activityHistory:V}}),alert(`Hasil monitoring untuk ${n.name} berhasil disimpan!`)):alert(`Harap isi semua hasil monitoring yang diperlukan untuk ${n.name}. Item yang belum diisi: `+I.map(P=>P.item).join(", ")),o(!1)},A=(L,I,P,z,U,V)=>!1,O=b.useMemo(()=>{if(!(r!=null&&r.commentsHistory))return{unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};const L=(P,z=null)=>P.filter(U=>U.parentId===z).sort((U,V)=>new Date(U.timestamp).getTime()-new Date(V.timestamp).getTime()).map(U=>({...U,replies:L(P,U.id)})),I={unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};return oA.forEach(P=>{const z=r.commentsHistory.filter(U=>U.role===P);I[P]=L(z)}),I},[r==null?void 0:r.commentsHistory]);if(!n||!r)return a.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:a.jsx("p",{className:"text-gray-600",children:"Loading machine details..."})});const D=!r.isSaved&&b0==="technician";return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(k.button,{onClick:()=>e(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",a.jsx("span",{className:"font-semibold text-gray-800",children:n.name})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",a.jsx("span",{className:"font-semibold text-gray-800",children:n.interval})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",a.jsx("span",{className:"font-semibold text-gray-800",children:n.period})]}),a.jsx("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:n.items.length})," Items"]})})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[a.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.items.map(L=>{const I=r.itemResults.find(P=>P.itemId===L.id);return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:L.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.visual?`${L.visual} (${L.uom})`:`${L.min} - ${L.max} ${L.uom}`}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:L.uom==="Visual"||L.uom==="Level"||L.uom==="Kekencangan"?a.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:(I==null?void 0:I.result)||"",onChange:P=>m(L.id,P.target.value,"visual"),disabled:!D,children:[a.jsx("option",{value:"",children:"Pilih"}),a.jsx("option",{value:"MS",children:"MS"}),a.jsx("option",{value:"TMS",children:"TMS"})]}):a.jsx("input",{type:"number",step:"0.01",value:I==null?void 0:I.result,onChange:P=>m(L.id,P.target.value,"numeric",L.min,L.max),disabled:!D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Input result"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${y((I==null?void 0:I.status)||"Pending")}`,children:I==null?void 0:I.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("textarea",{rows:1,value:I==null?void 0:I.remarks,onChange:P=>p(L.id,P.target.value),disabled:!D,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},L.id)})})]})}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,disabled:!D||i,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:i?a.jsxs(a.Fragment,{children:[a.jsx(Cn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"mr-2 h-5 w-5"}),"Save Monitoring"]})})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[a.jsxs(k.button,{whileHover:{scale:1.03},onClick:()=>c("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Ts,{className:"h-5 w-5"}),a.jsx("span",{children:"Approval Status"})]}),a.jsxs(k.button,{whileHover:{scale:1.03},onClick:()=>c("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Uf,{className:"h-5 w-5"}),a.jsx("span",{children:"History Activity"})]})]}),l==="approval"?a.jsx(qe,{mode:"wait",children:a.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(r.approvalStatus).map(([L,I])=>{var V,$;const P=L,z=A(b0,P,I,r.approvalStatus,oA,r.isSaved),U=O[P]||[];return a.jsxs("div",{className:"p-3 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:v(P)}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${w(I)}`,children:I==="Edited"?`Edited by ${v(P)}`:I}),z&&a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>C(L,"Approved"),className:"p-1 rounded-full text-green-600 hover:bg-green-100 transition-colors",children:a.jsx(Et,{size:20})}),a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(L),className:"p-1 rounded-full text-blue-600 hover:bg-blue-100 transition-colors",children:a.jsx(Mf,{size:20})})]})]})]}),a.jsx(qe,{children:((V=d[P])==null?void 0:V.showInput)&&a.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[a.jsxs("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:["Alasan untuk Feedback (",v(P),")"]}),a.jsx("textarea",{rows:2,value:($=d[P])==null?void 0:$.text,onChange:R=>M(P,R.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis alasan feedback atau penolakan..."}),a.jsx("div",{className:"flex justify-end space-x-2 mt-2",children:a.jsx(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>C(P,"FeedbackGiven",d[P].text),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors",children:"Kirim Feedback"})})]})}),a.jsx("div",{className:"mt-4",children:U.length>0?U.map(R=>a.jsx(xse,{comment:R,machineId:n.id,currentUserRole:b0,onAddCommentOrReply:N,depth:0},R.id)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada komentar."})})]},L)})},"approval-tab")}):a.jsx(qe,{mode:"wait",children:a.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:r.activityHistory.length>0?r.activityHistory.map((L,I)=>a.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:I*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"mt-1 flex-shrink-0",children:a.jsx(Uf,{size:20,className:"text-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:L.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",v(L.actor)]})," - ",L.timestamp]}),L.details&&a.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',L.details,'"']})]})]},I)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]})]})},dGe=()=>{const t=St(),{id:e}=Ks(),{getUsers:n,getTemplateApprovers:r,addApproverToTemplate:s,updateApprover:i,deleteApprover:o,getApprovalTemplateById:l}=_t(),[c,d]=b.useState([]),[h,m]=b.useState(null),[p,x]=b.useState([]),[y,w]=b.useState(!1),[v,N]=b.useState("");b.useEffect(()=>{e&&(C(),M())},[e]);const C=async()=>{if(!e){N("Template ID is missing");return}try{w(!0);const z=await l(e);console.log("Template data loaded:",z),m(z),z.approvers&&z.approvers.length>0?await S(z.approvers):x([{order:1,role:"Select Position",assignee:""}])}catch(z){N("Failed to load template"),console.error("Error loading template:",z)}finally{w(!1)}},S=async z=>{try{const U=z.map(V=>{var $,R;return{order:V.step,role:(($=V.approver)==null?void 0:$.position)||`Approval Step ${V.step}`,assignee:((R=V.approver)==null?void 0:R.name)||"",approver_user_id:V.approver_user_id}});x(U)}catch(U){console.error("Error loading template approvers from data:",U),x([{order:1,role:"Select Position",assignee:""}])}},M=async()=>{try{const U=(await n()).map(V=>{var $;return{id:parseInt(V.id),name:V.name,email:V.email,position:V.position||"No Position",department:(($=V.department)==null?void 0:$.name)||V.department_name}});d(U)}catch(z){console.error("Error loading users:",z)}},_=()=>{const z=c.map(U=>U.position).filter(U=>U!=null&&U!=="No Position");return[...new Set(z)]},A=z=>c.filter(U=>U.position===z),O=()=>{const z=p.length>0?Math.max(...p.map(U=>U.order))+1:1;x(U=>[...U,{order:z,role:"Select Position",assignee:""}])},D=z=>{x(U=>U.filter((V,$)=>$!==z).map((V,$)=>({...V,order:$+1})))},F=(z,U)=>{x(V=>V.map(($,R)=>R===z?{...$,role:U,assignee:""}:$))},L=(z,U)=>{const V=c.find($=>$.id===U);V&&x($=>$.map((R,W)=>W===z?{...R,assignee:V.name,approver_user_id:V.id}:R))},I=async()=>{if(!h)return;if(!p.every(U=>U.role&&U.assignee&&U.approver_user_id&&U.role!=="Select Position")){N("Please complete all roles and assignees.");return}try{w(!0),N(""),console.log("Saving approval flow with smart update/post logic..."),console.log("Template ID:",h.id),console.log("Existing approvers:",h.approvers),console.log("New approval flow:",p);const U=h.approvers||[],V=p.map(W=>({approver_user_id:W.approver_user_id,step:W.order}));console.log("Existing approvers:",U),console.log("New approvers:",V);const $=[];for(const W of p){const q={approver_user_id:W.approver_user_id,step:W.order},X=U.find(H=>H.step===W.order);if(X)if(X.approver_user_id!==W.approver_user_id){console.log(`Updating approver for step ${W.order} (ID: ${X.id})`);try{await i(h.id,X.id,q),console.log(` Updated approver for step ${W.order}`)}catch(H){throw console.error(` Failed to update approver for step ${W.order}:`,H),new Error(`Failed to update approver for step ${W.order}`)}}else console.log(` Approver for step ${W.order} unchanged, skipping`);else{console.log(`Adding new approver for step ${W.order}`);try{await s(h.id,q),console.log(` Added new approver for step ${W.order}`)}catch(H){throw console.error(` Failed to add approver for step ${W.order}:`,H),new Error(`Failed to add approver for step ${W.order}`)}}$.push(W.order)}const R=U.filter(W=>!$.includes(W.step)).map(W=>({id:W.id,step:W.step}));console.log("Steps to delete:",R);for(const W of R)try{await o(h.id,W.id),console.log(` Deleted unused approver for step ${W.step}`)}catch(q){console.warn(` Could not delete approver for step ${W.step}:`,q)}alert(` Approval flow for template "${h.name}" has been successfully saved!`),await C()}catch(U){console.error(" Error saving approval flow:",U),N(U instanceof Error?U.message:"Failed to save approval flow")}finally{w(!1)}},P=()=>{t("/workflowapproval/monitoringapproval")};return console.log("Template state:",h),console.log("Custom approval flow:",p),y&&!h?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(ww,{className:"animate-spin text-blue-600",size:32})})]}):h?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(k.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(hn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Approval Monitoring Flow Management"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(qpe,{className:"mr-2 text-gray-700",size:24}),"Flow Configuration: ",a.jsx("span",{className:"text-blue-600 ml-2",children:h==null?void 0:h.name})]}),a.jsxs(k.button,{onClick:P,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:y,children:[a.jsx(hn,{className:"mr-2",size:18})," Back to Template List"]})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Configure the approval flow by selecting positions and assigning approvers."}),v&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:v}),a.jsx("div",{className:"space-y-4",children:p.map((z,U)=>{const V=_(),$=z.role&&z.role!=="Select Position"?A(z.role):[];return a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("span",{className:"text-gray-500 font-semibold min-w-8",children:[z.order,"."]}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),a.jsxs("select",{value:z.role,onChange:R=>F(U,R.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[a.jsx("option",{value:"Select Position",children:"Select Position"}),V.map(R=>a.jsx("option",{value:R,children:R},R))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),a.jsxs("select",{value:z.approver_user_id||"",onChange:R=>L(U,parseInt(R.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!z.role||z.role==="Select Position"||$.length===0,children:[a.jsx("option",{value:"",children:"Select User"}),$.map(R=>a.jsxs("option",{value:R.id,children:[R.name," (",R.email,")"]},R.id))]}),z.role&&z.role!=="Select Position"&&$.length===0&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No users found for this position"})]})]}),p.length>1&&a.jsx(k.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>D(U),className:"text-red-600 hover:text-red-800 transition-colors p-2",disabled:y,children:a.jsx(Er,{size:20})})]},U)})}),a.jsxs("div",{className:"flex justify-between items-center mt-6",children:[a.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:O,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold flex items-center text-sm disabled:opacity-50",disabled:y,children:[a.jsx(Cr,{size:18,className:"mr-2"})," Add Step"]}),a.jsxs(k.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:y,children:[y?a.jsx(ww,{className:"animate-spin mr-2",size:16}):a.jsx(Tn,{size:18,className:"mr-2"}),"Save Flow"]})]})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(jt,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),a.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",e]}),a.jsx("button",{onClick:P,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})},uGe=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:a.jsxs("div",{className:"max-w-md w-full text-center",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"relative inline-flex",children:[a.jsx("div",{className:"w-32 h-32 bg-white rounded-full shadow-lg flex items-center justify-center",children:a.jsx(xme,{className:"w-16 h-16 text-gray-400"})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-bold",children:"404"})})]})}),a.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Oops! The page you're looking for seems to have wandered off into the digital void."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(rc,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:[a.jsx(Vj,{className:"mr-2"}),"Back to Home"]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:[a.jsx(hn,{className:"mr-2"}),"Go Back"]})]}),a.jsx("div",{className:"mt-8 p-4 bg-white rounded-lg shadow-sm",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["If you believe this is an error, please contact the"," ",a.jsx(rc,{to:"#",className:"text-blue-600 hover:underline",children:"IT Department"})]})}),a.jsx("div",{className:"mt-12",children:a.jsx("div",{className:"relative h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-500 w-1/3 animate-ping-pong"})})})]})});function hGe(){return a.jsx(a.Fragment,{children:a.jsxs(Toe,{children:[a.jsx(ct,{path:"/login",element:a.jsx(kle,{})}),a.jsx(ct,{path:"/terms",element:a.jsx(n0e,{})}),a.jsx(ct,{path:"/forgot-password",element:a.jsx(r0e,{})}),a.jsx(ct,{path:"/privacy-policy",element:a.jsx(s0e,{})}),a.jsx(ct,{path:"/unauthorized",element:a.jsx(ADe,{})}),a.jsx(ct,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:a.jsx(bG,{})}),a.jsx(ct,{path:"/monitoringmaintenance/detailmonitoringmaintenanceD",element:a.jsx(cGe,{})}),a.jsxs(ct,{element:a.jsx(ks,{}),children:[a.jsx(ct,{index:!0,element:a.jsx(B8,{})})," ",a.jsx(ct,{path:"/dashboard",element:a.jsx(B8,{})})]}),a.jsx(ct,{element:a.jsx(ks,{requiredPermissions:["view_assets"]}),children:a.jsx(ct,{path:"/audittrail",element:a.jsx(AUe,{})})}),a.jsxs(ct,{element:a.jsx(ks,{requiredPermissions:["view_assets"]}),children:[a.jsx(ct,{path:"/workflowapproval",element:a.jsx(OUe,{})}),a.jsx(ct,{path:"/workflowapproval/monitoringapproval",element:a.jsx(EUe,{})}),a.jsx(ct,{path:"/workflowapproval/monitoringapproval/configureapproval/:id",element:a.jsx(dGe,{})})]}),a.jsxs(ct,{element:a.jsx(ks,{requiredPermissions:["view_assets"]}),children:[a.jsx(ct,{path:"/worklocation",element:a.jsx(WDe,{})}),a.jsx(ct,{path:"/worklocation/department",element:a.jsx(UUe,{})}),a.jsx(ct,{path:"/worklocation/department/adddepartment",element:a.jsx(GUe,{})}),a.jsx(ct,{path:"/worklocation/department/editdepartment/:id",element:a.jsx(KUe,{})}),a.jsx(ct,{path:"/worklocation/workunit",element:a.jsx(Eqe,{})}),a.jsx(ct,{path:"/worklocation/workunit/addworkunit",element:a.jsx(Tqe,{})}),a.jsx(ct,{path:"/worklocation/workunit/editworkunit/:id",element:a.jsx(Aqe,{})}),a.jsx(ct,{path:"/worklocation/workgroup",element:a.jsx(CG,{})}),a.jsx(ct,{path:"/worklocation/workgroup/addworkgroup",element:a.jsx(SG,{})}),a.jsx(ct,{path:"/worklocation/workgroup/editworkgroup/:id",element:a.jsx(NG,{})})]}),a.jsxs(ct,{element:a.jsx(ks,{requiredPermissions:["view_assets"]}),children:[a.jsx(ct,{path:"/workarrangement",element:a.jsx(UDe,{})}),a.jsx(ct,{path:"/workarrangement/workshift",element:a.jsx(zqe,{})}),a.jsx(ct,{path:"/workarrangement/workshift/addworkshift",element:a.jsx($qe,{})}),a.jsx(ct,{path:"/workarrangement/workshift/editworkshift/:id",element:a.jsx(Iqe,{})}),a.jsx(ct,{path:"/workarrangement/workgroup",element:a.jsx(CG,{})}),a.jsx(ct,{path:"/workarrangement/workgroup/addworkgroup",element:a.jsx(SG,{})}),a.jsx(ct,{path:"/workarrangement/workgroup/editworkgroup/:id",element:a.jsx(NG,{})})]}),a.jsx(ct,{element:a.jsx(ks,{requiredPermissions:["view_assets"]}),children:a.jsx(ct,{path:"/sparepart",element:a.jsx(qDe,{})})}),a.jsxs(ct,{element:a.jsx(ks,{requiredPermissions:["view_assets"]}),children:[a.jsx(ct,{path:"/assets",element:a.jsx(GDe,{})}),a.jsx(ct,{path:"/assets/assetsdata",element:a.jsx(c0e,{})}),a.jsx(ct,{path:"/assets/assetsdata/addasset",element:a.jsx(ODe,{})}),a.jsx(ct,{path:"/assets/assetsdata/editasset/:id",element:a.jsx(EDe,{})})]}),a.jsxs(ct,{element:a.jsx(ks,{requiredPermissions:["view_assets"]}),children:[a.jsx(ct,{path:"/vendors",element:a.jsx(eGe,{})}),a.jsx(ct,{path:"/vendors/addvendor",element:a.jsx(nGe,{})}),a.jsx(ct,{path:"/vendors/editvendor/:id",element:a.jsx(sGe,{})})]}),a.jsxs(ct,{element:a.jsx(ks,{requiredPermissions:["view_assets"]}),children:[a.jsx(ct,{path:"/services",element:a.jsx(YDe,{})}),a.jsx(ct,{path:"/services/servicegroups",element:a.jsx(DUe,{})}),a.jsx(ct,{path:"/services/servicegroups/addservicegroup",element:a.jsx(IUe,{})}),a.jsx(ct,{path:"/services/servicegroups/editservicegroup/:id",element:a.jsx($Ue,{})}),a.jsx(ct,{path:"/services/servicecatalogues",element:a.jsx(RUe,{})}),a.jsx(ct,{path:"/services/servicecatalogues/addservicecatalogue",element:a.jsx(VUe,{})}),a.jsx(ct,{path:"/services/servicecatalogues/editservicecatalogue/:id",element:a.jsx(zUe,{})})]}),a.jsxs(ct,{element:a.jsx(ks,{requiredPermissions:["view_assets"]}),children:[a.jsx(ct,{path:"/maintenanceactivity",element:a.jsx(KDe,{})}),a.jsx(ct,{path:"/maintenanceactivity/stoptimes",element:a.jsx(JUe,{})}),a.jsx(ct,{path:"/maintenanceactivity/stoptimes/addstoptime",element:a.jsx(ZUe,{})}),a.jsx(ct,{path:"/maintenanceactivity/stoptimes/editstoptime/:id",element:a.jsx(tqe,{})}),a.jsx(ct,{path:"/maintenanceactivity/activitytypes",element:a.jsx(rqe,{})}),a.jsx(ct,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:a.jsx(bG,{})}),a.jsx(ct,{path:"/maintenanceactivity/activitytypes/editactivitytype/:id",element:a.jsx(iqe,{})}),a.jsx(ct,{path:"/maintenanceactivity/activity",element:a.jsx(Nqe,{})}),a.jsx(ct,{path:"/maintenanceactivity/activity/addactivity",element:a.jsx(wqe,{})}),a.jsx(ct,{path:"/maintenanceactivity/activity/editactivity/:id",element:a.jsx(yqe,{})}),a.jsx(ct,{path:"/maintenanceactivity/troubleitem",element:a.jsx(kqe,{})}),a.jsx(ct,{path:"/maintenanceactivity/troubleitem/addtroubleitem",element:a.jsx(wG,{})}),a.jsx(ct,{path:"/maintenanceactivity/troubleitem/edittroubleitem/:id",element:a.jsx(wG,{})})]}),a.jsxs(ct,{element:a.jsx(ks,{requiredPermissions:["view_machinehistory"]}),children:[a.jsx(ct,{path:"/machinehistory",element:a.jsx(R2e,{})}),a.jsx(ct,{path:"/machinehistory/reports",element:a.jsx(TUe,{})}),a.jsx(ct,{path:"/machinehistory/addmachinehistory",element:a.jsx(jDe,{})}),a.jsx(ct,{path:"/machinehistory/edit/:id",element:a.jsx(SDe,{})})]}),a.jsxs(ct,{element:a.jsx(ks,{requiredPermissions:["view_assets"]}),children:[a.jsx(ct,{path:"/monitoringmaintenance",element:a.jsx(MG,{})}),a.jsx(ct,{path:"/monitoringmaintenance/detailmonitoringmaintenance/:id",element:a.jsx(oGe,{})}),a.jsx(ct,{path:"/monitoringmaintenance/formmonitoringmaintenance",element:a.jsx(Vqe,{})}),a.jsx(ct,{path:"/monitoringmaintenance",element:a.jsx(MG,{})})]}),a.jsxs(ct,{element:a.jsx(ks,{requiredPermissions:["view_workorders"]}),children:[a.jsx(ct,{path:"/workorders",element:a.jsx(VDe,{})}),a.jsx(ct,{path:"/workorders/it",element:a.jsx(cqe,{})}),a.jsx(ct,{path:"/workorders/it/addworkorder",element:a.jsx(BDe,{})}),a.jsx(ct,{path:"/workorders/it/editworkorder/:id",element:a.jsx(uqe,{})}),a.jsx(ct,{path:"/workorders/it/receiver",element:a.jsx(RDe,{})}),a.jsx(ct,{path:"/workorders/it/receiver/editreceiver/:id",element:a.jsx(fqe,{})}),a.jsx(ct,{path:"/workorders/it/assignment",element:a.jsx(pqe,{})}),a.jsx(ct,{path:"/workorders/it/assignment/editassignment/:id",element:a.jsx(xqe,{})}),a.jsx(ct,{path:"/workorders/it/reports",element:a.jsx(qqe,{})}),a.jsx(ct,{path:"/workorders/it/knowledgebase",element:a.jsx(IDe,{})})]}),a.jsx(ct,{element:a.jsx(ks,{requiredPermissions:["view_inventory"]}),children:a.jsx(ct,{path:"/inventory",element:a.jsx(h0e,{})})}),a.jsx(ct,{element:a.jsx(ks,{requiredPermissions:["view_reports"]}),children:a.jsx(ct,{path:"/reports",element:a.jsx(Cve,{})})}),a.jsx(ct,{element:a.jsx(ks,{requiredPermissions:["view_teams"]}),children:a.jsx(ct,{path:"/team",element:a.jsx(_ve,{})})}),a.jsxs(ct,{element:a.jsx(ks,{requiredPermissions:["view_settings"]}),children:[a.jsx(ct,{path:"/settings",element:a.jsx(Tve,{})}),a.jsx(ct,{path:"/settings/change-password",element:a.jsx(CDe,{})})]}),a.jsxs(ct,{element:a.jsx(ks,{requiredPermissions:["view_permissions"]}),children:[a.jsx(ct,{path:"/permissions",element:a.jsx(kDe,{})}),a.jsx(ct,{path:"/permissions/adduser",element:a.jsx(MDe,{})})]}),a.jsx(ct,{path:"/logout",element:a.jsx(i0e,{})}),a.jsx(ct,{path:"*",element:a.jsx(uGe,{})})]})})}const fGe=Rie.createRoot(document.getElementById("root"));fGe.render(a.jsx(Q.StrictMode,{children:a.jsx(Joe,{children:a.jsx(lle,{children:a.jsx(hGe,{})})})}));
